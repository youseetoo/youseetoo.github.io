<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NV-Experimente / ODMR</title>

  <!-- Bootstrap 5 -->
  <script>
    // Automatic Bootstrap loading: Use CDN for development, local for ESP32
    (function() {
      const isLocalDevice = window.location.hostname === '192.168.4.1' || 
                           window.location.hostname.includes('ODMR_') || 
                           window.location.protocol === 'file:';
      
      if (isLocalDevice) {
        // Load from ESP32 local server
        document.write('<link href="/bootstrap.min.css" rel="stylesheet">');
      } else {
        // Load from CDN for development
        document.write('<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">');
      }
    })();
  </script>

  <!-- Brand palette ---------------------------------------------------------->
  <style>
    :root{
      --uc2-blue:       #023773;  /* primary   */
      --uc2-green:      #85b918;  /* success   */
      --uc2-turquoise:  #1f9c7c;  /* info      */
      --uc2-light:      #faf9f9;  /* body bg   */
      --uc2-grey:       #999999;  /* muted txt */
    }
    body           { background: var(--uc2-light); color: var(--uc2-grey); }
    h1,h2,h3,h4,h5 { color: var(--uc2-blue); }
    /* navbar */
    .navbar         { background: var(--uc2-blue); }
    .navbar-brand,
    .navbar-nav .nav-link { color:#fff; }
    .navbar-nav .nav-link.active{ color: var(--uc2-green); }
    .navbar-nav .nav-link:hover{ color: var(--uc2-turquoise); }
    /* links in text */
    a{ color: var(--uc2-blue); }
    a:hover{ color: var(--uc2-turquoise); }
    footer{ background: var(--uc2-blue); color:#fff; }
  </style>
</head>

<body>
  <!-- ‚ñë‚ñë Navbar ‚ñë‚ñë----------------------------------------------------------- -->
  <nav class="navbar navbar-expand-lg shadow-sm mb-4">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">NV-Experimente</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#nvNav" aria-controls="nvNav" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="nvNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="index.html" data-lang-key="nav_start">Start</a></li>
          <li class="nav-item"><a class="nav-link" href="messung.html" data-lang-key="nav_measurement_device">Messung (on Device)</a></li>
          <li class="nav-item" id="webSerialNavItem"><a class="nav-link" href="messung_webserial.html" data-lang-key="nav_measurement_webserial">Messung (WebSerial)</a></li>
          <li class="nav-item"><a class="nav-link" href="justage.html" data-lang-key="nav_alignment">Justage</a></li>
          <li class="nav-item"><a class="nav-link" href="infos.html" data-lang-key="nav_info">Weitere Infos</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              üåê DE
            </a>
            <ul class="dropdown-menu" aria-labelledby="langDropdown">
              <li><a class="dropdown-item" href="#" onclick="setLanguage('de')">üá©üá™ Deutsch</a></li>
              <li><a class="dropdown-item" href="#" onclick="setLanguage('en')">üá∫üá∏ English</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ‚ñë‚ñë Main content ‚ñë‚ñë------------------------------------------------------ -->
  <main class="container">
    <section class="mb-5">
      <h1 class="display-5 mb-3" data-lang-key="welcome_title">Low-Cost Experimente mit NV-Zentren</h1>
      
      <!-- Introduction Section -->
      <div class="row">
        <div class="col-lg-8">
          <h2 class="h4 mb-3" data-lang-key="odmr_intro_title">Tutorial: Building an ODMR Setup</h2>
          <p class="lead" data-lang-key="odmr_intro_text">
            In diesem Workshop konstruieren wir ein ODMR (Optically Detected Magnetic Resonance) System mit dem UC2 modularen Mikroskop-Toolbox und NV (Nitrogen-Vacancy) Diamanten. ODMR ist eine Quantensensing-Technik, die es uns erm√∂glicht, Magnetfelder durch Beobachtung von Fluoreszenz√§nderungen in Quantensystemen zu messen.
          </p>
        </div>
        <div class="col-lg-4">
          <div class="card">
            <div class="card-body text-center">
              <h6 class="card-title" data-lang-key="quick_start">Quick Start</h6>
              <div class="d-grid gap-2">
                <a href="messung.html" class="btn btn-primary" data-lang-key="start_measurement">Messung starten</a>
                <a href="justage.html" class="btn btn-secondary" data-lang-key="alignment">Aufbau justieren</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Theory Section -->
    <section class="mb-5">
      <h2 class="h4 mb-3" data-lang-key="theory_title">Theoretischer Hintergrund</h2>
      
      <div class="row">
        <div class="col-lg-6">
          <h3 class="h5 mb-3" data-lang-key="nv_centers_title">Was sind NV-Zentren?</h3>
          <p data-lang-key="nv_centers_text">
            NV-Zentren sind Fehlstellen in Diamanten, bestehend aus einem Stickstoffatom neben einer Vakanz (Leerstelle). Diese Quantensysteme haben einzigartige Eigenschaften, die sie ideal f√ºr Sensoranwendungen machen:
          </p>
          <ul>
            <li data-lang-key="nv_property_1">Spin-1 Grundzustand mit drei m√∂glichen Projektionen</li>
            <li data-lang-key="nv_property_2">Optische Anregung bei 532 nm (gr√ºn)</li>
            <li data-lang-key="nv_property_3">Fluoreszenz im roten Spektralbereich</li>
            <li data-lang-key="nv_property_4">Raumtemperatur-stabile Quantenkoh√§renz</li>
          </ul>
        </div>
        <div class="col-lg-6">
          <figure class="text-center">
            <img src="NVGitter.png" class="img-fluid rounded shadow" alt="NV Center Structure" data-lang-key="nv_structure_alt">
            <figcaption class="mt-2 small text-muted" data-lang-key="nv_structure_caption">
              Struktur des NV-Zentrums im Diamantgitter
            </figcaption>
          </figure>
        </div>
      </div>
      
      <div class="row mt-4">
        <div class="col-12">
          <h3 class="h5 mb-3" data-lang-key="odmr_principle_title">ODMR-Prinzip</h3>
          <p data-lang-key="odmr_principle_text">
            Der ODMR-Effekt basiert auf spinabh√§ngiger Fluoreszenz. Wenn Mikrowellenstrahlung bei der Resonanzfrequenz (~2,87 GHz) angewendet wird, verursacht sie √úberg√§nge zwischen Quantenspinzust√§nden, was zu einer messbaren Abnahme der Fluoreszenzintensit√§t f√ºhrt.
          </p>
          
          <div class="alert alert-info">
            <h6 data-lang-key="key_concept">Schl√ºsselkonzept:</h6>
            <p class="mb-0" data-lang-key="zeeman_effect_text">
              Externe Magnetfelder verschieben die Resonanzfrequenzen durch den Zeeman-Effekt, wodurch pr√§zise Magnetfeldmessungen erm√∂glicht werden.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Applications Section -->
    <section class="mb-5">
      <h2 class="h4 mb-3" data-lang-key="applications_title">Moderne Anwendungen</h2>
      
      <div class="row">
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="card h-100">
            <div class="card-body text-center">
              <h6 class="card-title" data-lang-key="app_biomedical">Biomedizinische Bildgebung</h6>
              <p class="card-text small" data-lang-key="app_biomedical_desc">
                Kartierung von Magnetfeldern in lebenden Zellen und Geweben
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="card h-100">
            <div class="card-body text-center">
              <h6 class="card-title" data-lang-key="app_materials">Materialwissenschaft</h6>
              <p class="card-text small" data-lang-key="app_materials_desc">
                Untersuchung magnetischer Dom√§nen und Spintransport
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="card h-100">
            <div class="card-body text-center">
              <h6 class="card-title" data-lang-key="app_quantum">Quanteninformation</h6>
              <p class="card-text small" data-lang-key="app_quantum_desc">
                Bausteine f√ºr Quantencomputer und -netzwerke
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3 mb-3">
          <div class="card h-100">
            <div class="card-body text-center">
              <h6 class="card-title" data-lang-key="app_physics">Fundamentale Physik</h6>
              <p class="card-text small" data-lang-key="app_physics_desc">
                Test der Quantenmechanik und Messung von Fundamentalkonstanten
              </p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Setup Overview Section -->
    <section class="mb-5">
      <h2 class="h4 mb-3" data-lang-key="setup_overview_title">Versuchsaufbau</h2>
      
      <div class="row">
        <div class="col-lg-8">
          <p data-lang-key="setup_overview_text">
            Der ODMR-Aufbau folgt konfokalen Mikroskopieprinzipien und kombiniert optische Anregung, Mikrowellenmanipulation und Fluoreszenzdetektion f√ºr hochpr√§zise Quantensensing.
          </p>
          
          <h3 class="h6 mb-2" data-lang-key="components_needed">Ben√∂tigte Komponenten:</h3>
          <div class="row">
            <div class="col-md-6">
              <ul class="list-unstyled">
                <li data-lang-key="component_1">‚Ä¢ Grundplatte f√ºr Montage</li>
                <li data-lang-key="component_2">‚Ä¢ Gr√ºne Laserdiode (532 nm)</li>
                <li data-lang-key="component_3">‚Ä¢ 45¬∞ Spiegel f√ºr Strahlf√ºhrung</li>
                <li data-lang-key="component_4">‚Ä¢ Strahlteiler mit Filter</li>
                <li data-lang-key="component_5">‚Ä¢ Konvergente Linse</li>
              </ul>
            </div>
            <div class="col-md-6">
              <ul class="list-unstyled">
                <li data-lang-key="component_6">‚Ä¢ Lichtsensor (Photodiode)</li>
                <li data-lang-key="component_7">‚Ä¢ Elektronik-Box mit Mikrowellenerzeugung</li>
                <li data-lang-key="component_8">‚Ä¢ XY-B√ºhnensystem mit NV-Diamant</li>
                <li data-lang-key="component_9">‚Ä¢ Magnet f√ºr externes Magnetfeld</li>
                <li data-lang-key="component_10">‚Ä¢ Mikrowellenantenne</li>
              </ul>
            </div>
          </div>
        </div>
        <div class="col-lg-4">
          <div class="alert alert-warning">
            <h6 class="alert-heading" data-lang-key="safety_title">‚ö†Ô∏è Sicherheitshinweise</h6>
            <ul class="mb-0 small">
              <li data-lang-key="safety_laser">Niemals direkt in den Laser blicken</li>
              <li data-lang-key="safety_magnet">Vorsicht bei Implantaten und elektronischen Ger√§ten</li>
              <li data-lang-key="safety_power">Stromversorgung vor Verkabelungs√§nderungen trennen</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- QuantumMiniLabs Section -->
    <section class="mb-5">
      <div class="card">
        <div class="card-body">
          <h2 class="h4 mb-3" data-lang-key="quantumminilabs_title">Das QuantumMiniLabs Projekt</h2>
          <p data-lang-key="quantumminilabs_text">
            Das QuantumMiniLabs-Projekt entwickelt ein Open-Source-√ñkosystem, das kosteng√ºnstige, skalierbare, modulare und reparable Quantentechnologie-Experimente erm√∂glicht. Das Ziel ist es, das System an 100 Bildungsstandorten in Deutschland einzusetzen.
          </p>
          <p data-lang-key="quantumminilabs_vision">
            QuantumMiniLabs bietet die erste erschwingliche DIY-Plattform f√ºr Experimente mit Quantensystemen der zweiten Generation. NV-Diamanten erm√∂glichen stabile Experimente bei Raumtemperatur.
          </p>
        </div>
      </div>
    </section>
  </main>

  <!-- ‚ñë‚ñë Footer ‚ñë‚ñë----------------------------------------------------------- -->
  <footer class="py-3 mt-auto">
    <div class="container text-center small">
      <div>Uni M√ºnster ¬∑ openUC2 GmbH ‚Äì <a class="text-white text-decoration-none" href="mailto:hello@openuc2.com">hello@openuc2.com</a></div>
      <div class="mt-1" id="versionInfo" style="opacity: 0.7; font-size: 0.85em;">Loading version...</div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script>
    // Automatic Bootstrap JS loading: Use CDN for development, local for ESP32
    (function() {
      const isLocalDevice = window.location.hostname === '192.168.4.1' || 
                           window.location.hostname.includes('ODMR_') || 
                           window.location.protocol === 'file:';
      
      if (isLocalDevice) {
        // Load from ESP32 local server
        document.write('<script src="/bootstrap.bundle.min.js"><\/script>');
      } else {
        // Load from CDN for development
        document.write('<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"><\/script>');
      }
    })();
  </script>
  
  <script>
    // Multi-language support
    const translations = {
      de: {
        nav_start: "Start",
        nav_measurement_device: "Messung (on Device)",
        nav_measurement_webserial: "Messung (WebSerial)",
        nav_alignment: "Justage",
        nav_info: "Weitere Infos",
        title: "NV-Experimente / ODMR",
        welcome_title: "Low-Cost Experimente mit NV-Zentren",
        odmr_intro_title: "Tutorial: Building an ODMR Setup",
        odmr_intro_text: "In diesem Workshop konstruieren wir ein ODMR (Optically Detected Magnetic Resonance) System mit dem UC2 modularen Mikroskop-Toolbox und NV (Nitrogen-Vacancy) Diamanten. ODMR ist eine Quantensensing-Technik, die es uns erm√∂glicht, Magnetfelder durch Beobachtung von Fluoreszenz√§nderungen in Quantensystemen zu messen.",
        quick_start: "Quick Start",
        start_measurement: "Messung starten",
        alignment: "Aufbau justieren",
        theory_title: "Theoretischer Hintergrund",
        nv_centers_title: "Was sind NV-Zentren?",
        nv_centers_text: "NV-Zentren sind Fehlstellen in Diamanten, bestehend aus einem Stickstoffatom neben einer Vakanz (Leerstelle). Diese Quantensysteme haben einzigartige Eigenschaften, die sie ideal f√ºr Sensoranwendungen machen:",
        nv_property_1: "Spin-1 Grundzustand mit drei m√∂glichen Projektionen",
        nv_property_2: "Optische Anregung bei 532 nm (gr√ºn)",
        nv_property_3: "Fluoreszenz im roten Spektralbereich",
        nv_property_4: "Raumtemperatur-stabile Quantenkoh√§renz",
        nv_structure_alt: "NV-Zentrum Struktur",
        nv_structure_caption: "Struktur des NV-Zentrums im Diamantgitter",
        odmr_principle_title: "ODMR-Prinzip",
        odmr_principle_text: "Der ODMR-Effekt basiert auf spinabh√§ngiger Fluoreszenz. Wenn Mikrowellenstrahlung bei der Resonanzfrequenz (~2,87 GHz) angewendet wird, verursacht sie √úberg√§nge zwischen Quantenspinzust√§nden, was zu einer messbaren Abnahme der Fluoreszenzintensit√§t f√ºhrt.",
        key_concept: "Schl√ºsselkonzept:",
        zeeman_effect_text: "Externe Magnetfelder verschieben die Resonanzfrequenzen durch den Zeeman-Effekt, wodurch pr√§zise Magnetfeldmessungen erm√∂glicht werden.",
        applications_title: "Moderne Anwendungen",
        app_biomedical: "Biomedizinische Bildgebung",
        app_biomedical_desc: "Kartierung von Magnetfeldern in lebenden Zellen und Geweben",
        app_materials: "Materialwissenschaft",
        app_materials_desc: "Untersuchung magnetischer Dom√§nen und Spintransport",
        app_quantum: "Quanteninformation",
        app_quantum_desc: "Bausteine f√ºr Quantencomputer und -netzwerke",
        app_physics: "Fundamentale Physik",
        app_physics_desc: "Test der Quantenmechanik und Messung von Fundamentalkonstanten",
        setup_overview_title: "Versuchsaufbau",
        setup_overview_text: "Der ODMR-Aufbau folgt konfokalen Mikroskopieprinzipien und kombiniert optische Anregung, Mikrowellenmanipulation und Fluoreszenzdetektion f√ºr hochpr√§zise Quantensensing.",
        components_needed: "Ben√∂tigte Komponenten:",
        component_1: "‚Ä¢ Grundplatte f√ºr Montage",
        component_2: "‚Ä¢ Gr√ºne Laserdiode (532 nm)",
        component_3: "‚Ä¢ 45¬∞ Spiegel f√ºr Strahlf√ºhrung",
        component_4: "‚Ä¢ Strahlteiler mit Filter",
        component_5: "‚Ä¢ Konvergente Linse",
        component_6: "‚Ä¢ Lichtsensor (Photodiode)",
        component_7: "‚Ä¢ Elektronik-Box mit Mikrowellenerzeugung",
        component_8: "‚Ä¢ XY-B√ºhnensystem mit NV-Diamant",
        component_9: "‚Ä¢ Magnet f√ºr externes Magnetfeld",
        component_10: "‚Ä¢ Mikrowellenantenne",
        safety_title: "‚ö†Ô∏è Sicherheitshinweise",
        safety_laser: "Niemals direkt in den Laser blicken",
        safety_magnet: "Vorsicht bei Implantaten und elektronischen Ger√§ten",
        safety_power: "Stromversorgung vor Verkabelungs√§nderungen trennen",
        quantumminilabs_title: "Das QuantumMiniLabs Projekt",
        quantumminilabs_text: "Das QuantumMiniLabs-Projekt entwickelt ein Open-Source-√ñkosystem, das kosteng√ºnstige, skalierbare, modulare und reparable Quantentechnologie-Experimente erm√∂glicht. Das Ziel ist es, das System an 100 Bildungsstandorten in Deutschland einzusetzen.",
        quantumminilabs_vision: "QuantumMiniLabs bietet die erste erschwingliche DIY-Plattform f√ºr Experimente mit Quantensystemen der zweiten Generation. NV-Diamanten erm√∂glichen stabile Experimente bei Raumtemperatur."
      },
      en: {
        nav_start: "Start",
        nav_measurement_device: "Measurement (on Device)",
        nav_measurement_webserial: "Measurement (WebSerial)",
        nav_alignment: "Alignment",
        nav_info: "More Info",
        title: "NV Experiments / ODMR",
        welcome_title: "Low-Cost Experiments with NV Centers",
        odmr_intro_title: "Tutorial: Building an ODMR Setup",
        odmr_intro_text: "In this workshop, we will construct an ODMR (Optically Detected Magnetic Resonance) system using the UC2 modular microscope toolbox and NV (Nitrogen-Vacancy) diamonds. ODMR is a quantum sensing technique that allows us to measure magnetic fields by observing changes in fluorescence from quantum systems.",
        quick_start: "Quick Start",
        start_measurement: "Start Measurement",
        alignment: "Align Setup",
        theory_title: "Theoretical Background",
        nv_centers_title: "What are NV Centers?",
        nv_centers_text: "NV centers are point defects in diamond consisting of a nitrogen atom adjacent to a vacant lattice site. These quantum systems have unique properties that make them ideal for sensing applications:",
        nv_property_1: "Spin-1 ground state with three possible projections",
        nv_property_2: "Optical excitation at 532 nm (green)",
        nv_property_3: "Fluorescence in red spectral range",
        nv_property_4: "Room-temperature stable quantum coherence",
        nv_structure_alt: "NV Center Structure",
        nv_structure_caption: "Structure of NV center in diamond lattice",
        odmr_principle_title: "ODMR Principle",
        odmr_principle_text: "The ODMR effect relies on spin-dependent fluorescence. When microwave radiation at the resonant frequency (~2.87 GHz) is applied, it causes transitions between quantum spin states, resulting in a measurable decrease in fluorescence intensity.",
        key_concept: "Key Concept:",
        zeeman_effect_text: "External magnetic fields shift these resonance frequencies via the Zeeman effect, allowing precise magnetic field measurements.",
        applications_title: "Modern Applications",
        app_biomedical: "Biomedical Imaging",
        app_biomedical_desc: "Mapping magnetic fields in living cells and tissues",
        app_materials: "Materials Science",
        app_materials_desc: "Studying magnetic domains and spin transport",
        app_quantum: "Quantum Information",
        app_quantum_desc: "Building blocks for quantum computers and networks",
        app_physics: "Fundamental Physics",
        app_physics_desc: "Testing quantum mechanics and measuring fundamental constants",
        setup_overview_title: "Experimental Setup",
        setup_overview_text: "The ODMR setup follows confocal microscopy principles and combines optical excitation, microwave manipulation, and fluorescence detection for high-precision quantum sensing.",
        components_needed: "Required Components:",
        component_1: "‚Ä¢ Base plate for mounting",
        component_2: "‚Ä¢ Green laser diode (532 nm)",
        component_3: "‚Ä¢ 45¬∞ mirrors for beam steering",
        component_4: "‚Ä¢ Beam splitter with filter",
        component_5: "‚Ä¢ Converging lens",
        component_6: "‚Ä¢ Light sensor (photodiode)",
        component_7: "‚Ä¢ Electronics box with microwave generation",
        component_8: "‚Ä¢ XY-stage with NV diamond sample",
        component_9: "‚Ä¢ Magnet for external magnetic field",
        component_10: "‚Ä¢ Microwave antenna",
        safety_title: "‚ö†Ô∏è Safety Instructions",
        safety_laser: "Never look directly into the laser",
        safety_magnet: "Caution with implants and electronic devices",
        safety_power: "Disconnect power before changing connections",
        quantumminilabs_title: "The QuantumMiniLabs Project",
        quantumminilabs_text: "The QuantumMiniLabs project is developing an open-source ecosystem that enables low-cost, scalable, modular, and repairable quantum tech experiments. The goal is to deploy the system at 100 educational locations across Germany.",
        quantumminilabs_vision: "QuantumMiniLabs offer the first affordable DIY platform for experimenting with second-generation quantum systems. NV diamonds allow for stable experiments at room temperature."
      }
    };
    
    function setLanguage(lang) {
      localStorage.setItem('language', lang);
      updateLanguage(lang);
      
      // Update dropdown display
      const langDropdown = document.getElementById('langDropdown');
      langDropdown.innerHTML = `üåê ${lang.toUpperCase()}`;
    }
    
    function updateLanguage(lang) {
      const elements = document.querySelectorAll('[data-lang-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        }
      });
      
      // Update title
      if (translations[lang] && translations[lang].title) {
        document.title = translations[lang].title;
      }
    }
    
    // Initialize language on page load
    document.addEventListener('DOMContentLoaded', function() {
      const savedLang = localStorage.getItem('language') || 'de';
      setLanguage(savedLang);
      
      // Hide WebSerial navigation item if on ESP32
      const isLocalDevice = window.location.hostname === '192.168.4.1' || 
                           window.location.hostname.includes('ODMR_') || 
                           window.location.protocol === 'file:';
      
      if (isLocalDevice) {
        const webSerialNavItem = document.getElementById('webSerialNavItem');
        if (webSerialNavItem) {
          webSerialNavItem.style.display = 'none';
        }
      }
      
      // Fetch and display version information
      fetch('/version')
        .then(response => {
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const contentType = response.headers.get('content-type');
          if (!contentType || !contentType.includes('application/json')) {
            throw new Error('Version endpoint not available');
          }
          return response.json();
        })
        .then(data => {
          const versionInfo = document.getElementById('versionInfo');
          if (versionInfo) {
            versionInfo.textContent = `v${data.version} | Build: ${data.build_date} | ${data.git_hash}`;
          }
        })
        .catch(error => {
          console.error('Error fetching version:', error);
          const versionInfo = document.getElementById('versionInfo');
          if (versionInfo) {
            versionInfo.textContent = 'Version: ESP32 ODMR Server';
          }
        });
    });
  </script>
</body>
</html>
