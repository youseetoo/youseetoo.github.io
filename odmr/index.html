<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>NV-Experimente / ODMR</title>

  <!-- Bootstrap 5 -->
  <script>
    // Automatic Bootstrap loading: Use CDN for development, local for ESP32
    (function() {
      const isLocalDevice = window.location.hostname === '192.168.4.1' || 
                           window.location.hostname.includes('ODMR_') || 
                           window.location.protocol === 'file:';
      
      if (isLocalDevice) {
        // Load from ESP32 local server
        document.write('<link href="/bootstrap.min.css" rel="stylesheet">');
      } else {
        // Load from CDN for development
        document.write('<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">');
      }
    })();
  </script>

  <!-- Brand palette ---------------------------------------------------------->
  <style>
    :root{
      --uc2-blue:       #023773;  /* primary   */
      --uc2-green:      #85b918;  /* success   */
      --uc2-turquoise:  #1f9c7c;  /* info      */
      --uc2-light:      #faf9f9;  /* body bg   */
      --uc2-grey:       #999999;  /* muted txt */
    }
    body           { background: var(--uc2-light); color: var(--uc2-grey); }
    h1,h2,h3,h4,h5 { color: var(--uc2-blue); }
    /* navbar */
    .navbar         { background: var(--uc2-blue); }
    .navbar-brand,
    .navbar-nav .nav-link { color:#fff; }
    .navbar-nav .nav-link.active{ color: var(--uc2-green); }
    .navbar-nav .nav-link:hover{ color: var(--uc2-turquoise); }
    /* links in text */
    a{ color: var(--uc2-blue); }
    a:hover{ color: var(--uc2-turquoise); }
    footer{ background: var(--uc2-blue); color:#fff; }
  </style>
</head>

<body>
  <!-- ‚ñë‚ñë Navbar ‚ñë‚ñë----------------------------------------------------------- -->
  <nav class="navbar navbar-expand-lg shadow-sm mb-4">
    <div class="container">
      <a class="navbar-brand fw-bold" href="index.html">NV-Experimente</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#nvNav" aria-controls="nvNav" aria-expanded="false">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="nvNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item"><a class="nav-link active" href="index.html" data-lang-key="nav_start">Start</a></li>
          <li class="nav-item"><a class="nav-link" href="messung.html" data-lang-key="nav_measurement_device">Messung (on Device)</a></li>
          <li class="nav-item"><a class="nav-link" href="messung_webserial.html" data-lang-key="nav_measurement_webserial">Messung (WebSerial)</a></li>
          <li class="nav-item"><a class="nav-link" href="justage.html" data-lang-key="nav_alignment">Justage</a></li>
          <li class="nav-item"><a class="nav-link" href="infos.html" data-lang-key="nav_info">Weitere Infos</a></li>
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" id="langDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
              üåê DE
            </a>
            <ul class="dropdown-menu" aria-labelledby="langDropdown">
              <li><a class="dropdown-item" href="#" onclick="setLanguage('de')">üá©üá™ Deutsch</a></li>
              <li><a class="dropdown-item" href="#" onclick="setLanguage('en')">üá∫üá∏ English</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ‚ñë‚ñë Main content ‚ñë‚ñë------------------------------------------------------ -->
  <main class="container">
    <section class="mb-5">
      <h1 class="display-5 mb-3" data-lang-key="welcome_title">Low-Cost Experimente mit NV-Zentren</h1>
      <h2 class="h4 mb-3" data-lang-key="nv_centers_title">√úber das Experiment</h2>

      <p data-lang-key="nv_centers_text">
        NV-Zentren sind Fehlstellen, die in Diamanten auftreten k√∂nnen. An diesen
        Stellen fehlen zwei Kohlenstoffatome im Gitter. Anstatt eines dieser
        Kohlenstoff¬≠atome ist ein Stickstoffatom im Gitter vorhanden; anstelle
        des zweiten fehlt ein Atom v√∂llig. Dadurch befinden sich Elektronen im
        Gitter, die angeregt werden k√∂nnen ‚Ä¶ Die Abbildung 1 zeigt diese
        Diamantstruktur.
      </p>

      <figure class="text-center my-4">
        <img src="NVGitter.png" class="img-fluid rounded shadow" style="max-width:60%;" alt="Diamantgitter">
        <figcaption class="mt-2 small text-muted">Abbildung 1: Struktur des Diamantgitters.</figcaption>
      </figure>

      <p>
        Die Elektronen solcher Fehlstellen k√∂nnen mit gr√ºnem Licht in einen
        angeregten Zustand gebracht werden. Beim √úbergang in den Grundzustand
        wird ein rotes oder nahinfrarotes Photon emittiert.
      </p>
    </section>

    <section class="mb-5">
      <h3 class="h4 mb-3" data-lang-key="applications_title">Anwendungen</h3>
      <p data-lang-key="applications_text">
        Diese Emission kann zur Messung von Magnetfeldern genutzt werden.
        Au√üerdem l√§sst sich mit dem 2- bzw. 3-Zustandssystem, das sich aus den
        Spinzust√§nden ergibt, ein einfacher Quantencomputer bauen.
      </p>
    </section>
  </main>

  <!-- ‚ñë‚ñë Footer ‚ñë‚ñë----------------------------------------------------------- -->
  <footer class="py-3 mt-auto">
    <div class="container text-center small">
      Uni M√ºnster ¬∑ openUC2 GmbH ‚Äì <a class="text-white text-decoration-none" href="mailto:hello@openuc2.com">hello@openuc2.com</a>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script>
    // Automatic Bootstrap JS loading: Use CDN for development, local for ESP32
    (function() {
      const isLocalDevice = window.location.hostname === '192.168.4.1' || 
                           window.location.hostname.includes('ODMR_') || 
                           window.location.protocol === 'file:';
      
      if (isLocalDevice) {
        // Load from ESP32 local server
        document.write('<script src="/bootstrap.bundle.min.js"><\/script>');
      } else {
        // Load from CDN for development
        document.write('<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"><\/script>');
      }
    })();
  </script>
  
  <script>
    // Multi-language support
    const translations = {
      de: {
        nav_start: "Start",
        nav_measurement_device: "Messung (on Device)",
        nav_measurement_webserial: "Messung (WebSerial)",
        nav_alignment: "Justage",
        nav_info: "Weitere Infos",
        title: "NV-Experimente / ODMR",
        welcome_title: "Willkommen zu den NV-Experimenten",
        welcome_text: "Diese Weboberfl√§che erm√∂glicht die Durchf√ºhrung von Experimenten mit Stickstoff-Vakanz-Zentren (NV-Zentren) in Diamanten.",
        nv_centers_title: "Was sind NV-Zentren?",
        nv_centers_text: "NV-Zentren entstehen, wenn in einem Diamantgitter ein Kohlenstoffatom durch Stickstoff ersetzt wird und direkt daneben eine Vakanz (Leerstelle) entsteht.",
        applications_title: "Anwendungen",
        applications_text: "Diese Emission kann zur Messung von Magnetfeldern genutzt werden. Au√üerdem l√§sst sich mit dem 2- bzw. 3-Zustandssystem, das sich aus den Spinzust√§nden ergibt, ein einfacher Quantencomputer bauen."
      },
      en: {
        nav_start: "Start",
        nav_measurement_device: "Measurement (on Device)",
        nav_measurement_webserial: "Measurement (WebSerial)",
        nav_alignment: "Alignment",
        nav_info: "More Info",
        title: "NV Experiments / ODMR",
        welcome_title: "Welcome to NV Experiments",
        welcome_text: "This web interface enables conducting experiments with nitrogen-vacancy centers (NV centers) in diamonds.",
        nv_centers_title: "What are NV Centers?",
        nv_centers_text: "NV centers form when a carbon atom in a diamond lattice is replaced by nitrogen and a vacancy (empty space) is created directly adjacent to it.",
        applications_title: "Applications",
        applications_text: "This emission can be used to measure magnetic fields. Furthermore, the 2- or 3-state system resulting from the spin states can be used to build a simple quantum computer."
      }
    };
    
    function setLanguage(lang) {
      localStorage.setItem('language', lang);
      updateLanguage(lang);
      
      // Update dropdown display
      const langDropdown = document.getElementById('langDropdown');
      langDropdown.innerHTML = `üåê ${lang.toUpperCase()}`;
    }
    
    function updateLanguage(lang) {
      const elements = document.querySelectorAll('[data-lang-key]');
      elements.forEach(element => {
        const key = element.getAttribute('data-lang-key');
        if (translations[lang] && translations[lang][key]) {
          element.textContent = translations[lang][key];
        }
      });
      
      // Update title
      if (translations[lang] && translations[lang].title) {
        document.title = translations[lang].title;
      }
    }
    
    // Initialize language on page load
    document.addEventListener('DOMContentLoaded', function() {
      const savedLang = localStorage.getItem('language') || 'de';
      setLanguage(savedLang);
    });
  </script>
</body>
</html>
