/*! For license information please see main.9ba3b3c3.js.LICENSE.txt */
!function(){var e={5911:function(e,t,n){"use strict";n.d(t,{Z:function(){return re}});var i=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(i){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),r=Math.abs,o=String.fromCharCode,a=Object.assign;function s(e){return e.trim()}function l(e,t,n){return e.replace(t,n)}function u(e,t){return e.indexOf(t)}function c(e,t){return 0|e.charCodeAt(t)}function h(e,t,n){return e.slice(t,n)}function d(e){return e.length}function f(e){return e.length}function p(e,t){return t.push(e),e}var v=1,g=1,m=0,y=0,_=0,b="";function k(e,t,n,i,r,o,a){return{value:e,root:t,parent:n,type:i,props:r,children:o,line:v,column:g,length:a,return:""}}function T(e,t){return a(k("",null,null,"",null,null,0),e,{length:-e.length},t)}function E(){return _=y>0?c(b,--y):0,g--,10===_&&(g=1,v--),_}function x(){return _=y<m?c(b,y++):0,g++,10===_&&(g=1,v++),_}function w(){return c(b,y)}function S(){return y}function C(e,t){return h(b,e,t)}function I(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function R(e){return v=g=1,m=d(b=e),y=0,[]}function O(e){return b="",e}function A(e){return s(C(y-1,N(91===e?e+2:40===e?e+1:e)))}function M(e){for(;(_=w())&&_<33;)x();return I(e)>2||I(_)>3?"":" "}function L(e,t){for(;--t&&x()&&!(_<48||_>102||_>57&&_<65||_>70&&_<97););return C(e,S()+(t<6&&32==w()&&32==x()))}function N(e){for(;x();)switch(_){case e:return y;case 34:case 39:34!==e&&39!==e&&N(_);break;case 40:41===e&&N(e);break;case 92:x()}return y}function $(e,t){for(;x()&&e+_!==57&&(e+_!==84||47!==w()););return"/*"+C(t,y-1)+"*"+o(47===e?e:x())}function P(e){for(;!I(w());)x();return C(e,y)}var D="-ms-",B="-moz-",F="-webkit-",U="comm",j="rule",Z="decl",H="@keyframes";function z(e,t){for(var n="",i=f(e),r=0;r<i;r++)n+=t(e[r],r,e,t)||"";return n}function V(e,t,n,i){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Z:return e.return=e.return||e.value;case U:return"";case H:return e.return=e.value+"{"+z(e.children,i)+"}";case j:e.value=e.props.join(",")}return d(n=z(e.children,i))?e.return=e.value+"{"+n+"}":""}function W(e){return O(G("",null,null,null,[""],e=R(e),0,[0],e))}function G(e,t,n,i,r,a,s,h,f){for(var v=0,g=0,m=s,y=0,_=0,b=0,k=1,T=1,C=1,I=0,R="",O=r,N=a,D=i,B=R;T;)switch(b=I,I=x()){case 40:if(108!=b&&58==c(B,m-1)){-1!=u(B+=l(A(I),"&","&\f"),"&\f")&&(C=-1);break}case 34:case 39:case 91:B+=A(I);break;case 9:case 10:case 13:case 32:B+=M(b);break;case 92:B+=L(S()-1,7);continue;case 47:switch(w()){case 42:case 47:p(Y($(x(),S()),t,n),f);break;default:B+="/"}break;case 123*k:h[v++]=d(B)*C;case 125*k:case 59:case 0:switch(I){case 0:case 125:T=0;case 59+g:-1==C&&(B=l(B,/\f/g,"")),_>0&&d(B)-m&&p(_>32?K(B+";",i,n,m-1):K(l(B," ","")+";",i,n,m-2),f);break;case 59:B+=";";default:if(p(D=X(B,t,n,v,g,r,h,R,O=[],N=[],m),a),123===I)if(0===g)G(B,t,D,D,O,a,m,h,N);else switch(99===y&&110===c(B,3)?100:y){case 100:case 108:case 109:case 115:G(e,D,D,i&&p(X(e,D,D,0,0,r,h,R,r,O=[],m),N),r,N,m,h,i?O:N);break;default:G(B,D,D,D,[""],N,0,h,N)}}v=g=_=0,k=C=1,R=B="",m=s;break;case 58:m=1+d(B),_=b;default:if(k<1)if(123==I)--k;else if(125==I&&0==k++&&125==E())continue;switch(B+=o(I),I*k){case 38:C=g>0?1:(B+="\f",-1);break;case 44:h[v++]=(d(B)-1)*C,C=1;break;case 64:45===w()&&(B+=A(x())),y=w(),g=m=d(R=B+=P(S())),I++;break;case 45:45===b&&2==d(B)&&(k=0)}}return a}function X(e,t,n,i,o,a,u,c,d,p,v){for(var g=o-1,m=0===o?a:[""],y=f(m),_=0,b=0,T=0;_<i;++_)for(var E=0,x=h(e,g+1,g=r(b=u[_])),w=e;E<y;++E)(w=s(b>0?m[E]+" "+x:l(x,/&\f/g,m[E])))&&(d[T++]=w);return k(e,t,n,0===o?j:c,d,p,v)}function Y(e,t,n){return k(e,t,n,U,o(_),h(e,2,-2),0)}function K(e,t,n,i){return k(e,t,n,Z,h(e,0,i),h(e,i+1,-1),i)}var q=function(e,t,n){for(var i=0,r=0;i=r,r=w(),38===i&&12===r&&(t[n]=1),!I(r);)x();return C(e,y)},J=function(e,t){return O(function(e,t){var n=-1,i=44;do{switch(I(i)){case 0:38===i&&12===w()&&(t[n]=1),e[n]+=q(y-1,t,n);break;case 2:e[n]+=A(i);break;case 4:if(44===i){e[++n]=58===w()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=o(i)}}while(i=x());return e}(R(e),t))},Q=new WeakMap,ee=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,i=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Q.get(n))&&!i){Q.set(e,!0);for(var r=[],o=J(t,r),a=n.props,s=0,l=0;s<o.length;s++)for(var u=0;u<a.length;u++,l++)e.props[l]=r[s]?o[s].replace(/&\f/g,a[u]):a[u]+" "+o[s]}}},te=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function ne(e,t){switch(function(e,t){return 45^c(e,0)?(((t<<2^c(e,0))<<2^c(e,1))<<2^c(e,2))<<2^c(e,3):0}(e,t)){case 5103:return F+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return F+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return F+e+B+e+D+e+e;case 6828:case 4268:return F+e+D+e+e;case 6165:return F+e+D+"flex-"+e+e;case 5187:return F+e+l(e,/(\w+).+(:[^]+)/,F+"box-$1$2"+D+"flex-$1$2")+e;case 5443:return F+e+D+"flex-item-"+l(e,/flex-|-self/,"")+e;case 4675:return F+e+D+"flex-line-pack"+l(e,/align-content|flex-|-self/,"")+e;case 5548:return F+e+D+l(e,"shrink","negative")+e;case 5292:return F+e+D+l(e,"basis","preferred-size")+e;case 6060:return F+"box-"+l(e,"-grow","")+F+e+D+l(e,"grow","positive")+e;case 4554:return F+l(e,/([^-])(transform)/g,"$1"+F+"$2")+e;case 6187:return l(l(l(e,/(zoom-|grab)/,F+"$1"),/(image-set)/,F+"$1"),e,"")+e;case 5495:case 3959:return l(e,/(image-set\([^]*)/,F+"$1$`$1");case 4968:return l(l(e,/(.+:)(flex-)?(.*)/,F+"box-pack:$3"+D+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+F+e+e;case 4095:case 3583:case 4068:case 2532:return l(e,/(.+)-inline(.+)/,F+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(d(e)-1-t>6)switch(c(e,t+1)){case 109:if(45!==c(e,t+4))break;case 102:return l(e,/(.+:)(.+)-([^]+)/,"$1"+F+"$2-$3$1"+B+(108==c(e,t+3)?"$3":"$2-$3"))+e;case 115:return~u(e,"stretch")?ne(l(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==c(e,t+1))break;case 6444:switch(c(e,d(e)-3-(~u(e,"!important")&&10))){case 107:return l(e,":",":"+F)+e;case 101:return l(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+F+(45===c(e,14)?"inline-":"")+"box$3$1"+F+"$2$3$1"+D+"$2box$3")+e}break;case 5936:switch(c(e,t+11)){case 114:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return F+e+D+l(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return F+e+D+e+e}return e}var ie=[function(e,t,n,i){if(e.length>-1&&!e.return)switch(e.type){case Z:e.return=ne(e.value,e.length);break;case H:return z([T(e,{value:l(e.value,"@","@"+F)})],i);case j:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return z([T(e,{props:[l(t,/:(read-\w+)/,":-moz-$1")]})],i);case"::placeholder":return z([T(e,{props:[l(t,/:(plac\w+)/,":"+F+"input-$1")]}),T(e,{props:[l(t,/:(plac\w+)/,":-moz-$1")]}),T(e,{props:[l(t,/:(plac\w+)/,D+"input-$1")]})],i)}return""}))}}],re=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,o,a=e.stylisPlugins||ie,s={},l=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)s[t[n]]=!0;l.push(e)}));var u,c,h=[V,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],d=function(e){var t=f(e);return function(n,i,r,o){for(var a="",s=0;s<t;s++)a+=e[s](n,i,r,o)||"";return a}}([ee,te].concat(a,h));o=function(e,t,n,i){u=n,z(W(e?e+"{"+t.styles+"}":t.styles),d),i&&(p.inserted[t.name]=!0)};var p={key:t,sheet:new i({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:o};return p.sheet.hydrate(l),p}},9797:function(e,t,n){"use strict";function i(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}n.d(t,{Z:function(){return i}})},5218:function(e,t,n){"use strict";n.d(t,{C:function(){return a},T:function(){return l},w:function(){return s}});var i=n(2791),r=n(5911),o=(n(6942),n(2561),i.createContext("undefined"!==typeof HTMLElement?(0,r.Z)({key:"css"}):null)),a=o.Provider,s=function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(o);return e(t,r,n)}))},l=i.createContext({})},2554:function(e,t,n){"use strict";n.d(t,{F4:function(){return c},iv:function(){return u},xB:function(){return l}});var i=n(5218),r=n(2791),o=n(5438),a=n(2561),s=n(6942),l=(n(5911),n(2110),(0,i.w)((function(e,t){var n=e.styles,l=(0,s.O)([n],void 0,r.useContext(i.T)),u=r.useRef();return(0,a.j)((function(){var e=t.key+"-global",n=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),i=!1,r=document.querySelector('style[data-emotion="'+e+" "+l.name+'"]');return t.sheet.tags.length&&(n.before=t.sheet.tags[0]),null!==r&&(i=!0,r.setAttribute("data-emotion",e),n.hydrate([r])),u.current=[n,i],function(){n.flush()}}),[t]),(0,a.j)((function(){var e=u.current,n=e[0];if(e[1])e[1]=!1;else{if(void 0!==l.next&&(0,o.My)(t,l.next,!0),n.tags.length){var i=n.tags[n.tags.length-1].nextElementSibling;n.before=i,n.flush()}t.insert("",l,n,!1)}}),[t,l.name]),null})));function u(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.O)(t)}var c=function(){var e=u.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}},6942:function(e,t,n){"use strict";n.d(t,{O:function(){return g}});var i={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},r=n(9797),o=!1,a=/[A-Z]|^ms/g,s=/_EMO_([^_]+?)_([^]*?)_EMO_/g,l=function(e){return 45===e.charCodeAt(1)},u=function(e){return null!=e&&"boolean"!==typeof e},c=(0,r.Z)((function(e){return l(e)?e:e.replace(a,"-$&").toLowerCase()})),h=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(s,(function(e,t,n){return p={name:t,styles:n,next:p},t}))}return 1===i[e]||l(e)||"number"!==typeof t||0===t?t:t+"px"},d="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function f(e,t,n){if(null==n)return"";var i=n;if(void 0!==i.__emotion_styles)return i;switch(typeof n){case"boolean":return"";case"object":var r=n;if(1===r.anim)return p={name:r.name,styles:r.styles,next:p},r.name;var a=n;if(void 0!==a.styles){var s=a.next;if(void 0!==s)for(;void 0!==s;)p={name:s.name,styles:s.styles,next:p},s=s.next;return a.styles+";"}return function(e,t,n){var i="";if(Array.isArray(n))for(var r=0;r<n.length;r++)i+=f(e,t,n[r])+";";else for(var a in n){var s=n[a];if("object"!==typeof s){var l=s;null!=t&&void 0!==t[l]?i+=a+"{"+t[l]+"}":u(l)&&(i+=c(a)+":"+h(a,l)+";")}else{if("NO_COMPONENT_SELECTOR"===a&&o)throw new Error(d);if(!Array.isArray(s)||"string"!==typeof s[0]||null!=t&&void 0!==t[s[0]]){var p=f(e,t,s);switch(a){case"animation":case"animationName":i+=c(a)+":"+p+";";break;default:i+=a+"{"+p+"}"}}else for(var v=0;v<s.length;v++)u(s[v])&&(i+=c(a)+":"+h(a,s[v])+";")}}return i}(e,t,n);case"function":if(void 0!==e){var l=p,v=n(e);return p=l,f(e,t,v)}}var g=n;if(null==t)return g;var m=t[g];return void 0!==m?m:g}var p,v=/label:\s*([^\s;\n{]+)\s*(;|$)/g;function g(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var i=!0,r="";p=void 0;var o=e[0];null==o||void 0===o.raw?(i=!1,r+=f(n,t,o)):r+=o[0];for(var a=1;a<e.length;a++){if(r+=f(n,t,e[a]),i)r+=o[a]}v.lastIndex=0;for(var s,l="";null!==(s=v.exec(r));)l+="-"+s[1];var u=function(e){for(var t,n=0,i=0,r=e.length;r>=4;++i,r-=4)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(r){case 3:n^=(255&e.charCodeAt(i+2))<<16;case 2:n^=(255&e.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(r)+l;return{name:u,styles:r,next:p}}},2561:function(e,t,n){"use strict";var i;n.d(t,{L:function(){return a},j:function(){return s}});var r=n(2791),o=!!(i||(i=n.t(r,2))).useInsertionEffect&&(i||(i=n.t(r,2))).useInsertionEffect,a=o||function(e){return e()},s=o||r.useLayoutEffect},5438:function(e,t,n){"use strict";n.d(t,{My:function(){return o},fp:function(){return i},hC:function(){return r}});function i(e,t,n){var i="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):i+=n+" "})),i}var r=function(e,t,n){var i=e.key+"-"+t.name;!1===n&&void 0===e.registered[i]&&(e.registered[i]=t.styles)},o=function(e,t,n){r(e,t,n);var i=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var o=t;do{e.insert(t===o?"."+i:"",o,e.sheet,!0),o=o.next}while(void 0!==o)}}},1162:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M14.5 17c0 1.65-1.35 3-3 3s-3-1.35-3-3h2c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1H2v-2h9.5c1.65 0 3 1.35 3 3M19 6.5C19 4.57 17.43 3 15.5 3S12 4.57 12 6.5h2c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5S16.33 8 15.5 8H2v2h13.5c1.93 0 3.5-1.57 3.5-3.5m-.5 4.5H2v2h16.5c.83 0 1.5.67 1.5 1.5s-.67 1.5-1.5 1.5v2c1.93 0 3.5-1.57 3.5-3.5S20.43 11 18.5 11"}),"Air")},6711:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2m5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12z"}),"Cancel")},8384:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle")},9161:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4zM18 14H6v-2h12zm0-3H6V9h12zm0-3H6V6h12z"}),"Comment")},4250:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"M7.52 21.48C4.25 19.94 1.91 16.76 1.55 13H.05C.56 19.16 5.71 24 12 24l.66-.03-3.81-3.81zm.89-6.52c-.19 0-.37-.03-.52-.08-.16-.06-.29-.13-.4-.24-.11-.1-.2-.22-.26-.37-.06-.14-.09-.3-.09-.47h-1.3c0 .36.07.68.21.95.14.27.33.5.56.69.24.18.51.32.82.41.3.1.62.15.96.15.37 0 .72-.05 1.03-.15.32-.1.6-.25.83-.44s.42-.43.55-.72c.13-.29.2-.61.2-.97 0-.19-.02-.38-.07-.56-.05-.18-.12-.35-.23-.51-.1-.16-.24-.3-.4-.43-.17-.13-.37-.23-.61-.31.2-.09.37-.2.52-.33.15-.13.27-.27.37-.42.1-.15.17-.3.22-.46.05-.16.07-.32.07-.48 0-.36-.06-.68-.18-.96-.12-.28-.29-.51-.51-.69-.2-.19-.47-.33-.77-.43C9.1 8.05 8.76 8 8.39 8c-.36 0-.69.05-1 .16-.3.11-.57.26-.79.45-.21.19-.38.41-.51.67-.12.26-.18.54-.18.85h1.3c0-.17.03-.32.09-.45s.14-.25.25-.34c.11-.09.23-.17.38-.22.15-.05.3-.08.48-.08.4 0 .7.1.89.31.19.2.29.49.29.86 0 .18-.03.34-.08.49-.05.15-.14.27-.25.37-.11.1-.25.18-.41.24-.16.06-.36.09-.58.09H7.5v1.03h.77c.22 0 .42.02.6.07s.33.13.45.23c.12.11.22.24.29.4.07.16.1.35.1.57 0 .41-.12.72-.35.93-.23.23-.55.33-.95.33m8.55-5.92c-.32-.33-.7-.59-1.14-.77-.43-.18-.92-.27-1.46-.27H12v8h2.3c.55 0 1.06-.09 1.51-.27.45-.18.84-.43 1.16-.76.32-.33.57-.73.74-1.19.17-.47.26-.99.26-1.57v-.4c0-.58-.09-1.1-.26-1.57-.18-.47-.43-.87-.75-1.2m-.39 3.16c0 .42-.05.79-.14 1.13-.1.33-.24.62-.43.85-.19.23-.43.41-.71.53-.29.12-.62.18-.99.18h-.91V9.12h.97c.72 0 1.27.23 1.64.69.38.46.57 1.12.57 1.99zM12 0l-.66.03 3.81 3.81 1.33-1.33c3.27 1.55 5.61 4.72 5.96 8.48h1.5C23.44 4.84 18.29 0 12 0"}),"ThreeDRotation")},2140:function(e,t,n){"use strict";var i=n(4836);t.Z=void 0;var r=i(n(5649)),o=n(184);t.Z=(0,r.default)((0,o.jsx)("path",{d:"m1 9 2 2c4.97-4.97 13.03-4.97 18 0l2-2C16.93 2.93 7.08 2.93 1 9m8 8 3 3 3-3c-1.65-1.66-4.34-1.66-6 0m-4-4 2 2c2.76-2.76 7.24-2.76 10 0l2-2C15.14 9.14 8.87 9.14 5 13"}),"WifiSharp")},5649:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=n(186)},1020:function(e,t,n){"use strict";n.d(t,{i:function(){return r}});n(2791);var i=n(4769);n(184);function r(e){return(0,i.i)(e)}},7:function(e,t){"use strict";t.Z={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"}},2460:function(e,t){"use strict";t.Z={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"}},6532:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case v:case p:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference")},8457:function(e,t,n){"use strict";n(6532)},4584:function(e,t,n){"use strict";n.d(t,{Z:function(){return j}});var i=n(7462),r=n(3366),o=n(6187),a=n(7093),s=n(7416),l=n(104),u=n(8809),c=n(4942);function h(e,t){var n;return(0,i.Z)({toolbar:(n={minHeight:56},(0,c.Z)(n,e.up("xs"),{"@media (orientation: landscape)":{minHeight:48}}),(0,c.Z)(n,e.up("sm"),{minHeight:64}),n)},t)}var d=n(4131),f={black:"#000",white:"#fff"},p={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},v={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},g=n(2460),m={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},y={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},_={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},b=n(7),k=["mode","contrastThreshold","tonalOffset"],T={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:f.white,default:f.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},E={text:{primary:f.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:f.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function x(e,t,n,i){var r=i.light||i,o=i.dark||1.5*i;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=(0,d.$n)(e.main,r):"dark"===t&&(e.dark=(0,d._j)(e.main,o)))}function w(e){var t=e.mode,n=void 0===t?"light":t,s=e.contrastThreshold,l=void 0===s?3:s,u=e.tonalOffset,c=void 0===u?.2:u,h=(0,r.Z)(e,k),w=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:y[200],light:y[50],dark:y[400]}:{main:y[700],light:y[400],dark:y[800]}}(n),S=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:v[200],light:v[50],dark:v[400]}:{main:v[500],light:v[300],dark:v[700]}}(n),C=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:g.Z[500],light:g.Z[300],dark:g.Z[700]}:{main:g.Z[700],light:g.Z[400],dark:g.Z[800]}}(n),I=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:_[400],light:_[300],dark:_[700]}:{main:_[700],light:_[500],dark:_[900]}}(n),R=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:b.Z[400],light:b.Z[300],dark:b.Z[700]}:{main:b.Z[800],light:b.Z[500],dark:b.Z[900]}}(n),O=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:m[400],light:m[300],dark:m[700]}:{main:"#ed6c02",light:m[500],dark:m[900]}}(n);function A(e){return(0,d.mi)(e,E.text.primary)>=l?E.text.primary:T.text.primary}var M=function(e){var t=e.color,n=e.name,r=e.mainShade,a=void 0===r?500:r,s=e.lightShade,l=void 0===s?300:s,u=e.darkShade,h=void 0===u?700:u;if(!(t=(0,i.Z)({},t)).main&&t[a]&&(t.main=t[a]),!t.hasOwnProperty("main"))throw new Error((0,o.Z)(11,n?" (".concat(n,")"):"",a));if("string"!==typeof t.main)throw new Error((0,o.Z)(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return x(t,"light",l,c),x(t,"dark",h,c),t.contrastText||(t.contrastText=A(t.main)),t},L={dark:E,light:T};return(0,a.Z)((0,i.Z)({common:(0,i.Z)({},f),mode:n,primary:M({color:w,name:"primary"}),secondary:M({color:S,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:M({color:C,name:"error"}),warning:M({color:O,name:"warning"}),info:M({color:I,name:"info"}),success:M({color:R,name:"success"}),grey:p,contrastThreshold:l,getContrastText:A,augmentColor:M,tonalOffset:c},L[n]),h)}var S=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];var C={textTransform:"uppercase"},I='"Roboto", "Helvetica", "Arial", sans-serif';function R(e,t){var n="function"===typeof t?t(e):t,o=n.fontFamily,s=void 0===o?I:o,l=n.fontSize,u=void 0===l?14:l,c=n.fontWeightLight,h=void 0===c?300:c,d=n.fontWeightRegular,f=void 0===d?400:d,p=n.fontWeightMedium,v=void 0===p?500:p,g=n.fontWeightBold,m=void 0===g?700:g,y=n.htmlFontSize,_=void 0===y?16:y,b=n.allVariants,k=n.pxToRem,T=(0,r.Z)(n,S);var E=u/14,x=k||function(e){return"".concat(e/_*E,"rem")},w=function(e,t,n,r,o){return(0,i.Z)({fontFamily:s,fontWeight:e,fontSize:x(t),lineHeight:n},s===I?{letterSpacing:"".concat((a=r/t,Math.round(1e5*a)/1e5),"em")}:{},o,b);var a},R={h1:w(h,96,1.167,-1.5),h2:w(h,60,1.2,-.5),h3:w(f,48,1.167,0),h4:w(f,34,1.235,.25),h5:w(f,24,1.334,0),h6:w(v,20,1.6,.15),subtitle1:w(f,16,1.75,.15),subtitle2:w(v,14,1.57,.1),body1:w(f,16,1.5,.15),body2:w(f,14,1.43,.15),button:w(v,14,1.75,.4,C),caption:w(f,12,1.66,.4),overline:w(f,12,2.66,1,C),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return(0,a.Z)((0,i.Z)({htmlFontSize:_,pxToRem:x,fontFamily:s,fontSize:u,fontWeightLight:h,fontWeightRegular:f,fontWeightMedium:v,fontWeightBold:m},R),T,{clone:!1})}function O(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var A=["none",O(0,2,1,-1,0,1,1,0,0,1,3,0),O(0,3,1,-2,0,2,2,0,0,1,5,0),O(0,3,3,-2,0,3,4,0,0,1,8,0),O(0,2,4,-1,0,4,5,0,0,1,10,0),O(0,3,5,-1,0,5,8,0,0,1,14,0),O(0,3,5,-1,0,6,10,0,0,1,18,0),O(0,4,5,-2,0,7,10,1,0,2,16,1),O(0,5,5,-3,0,8,10,1,0,3,14,2),O(0,5,6,-3,0,9,12,1,0,3,16,2),O(0,6,6,-3,0,10,14,1,0,4,18,3),O(0,6,7,-4,0,11,15,1,0,4,20,3),O(0,7,8,-4,0,12,17,2,0,5,22,4),O(0,7,8,-4,0,13,19,2,0,5,24,4),O(0,7,9,-4,0,14,21,2,0,5,26,4),O(0,8,9,-5,0,15,22,2,0,6,28,5),O(0,8,10,-5,0,16,24,2,0,6,30,5),O(0,8,11,-5,0,17,26,2,0,6,32,5),O(0,9,11,-5,0,18,28,2,0,7,34,6),O(0,9,12,-6,0,19,29,2,0,7,36,6),O(0,10,13,-6,0,20,31,3,0,8,38,7),O(0,10,13,-6,0,21,33,3,0,8,40,7),O(0,10,14,-6,0,22,35,3,0,8,42,7),O(0,11,14,-7,0,23,36,3,0,9,44,8),O(0,11,15,-7,0,24,38,3,0,9,46,8)],M=["duration","easing","delay"],L={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},N={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function $(e){return"".concat(Math.round(e),"ms")}function P(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}function D(e){var t=(0,i.Z)({},L,e.easing),n=(0,i.Z)({},N,e.duration);return(0,i.Z)({getAutoHeightDuration:P,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=i.duration,a=void 0===o?n.standard:o,s=i.easing,l=void 0===s?t.easeInOut:s,u=i.delay,c=void 0===u?0:u;(0,r.Z)(i,M);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof a?a:$(a)," ").concat(l," ").concat("string"===typeof c?c:$(c))})).join(",")}},e,{easing:t,duration:n})}var B={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},F=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.mixins,n=void 0===t?{}:t,c=e.palette,d=void 0===c?{}:c,f=e.transitions,p=void 0===f?{}:f,v=e.typography,g=void 0===v?{}:v,m=(0,r.Z)(e,F);if(e.vars)throw new Error((0,o.Z)(18));var y=w(d),_=(0,u.Z)(e),b=(0,a.Z)(_,{mixins:h(_.breakpoints,n),palette:y,shadows:A.slice(),typography:R(y,g),transitions:D(p),zIndex:(0,i.Z)({},B)});b=(0,a.Z)(b,m);for(var k=arguments.length,T=new Array(k>1?k-1:0),E=1;E<k;E++)T[E-1]=arguments[E];return(b=T.reduce((function(e,t){return(0,a.Z)(e,t)}),b)).unstable_sxConfig=(0,i.Z)({},s.Z,null==m?void 0:m.unstable_sxConfig),b.unstable_sx=function(e){return(0,l.Z)({sx:e,theme:this})},b}var j=U},6482:function(e,t,n){"use strict";var i=(0,n(4584).Z)();t.Z=i},988:function(e,t){"use strict";t.Z="$$material"},5070:function(e,t,n){"use strict";var i=n(7995);t.Z=function(e){return(0,i.Z)(e)&&"classes"!==e}},7995:function(e,t){"use strict";t.Z=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}},6934:function(e,t,n){"use strict";var i=n(7012),r=n(6482),o=n(988),a=n(5070),s=(0,i.ZP)({themeId:o.Z,defaultTheme:r.Z,rootShouldForwardProp:a.Z});t.ZP=s},4036:function(e,t,n){"use strict";var i=n(1122);t.Z=i.Z},6189:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var i=n(7462),r=n(2791),o=n(3366),a=n(3733),s=n(4419),l=n(4036),u=n(1020),c=n(6934),h=n(5878),d=n(1217);function f(e){return(0,d.ZP)("MuiSvgIcon",e)}(0,h.Z)("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);var p=n(184),v=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],g=(0,c.ZP)("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"inherit"!==n.color&&t["color".concat((0,l.Z)(n.color))],t["fontSize".concat((0,l.Z)(n.fontSize))]]}})((function(e){var t,n,i,r,o,a,s,l,u,c,h,d,f,p=e.theme,v=e.ownerState;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:v.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:null==(t=p.transitions)||null==(n=t.create)?void 0:n.call(t,"fill",{duration:null==(i=p.transitions)||null==(i=i.duration)?void 0:i.shorter}),fontSize:{inherit:"inherit",small:(null==(r=p.typography)||null==(o=r.pxToRem)?void 0:o.call(r,20))||"1.25rem",medium:(null==(a=p.typography)||null==(s=a.pxToRem)?void 0:s.call(a,24))||"1.5rem",large:(null==(l=p.typography)||null==(u=l.pxToRem)?void 0:u.call(l,35))||"2.1875rem"}[v.fontSize],color:null!=(c=null==(h=(p.vars||p).palette)||null==(h=h[v.color])?void 0:h.main)?c:{action:null==(d=(p.vars||p).palette)||null==(d=d.action)?void 0:d.active,disabled:null==(f=(p.vars||p).palette)||null==(f=f.action)?void 0:f.disabled,inherit:void 0}[v.color]}})),m=r.forwardRef((function(e,t){var n=(0,u.i)({props:e,name:"MuiSvgIcon"}),c=n.children,h=n.className,d=n.color,m=void 0===d?"inherit":d,y=n.component,_=void 0===y?"svg":y,b=n.fontSize,k=void 0===b?"medium":b,T=n.htmlColor,E=n.inheritViewBox,x=void 0!==E&&E,w=n.titleAccess,S=n.viewBox,C=void 0===S?"0 0 24 24":S,I=(0,o.Z)(n,v),R=r.isValidElement(c)&&"svg"===c.type,O=(0,i.Z)({},n,{color:m,component:_,fontSize:k,instanceFontSize:e.fontSize,inheritViewBox:x,viewBox:C,hasSvgAsChild:R}),A={};x||(A.viewBox=C);var M=function(e){var t=e.color,n=e.fontSize,i=e.classes,r={root:["root","inherit"!==t&&"color".concat((0,l.Z)(t)),"fontSize".concat((0,l.Z)(n))]};return(0,s.Z)(r,f,i)}(O);return(0,p.jsxs)(g,(0,i.Z)({as:_,className:(0,a.Z)(M.root,h),focusable:"false",color:T,"aria-hidden":!w||void 0,role:w?"img":void 0,ref:t},A,I,R&&c.props,{ownerState:O,children:[R?c.props.children:c,w?(0,p.jsx)("title",{children:w}):null]}))}));m.muiName="SvgIcon";var y=m;function _(e,t){function n(n,r){return(0,p.jsx)(y,(0,i.Z)({"data-testid":"".concat(t,"Icon"),ref:r},n,{children:e}))}return n.muiName=y.muiName,r.memo(r.forwardRef(n))}},3199:function(e,t,n){"use strict";var i=n(2254);t.Z=i.Z},186:function(e,t,n){"use strict";n.r(t),n.d(t,{capitalize:function(){return r.Z},createChainedFunction:function(){return o},createSvgIcon:function(){return a.Z},debounce:function(){return s.Z},deprecatedPropType:function(){return l},isMuiElement:function(){return u.Z},ownerDocument:function(){return c.Z},ownerWindow:function(){return h.Z},requirePropFactory:function(){return d},setRef:function(){return f},unstable_ClassNameGenerator:function(){return k},unstable_useEnhancedEffect:function(){return p.Z},unstable_useId:function(){return v},unsupportedProp:function(){return g},useControlled:function(){return m.Z},useEventCallback:function(){return y.Z},useForkRef:function(){return _.Z},useIsFocusVisible:function(){return b.Z}});var i=n(5902),r=n(4036),o=n(7874).Z,a=n(6189),s=n(3199);var l=function(e,t){return function(){return null}},u=n(6966),c=n(8301),h=n(7602);n(7462);var d=function(e,t){return function(){return null}},f=n(6670).Z,p=n(162),v=n(8252).Z;var g=function(e,t,n,i,r){return null},m=n(8278),y=n(9683),_=n(2071),b=n(8221),k={configure:function(e){i.Z.configure(e)}}},6966:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(2791);var r=function(e,t){var n,r;return i.isValidElement(e)&&-1!==t.indexOf(null!=(n=e.type.muiName)?n:null==(r=e.type)||null==(r=r._payload)||null==(r=r.value)?void 0:r.muiName)}},8301:function(e,t,n){"use strict";var i=n(4913);t.Z=i.Z},7602:function(e,t,n){"use strict";var i=n(5202);t.Z=i.Z},8278:function(e,t,n){"use strict";var i=n(8637);t.Z=i.Z},162:function(e,t,n){"use strict";var i=n(2876);t.Z=i.Z},9683:function(e,t,n){"use strict";var i=n(7054);t.Z=i.Z},2071:function(e,t,n){"use strict";var i=n(6117);t.Z=i.Z},8221:function(e,t,n){"use strict";var i=n(7055);t.Z=i.Z},1500:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});n(2791);var i=n(2554),r=n(184);function o(e){var t=e.styles,n=e.defaultTheme,o=void 0===n?{}:n,a="function"===typeof t?function(e){return t(void 0===(n=e)||null===n||0===Object.keys(n).length?o:e);var n}:t;return(0,r.jsx)(i.xB,{styles:a})}},6649:function(e,t,n){"use strict";n.r(t),n.d(t,{GlobalStyles:function(){return E.Z},StyledEngineProvider:function(){return T},ThemeContext:function(){return l.T},css:function(){return _.iv},default:function(){return x},internal_processStyles:function(){return w},keyframes:function(){return _.F4}});var i=n(7462),r=n(2791),o=n(9797),a=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,s=(0,o.Z)((function(e){return a.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),l=n(5218),u=n(5438),c=n(6942),h=n(2561),d=s,f=function(e){return"theme"!==e},p=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?d:f},v=function(e,t,n){var i;if(t){var r=t.shouldForwardProp;i=e.__emotion_forwardProp&&r?function(t){return e.__emotion_forwardProp(t)&&r(t)}:r}return"function"!==typeof i&&n&&(i=e.__emotion_forwardProp),i},g=function(e){var t=e.cache,n=e.serialized,i=e.isStringTag;return(0,u.hC)(t,n,i),(0,h.L)((function(){return(0,u.My)(t,n,i)})),null},m=function e(t,n){var o,a,s=t.__emotion_real===t,h=s&&t.__emotion_base||t;void 0!==n&&(o=n.label,a=n.target);var d=v(t,n,s),f=d||p(h),m=!f("as");return function(){var y=arguments,_=s&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==o&&_.push("label:"+o+";"),null==y[0]||void 0===y[0].raw)_.push.apply(_,y);else{_.push(y[0][0]);for(var b=y.length,k=1;k<b;k++)_.push(y[k],y[0][k])}var T=(0,l.w)((function(e,t,n){var i=m&&e.as||h,o="",s=[],v=e;if(null==e.theme){for(var y in v={},e)v[y]=e[y];v.theme=r.useContext(l.T)}"string"===typeof e.className?o=(0,u.fp)(t.registered,s,e.className):null!=e.className&&(o=e.className+" ");var b=(0,c.O)(_.concat(s),t.registered,v);o+=t.key+"-"+b.name,void 0!==a&&(o+=" "+a);var k=m&&void 0===d?p(i):f,T={};for(var E in e)m&&"as"===E||k(E)&&(T[E]=e[E]);return T.className=o,n&&(T.ref=n),r.createElement(r.Fragment,null,r.createElement(g,{cache:t,serialized:b,isStringTag:"string"===typeof i}),r.createElement(i,T))}));return T.displayName=void 0!==o?o:"Styled("+("string"===typeof h?h:h.displayName||h.name||"Component")+")",T.defaultProps=t.defaultProps,T.__emotion_real=T,T.__emotion_base=h,T.__emotion_styles=_,T.__emotion_forwardProp=d,Object.defineProperty(T,"toString",{value:function(){return"."+a}}),T.withComponent=function(t,r){return e(t,(0,i.Z)({},n,r,{shouldForwardProp:v(T,r,!0)})).apply(void 0,_)},T}}.bind();["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){m[e]=m(e)}));var y,_=n(2554),b=n(5911),k=n(184);function T(e){var t=e.injectFirst,n=e.children;return t&&y?(0,k.jsx)(l.C,{value:y,children:n}):n}"object"===typeof document&&(y=(0,b.Z)({key:"css",prepend:!0}));var E=n(1500);function x(e,t){return m(e,t)}var w=function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}},4131:function(e,t,n){"use strict";var i=n(4836);t.Fq=f,t._j=p,t.mi=function(e,t){var n=d(e),i=d(t);return(Math.max(n,i)+.05)/(Math.min(n,i)+.05)},t.$n=v;var r=i(n(6955)),o=i(n(2789));function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(0,o.default)(e,t,n)}function s(e){e=e.slice(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}function l(e){if(e.type)return e;if("#"===e.charAt(0))return l(s(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla","color"].indexOf(n))throw new Error((0,r.default)(9,e));var i,o=e.substring(t+1,e.length-1);if("color"===n){if(i=(o=o.split(" ")).shift(),4===o.length&&"/"===o[3].charAt(0)&&(o[3]=o[3].slice(1)),-1===["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i))throw new Error((0,r.default)(10,i))}else o=o.split(",");return{type:n,values:o=o.map((function(e){return parseFloat(e)})),colorSpace:i}}var u=function(e){var t=l(e);return t.values.slice(0,3).map((function(e,n){return-1!==t.type.indexOf("hsl")&&0!==n?"".concat(e,"%"):e})).join(" ")};function c(e){var t=e.type,n=e.colorSpace,i=e.values;return-1!==t.indexOf("rgb")?i=i.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(i[1]="".concat(i[1],"%"),i[2]="".concat(i[2],"%")),i=-1!==t.indexOf("color")?"".concat(n," ").concat(i.join(" ")):"".concat(i.join(", ")),"".concat(t,"(").concat(i,")")}function h(e){var t=(e=l(e)).values,n=t[0],i=t[1]/100,r=t[2]/100,o=i*Math.min(r,1-r),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return r-o*Math.max(Math.min(t-3,9-t,1),-1)},s="rgb",u=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(s+="a",u.push(t[3])),c({type:s,values:u})}function d(e){var t="hsl"===(e=l(e)).type||"hsla"===e.type?l(h(e)).values:e.values;return t=t.map((function(t){return"color"!==e.type&&(t/=255),t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function f(e,t){return e=l(e),t=a(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,c(e)}function p(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb")||-1!==e.type.indexOf("color"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return c(e)}function v(e,t){if(e=l(e),t=a(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(-1!==e.type.indexOf("color"))for(var i=0;i<3;i+=1)e.values[i]+=(1-e.values[i])*t;return c(e)}function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return d(e)>.5?p(e,t):v(e,t)}},7012:function(e,t,n){"use strict";var i=n(861).default,r=n(7424).default,o=n(4836);t.ZP=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,o=void 0===n?m:n,c=e.rootShouldForwardProp,d=void 0===c?g:c,f=e.slotShouldForwardProp,v=void 0===f?g:f,k=function(e){return(0,h.default)((0,a.default)({},e,{theme:_((0,a.default)({},e,{defaultTheme:o,themeId:t}))}))};return k.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,l.internal_processStyles)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var c=n.name,h=n.slot,f=n.skipVariantsResolver,m=n.skipSx,T=n.overridesResolver,E=void 0===T?function(e){if(!e)return null;return function(t,n){return n[e]}}(y(h)):T,x=(0,s.default)(n,p),w=void 0!==f?f:h&&"Root"!==h&&"root"!==h||!1,S=m||!1;var C=g;"Root"===h||"root"===h?C=d:h?C=v:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(C=void 0);var I=(0,l.default)(e,(0,a.default)({shouldForwardProp:C,label:undefined},x)),R=function(e){return"function"===typeof e&&e.__emotion_real!==e||(0,u.isPlainObject)(e)?function(n){return b(e,(0,a.default)({},n,{theme:_({theme:n.theme,defaultTheme:o,themeId:t})}))}:e},O=function(n){for(var s=R(n),l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];var d=u?u.map(R):[];c&&E&&d.push((function(e){var n=_((0,a.default)({},e,{defaultTheme:o,themeId:t}));if(!n.components||!n.components[c]||!n.components[c].styleOverrides)return null;var i=n.components[c].styleOverrides,s={};return Object.entries(i).forEach((function(t){var i=r(t,2),o=i[0],l=i[1];s[o]=b(l,(0,a.default)({},e,{theme:n}))})),E(e,s)})),c&&!w&&d.push((function(e){var n,i=_((0,a.default)({},e,{defaultTheme:o,themeId:t}));return b({variants:null==i||null==(n=i.components)||null==(n=n[c])?void 0:n.variants},(0,a.default)({},e,{theme:i}))})),S||d.push(k);var f=d.length-u.length;if(Array.isArray(n)&&f>0){var p=new Array(f).fill("");(s=[].concat(i(n),i(p))).raw=[].concat(i(n.raw),i(p))}var v=I.apply(void 0,[s].concat(i(d)));return e.muiName&&(v.muiName=e.muiName),v};return I.withConfig&&(O.withConfig=I.withConfig),O}};var a=o(n(434)),s=o(n(7071)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=v(t);if(n&&n.has(e))return n.get(e);var i={__proto__:null},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}return i.default=e,n&&n.set(e,i),i}(n(6649)),u=n(1037),c=(o(n(4884)),o(n(1627)),o(n(4652))),h=o(n(7150)),d=["ownerState"],f=["variants"],p=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(v=function(e){return e?n:t})(e)}function g(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var m=(0,c.default)(),y=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e};function _(e){var t,n=e.defaultTheme,i=e.theme,r=e.themeId;return t=i,0===Object.keys(t).length?n:i[r]||i}function b(e,t){var n=t.ownerState,i=(0,s.default)(t,d),r="function"===typeof e?e((0,a.default)({ownerState:n},i)):e;if(Array.isArray(r))return r.flatMap((function(e){return b(e,(0,a.default)({ownerState:n},i))}));if(r&&"object"===typeof r&&Array.isArray(r.variants)){var o=r.variants,l=void 0===o?[]:o,u=(0,s.default)(r,f);return l.forEach((function(e){var t=!0;"function"===typeof e.props?t=e.props((0,a.default)({ownerState:n},i,n)):Object.keys(e.props).forEach((function(r){(null==n?void 0:n[r])!==e.props[r]&&i[r]!==e.props[r]&&(t=!1)})),t&&(Array.isArray(u)||(u=[u]),u.push("function"===typeof e.style?e.style((0,a.default)({ownerState:n},i,n)):e.style))})),u}return r}},4769:function(e,t,n){"use strict";n.d(t,{i:function(){return s}});var i=n(2791),r=n(8748),o=n(184),a=i.createContext(void 0);function s(e){return function(e){var t=e.theme,n=e.name,i=e.props;if(!t||!t.components||!t.components[n])return i;var o=t.components[n];return o.defaultProps?(0,r.Z)(o.defaultProps,i):o.styleOverrides||o.variants?i:(0,r.Z)(o,i)}({props:e.props,name:e.name,theme:{components:i.useContext(a)}})}t.Z=function(e){var t=e.value,n=e.children;return(0,o.jsx)(a.Provider,{value:t,children:n})}},1184:function(e,t,n){"use strict";n.d(t,{L7:function(){return l},P$:function(){return c},VO:function(){return r},W8:function(){return s},dt:function(){return u},k9:function(){return a}});var i=n(7093),r={xs:0,sm:600,md:900,lg:1200,xl:1536},o={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(r[e],"px)")}};function a(e,t,n){var i=e.theme||{};if(Array.isArray(t)){var a=i.breakpoints||o;return t.reduce((function(e,i,r){return e[a.up(a.keys[r])]=n(t[r]),e}),{})}if("object"===typeof t){var s=i.breakpoints||o;return Object.keys(t).reduce((function(e,i){if(-1!==Object.keys(s.values||r).indexOf(i)){e[s.up(i)]=n(t[i],i)}else{var o=i;e[o]=t[o]}return e}),{})}return n(t)}function s(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null==(e=t.keys)?void 0:e.reduce((function(e,n){return e[t.up(n)]={},e}),{}))||{}}function l(e,t){return e.reduce((function(e,t){var n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function u(e){for(var t=s(e),n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var a=[t].concat(r).reduce((function(e,t){return(0,i.Z)(e,t)}),{});return l(Object.keys(t),a)}function c(e){var t,n=e.values,i=e.breakpoints,r=e.base||function(e,t){if("object"!==typeof e)return{};var n={},i=Object.keys(t);return Array.isArray(e)?i.forEach((function(t,i){i<e.length&&(n[t]=!0)})):i.forEach((function(t){null!=e[t]&&(n[t]=!0)})),n}(n,i),o=Object.keys(r);return 0===o.length?n:o.reduce((function(e,i,r){return Array.isArray(n)?(e[i]=null!=n[r]?n[r]:n[t],t=r):"object"===typeof n?(e[i]=null!=n[i]?n[i]:n[t],t=i):e[i]=n,e}),{})}},8759:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(4942);function r(e,t){var n=this;if(n.vars&&"function"===typeof n.getColorSchemeSelector){var r=n.getColorSchemeSelector(e).replace(/(\[[^\]]+\])/,"*:where($1)");return(0,i.Z)({},r,t)}return n.palette.mode===e?t:{}}},9572:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var i=n(4942),r=n(3366),o=n(7462),a=["values","unit","step"],s=function(e){var t=Object.keys(e).map((function(t){return{key:t,val:e[t]}}))||[];return t.sort((function(e,t){return e.val-t.val})),t.reduce((function(e,t){return(0,o.Z)({},e,(0,i.Z)({},t.key,t.val))}),{})};function l(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:900,lg:1200,xl:1536}:t,i=e.unit,l=void 0===i?"px":i,u=e.step,c=void 0===u?5:u,h=(0,r.Z)(e,a),d=s(n),f=Object.keys(d);function p(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(l,")")}function v(e){var t="number"===typeof n[e]?n[e]:e;return"@media (max-width:".concat(t-c/100).concat(l,")")}function g(e,t){var i=f.indexOf(t);return"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(l,") and ")+"(max-width:".concat((-1!==i&&"number"===typeof n[f[i]]?n[f[i]]:t)-c/100).concat(l,")")}return(0,o.Z)({keys:f,values:d,up:p,down:v,between:g,only:function(e){return f.indexOf(e)+1<f.length?g(e,f[f.indexOf(e)+1]):p(e)},not:function(e){var t=f.indexOf(e);return 0===t?p(f[1]):t===f.length-1?v(f[t]):g(e,f[f.indexOf(e)+1]).replace("@media","@media not all and")},unit:l},h)}},8809:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(7462),r=n(3366),o=n(7093),a=n(9572),s={borderRadius:4},l=n(5682);var u=n(104),c=n(7416),h=n(8759),d=["breakpoints","palette","spacing","shape"];var f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,f=e.palette,p=void 0===f?{}:f,v=e.spacing,g=e.shape,m=void 0===g?{}:g,y=(0,r.Z)(e,d),_=(0,a.Z)(n),b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=(0,l.hB)({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return(0===n.length?[1]:n).map((function(e){var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}(v),k=(0,o.Z)({breakpoints:_,direction:"ltr",components:{},palette:(0,i.Z)({mode:"light"},p),spacing:b,shape:(0,i.Z)({},s,m)},y);k.applyStyles=h.Z;for(var T=arguments.length,E=new Array(T>1?T-1:0),x=1;x<T;x++)E[x-1]=arguments[x];return(k=E.reduce((function(e,t){return(0,o.Z)(e,t)}),k)).unstable_sxConfig=(0,i.Z)({},c.Z,null==y?void 0:y.unstable_sxConfig),k.unstable_sx=function(e){return(0,u.Z)({sx:e,theme:this})},k}},4652:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},private_createBreakpoints:function(){return r.Z},unstable_applyStyles:function(){return o.Z}});var i=n(8809),r=n(9572),o=n(8759)},8247:function(e,t,n){"use strict";var i=n(7093);t.Z=function(e,t){return t?(0,i.Z)(e,t,{clone:!1}):e}},5682:function(e,t,n){"use strict";n.d(t,{hB:function(){return v},eI:function(){return p},NA:function(){return g},e6:function(){return _},o3:function(){return b}});var i=n(9439),r=n(1184),o=n(8529),a=n(8247);var s={m:"margin",p:"padding"},l={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},u={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},c=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!u[e])return[e];e=u[e]}var t=e.split(""),n=(0,i.Z)(t,2),r=n[0],o=n[1],a=s[r],c=l[o]||"";return Array.isArray(c)?c.map((function(e){return a+e})):[a+c]})),h=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],d=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],f=[].concat(h,d);function p(e,t,n,i){var r,a=null!=(r=(0,o.DW)(e,t,!1))?r:n;return"number"===typeof a?function(e){return"string"===typeof e?e:a*e}:Array.isArray(a)?function(e){return"string"===typeof e?e:a[e]}:"function"===typeof a?a:function(){}}function v(e){return p(e,"spacing",8)}function g(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}function m(e,t,n,i){if(-1===t.indexOf(n))return null;var o=function(e,t){return function(n){return e.reduce((function(e,i){return e[i]=g(t,n),e}),{})}}(c(n),i),a=e[n];return(0,r.k9)(e,a,o)}function y(e,t){var n=v(e.theme);return Object.keys(e).map((function(i){return m(e,t,i,n)})).reduce(a.Z,{})}function _(e){return y(e,h)}function b(e){return y(e,d)}function k(e){return y(e,f)}_.propTypes={},_.filterProps=h,b.propTypes={},b.filterProps=d,k.propTypes={},k.filterProps=f},8529:function(e,t,n){"use strict";n.d(t,{DW:function(){return a},Jq:function(){return s}});var i=n(4942),r=n(1122),o=n(1184);function a(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){var i="vars.".concat(t).split(".").reduce((function(e,t){return e&&e[t]?e[t]:null}),e);if(null!=i)return i}return t.split(".").reduce((function(e,t){return e&&null!=e[t]?e[t]:null}),e)}function s(e,t,n){var i,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return i="function"===typeof e?e(n):Array.isArray(e)?e[n]||r:a(e,n)||r,t&&(i=t(i,r,e)),i}t.ZP=function(e){var t=e.prop,n=e.cssProperty,l=void 0===n?e.prop:n,u=e.themeKey,c=e.transform,h=function(e){if(null==e[t])return null;var n=e[t],h=a(e.theme,u)||{};return(0,o.k9)(e,n,(function(e){var n=s(h,c,e);return e===n&&"string"===typeof e&&(n=s(h,c,"".concat(t).concat("default"===e?"":(0,r.Z)(e)),e)),!1===l?n:(0,i.Z)({},l,n)}))};return h.propTypes={},h.filterProps=[t],h}},7416:function(e,t,n){"use strict";n.d(t,{Z:function(){return N}});var i=n(5682),r=n(8529),o=n(8247);var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return t.filterProps.forEach((function(n){e[n]=t})),e}),{}),r=function(e){return Object.keys(e).reduce((function(t,n){return i[n]?(0,o.Z)(t,i[n](e)):t}),{})};return r.propTypes={},r.filterProps=t.reduce((function(e,t){return e.concat(t.filterProps)}),[]),r},s=n(1184);function l(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function u(e,t){return(0,r.ZP)({prop:e,themeKey:"borders",transform:t})}var c=u("border",l),h=u("borderTop",l),d=u("borderRight",l),f=u("borderBottom",l),p=u("borderLeft",l),v=u("borderColor"),g=u("borderTopColor"),m=u("borderRightColor"),y=u("borderBottomColor"),_=u("borderLeftColor"),b=u("outline",l),k=u("outlineColor"),T=function(e){if(void 0!==e.borderRadius&&null!==e.borderRadius){var t=(0,i.eI)(e.theme,"shape.borderRadius",4,"borderRadius");return(0,s.k9)(e,e.borderRadius,(function(e){return{borderRadius:(0,i.NA)(t,e)}}))}return null};T.propTypes={},T.filterProps=["borderRadius"];a(c,h,d,f,p,v,g,m,y,_,T,b,k);var E=function(e){if(void 0!==e.gap&&null!==e.gap){var t=(0,i.eI)(e.theme,"spacing",8,"gap");return(0,s.k9)(e,e.gap,(function(e){return{gap:(0,i.NA)(t,e)}}))}return null};E.propTypes={},E.filterProps=["gap"];var x=function(e){if(void 0!==e.columnGap&&null!==e.columnGap){var t=(0,i.eI)(e.theme,"spacing",8,"columnGap");return(0,s.k9)(e,e.columnGap,(function(e){return{columnGap:(0,i.NA)(t,e)}}))}return null};x.propTypes={},x.filterProps=["columnGap"];var w=function(e){if(void 0!==e.rowGap&&null!==e.rowGap){var t=(0,i.eI)(e.theme,"spacing",8,"rowGap");return(0,s.k9)(e,e.rowGap,(function(e){return{rowGap:(0,i.NA)(t,e)}}))}return null};w.propTypes={},w.filterProps=["rowGap"];a(E,x,w,(0,r.ZP)({prop:"gridColumn"}),(0,r.ZP)({prop:"gridRow"}),(0,r.ZP)({prop:"gridAutoFlow"}),(0,r.ZP)({prop:"gridAutoColumns"}),(0,r.ZP)({prop:"gridAutoRows"}),(0,r.ZP)({prop:"gridTemplateColumns"}),(0,r.ZP)({prop:"gridTemplateRows"}),(0,r.ZP)({prop:"gridTemplateAreas"}),(0,r.ZP)({prop:"gridArea"}));function S(e,t){return"grey"===t?t:e}a((0,r.ZP)({prop:"color",themeKey:"palette",transform:S}),(0,r.ZP)({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:S}),(0,r.ZP)({prop:"backgroundColor",themeKey:"palette",transform:S}));function C(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}var I=(0,r.ZP)({prop:"width",transform:C}),R=function(e){if(void 0!==e.maxWidth&&null!==e.maxWidth){return(0,s.k9)(e,e.maxWidth,(function(t){var n,i,r=(null==(n=e.theme)||null==(n=n.breakpoints)||null==(n=n.values)?void 0:n[t])||s.VO[t];return r?"px"!==(null==(i=e.theme)||null==(i=i.breakpoints)?void 0:i.unit)?{maxWidth:"".concat(r).concat(e.theme.breakpoints.unit)}:{maxWidth:r}:{maxWidth:C(t)}}))}return null};R.filterProps=["maxWidth"];var O=(0,r.ZP)({prop:"minWidth",transform:C}),A=(0,r.ZP)({prop:"height",transform:C}),M=(0,r.ZP)({prop:"maxHeight",transform:C}),L=(0,r.ZP)({prop:"minHeight",transform:C}),N=((0,r.ZP)({prop:"size",cssProperty:"width",transform:C}),(0,r.ZP)({prop:"size",cssProperty:"height",transform:C}),a(I,R,O,A,M,L,(0,r.ZP)({prop:"boxSizing"})),{border:{themeKey:"borders",transform:l},borderTop:{themeKey:"borders",transform:l},borderRight:{themeKey:"borders",transform:l},borderBottom:{themeKey:"borders",transform:l},borderLeft:{themeKey:"borders",transform:l},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:l},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:T},color:{themeKey:"palette",transform:S},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:S},backgroundColor:{themeKey:"palette",transform:S},p:{style:i.o3},pt:{style:i.o3},pr:{style:i.o3},pb:{style:i.o3},pl:{style:i.o3},px:{style:i.o3},py:{style:i.o3},padding:{style:i.o3},paddingTop:{style:i.o3},paddingRight:{style:i.o3},paddingBottom:{style:i.o3},paddingLeft:{style:i.o3},paddingX:{style:i.o3},paddingY:{style:i.o3},paddingInline:{style:i.o3},paddingInlineStart:{style:i.o3},paddingInlineEnd:{style:i.o3},paddingBlock:{style:i.o3},paddingBlockStart:{style:i.o3},paddingBlockEnd:{style:i.o3},m:{style:i.e6},mt:{style:i.e6},mr:{style:i.e6},mb:{style:i.e6},ml:{style:i.e6},mx:{style:i.e6},my:{style:i.e6},margin:{style:i.e6},marginTop:{style:i.e6},marginRight:{style:i.e6},marginBottom:{style:i.e6},marginLeft:{style:i.e6},marginX:{style:i.e6},marginY:{style:i.e6},marginInline:{style:i.e6},marginInlineStart:{style:i.e6},marginInlineEnd:{style:i.e6},marginBlock:{style:i.e6},marginBlockStart:{style:i.e6},marginBlockEnd:{style:i.e6},displayPrint:{cssProperty:!1,transform:function(e){return{"@media print":{display:e}}}},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:E},rowGap:{style:w},columnGap:{style:x},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:C},maxWidth:{style:R},minWidth:{transform:C},height:{transform:C},maxHeight:{transform:C},minHeight:{transform:C},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}})},8519:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var i=n(3433),r=n(7462),o=n(3366),a=n(7093),s=n(7416),l=["sx"],u=function(e){var t,n,i={systemProps:{},otherProps:{}},r=null!=(t=null==e||null==(n=e.theme)?void 0:n.unstable_sxConfig)?t:s.Z;return Object.keys(e).forEach((function(t){r[t]?i.systemProps[t]=e[t]:i.otherProps[t]=e[t]})),i};function c(e){var t,n=e.sx,s=(0,o.Z)(e,l),c=u(s),h=c.systemProps,d=c.otherProps;return t=Array.isArray(n)?[h].concat((0,i.Z)(n)):"function"===typeof n?function(){var e=n.apply(void 0,arguments);return(0,a.P)(e)?(0,r.Z)({},h,e):h}:(0,r.Z)({},h,n),(0,r.Z)({},d,{sx:t})}},7150:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},extendSxProp:function(){return r.Z},unstable_createStyleFunctionSx:function(){return i.n},unstable_defaultSxConfig:function(){return o.Z}});var i=n(104),r=n(8519),o=n(7416)},104:function(e,t,n){"use strict";n.d(t,{n:function(){return u}});var i=n(4942),r=n(1122),o=n(8247),a=n(8529),s=n(1184),l=n(7416);function u(){function e(e,t,n,o){var l,u=(l={},(0,i.Z)(l,e,t),(0,i.Z)(l,"theme",n),l),c=o[e];if(!c)return(0,i.Z)({},e,t);var h=c.cssProperty,d=void 0===h?e:h,f=c.themeKey,p=c.transform,v=c.style;if(null==t)return null;if("typography"===f&&"inherit"===t)return(0,i.Z)({},e,t);var g=(0,a.DW)(n,f)||{};if(v)return v(u);return(0,s.k9)(u,t,(function(t){var n=(0,a.Jq)(g,p,t);return t===n&&"string"===typeof t&&(n=(0,a.Jq)(g,p,"".concat(e).concat("default"===t?"":(0,r.Z)(t)),t)),!1===d?n:(0,i.Z)({},d,n)}))}return function t(n){var r,a=n||{},u=a.sx,c=a.theme,h=void 0===c?{}:c;if(!u)return null;var d=null!=(r=h.unstable_sxConfig)?r:l.Z;function f(n){var r=n;if("function"===typeof n)r=n(h);else if("object"!==typeof n)return n;if(!r)return null;var a=(0,s.W8)(h.breakpoints),l=Object.keys(a),u=a;return Object.keys(r).forEach((function(n){var a,l,c=(a=r[n],l=h,"function"===typeof a?a(l):a);if(null!==c&&void 0!==c)if("object"===typeof c)if(d[n])u=(0,o.Z)(u,e(n,c,h,d));else{var f=(0,s.k9)({theme:h},c,(function(e){return(0,i.Z)({},n,e)}));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=t.reduce((function(e,t){return e.concat(Object.keys(t))}),[]),r=new Set(i);return t.every((function(e){return r.size===Object.keys(e).length}))}(f,c)?u=(0,o.Z)(u,f):u[n]=t({sx:c,theme:h})}else u=(0,o.Z)(u,e(n,c,h,d))})),(0,s.L7)(l,u)}return Array.isArray(u)?u.map(f):f(u)}}var c=u();c.filterProps=["sx"],t.Z=c},5902:function(e,t){"use strict";var n=function(e){return e},i=function(){var e=n;return{configure:function(t){e=t},generate:function(t){return e(t)},reset:function(){e=n}}}();t.Z=i},1122:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(6187);function r(e){if("string"!==typeof e)throw new Error((0,i.Z)(7));return e.charAt(0).toUpperCase()+e.slice(1)}},4884:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z}});var i=n(1122)},9884:function(e,t){"use strict";t.Z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))}},2789:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z}});var i=n(9884)},4419:function(e,t,n){"use strict";function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i={};return Object.keys(e).forEach((function(r){i[r]=e[r].reduce((function(e,i){if(i){var r=t(i);""!==r&&e.push(r),n&&n[i]&&e.push(n[i])}return e}),[]).join(" ")})),i}n.d(t,{Z:function(){return i}})},7874:function(e,t,n){"use strict";function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce((function(e,t){return null==t?e:function(){for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];e.apply(this,i),t.apply(this,i)}}),(function(){}))}n.d(t,{Z:function(){return i}})},2254:function(e,t,n){"use strict";function i(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function i(){for(var i=this,r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];clearTimeout(t),t=setTimeout((function(){e.apply(i,o)}),n)}return i.clear=function(){clearTimeout(t)},i}n.d(t,{Z:function(){return i}})},7093:function(e,t,n){"use strict";n.d(t,{P:function(){return r},Z:function(){return a}});var i=n(7462);function r(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function o(e){if(!r(e))return e;var t={};return Object.keys(e).forEach((function(n){t[n]=o(e[n])})),t}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},s=n.clone?(0,i.Z)({},e):e;return r(e)&&r(t)&&Object.keys(t).forEach((function(i){r(t[i])&&Object.prototype.hasOwnProperty.call(e,i)&&r(e[i])?s[i]=a(e[i],t[i],n):n.clone?s[i]=r(t[i])?o(t[i]):t[i]:s[i]=t[i]})),s}},1037:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z},isPlainObject:function(){return i.P}});var i=n(7093)},6187:function(e,t,n){"use strict";function i(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+e+"; visit "+t+" for the full message."}n.d(t,{Z:function(){return i}})},6955:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return i.Z}});var i=n(6187)},1217:function(e,t,n){"use strict";n.d(t,{ZP:function(){return o}});var i=n(5902),r={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",o=r[t];return o?"".concat(n,"-").concat(o):"".concat(i.Z.generate(e),"-").concat(t)}},5878:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1217);function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui",r={};return t.forEach((function(t){r[t]=(0,i.ZP)(e,t,n)})),r}},1627:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l},getFunctionName:function(){return o}});var i=n(3325),r=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function o(e){var t="".concat(e).match(r);return t&&t[1]||""}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.displayName||e.name||o(e)||t}function s(e,t,n){var i=a(t);return e.displayName||(""!==i?"".concat(n,"(").concat(i,")"):n)}function l(e){if(null!=e){if("string"===typeof e)return e;if("function"===typeof e)return a(e,"Component");if("object"===typeof e)switch(e.$$typeof){case i.ForwardRef:return s(e,e.render,"ForwardRef");case i.Memo:return s(e,e.type,"memo");default:return}}}},4913:function(e,t,n){"use strict";function i(e){return e&&e.ownerDocument||document}n.d(t,{Z:function(){return i}})},5202:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(4913);function r(e){return(0,i.Z)(e).defaultView||window}},8748:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(7462);function r(e,t){var n=(0,i.Z)({},t);return Object.keys(e).forEach((function(o){if(o.toString().match(/^(components|slots)$/))n[o]=(0,i.Z)({},e[o],n[o]);else if(o.toString().match(/^(componentsProps|slotProps)$/)){var a=e[o]||{},s=t[o];n[o]={},s&&Object.keys(s)?a&&Object.keys(a)?(n[o]=(0,i.Z)({},s),Object.keys(a).forEach((function(e){n[o][e]=r(a[e],s[e])}))):n[o]=s:n[o]=a}else void 0===n[o]&&(n[o]=e[o])})),n}},6670:function(e,t,n){"use strict";function i(e,t){"function"===typeof e?e(t):e&&(e.current=t)}n.d(t,{Z:function(){return i}})},8637:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(9439),r=n(2791);function o(e){var t=e.controlled,n=e.default,o=(e.name,e.state,r.useRef(void 0!==t).current),a=r.useState(n),s=(0,i.Z)(a,2),l=s[0],u=s[1];return[o?t:l,r.useCallback((function(e){o||u(e)}),[])]}},2876:function(e,t,n){"use strict";var i=n(2791),r="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;t.Z=r},7054:function(e,t,n){"use strict";var i=n(2791),r=n(2876);t.Z=function(e){var t=i.useRef(e);return(0,r.Z)((function(){t.current=e})),i.useRef((function(){return t.current.apply(void 0,arguments)})).current}},6117:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(2791),r=n(6670);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((function(){return t.every((function(e){return null==e}))?null:function(e){t.forEach((function(t){(0,r.Z)(t,e)}))}}),t)}},8252:function(e,t,n){"use strict";var i;n.d(t,{Z:function(){return l}});var r=n(9439),o=n(2791),a=0;var s=(i||(i=n.t(o,2)))["useId".toString()];function l(e){if(void 0!==s){var t=s();return null!=e?e:t}return function(e){var t=o.useState(e),n=(0,r.Z)(t,2),i=n[0],s=n[1],l=e||i;return o.useEffect((function(){null==i&&s("mui-".concat(a+=1))}),[i]),l}(e)}},7055:function(e,t,n){"use strict";n.d(t,{Z:function(){return f}});var i=n(2791),r=n(7082),o=!0,a=!1,s=new r.V,l={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function u(e){e.metaKey||e.altKey||e.ctrlKey||(o=!0)}function c(){o=!1}function h(){"hidden"===this.visibilityState&&a&&(o=!0)}function d(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return o||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!l[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function f(){var e=i.useCallback((function(e){var t;null!=e&&((t=e.ownerDocument).addEventListener("keydown",u,!0),t.addEventListener("mousedown",c,!0),t.addEventListener("pointerdown",c,!0),t.addEventListener("touchstart",c,!0),t.addEventListener("visibilitychange",h,!0))}),[]),t=i.useRef(!1);return{isFocusVisibleRef:t,onFocus:function(e){return!!d(e)&&(t.current=!0,!0)},onBlur:function(){return!!t.current&&(a=!0,s.start(100,(function(){a=!1})),t.current=!1,!0)},ref:e}}},7082:function(e,t,n){"use strict";n.d(t,{V:function(){return l},Z:function(){return u}});var i=n(5671),r=n(3144),o=n(2791),a={};var s=[];var l=function(){function e(){var t=this;(0,i.Z)(this,e),this.currentId=null,this.clear=function(){null!==t.currentId&&(clearTimeout(t.currentId),t.currentId=null)},this.disposeEffect=function(){return t.clear}}return(0,r.Z)(e,[{key:"start",value:function(e,t){var n=this;this.clear(),this.currentId=setTimeout((function(){n.currentId=null,t()}),e)}}],[{key:"create",value:function(){return new e}}]),e}();function u(){var e,t=function(e,t){var n=o.useRef(a);return n.current===a&&(n.current=e(t)),n}(l.create).current;return e=t.disposeEffect,o.useEffect(e,s),t}},794:function(e,t){"use strict";var n,i=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.server_context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function m(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case o:case s:case a:case d:case f:return e;default:switch(e=e&&e.$$typeof){case c:case u:case h:case v:case p:case l:return e;default:return t}}case r:return t}}}n=Symbol.for("react.module.reference"),t.ForwardRef=h,t.Memo=p},3325:function(e,t,n){"use strict";e.exports=n(794)},478:function(e,t,n){var i,r,o;r=[n(2363)],void 0===(o="function"===typeof(i=function(e){return e})?i.apply(t,r):i)||(e.exports=o)},2363:function(e,t,n){var i,r,o,a=n(6115).default,s=n(3496).default,l=n(1588).default,u=n(3808).default,c=n(1655).default,h=n(6389).default,d=n(6690).default,f=n(9728).default,p=n(7424).default,v=n(861).default,g=n(4704).default;r=[],i=function(){var e,t,i,r,o,m,y,_,b,k,T,E,x,w,S,C,I,R,O,A,M,L,N,$,P,D,B,F,U,j,Z,H,z,V,W,G,X,Y,K,q,J,Q,ee,te,ne,ie,re,oe,ae,se,le,ue,ce,he,de,fe,pe,ve,ge,me,ye,_e,be,ke,Te,Ee,xe,we,Se,Ce,Ie,Re,Oe,Ae,Me,Le,Ne,$e,Pe,De,Be,Fe,Ue,je,Ze,He,ze,Ve,We,Ge,Xe,Ye,Ke,qe,Je,Qe,et,tt,nt,it,rt,ot,at,st,lt,ut,ct,ht,dt,ft,pt,vt,gt,mt,yt,_t,bt,kt,Tt,Et,xt,wt,St,Ct,It,Rt,Ot,At,Mt,Lt,Nt,$t,Pt,Dt,Bt,Ft,Ut,jt,Zt,Ht,zt,Vt,Wt,Gt,Xt,Yt,Kt,qt,Jt,Qt,en,tn,nn,rn,on,an,sn,ln,un,cn,hn,dn,fn,pn,vn,gn,mn,yn,_n,bn,kn,Tn,En,xn,wn,Sn,Cn,In,Rn,On,An,Mn,Ln,Nn,$n,Pn,Dn,Bn,Fn,Un,jn,Zn,Hn,zn,Vn,Wn,Gn,Xn,Yn,Kn,qn,Jn,Qn,ei,ti,ni,ii,ri,oi,ai,si,li,ui,ci,hi,di,fi,pi,vi,gi,mi,yi,_i,bi,ki,Ti,Ei,xi,wi,Si,Ci,Ii,Ri,Oi,Ai,Mi,Li,Ni,$i,Pi,Di,Bi,Fi,Ui,ji,Zi,Hi,zi,Vi,Wi,Gi,Xi,Yi,Ki,qi,Ji,Qi,er,tr,nr,ir,rr,or,ar,sr,lr,ur,cr,hr,dr,fr,pr,vr,gr,mr,yr,_r,br,kr,Tr,Er,xr,wr,Sr,Cr,Ir,Rr,Or,Ar,Mr,Lr,Nr,$r,Pr,Dr,Br,Fr,Ur,jr,Zr,Hr,zr,Vr,Wr,Gr,Xr,Yr,Kr,qr,Jr,Qr,eo,to,no,io,ro,oo,ao,so,lo,uo,co,ho,fo,po,vo,go,mo,yo,_o,bo,ko,To,Eo,xo,wo,So,Co,Io,Ro,Oo,Ao,Mo,Lo,No,$o,Po,Do,Bo,Fo,Uo,jo,Zo,Ho,zo,Vo,Wo,Go,Xo,Yo,Ko,qo,Jo,Qo,ea,ta,na,ia,ra,oa,aa,sa,la,ua,ca,ha,da,fa,pa,va,ga,ma,ya,_a,ba,ka,Ta,Ea,xa,wa,Sa,Ca,Ia,Ra,Oa,Aa,Ma,La,Na,$a,Pa,Da,Ba,Fa,Ua,ja,Za,Ha,za,Va,Wa={};e=function(e,n,i,r){if(!(e instanceof qa)&&"string"!==typeof e||""==="".concat(e).trim())throw Error('Invalid type "'+e+'". The type must be a non-empty string or a Blockly.registry.Type.');if(e="".concat(e).toLowerCase(),"string"!==typeof n||""===n.trim())throw Error('Invalid name "'+n+'". The name must be a non-empty string.');var o=n.toLowerCase();if(!i)throw Error("Can not register a null value");var a=Ga[e],s=Ya[e];if(a||(a=Ga[e]=Object.create(null),s=Ya[e]=Object.create(null)),t(e,i),!r&&a[o])throw Error('Name "'+o+'" with type "'+e+'" already registered.');a[o]=i,s[o]=n},t=function(e,t){if(e===String(qa.FIELD)&&"function"!==typeof t.fromJson)throw Error('Type "'+e+'" must have a fromJson function')},i=function(e,t){e="".concat(e).toLowerCase(),t=t.toLowerCase();var n=Ga[e];n&&n[t]?(delete Ga[e][t],delete Ya[e][t]):console.warn("Unable to unregister ["+t+"]["+e+"] from the registry.")},r=function(e,t,n){e="".concat(e).toLowerCase(),t=t.toLowerCase();var i=Ga[e];if(!i||!i[t]){if(t="Unable to find ["+t+"]["+e+"] in the registry.",n)throw Error(t+" You must require or register a "+e+" plugin.");return console.warn(t),null}return i[t]},o=function(e,t){return e="".concat(e).toLowerCase(),t=t.toLowerCase(),!!(e=Ga[e])&&!!e[t]},m=function(e,t,n){return r(e,t,n)},y=function(e,t,n){return r(e,t,n)},_=function(e,t,n){e="".concat(e).toLowerCase();var i=Ga[e];if(!i){if(i="Unable to find [".concat(e,"] in the registry."),n)throw Error("".concat(i," You must require or register a ").concat(e," plugin."));return console.warn(i),null}if(!t)return i;e=Ya[e],n=Object.create(null);for(var r=0,o=Object.keys(i);r<o.length;r++){var a=o[r];n[e[a]]=i[a]}return n},b=function(e,t,n){return"function"===typeof(t=t.plugins[String(e)]||Ka)?t:m(e,t,n)},k=function(e){return ns[e]||null},T=function(){var e=[];for(var t in ns)e.push(ns[t]);return e},E=function(e){ns[e.id]=e},x=function(e){delete ns[e.id]},w=function(){return Qa},S=function(e){Qa=e},C=function(){return is},I=function(e){is=e},R=function(){return es},O=function(e){es=e},A=function(e){for(;e.options.parentWorkspace;)e=e.options.parentWorkspace;var t=e.getParentSvg(),n=e.getCachedParentSvgSize(),i=t.parentElement;if(i instanceof HTMLElement){var r=i.offsetWidth;i=i.offsetHeight,n.width!==r&&(t.setAttribute("width",r+"px"),e.setCachedParentSvgSize(r,null)),n.height!==i&&(t.setAttribute("height",i+"px"),e.setCachedParentSvgSize(null,i)),e.resize()}},M=function(e,t){var n=Object.create(null),i=e.getDescendants(!0);t&&(e=e.getNextBlock())&&(e=i.indexOf(e),i.splice(e,i.length-e));for(var r,o=0;r=i[o];o++)n[r.type]?n[r.type]++:n[r.type]=1;return n},L=function(e){return function(){this.jsonInit(e)}},N=function(e){os.defineBlocksWithJsonArrayInternal(e)},$=function(e){Wa.defineBlocks$$module$build$src$core$common(Wa.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(e))},Wa.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(e){for(var t={},n=0;n<e.length;n++){var i=e[n];if(i){var r=i.type;r?t[r]={init:L(i)}:console.warn("Block definition #".concat(n," in JSON array is missing a type attribute. ")+"Skipping.")}else console.warn("Block definition #".concat(n," in JSON array is ").concat(i,". Skipping"))}return t},Wa.defineBlocks$$module$build$src$core$common=function(e){for(var t=0,n=Object.keys(e);t<n.length;t++){var i=n[t],r=e[i];i in ts&&console.warn('Block definiton "'.concat(i,'" overwrites previous definition.')),ts[i]=r}},P=function(){return"blockly-"+($s++).toString(36)},D=function(){return Ns.genUid()},B=function(e){ls=e},F=function(){return ls},U=function(e){As.fireInternal(e)},j=function(e){if(V()){if(!Os.length)try{requestAnimationFrame((function(){setTimeout(Z,0)}))}catch(t){setTimeout(Z,0)}Os.push(e)}},Z=function(){var e=H(Os,!0);Os.length=0;for(var t,n=0;t=e[n];n++)if(t.workspaceId){var i=k(t.workspaceId);i&&i.fireChangeListener(t)}e=new Set(e.map((function(e){return e.workspaceId})));var r,o=g(e);try{for(o.s();!(r=o.n()).done;){var a,s=r.value;if(s&&(e=k(s))){e=e.getUndoStack();var l=void 0;for(i=e.length;0<i;i--){var u=e[i-1];if(""===u.group)break;if(void 0===l)l=u.group;else if(u.group!==l)break}l&&i!=e.length-1&&(i=e.splice(i,e.length-i),i=H(i,!0),(a=e).push.apply(a,v(i)))}}}catch(c){o.e(c)}finally{o.f()}},H=function(e,t){e=e.slice(),t||e.reverse();for(var n,i=[],r=Object.create(null),o=0;n=e[o];o++)if(!n.isNull()){var a=[n.isUiEvent?ps:n.type,n.blockId,n.workspaceId].join(" "),s=r[a],l=s?s.event:null;s?n.type===Wa.MOVE$$module$build$src$core$events$utils&&s.index===o-1?(a=n,l.newParentId=a.newParentId,l.newInputName=a.newInputName,l.newCoordinate=a.newCoordinate,a.reason&&(l.reason?(a=new Set(a.reason.concat(l.reason)),l.reason=Array.from(a)):l.reason=a.reason),s.index=o):n.type===Wa.CHANGE$$module$build$src$core$events$utils&&n.element===l.element&&n.name===l.name?l.newValue=n.newValue:n.type===Es?(s=n,l.viewTop=s.viewTop,l.viewLeft=s.viewLeft,l.scale=s.scale,l.oldScale=s.oldScale):n.type===ms&&l.type===_s||(r[a]={event:n,index:o},i.push(n)):(r[a]={event:n,index:o},i.push(n))}e=i.filter((function(e){return!e.isNull()})),t||e.reverse();for(var u,c=1;u=e[c];c++)u.type===Wa.CHANGE$$module$build$src$core$events$utils&&"mutation"===u.element&&e.unshift(e.splice(c,1)[0]);return e},z=function(){for(var e,t=0;e=Os[t];t++)e.recordUndo=!1},Wa.disable$$module$build$src$core$events$utils=function(){us++},Wa.enable$$module$build$src$core$events$utils=function(){us--},V=function(){return 0===us},Wa.getGroup$$module$build$src$core$events$utils=function(){return ss},Wa.setGroup$$module$build$src$core$events$utils=function(e){As.setGroupInternal(e)},W=function(e){ss="boolean"===typeof e?e?D():"":e},G=function(e){var t=[];e=e.getDescendants(!1);for(var n,i=0;n=e[i];i++)t[i]=n.id;return t},X=function(e,t){var n=Y(e.type);if(!n)throw Error("Unknown event type.");return n.fromJson(e,t)},Y=function(e){var t=m(qa.EVENT,e);if(!t)throw Error("Event type ".concat(e," not found in registry."));return t},K=function(e){if((e.type===Wa.MOVE$$module$build$src$core$events$utils||e.type===Wa.CREATE$$module$build$src$core$events$utils)&&e.workspaceId){var t=k(e.workspaceId);if(!e.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(e=t.getBlockById(e.blockId)){var n=ls;try{ls=!1;var i=e.getParent();if(i&&i.isEnabled())for(var r,o=e.getDescendants(!1),a=0;r=o[a];a++)r.setEnabled(!0);else if((e.outputConnection||e.previousConnection)&&!t.isDragging())do{e.setEnabled(!1),e=e.getNextBlock()}while(e)}finally{ls=n}}}},q=function(e,t){J(),il=setTimeout((function(){t&&t.handleRightClick(e)}),Qs)},J=function(){il&&(clearTimeout(il),il=0)},Q=function(){tl=null},ee=function(e){return!e.type.startsWith("pointer")||e instanceof PointerEvent&&ne(e)},te=function(e){return"".concat(e.pointerId)},ne=function(e){var t=te(e);return tl?tl===t:"pointerdown"===e.type&&(tl=t,!0)},ie=function(e,t,n,i,r){function o(e){(r||ee(e))&&(n?i.call(n,e):i(e))}var a=[];if(t in nl)for(var s=0;s<nl[t].length;s++){var l=nl[t][s];e.addEventListener(l,o,!1),a.push([e,l,o])}else e.addEventListener(t,o,!1),a.push([e,t,o]);return a},re=function(e,t,n,i){function r(e){n?i.call(n,e):i(e)}var o=[];if(t in nl)for(var a=0;a<nl[t].length;a++){var s=nl[t][a];e.addEventListener(s,r,!1),o.push([e,s,r])}else e.addEventListener(t,r,!1),o.push([e,t,r]);return o},oe=function(e){for(var t=e[e.length-1][2];e.length;){var n=e.pop(),i=p(n,3),r=i[0],o=i[1],a=i[2];r.removeEventListener(o,a,!1)}return t},ae=function(e){if(e.target instanceof HTMLElement){if(e.target.isContentEditable||"true"===e.target.getAttribute("data-is-text-input"))return!0;if(e.target instanceof HTMLInputElement)return"text"===(e=e.target).type||"number"===e.type||"email"===e.type||"password"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type;if(e.target instanceof HTMLTextAreaElement)return!0}return!1},se=function(e){return!(!e.ctrlKey||!cl)||2===e.button},le=function(e,t,n){var i=t.createSVGPoint();return i.x=e.clientX,i.y=e.clientY,n||(n=t.getScreenCTM().inverse()),i.matrixTransform(n)},ue=function(e){switch(e.deltaMode){default:return{x:e.deltaX,y:e.deltaY};case 1:return{x:e.deltaX*fl,y:e.deltaY*fl};case 2:return{x:e.deltaX*pl,y:e.deltaY*pl}}},ce=function(e,t){return-1!==(t=e.indexOf(t))&&(e.splice(t,1),!0)},he=function(e){if(_l)throw Error("CSS already injected");bl+="\n"+e},de=function(e,t){_l||(_l=!0,e&&(e=t.replace(/[\\/]$/,""),t=bl.replace(/<<<PATH>>>/g,e),bl="",(e=document.createElement("style")).id="blockly-common-style",t=document.createTextNode(t),e.appendChild(t),document.head.insertBefore(e,document.head.firstChild)))},fe=function(e,t,n,i){e=e+" was deprecated in "+t+" and will be deleted in "+n+".",i&&(e+="\nUse "+i+" instead."),El.has(e)||(El.add(e),console.warn(e))},pe=function(e,t,n){for(var i in e=document.createElementNS(Sl,"".concat(e)),t)e.setAttribute(i,"".concat(t[i]));return n&&n.appendChild(e),e},ve=function(e,t){var n;return!(t=t.split(" ")).every((function(t){return e.classList.contains(t)}))&&((n=e.classList).add.apply(n,v(t)),!0)},ge=function(e,t){var n;(n=e.classList).remove.apply(n,v(t.split(" ")))},me=function(e,t){var n;return!(t=t.split(" ")).every((function(t){return!e.classList.contains(t)}))&&((n=e.classList).remove.apply(n,v(t)),!0)},ye=function(e,t){return e.classList.contains(t)},_e=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null},be=function(e,t){var n=t.nextSibling;if(!(t=t.parentNode))throw Error("Reference node has no parent.");n?t.insertBefore(e,n):t.appendChild(e)},ke=function(e,t){return fe("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method'),e.contains(t)},Te=function(e,t){e.style.transform=t,e.style["-webkit-transform"]=t},Ee=function(){Ol++,Rl||(Rl=Object.create(null))},xe=function(){--Ol||(Rl=null)},we=function(e){var t,n=e.textContent+"\n"+e.className.baseVal;if(Rl&&(t=Rl[n]))return t;try{t=e.getComputedTextLength()}catch(i){return 8*e.textContent.length}return Rl&&(Rl[n]=t),t},Se=function(e,t,n,i){return Ce(e,t+"pt",n,i)},Ce=function(e,t,n,i){var r,o=e.textContent;return e=o+"\n"+e.className.baseVal,Rl&&(r=Rl[e])||(Al||((r=document.createElement("canvas")).className="blocklyComputeCanvas",document.body.appendChild(r),Al=r.getContext("2d")),Al.font=n+" "+t+" "+i,r=o?Al.measureText(o).width:0,Rl&&(Rl[e]=r)),r},Ie=function(e,t,n,i){var r=document.createElement("span");r.style.font=n+" "+t+" "+i,r.textContent=e,(e=document.createElement("div")).style.width="1px",e.style.height="0",(t=document.createElement("div")).style.display="flex",t.style.position="fixed",t.style.top="0",t.style.left="0",t.appendChild(r),t.appendChild(e),document.body.appendChild(t),n={height:0,baseline:0};try{t.style.alignItems="baseline",n.baseline=e.offsetTop-r.offsetTop,t.style.alignItems="flex-end",n.height=e.offsetTop-r.offsetTop}finally{document.body.removeChild(t)}return n},Re=function(e){return Pl.getSizeInternal(e)},Oe=function(e){if("none"!==Me(e,"display"))return Ae(e);var t=e.style,n=t.display,i=t.visibility,r=t.position;t.visibility="hidden",t.position="absolute",t.display="inline";var o=e.offsetWidth;return e=e.offsetHeight,t.display=n,t.position=r,t.visibility=i,new $l(o,e)},Ae=function(e){return new $l(e.offsetWidth,e.offsetHeight)},Me=function(e,t){return(e=window.getComputedStyle(e))[t]||e.getPropertyValue(t)},Le=function(e){var t=new Tl(0,0);e=e.getBoundingClientRect();var n=document.documentElement;return n=new Tl(window.pageXOffset||n.scrollLeft,window.pageYOffset||n.scrollTop),t.x=e.left+n.x,t.y=e.top+n.y,t},Ne=function(){var e=document.body,t=document.documentElement;return new Tl(e.scrollLeft||t.scrollLeft,e.scrollTop||t.scrollTop)},$e=function(e){var t=parseFloat(Me(e,"borderLeftWidth")),n=parseFloat(Me(e,"borderRightWidth")),i=parseFloat(Me(e,"borderTopWidth"));return e=parseFloat(Me(e,"borderBottomWidth")),new Nl(i,e,t,n)},Pe=function(e,t,n){e=De(e,t,n),t.scrollLeft=e.x,t.scrollTop=e.y},De=function(e,t,n){var i=Le(e),r=Le(t),o=$e(t),a=i.x-r.x-o.left;return i=i.y-r.y-o.top,r=Ae(e),e=t.clientWidth-r.width,r=t.clientHeight-r.height,o=t.scrollLeft,t=t.scrollTop,n?(o+=a-e/2,t+=i-r/2):(o+=Math.min(a,Math.max(a-e,0)),t+=Math.min(i,Math.max(i-r,0))),new Tl(o,t)},Be=function(e){var t=new Tl(0,0),n=e.x&&e.getAttribute("x"),i=e.y&&e.getAttribute("y");return n&&(t.x=parseInt(n)),i&&(t.y=parseInt(i)),(n=(n=e.getAttribute("transform"))&&n.match(Bl))&&(t.x+=Number(n[1]),n[3]&&(t.y+=Number(n[3]))),(e=e.getAttribute("style"))&&-1<e.indexOf("translate")&&(e=e.match(Fl))&&(t.x+=Number(e[1]),e[3]&&(t.y+=Number(e[3]))),t},Fe=function(e){for(var t=0,n=0;e;){var i=Be(e);if(t+=i.x,n+=i.y,-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;e=e.parentNode}return new Tl(t,n)},Ue=function(){var e=Ne();return new Nl(e.y,document.documentElement.clientHeight+e.y,e.x,document.documentElement.clientWidth+e.x)},je=function(){var e=document.documentElement,t=window;return new Tl(t.pageXOffset||e.scrollLeft,t.pageYOffset||e.scrollTop)},Ze=function(e,t){var n=t.x;t=t.y;var i=e.getInjectionDiv().getBoundingClientRect();return n=new Tl(n-i.left,t-i.top),t=e.getOriginOffsetInPixels(),Tl.difference(n,t).scale(1/e.scale)},He=function(e,t){var n=t.scale(e.scale);t=n.x,n=n.y;var i=e.getInjectionDiv().getBoundingClientRect();return e=e.getOriginOffsetInPixels(),new Tl(t+i.left+e.x,n+i.top+e.y)},ze=function(e){var t=e.document;zl=void 0===t?zl:t;var n=e.DOMParser;Vl=void 0===n?Vl:n;var i=e.XMLSerializer;Wl=void 0===i?Wl:i,Zl=new Vl,Hl=new Wl},Wa.createElement$$module$build$src$core$utils$xml=function(e){return zl.createElementNS(Gl,e)},Wa.createTextNode$$module$build$src$core$utils$xml=function(e){return zl.createTextNode(e)},Wa.textToDom$$module$build$src$core$utils$xml=function(e){var t=Zl.parseFromString(e,"text/xml");if(t&&t.documentElement&&!t.getElementsByTagName("parsererror").length)return t.documentElement;if((t=Zl.parseFromString(e,"text/html"))&&t.body.firstChild&&"xml"===t.body.firstChild.nodeName.toLowerCase())return t.body.firstChild;throw Error("DOMParser was unable to parse: ".concat(e))},Ve=function(e){return We(Hl.serializeToString(e))},We=function(e){return e.replace(Xl,(function(e){return"&#".concat(e.charCodeAt(0),";")}))},Ge=function(e){return e?((e instanceof Element||"string"===typeof e)&&(e=nt(e),e=Qe(e)),Xe(e),e):null},Xe=function(e){var t=e.kind;if(e=e.contents,t&&t!==Jl&&t!==ql)throw Error("Invalid toolbox kind "+t+". Please supply either "+Jl+" or "+ql);if(!e)throw Error("Toolbox must have a contents attribute.")},Ye=function(e){return e?e.contents?e.contents:Array.isArray(e)&&0<e.length&&!e[0].nodeType?e:et(e):[]},Ke=function(e){return nu.hasCategoriesInternal(e)},qe=function(e){if(!e)return!1;var t=e.kind;return t?t===ql:!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},Je=function(e){return!(!e||!e.contents)&&!!e.contents.filter((function(e){return"CATEGORY"===e.kind.toUpperCase()})).length},Qe=function(e){var t={contents:et(e)};return e instanceof Node&&tt(e,t),t},et=function(e){var t=[],n=e.childNodes;n||(n=e);for(var i,r=0;i=n[r];r++)if(i.tagName){e={};var o=i.tagName.toUpperCase();e.kind=o,"BLOCK"===o?e.blockxml=i:i.childNodes&&0<i.childNodes.length&&(e.contents=et(i)),tt(i,e),t.push(e)}return t},tt=function(e,t){for(var n=0;n<e.attributes.length;n++){var i=e.attributes[n];-1<i.nodeName.indexOf("css-")?(t.cssconfig=t.cssconfig||{},t.cssconfig[i.nodeName.replace("css-","")]=i.value):t[i.nodeName]=i.value}},nt=function(e){var t=null;if(e)if("string"===typeof e){if("xml"!==(t=Wa.textToDom$$module$build$src$core$utils$xml(e)).nodeName.toLowerCase())throw TypeError("Toolbox should be an <xml> document.")}else e instanceof Element&&(t=e);return t},it=function(e,t,n,i,r,o){var a=o.scrollbar&&o.scrollbar.canScrollVertically();return e.horizontal===eu.LEFT?(n=r.absoluteMetrics.left+n,a&&o.RTL&&(n+=jl.scrollbarThickness)):(n=r.absoluteMetrics.left+r.viewMetrics.width-t.width-n,a&&!o.RTL&&(n-=jl.scrollbarThickness)),e.vertical===Ql.TOP?e=r.absoluteMetrics.top+i:(e=r.absoluteMetrics.top+r.viewMetrics.height-t.height-i,o.scrollbar&&o.scrollbar.canScrollHorizontally()&&(e-=jl.scrollbarThickness)),new Nl(e,e+t.height,n,n+t.width)},rt=function(e,t){return{horizontal:t.toolboxMetrics.position===Kl.LEFT||e.horizontalLayout&&!e.RTL?eu.RIGHT:eu.LEFT,vertical:t.toolboxMetrics.position===Kl.BOTTOM?Ql.TOP:Ql.BOTTOM}},ot=function(e,t,n,i){for(var r=e.left,o=e.right-e.left,a=e.bottom-e.top,s=0;s<i.length;s++){var l=i[s];e.intersects(l)&&(e=n===tu.UP?l.top-a-t:l.bottom+t,e=new Nl(e,e+a,r,r+o),s=-1)}return e},at=function(e,t){cu(e,t)},st=function(e){cu=e},lt=function(e,t){fu.confirmInternal(e,t)},ut=function(e,t){hu(e,t)},ct=function(e){hu=e},ht=function(e,t,n){du(e,t,n)},dt=function(e){du=e},ft=function(e){return void 0!==e.getVariableModel},pt=function(e){return void 0!==e.getProcedureDef},vt=function(e){return void 0!==e.getProcedureCall&&void 0!==e.renameProcedure},Wa.allUsedVarModels$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);for(var t=new Set,n=0;n<e.length;n++){var i=e[n].getVarModels();if(i)for(var r=0;r<i.length;r++){var o=i[r];o.getId()&&t.add(o)}}return Array.from(t.values())},Wa.allDeveloperVariables$$module$build$src$core$variables=function(e){e=e.getAllBlocks(!1);for(var t,n=new Set,i=0;t=e[i];i++){var r=t.getDeveloperVariables;if(r){r=r();for(var o=0;o<r.length;o++)n.add(r[o])}}return Array.from(n.values())},gt=function(e){var t=[],n=document.createElement("button");return n.setAttribute("text","%{BKY_NEW_VARIABLE}"),n.setAttribute("callbackKey","CREATE_VARIABLE"),e.registerButtonCallback("CREATE_VARIABLE",(function(e){kt(e.getTargetWorkspace())})),t.push(n),e=mt(e),t.concat(e)},mt=function(e){var t=[];if(0<(e=e.getVariablesOfType("")).length){var n=e[e.length-1];if(ts.variables_set){var i=Wa.createElement$$module$build$src$core$utils$xml("block");i.setAttribute("type","variables_set"),i.setAttribute("gap",ts.math_change?"8":"24"),i.appendChild(It(n)),t.push(i)}if(ts.math_change&&((i=Wa.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","math_change"),i.setAttribute("gap",ts.variables_get?"20":"8"),i.appendChild(It(n)),n=Wa.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),i.appendChild(n),t.push(i)),ts.variables_get){e.sort(yu.compareByName);for(var r,o=0;r=e[o];o++)(n=Wa.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get"),n.setAttribute("gap","8"),n.appendChild(It(r)),t.push(n)}}return t},yt=function(e){return ku.generateUniqueNameInternal(e)},_t=function(e){return bt(bu.charAt(0),e.getAllVariableNames())},bt=function(e,t){if(!t.length)return e;for(var n=bu,i="",r=n.indexOf(e);;){for(var o=!1,a=0;a<t.length;a++)if(t[a].toLowerCase()===e){o=!0;break}if(!o)break;++r===n.length&&(r=0,i="".concat(Number(i)+1)),e=n.charAt(r)+i}return e},kt=function(e,t,n){function i(n){Tt(Wa.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,n,(function(n){if(n){var o=xt(n,e);if(o){if(o.type===r)var a=Wa.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",o.name);else a=(a=Wa.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE).replace("%1",o.name).replace("%2",o.type);at(a,(function(){i(n)}))}else e.createVariable(n,r),t&&t(n)}else t&&t(null)}))}var r=n||"";i("")},Wa.renameVariable$$module$build$src$core$variables=function(e,t,n){function i(r){var o=Wa.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",t.name);Tt(o,r,(function(r){if(r){var o=Et(r,t.type,e),a=wt(t.name,r,e);if(o||a){var s="";o?s=Wa.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",o.name).replace("%2",o.type):a&&(s=Wa.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",r).replace("%2",a)),at(s,(function(){i(r)}))}else e.renameVariableById(t.getId(),r),n&&n(r)}else n&&n(null)}))}i("")},Tt=function(e,t,n){ht(e,t,(function(e){e&&((e=e.replace(/[\s\xa0]+/g," ").trim())===Wa.Msg$$module$build$src$core$msg.RENAME_VARIABLE||e===Wa.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(e=null),n(e)}))},Et=function(e,t,n){n=n.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var i,r=0;i=n[r];r++)if(i.name.toLowerCase()===e&&i.type!==t)return i;return null},xt=function(e,t){t=t.getVariableMap().getAllVariables(),e=e.toLowerCase();for(var n,i=0;n=t[i];i++)if(n.name.toLowerCase()===e)return n;return null},wt=function(e,t,n){return n.getProcedureMap().getProcedures().length?St(e,t,n):Ct(e,t,n)},St=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),n=n.getProcedureMap().getProcedures();var i,r=g(n);try{for(r.s();!(i=r.n()).done;){var o=i.value,a=o.getParameters().filter(ft).map((function(e){return e.getVariableModel().name}));if(a&&(n=a.some((function(t){return t.toLowerCase()===e})),a=a.some((function(e){return e.toLowerCase()===t})),n&&a))return o.getName()}}catch(s){r.e(s)}finally{r.f()}return null},Ct=function(e,t,n){e=e.toLowerCase(),t=t.toLowerCase(),n=n.getAllBlocks(!1);var i,r=g(n);try{for(r.s();!(i=r.n()).done;){var o=i.value;if(pt(o)){var a=(n=o.getProcedureDef())[1],s=a.some((function(t){return t.toLowerCase()===e}));if(a=a.some((function(e){return e.toLowerCase()===t})),s&&a)return n[0]}}}catch(l){r.e(l)}finally{r.f()}return null},It=function(e){var t=Wa.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name","VAR"),t.setAttribute("id",e.getId()),t.setAttribute("variabletype",e.type),e=Wa.createTextNode$$module$build$src$core$utils$xml(e.name),t.appendChild(e),t},Wa.getOrCreateVariablePackage$$module$build$src$core$variables=function(e,t,n,i){var r=Wa.getVariable$$module$build$src$core$variables(e,t,n,i);return r||(r=Rt(e,t,n,i)),r},Wa.getVariable$$module$build$src$core$variables=function(e,t,n,i){var r=e.getPotentialVariableMap(),o=null;if(t&&(!(o=e.getVariableById(t))&&r&&(o=r.getVariableById(t)),o))return o;if(n){if(void 0===i)throw Error("Tried to look up a variable by name without a type");!(o=e.getVariable(n,i))&&r&&(o=r.getVariable(n,i))}return o},Rt=function(e,t,n,i){var r=e.getPotentialVariableMap();return n||(n=yt(e.isFlyout?e.targetWorkspace:e)),r?r.createVariable(n,i,t):e.createVariable(n,i,t)},Ot=function(e,t){e=e.getAllVariables();var n=[];if(t.length!==e.length)for(var i=0;i<e.length;i++){var r=e[i];-1===t.indexOf(r)&&n.push(r)}return n},At=function(t,n){e(qa.PASTER,t,n)},Mt=function(e){i(qa.PASTER,e)},Lt=function(e){return Dt(e),Pt()?(Bt(),Promise.resolve()):(Lu||(Lu=new Promise((function(e){Nu=e,$u=window.requestAnimationFrame((function(){Bt(),e()}))}))),Lu)},Nt=function(){return Lu||Promise.resolve()},$t=function(e){e||window.cancelAnimationFrame($u),Bt(e),!e&&Nu&&Nu()},Pt=function(){return ol},Dt=function(e){Mu.add(e);var t=e.getParent();t?Dt(t):Au.add(e)},Bt=function(e){var t,n=e?new Set([e]):new Set(v(Au).map((function(e){return e.workspace}))),i=v(Au).filter(Ut).filter((function(e){return n.has(e.workspace)})),r=g(i);try{for(r.s();!(t=r.n()).done;){var o=t.value;jt(o)}}catch(p){r.e(p)}finally{r.f()}var a,s=g(n);try{for(s.s();!(a=s.n()).done;)a.value.resizeContents()}catch(p){s.e(p)}finally{s.f()}var l,u=g(i);try{for(u.s();!(l=u.n()).done;){var c=l.value;o=c.getRelativeToSurfaceXY(),c.updateComponentLocations(o)}}catch(p){u.e(p)}finally{u.f()}var h,d=g(i);try{for(d.s();!(h=d.n()).done;){var f=h.value;Ft(f)}}catch(p){d.e(p)}finally{d.f()}e||(Lu=null)},Ft=function(e){Au.delete(e),Mu.delete(e);var t,n=g(e.getChildren(!1));try{for(n.s();!(t=n.n()).done;){var i=t.value;Ft(i)}}catch(r){n.e(r)}finally{n.f()}},Ut=function(e){return!e.isDisposed()&&!e.getParent()},jt=function(e){if(Mu.has(e)){var t,n=g(e.getChildren(!1));try{for(n.s();!(t=n.n()).done;){var i=t.value;jt(i)}}catch(r){n.e(r)}finally{n.f()}e.renderEfficiently()}},Zt=function(e,t){var n=Wa.createElement$$module$build$src$core$utils$xml("xml"),i=Ht(Wa.allUsedVarModels$$module$build$src$core$variables(e));i.hasChildNodes()&&n.appendChild(i),i=e.getTopComments(!0);for(var r=0;r<i.length;r++)n.appendChild(i[r].toXmlWithXY(t));for(e=e.getTopBlocks(!0),i=0;i<e.length;i++)n.appendChild(zt(e[i],t));return n},Ht=function(e){for(var t=Wa.createElement$$module$build$src$core$utils$xml("variables"),n=0;n<e.length;n++){var i=e[n],r=Wa.createElement$$module$build$src$core$utils$xml("variable");r.appendChild(Wa.createTextNode$$module$build$src$core$utils$xml(i.name)),i.type&&r.setAttribute("type",i.type),r.id=i.getId(),t.appendChild(r)}return t},zt=function(e,t){if(e.isInsertionMarker()&&!(e=e.getChildren(!1)[0]))return new DocumentFragment;var n=0;if(e.workspace.RTL&&(n=e.workspace.getWidth()),t=Gt(e,t),fn(t)){var i=e.getRelativeToSurfaceXY();t.setAttribute("x",String(Math.round(e.workspace.RTL?n-i.x:i.x))),t.setAttribute("y",String(Math.round(i.y)))}return t},Vt=function(e){if(e.isSerializable()){var t=Wa.createElement$$module$build$src$core$utils$xml("field");return t.setAttribute("name",e.name||""),e.toXml(t)}return null},Wt=function(e,t){for(var n=0;n<e.inputList.length;n++)for(var i=e.inputList[n],r=0;r<i.fieldRow.length;r++){var o=Vt(i.fieldRow[r]);o&&t.appendChild(o)}},Gt=function(e,t){if(e.isInsertionMarker())return(t=e.getChildren(!1)[0])?Gt(t):new DocumentFragment;var n,i=Wa.createElement$$module$build$src$core$utils$xml(e.isShadow()?"shadow":"block");if(i.setAttribute("type",e.type),t||(i.id=e.id),e.mutationToDom){var r=e.mutationToDom();r&&(r.hasChildNodes()||r.hasAttributes())&&i.appendChild(r)}if(Wt(e,i),r=e.getCommentText()){var o=e.getIcon(su.COMMENT),a=o.getBubbleSize();o=o.bubbleIsVisible();var s=Wa.createElement$$module$build$src$core$utils$xml("comment");s.appendChild(Wa.createTextNode$$module$build$src$core$utils$xml(r)),s.setAttribute("pinned","".concat(o)),s.setAttribute("h",String(a.height)),s.setAttribute("w",String(a.width)),i.appendChild(s)}for(e.data&&((r=Wa.createElement$$module$build$src$core$utils$xml("data")).appendChild(Wa.createTextNode$$module$build$src$core$utils$xml(e.data)),i.appendChild(r)),r=0;r<e.inputList.length;r++){var l=void 0;if(o=!0,(a=e.inputList[r]).type!==Wa.inputTypes$$module$build$src$core$inputs$input_types.DUMMY&&a.type!==Wa.inputTypes$$module$build$src$core$inputs$input_types.END_ROW){s=a.connection.targetBlock(),a.type===Wa.inputTypes$$module$build$src$core$inputs$input_types.VALUE?l=Wa.createElement$$module$build$src$core$utils$xml("value"):a.type===Wa.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(l=Wa.createElement$$module$build$src$core$utils$xml("statement"));var u=a.connection.getShadowDom();!u||s&&s.isShadow()||l.appendChild(Xt(u,t)),s&&(s=Gt(s,t)).nodeType===wl.ELEMENT_NODE&&(l.appendChild(s),o=!1),l.setAttribute("name",a.name),o||i.appendChild(l)}}return void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&i.setAttribute("inline",String(e.inputsInline)),e.isCollapsed()&&i.setAttribute("collapsed","true"),e.isEnabled()||i.setAttribute("disabled","true"),e.isDeletable()||e.isShadow()||i.setAttribute("deletable","false"),e.isMovable()||e.isShadow()||i.setAttribute("movable","false"),e.isEditable()||i.setAttribute("editable","false"),(l=e.getNextBlock())&&(r=Gt(l,t)).nodeType===wl.ELEMENT_NODE&&((n=Wa.createElement$$module$build$src$core$utils$xml("next")).appendChild(r),i.appendChild(n)),!(e=e.nextConnection&&e.nextConnection.getShadowDom())||l&&l.isShadow()||n.appendChild(Xt(e,t)),i},Xt=function(e,t){for(var n,i=e=e.cloneNode(!0);i;)if(t&&"shadow"===i.nodeName&&i.removeAttribute("id"),i.firstChild)i=i.firstChild;else{for(;i&&!i.nextSibling;){n=i,i=i.parentNode;var r=void 0;n.nodeType===wl.TEXT_NODE&&""===n.data.trim()&&(null==(r=i)?void 0:r.firstChild)!==n&&_e(n)}i&&(n=i,i=i.nextSibling,n.nodeType===wl.TEXT_NODE&&""===n.data.trim()&&_e(n))}return e},Yt=function(e){return Ve(e).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Kt=function(e){e=Yt(e).split("<");for(var t="",n=1;n<e.length;n++){var i=e[n];"/"===i[0]&&(t=t.substring(2)),e[n]=t+"<"+i,"/"!==i[0]&&"/>"!==i.slice(-2)&&(t+="  ")}return(e=(e=e.join("\n")).replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>")).replace(/^\n/,"")},qt=function(e,t){return t.setResizesEnabled(!1),t.clear(),e=Wa.domToWorkspace$$module$build$src$core$xml(e,t),t.setResizesEnabled(!0),e},Wa.domToWorkspace$$module$build$src$core$xml=function(e,t){var n=0;t.RTL&&(n=t.getWidth());var i=[];Ee();var r=Wa.getGroup$$module$build$src$core$events$utils();r||Wa.setGroup$$module$build$src$core$events$utils(!0),t.setResizesEnabled&&t.setResizesEnabled(!1);var o=!0;try{for(var a,s=0;a=e.childNodes[s];s++){var l=a.nodeName.toLowerCase(),u=a;if("block"===l||"shadow"===l&&!F()){var c=Qt(u,t);i.push(c.id);var h=void 0,d=parseInt(null!=(h=u.getAttribute("x"))?h:"10",10),f=void 0,p=parseInt(null!=(f=u.getAttribute("y"))?f:"10",10);isNaN(d)||isNaN(p)||c.moveBy(t.RTL?n-d:d,p,["create"]),o=!1}else{if("shadow"===l)throw TypeError("Shadow block cannot be a top-level block.");if("comment"===l)t.rendered?Ou.fromXmlRendered(u,t,n):Eu.fromXml(u,t);else if("variables"===l){if(!o)throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");en(u,t),o=!1}}}}finally{Wa.setGroup$$module$build$src$core$events$utils(r),t.setResizesEnabled&&t.setResizesEnabled(!0),t.rendered&&$t(),xe()}return U(new(Y(Is))(t)),i},Jt=function(e,t){if(!t.getBlocksBoundingBox)return Wa.domToWorkspace$$module$build$src$core$xml(e,t);var n=t.getBlocksBoundingBox();if(e=Wa.domToWorkspace$$module$build$src$core$xml(e,t),n&&n.top!==n.bottom){var i=n.bottom;n=t.RTL?n.right:n.left;for(var r=1/0,o=-1/0,a=1/0,s=0;s<e.length;s++){var l=t.getBlockById(e[s]).getRelativeToSurfaceXY();l.y<a&&(a=l.y),l.x<r&&(r=l.x),l.x>o&&(o=l.x)}for(i=i-a+10,n=t.RTL?n-o:n-r,r=0;r<e.length;r++)t.getBlockById(e[r]).moveBy(n,i,["create"])}return e},Wa.domToBlock$$module$build$src$core$xml=function(e,t){return e=Qt(e,t),t.rendered&&$t(),e},Qt=function(e,t){Wa.disable$$module$build$src$core$events$utils();var n,i=t.getAllVariables();try{if(n=cn(e,t),t.rendered){var r=n,o=n.getDescendants(!1);r.setConnectionTracking(!1);for(var a=o.length-1;0<=a;a--)o[a].initSvg();for(var s=o.length-1;0<=s;s--)o[s].queueRender();setTimeout((function(){r.disposed||r.setConnectionTracking(!0)}),1),t.resizeContents()}else for(var l=n.getDescendants(!1),u=l.length-1;0<=u;u--)l[u].initModel()}finally{Wa.enable$$module$build$src$core$events$utils()}if(V()){for(e=Ot(t,i),t=0;t<e.length;t++)i=e[t],U(new(Y(hs))(i));U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(n))}return n},en=function(e,t){for(var n=0;n<e.children.length;n++){var i=e.children[n],r=i.getAttribute("type"),o=i.getAttribute("id");if(!(i=i.textContent))break;t.createVariable(i,r,o)}},tn=function(e){for(var t={mutation:[],comment:[],data:[],field:[],input:[],next:[]},n=0;n<e.children.length;n++){var i=e.children[n];if(i.nodeType!==wl.TEXT_NODE)switch(i.nodeName.toLowerCase()){case"mutation":t.mutation.push(i);break;case"comment":t.comment.push(i);break;case"data":t.data.push(i);break;case"title":case"field":t.field.push(i);break;case"value":case"statement":t.input.push(i);break;case"next":t.next.push(i);break;default:console.warn("Ignoring unknown tag: "+i.nodeName)}}return t},nn=function(e,t){for(var n=!1,i=0;i<e.length;i++){var r=e[i];t.domToMutation&&(t.domToMutation(r),t.initSvg&&(n=!0))}return n},rn=function(e,t){for(var n,i=function(){var i,o,a=(n=e[r]).textContent,s="true"===n.getAttribute("pinned"),l=parseInt(null!=(i=n.getAttribute("w"))?i:"50",10);n=parseInt(null!=(o=n.getAttribute("h"))?o:"50",10),t.setCommentText(a);var u=t.getIcon(su.COMMENT);isNaN(l)||isNaN(n)||u.setBubbleSize(new $l(l,n)),u.setBubbleVisible(s),setTimeout((function(){return u.setBubbleVisible(s)}),1)},r=0;r<e.length;r++)i()},on=function(e,t){for(var n=0;n<e.length;n++)t.data=e[n].textContent},an=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=i.getAttribute("name");r?hn(t,r,i):console.warn("Ignoring unnamed field in block ".concat(t.type))}},sn=function(e){for(var t=null,n=null,i=0;i<e.childNodes.length;i++){var r=e.childNodes[i];fn(r)&&("block"===r.nodeName.toLowerCase()?t=r:"shadow"===r.nodeName.toLowerCase()&&(n=r))}return{childBlockElement:t,childShadowElement:n}},ln=function(e,t,n,i){for(var r=0;r<e.length;r++){var o=e[r],a=o.getAttribute("name"),s=a?n.getInput(a):null;if(!s){console.warn("Ignoring non-existent input "+a+" in block "+i);break}if((o=sn(o)).childBlockElement){if(!s.connection)throw TypeError("Input connection does not exist.");cn(o.childBlockElement,t,s.connection,!1)}if(o.childShadowElement){var l=void 0;null==(l=s.connection)||l.setShadowDom(o.childShadowElement)}}},un=function(e,t,n){for(var i=0;i<e.length;i++){var r=sn(e[i]);if(r.childBlockElement){if(!n.nextConnection)throw TypeError("Next statement does not exist.");if(n.nextConnection.isConnected())throw TypeError("Next statement is already connected.");cn(r.childBlockElement,t,n.nextConnection,!0)}r.childShadowElement&&n.nextConnection&&n.nextConnection.setShadowDom(r.childShadowElement)}},cn=function(e,t,n,i){var r,o=e.getAttribute("type");if(!o)throw TypeError("Block type unspecified: "+e.outerHTML);var a=null!=(r=e.getAttribute("id"))?r:void 0;r=t.newBlock(o,a),a=tn(e);var s=nn(a.mutation,r);if(rn(a.comment,r),on(a.data,r),n)if(i){if(!r.previousConnection)throw TypeError("Next block does not have previous statement.");n.connect(r.previousConnection)}else if(r.outputConnection)n.connect(r.outputConnection);else{if(!r.previousConnection)throw TypeError("Child block does not have output or previous statement.");n.connect(r.previousConnection)}if(an(a.field,r),ln(a.input,t,r,o),un(a.next,t,r),s&&r.initSvg(),(t=e.getAttribute("inline"))&&r.setInputsInline("true"===t),(t=e.getAttribute("disabled"))&&r.setEnabled("true"!==t&&"disabled"!==t),(t=e.getAttribute("deletable"))&&r.setDeletable("true"===t),(t=e.getAttribute("movable"))&&r.setMovable("true"===t),(t=e.getAttribute("editable"))&&r.setEditable("true"===t),(t=e.getAttribute("collapsed"))&&r.setCollapsed("true"===t),"shadow"===e.nodeName.toLowerCase()){for(e=r.getChildren(!1),t=0;t<e.length;t++)if(!e[t].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");r.setShadow(!0)}return r},hn=function(e,t,n){var i=e.getField(t);i?i.fromXml(n):console.warn("Ignoring non-existent field "+t+" in block "+e.type)},dn=function(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if("next"===n.nodeName.toLowerCase()){e.removeChild(n);break}}},fn=function(e){return e.nodeType===wl.ELEMENT_NODE},pn=function(e){return void 0!==e.saveState&&void 0!==e.loadState},vn=function(t,n){e(qa.SERIALIZER,t,n)},gn=function(e){i(qa.SERIALIZER,e)},mn=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.addCoordinates,i=void 0!==n&&n,r=t.addInputBlocks,o=void 0===r||r,a=t.addNextBlocks,s=void 0===a||a,l=t.doFullSerialization,u=void 0===l||l,c=t.saveIds,h=void 0===c||c;if(e.isInsertionMarker())return null;var d={type:e.type,id:h?e.id:void 0};return i&&_n(e,d),yn(e,d),bn(e,d,u),kn(e,d,u),Tn(e,d,u),o&&En(e,d,u,h),s&&xn(e,d,u,h),d},yn=function(e,t){e.isCollapsed()&&(t.collapsed=!0),e.isEnabled()||(t.enabled=!1),e.isOwnDeletable()||(t.deletable=!1),e.isOwnMovable()||(t.movable=!1),e.isOwnEditable()||(t.editable=!1),void 0!==e.inputsInline&&e.inputsInline!==e.inputsInlineDefault&&(t.inline=e.inputsInline),e.data&&(t.data=e.data)},_n=function(e,t){var n=e.workspace;e=e.getRelativeToSurfaceXY(),t.x=Math.round(n.RTL?n.getWidth()-e.x:e.x),t.y=Math.round(e.y)},bn=function(e,t,n){e.saveExtraState?null!==(e=e.saveExtraState(n))&&(t.extraState=e):e.mutationToDom&&null!==(e=e.mutationToDom())&&(t.extraState=Yt(e).replace(' xmlns="https://developers.google.com/blockly/xml"',""))},kn=function(e,t,n){var i,r=Object.create(null),o=g(e.getIcons());try{for(o.s();!(i=o.n()).done;){var a=i.value;pn(a)&&(e=a.saveState(n))&&(r[a.getType().toString()]=e)}}catch(s){o.e(s)}finally{o.f()}Object.keys(r).length&&(t.icons=r)},Tn=function(e,t,n){for(var i=Object.create(null),r=0;r<e.inputList.length;r++)for(var o=e.inputList[r],a=0;a<o.fieldRow.length;a++){var s=o.fieldRow[a];s.isSerializable()&&(i[s.name]=s.saveState(n))}Object.keys(i).length&&(t.fields=i)},En=function(e,t,n,i){for(var r=Object.create(null),o=0;o<e.inputList.length;o++){var a=e.inputList[o];if(a.connection){var s=wn(a.connection,n,i);s&&(r[a.name]=s)}}Object.keys(r).length&&(t.inputs=r)},xn=function(e,t,n,i){e.nextConnection&&(e=wn(e.nextConnection,n,i))&&(t.next=e)},wn=function(e,t,n){var i=e.getShadowState(!0);if(e=e.targetBlock(),!i&&!e)return null;var r=Object.create(null);return i&&(r.shadow=i),e&&!e.isShadow()&&(r.block=mn(e,{doFullSerialization:t,saveIds:n})),r},Sn=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).recordUndo;return e=Cn(e,t,{recordUndo:void 0!==n&&n}),t.rendered&&$t(),e},Cn=function(e,t){var n,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=i.parentConnection,o=i.isShadow,a=void 0!==o&&o,s=i.recordUndo,l=void 0!==s&&s,u=F();B(l),(l=Wa.getGroup$$module$build$src$core$events$utils())||Wa.setGroup$$module$build$src$core$events$utils(!0),Wa.disable$$module$build$src$core$events$utils();try{n=In(e,t,{parentConnection:r,isShadow:a})}finally{Wa.enable$$module$build$src$core$events$utils()}if(V()&&U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(n)),Wa.setGroup$$module$build$src$core$events$utils(l),B(u),t.rendered){var c=n;setTimeout((function(){c.disposed||c.setConnectionTracking(!0)}),1)}return n},In=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n.parentConnection,r=n.isShadow,o=void 0!==r&&r;if(!e.type)throw new Fu(e);var a=t.newBlock(e.type,e.id);return a.setShadow(o),Rn(a,e),On(a,e),An(a,e),Mn(i,a,e),Ln(a,e),Nn(a,e),$n(a,e),Pn(a,e),Bn(a,t.rendered),a},Rn=function(e,t){var n=void 0===t.x?0:t.x;t=void 0===t.y?0:t.y;var i=e.workspace;n=i.RTL?i.getWidth()-n:n,e.moveBy(n,t)},On=function(e,t){t.collapsed&&e.setCollapsed(!0),!1===t.deletable&&e.setDeletable(!1),!1===t.movable&&e.setMovable(!1),!1===t.editable&&e.setEditable(!1),!1===t.enabled&&e.setEnabled(!1),void 0!==t.inline&&e.setInputsInline(t.inline),void 0!==t.data&&(e.data=t.data)},An=function(e,t){t.extraState&&(e.loadExtraState?e.loadExtraState(t.extraState):e.domToMutation&&e.domToMutation(Wa.textToDom$$module$build$src$core$utils$xml(t.extraState)))},Mn=function(e,t,n){if(e){if(e.getSourceBlock().isShadow()&&!t.isShadow())throw new Zu(n);if(e.type===Wa.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var i=t.outputConnection;if(!i)throw new Uu("output",t,n)}else if(!(i=t.previousConnection))throw new Uu("previous",t,n);if(!e.connect(i)){var r=t.workspace.connectionChecker;throw new ju(r.getErrorMessage(r.canConnectWithReason(i,e,!1),i,e),e.type===Wa.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",t,n)}}},Ln=function(e,t){if(t.icons)for(var n=Object.keys(t.icons),i=0,r=n;i<r.length;i++){var o=r[i];n=t.icons[o];var a=e.getIcon(o);if(!a){if(!(a=m(qa.ICON,o,!1)))throw new Hu(o,e,t);a=new a(e),e.addIcon(a)}pn(a)&&a.loadState(n)}},Nn=function(e,t){if(t.fields)for(var n=Object.keys(t.fields),i=0;i<n.length;i++){var r=n[i],o=t.fields[r],a=e.getField(r);a?a.loadState(o):console.warn("Ignoring non-existant field ".concat(r," in block ").concat(e.type))}},$n=function(e,t){if(t.inputs)for(var n=Object.keys(t.inputs),i=0;i<n.length;i++){var r=n[i],o=e.getInput(r);if(!o||!o.connection)throw new Uu(r,e,t);Dn(o.connection,t.inputs[r])}},Pn=function(e,t){if(t.next){if(!e.nextConnection)throw new Uu("next",e,t);Dn(e.nextConnection,t.next)}},Dn=function(e,t){t.shadow&&e.setShadowState(t.shadow),t.block&&In(t.block,e.getSourceBlock().workspace,{parentConnection:e})},Bn=function(e,t){if(t){e.setConnectionTracking(!1),e.initSvg(),e.queueRender();var n,i=g(e.getIcons());try{for(i.s();!(n=i.n()).done;)n.value.onLocationChange(e.getRelativeToSurfaceXY())}catch(r){i.e(r)}finally{i.f()}}else e.initModel()},Fn=function(e){for(var t=e.workspace,n=Wa.config$$module$build$src$core$config.snapRadius,i=e.getRelativeToSurfaceXY(),r=new Tl(0,0),o=t.getAllBlocks(!1).filter((function(t){return t.id!=e.id})).map((function(e){return e.getRelativeToSurfaceXY()}));Un(Tl.sum(i,r),o)||jn(e,r,n);)t.RTL?r.translate(-n,2*n):r.translate(n,2*n);e.moveTo(Tl.sum(i,r))},Un=function(e,t){return t.some((function(t){return 1>=Math.abs(t.x-e.x)&&1>=Math.abs(t.y-e.y)}))},jn=function(e,t,n){return e.getConnections_(!1).some((function(e){return!!e.closest(n,t).connection}))},Zn=function(e){return fe("Blockly.clipboard.copy","v11","v12","myCopyable.toCopyData()"),cc.copyInternal(e)},Hn=function(e){var t,n=e.toCopyData();return lc=n,uc=null!=(t=e.workspace)?t:null,n},zn=function(e,t,n){return e&&t?Vn(e,t,n):lc&&uc?Vn(lc,uc):null},Vn=function(e,t,n){var i,r,o;return t=null!=(i=t.getRootWorkspace())?i:t,null!=(o=null==(r=y(qa.PASTER,e.paster,!1))?void 0:r.paste(e,t,n))?o:null},Wn=function(e){return fe("Blockly.clipboard.duplicate","v11","v12","Blockly.clipboard.paste(myCopyable.toCopyData(), myWorkspace)"),cc.duplicateInternal(e)},Gn=function(e){var t=e.toCopyData();return t?zn(t,e.workspace):null},Xn=function(e,t){e.setAttribute(vc,t)},Yn=function(e,t,n){Array.isArray(n)&&(n=n.join(" ")),e.setAttribute(pc+t,"".concat(n))},Kn=function(){return mc},qn=function(e){var t;mc=e,null===e&&(null==(t=document.querySelector("."+Tc))||t.remove())},Jn=function(){document.querySelector("."+Tc)||((mc=document.createElement("div")).className=Tc,(R()||document.body).appendChild(mc))},Qn=function(e,t,n){ei(),bc=e,kc=n,(e=mc)&&(e.style.direction=t?"rtl":"ltr",e.style.display="block",t=w(),Ec=t.getRenderer().getClassName(),xc=t.getTheme().getClassName(),Ec&&ve(e,Ec),xc&&ve(e,xc))},ei=function(){if(ti()){bc=null;var e=mc;e&&(e.style.display="none",e.style.left="",e.style.top="",kc&&kc(),kc=null,e.textContent="",Ec&&(me(e,Ec),Ec=""),xc&&(me(e,xc),xc=""),w().markFocused())}},ti=function(){return!!bc},ni=function(e){bc===e&&ei()},ii=function(e,t,n){mc.style.left=e+"px",mc.style.top=t+"px",mc.style.height=n+"px"},ri=function(e,t,n,i){var r=ai(e,t,n);e=oi(e,t,n,i),0>r?ii(e,0,n.height+r):ii(e,r,n.height)},oi=function(e,t,n,i){return i?Math.min(Math.max(t.right-n.width,e.left),e.right-n.width):Math.max(Math.min(t.left,e.right-n.width),e.left)},ai=function(e,t,n){return t.bottom+n.height>=e.bottom?t.top-n.height:t.bottom},si=function(e){return!(null==e||!e.repositionForWindowResize)},li=function(){si(bc)&&bc.repositionForWindowResize()||ei()},ui=function(){return Sc},ci=function(e){Sc=e},hi=function(e,t,n){if(Qn(Cc,n,mi),t.length){var i=di(t,n);Ic=i,fi(i,e,n),setTimeout((function(){i.focus()}),1),Sc=null}else gi()},di=function(e,t){var n=new yc;n.setRole(dc.MENU);for(var i=function(){var i=e[r],o=new _c(i.text);o.setRightToLeft(t),o.setRole(dc.MENUITEM),n.addChild(o),o.setEnabled(i.enabled),i.enabled&&o.onAction((function(){gi(),requestAnimationFrame((function(){setTimeout((function(){i.callback(i.scope)}),0)}))}),{})},r=0;r<e.length;r++)i();return n},fi=function(e,t,n){var i=Ue();t=new Nl(t.clientY+i.top,t.clientY+i.top,t.clientX+i.left,t.clientX+i.left),pi(e);var r=e.getSize();n&&(t.left+=r.width,t.right+=r.width,i.left+=r.width,i.right+=r.width),ri(i,t,r,n),e.focus()},pi=function(e){var t=Kn();if(!t)throw Error("Attempting to create a context menu when widget div is null");t=e.render(t),ve(t,"blocklyContextMenu"),ie(t,"contextmenu",null,vi),e.focus()},vi=function(e){e.preventDefault(),e.stopPropagation()},gi=function(){ni(Cc),Sc=null},mi=function(){Ic&&(Ic.dispose(),Ic=null)},Wa.callbackFactory$$module$build$src$core$contextmenu=function(e,t){return function(){var n;Wa.disable$$module$build$src$core$events$utils();try{n=t instanceof Element?Qt(t,e.workspace):Cn(t,e.workspace);var i=e.getRelativeToSurfaceXY();i.x=e.RTL?i.x-Wa.config$$module$build$src$core$config.snapRadius:i.x+Wa.config$$module$build$src$core$config.snapRadius,i.y+=2*Wa.config$$module$build$src$core$config.snapRadius,n.moveBy(i.x,i.y)}finally{Wa.enable$$module$build$src$core$events$utils()}return V()&&!n.isShadow()&&U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(n)),n.select(),n}},yi=function(e){return{text:Wa.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function(){Wa.setGroup$$module$build$src$core$events$utils(!0),e.dispose(),Wa.setGroup$$module$build$src$core$events$utils(!1)}}},_i=function(e){return{text:Wa.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){var t=e.toCopyData();t&&zn(t,e.workspace)}}},bi=function(e,t){var n={enabled:!0};return n.text=Wa.Msg$$module$build$src$core$msg.ADD_COMMENT,n.callback=function(){var n=new Ou(e,Wa.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,Ou.DEFAULT_SIZE,Ou.DEFAULT_SIZE),i=e.getInjectionDiv().getBoundingClientRect();i=new Tl(t.clientX-i.left,t.clientY-i.top);var r=e.getOriginOffsetInPixels();(i=Tl.difference(i,r)).scale(1/e.scale),n.moveBy(i.x,i.y),e.rendered&&(n.initSvg(),n.render(),n.select())},n},ki=function(e){return e*Math.PI/180},Ti=function(e){return 180*e/Math.PI},Ei=function(e,t,n){if(n<e){var i=n;n=e,e=i}return Math.max(e,Math.min(t,n))},xi=function(){document.querySelector(".blocklyDropDownDiv")||((Nc=document.createElement("div")).className="blocklyDropDownDiv",(R()||document.body).appendChild(Nc),($c=document.createElement("div")).className="blocklyDropDownContent",Nc.appendChild($c),(Pc=document.createElement("div")).className="blocklyDropDownArrow",Nc.appendChild(Pc),Nc.style.opacity="0",Nc.style.transition="transform "+jc+"s, opacity "+jc+"s",Nc.addEventListener("focusin",(function(){ve(Nc,"blocklyFocused")})),Nc.addEventListener("focusout",(function(){me(Nc,"blocklyFocused")})))},wi=function(e){Wc=e},Si=function(){return Gc},Ci=function(){return $c},Ii=function(){$c.textContent="",$c.style.width=""},Ri=function(e,t){Nc.style.backgroundColor=e,Nc.style.borderColor=t},Oi=function(e,t,n,i){return Ni(Mi(t),e,n,i)},Ai=function(e,t,n){return Xc=!0,Ni(Li(e),e,t,n)},Mi=function(e){var t=e.getSvgRoot(),n=e.workspace.scale,i=e.height*n;return e=e.width*n,t=Le(t),new Nl(t.y,t.y+i,t.x,t.x+e)},Li=function(e){return e=e.getScaledBBox(),new Nl(e.top,e.bottom,e.left,e.right)},Ni=function(e,t,n,i){var r=e.left+(e.right-e.left)/2,o=e.bottom;e=e.top,i&&(e+=i);for(var a=(i=t.getSourceBlock()).workspace;a.options.parentWorkspace;)a=a.options.parentWorkspace;return wi(a.getParentSvg().parentNode),$i(t,i.RTL,r,o,r,e,n)},$i=function(e,t,n,i,r,o,a){return Gc=e,Hc=a||null,Nc.style.direction=t?"rtl":"ltr",e=w(),zc=e.getRenderer().getClassName(),Vc=e.getTheme().getClassName(),zc&&ve(Nc,zc),Vc&&ve(Nc,Vc),zi(n,i,r,o)},Pi=function(e,t,n,i){return{initialX:(e=Fi(e,n.left,n.right,i.width)).divX,initialY:t,finalX:e.divX,finalY:t+Uc,arrowX:e.arrowX,arrowY:-(Dc/2+Bc),arrowAtTop:!0,arrowVisible:!0}},Di=function(e,t,n,i){return{initialX:(e=Fi(e,n.left,n.right,i.width)).divX,initialY:t-i.height,finalX:e.divX,finalY:t-i.height-Uc,arrowX:e.arrowX,arrowY:i.height-2*Bc-Dc/2,arrowAtTop:!1,arrowVisible:!0}},Bi=function(e,t,n){return{initialX:(e=Fi(e,t.left,t.right,n.width)).divX,initialY:0,finalX:e.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Fi=function(e,t,n,i){return t=Ei(t,e-i/2,n-i),{arrowX:e=Ei(n=Fc,e=e-Dc/2-t,i-n-Dc),divX:t}},Ui=function(){return!!Gc},ji=function(e,t){return Gc===e&&(t?Hi():Zi(),!0)},Zi=function(){Nc.style.transform="translate(0, 0)",Nc.style.opacity="0",Zc=setTimeout((function(){Hi()}),1e3*jc),Hc&&(Hc(),Hc=null)},Hi=function(){Ui()&&(Zc&&clearTimeout(Zc),Nc.style.transform="",Nc.style.left="",Nc.style.top="",Nc.style.opacity="0",Nc.style.display="none",Nc.style.backgroundColor="",Nc.style.borderColor="",Hc&&(Hc(),Hc=null),Ii(),Gc=null,zc&&(me(Nc,zc),zc=""),Vc&&(me(Nc,Vc),Vc=""),w().markFocused())},zi=function(e,t,n,i){(e=Yc.getPositionMetrics(e,t,n,i)).arrowVisible?(Pc.style.display="",Pc.style.transform="translate("+e.arrowX+"px,"+e.arrowY+"px) rotate(45deg)",Pc.setAttribute("class",e.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):Pc.style.display="none",t=Math.floor(e.initialX),n=Math.floor(e.initialY),i=Math.floor(e.finalX);var r=Math.floor(e.finalY);return Nc.style.left=t+"px",Nc.style.top=n+"px",Nc.style.display="block",Nc.style.opacity="1",Nc.style.transform="translate("+(i-t)+"px,"+(r-n)+"px)",!!e.arrowAtTop},Vi=function(){if(Gc){var e=Gc.getSourceBlock(),t=(e=Xc?Li(Gc):Mi(e)).left+(e.right-e.left)/2;zi(t,e.bottom,t,e.top)}else Zi()},Wi=function(e){if(!(100<e.getDescendants(!1).length)){var t=e.workspace,n=e.getSvgRoot();t.getAudioManager().play("delete");var i=t.getSvgXY(n);(n=n.cloneNode(!0)).setAttribute("transform","translate("+i.x+","+i.y+")"),t.getParentSvg().appendChild(n),Gi(n,{x:i.x,y:i.y,width:e.width,height:e.height},t.RTL,new Date,t.scale)}},Gi=function(e,t,n,i,r){var o=((new Date).getTime()-i.getTime())/150;1<o?_e(e):(e.setAttribute("transform","translate("+(t.x+(n?-1:1)*t.width*r/2*o)+","+(t.y+t.height*r*o)+") scale("+(1-o)*r+")"),setTimeout(Gi,10,e,t,n,i,r))},Xi=function(e){var t=e.workspace,n=t.scale;if(t.getAudioManager().play("click"),!(1>n)){var i=t.getSvgXY(e.getSvgRoot());e.outputConnection?(i.x+=(e.RTL?3:-3)*n,i.y+=13*n):e.previousConnection&&(i.x+=(e.RTL?-23:23)*n,i.y+=3*n);var r=pe(Ll.CIRCLE,{cx:i.x,cy:i.y,r:0,fill:"none",stroke:"#888","stroke-width":10},t.getParentSvg());e=pe(Ll.ANIMATE,{id:"animationCircle",begin:"indefinite",attributeName:"r",dur:"150ms",from:0,to:25*n},r),t=pe(Ll.ANIMATE,{id:"animationOpacity",begin:"indefinite",attributeName:"opacity",dur:"150ms",from:1,to:0},r),e.beginElement(),t.beginElement(),setTimeout((function(){_e(r)}),150)}},Yi=function(e){if(qi(),e.workspace.getAudioManager().play("disconnect"),!(1>e.workspace.scale)){var t=e.getHeightWidth().height;t=Math.atan(10/t)/Math.PI*180,e.RTL||(t*=-1),Jc=e,Ki(e,t,new Date)}},Ki=function(e,t,n){var i=((new Date).getTime()-n.getTime())/200,r="";1>=i&&(r="skewX(".concat(Math.round(Math.sin(i*Math.PI*3)*(1-i)*t),")"),qc=setTimeout(Ki,10,e,t,n)),e.getSvgRoot().setAttribute("transform","".concat(e.getTranslation()," ").concat(r))},qi=function(){Jc&&(qc&&(clearTimeout(qc),qc=null),Jc.getSvgRoot().setAttribute("transform",Jc.getTranslation()),Jc=null)},Ji=function(e,t){return fe("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),e.startsWith(t)},Qi=function(e){return e.length?e.reduce((function(e,t){return e.length<t.length?e:t})).length:0},er=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;var n,i=0;for(t=t||Qi(e),n=0;n<t;n++){for(var r=e[0][n],o=1;o<e.length;o++)if(r!==e[o][n])return i;" "===r&&(i=n+1)}for(r=1;r<e.length;r++)if((o=e[r][n])&&" "!==o)return i;return t},tr=function(e,t){if(!e.length)return 0;if(1===e.length)return e[0].length;var n,i=0;for(t=t||Qi(e),n=0;n<t;n++){for(var r=e[0].substr(-n-1,1),o=1;o<e.length;o++)if(r!==e[o].substr(-n-1,1))return i;" "===r&&(i=n+1)}for(r=1;r<e.length;r++)if((o=e[r].charAt(e[r].length-n-1))&&" "!==o)return i;return t},Wa.wrap$$module$build$src$core$utils$string=function(e,t){e=e.split("\n");for(var n=0;n<e.length;n++)e[n]=nr(e[n],t);return e.join("\n")},nr=function(e,t){if(e.length<=t)return e;for(var n=e.trim().split(/\s+/),i=0;i<n.length;i++)n[i].length>t&&(t=n[i].length);var r,o=-1/0,a=1;do{i=o,r=e,e=[],o=n.length/a;for(var s=1,l=0;l<n.length-1;l++)s<(l+1.5)/o?(s++,e[l]=!0):e[l]=!1;e=rr(n,e,t),o=ir(n,e,t),e=or(n,e),a++}while(o>i);return r},ir=function(e,t,n){for(var i=[0],r=[],o=0;o<e.length;o++)i[i.length-1]+=e[o].length,!0===t[o]?(i.push(0),r.push(e[o].charAt(e[o].length-1))):!1===t[o]&&i[i.length-1]++;for(e=Math.max.apply(Math,i),t=0,o=0;o<i.length;o++)t-=2*Math.pow(Math.abs(n-i[o]),1.5),t-=Math.pow(e-i[o],1.5),-1!==".?!".indexOf(r[o])?t+=n/3:-1!==",;)]}".indexOf(r[o])&&(t+=n/4);return 1<i.length&&i[i.length-1]<=i[i.length-2]&&(t+=.5),t},rr=function(e,t,n){for(var i,r=ir(e,t,n),o=0;o<t.length-1;o++)if(t[o]!==t[o+1]){var a=[].concat(t);a[o]=!a[o],a[o+1]=!a[o+1];var s=ir(e,a,n);s>r&&(r=s,i=a)}return i?rr(e,i,n):t},or=function(e,t){for(var n=[],i=0;i<e.length;i++)n.push(e[i]),void 0!==t[i]&&n.push(t[i]?"\n":" ");return n.join("")},Wa.isNumber$$module$build$src$core$utils$string=function(e){return/^\s*-?\d+(\.\d+)?\s*$/.test(e)},ar=function(e){uh=e},sr=function(){return uh},lr=function(){return ch},ur=function(){return xh},cr=function(e){if(e=hr(e)){for(e=e.tooltip;"function"===typeof e;)e=e();if("string"!==typeof e)throw Error("Tooltip function must return a string.");return e}return""},hr=function(e){for(;e&&e.tooltip;){if("string"===typeof e.tooltip||"function"===typeof e.tooltip)return e;e=e.tooltip}return null},dr=function(){document.querySelector(".blocklyTooltipDiv")||((xh=document.createElement("div")).className="blocklyTooltipDiv",(R()||document.body).appendChild(xh))},fr=function(e){e.mouseOverWrapper_=re(e,"pointerover",null,vr),e.mouseOutWrapper_=re(e,"pointerout",null,gr),e.addEventListener("pointermove",mr,!1)},pr=function(e){e&&(oe(e.mouseOverWrapper_),oe(e.mouseOutWrapper_),e.removeEventListener("pointermove",mr))},vr=function(e){hh||(e=hr(e.currentTarget),mh!==e&&(_r(),yh=null,mh=e),clearTimeout(fh))},gr=function(e){hh||(fh=setTimeout((function(){yh=mh=null,_r()}),1),clearTimeout(ph),ph=0)},mr=function(e){if(mh&&mh.tooltip&&!hh)if(ch){var t=vh-e.pageX;e=gh-e.pageY,Math.sqrt(t*t+e*e)>kh&&_r()}else yh!==mh&&(clearTimeout(ph),vh=e.pageX,gh=e.pageY,ph=setTimeout(wr,Th))},yr=function(){yh=mh=null,_r()},_r=function(){ch&&(ch=!1,xh&&(xh.style.display="none")),ph&&(clearTimeout(ph),ph=0)},br=function(){_r(),hh=!0},kr=function(){hh=!1},Tr=function(){xh&&mh&&("function"===typeof uh?uh(xh,mh):Er())},Er=function(){var e=cr(mh);e=(e=Wa.wrap$$module$build$src$core$utils$string(e,dh)).split("\n");for(var t=0;t<e.length;t++){var n=document.createElement("div");n.appendChild(document.createTextNode(e[t])),xh.appendChild(n)}},xr=function(e){var t=document.documentElement.clientWidth,n=document.documentElement.clientHeight,i=vh;i=e?i-(_h+xh.offsetWidth):i+_h;var r=gh+bh;return r+xh.offsetHeight>n+window.scrollY&&(r-=xh.offsetHeight+2*bh),e?i=Math.max(Eh-window.scrollX,i):i+xh.offsetWidth>t+window.scrollX-2*Eh&&(i=t-xh.offsetWidth-2*Eh),{x:i,y:r}},wr=function(){if(!hh&&(yh=mh,xh)){xh.textContent="",Tr();var e=mh.RTL;xh.style.direction=e?"rtl":"ltr",xh.style.display="block",ch=!0;var t=xr(e),n=t.x,i=t.y;xh.style.left=n+"px",xh.style.top=i+"px"}},Sr=function(e,t){for(var n in t)e[n]=null!==t[n]&&"object"===typeof t[n]?Sr(e[n]||Object.create(null),t[n]):t[n];return e},Cr=function(e){return void 0!==e.bubbleIsVisible&&void 0!==e.setBubbleVisible},Ir=function(){return Dh},Rr=function(e){Dh=e},Or=function(){return Bh},Ar=function(e){Bh=e},Mr=function(e){e="".concat(e).toLowerCase().trim();var t=Fh[e];if(t)return t;if(t="#"===(t="0x"===e.substring(0,2)?"#"+e.substring(2):e)[0]?t:"#"+t,/^#[0-9a-f]{6}$/.test(t))return t;if(/^#[0-9a-f]{3}$/.test(t))return["#",t[1],t[1],t[2],t[2],t[3],t[3]].join("");var n=e.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return n&&(e=Number(n[1]),t=Number(n[2]),n=Number(n[3]),0<=e&&256>e&&0<=t&&256>t&&0<=n&&256>n)?Lr(e,t,n):null},Lr=function(e,t,n){return t=e<<16|t<<8|n,16>e?"#"+(16777216|t).toString(16).substr(1):"#"+t.toString(16)},Nr=function(e){return(e=Mr(e))?[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e]:[0,0,0]},$r=function(e,t,n){var i=0,r=0,o=0;if(0===t)o=r=i=n;else{var a=Math.floor(e/60),s=e/60-a;e=n*(1-t);var l=n*(1-t*s);switch(t=n*(1-t*(1-s)),a){case 1:i=l,r=n,o=e;break;case 2:i=e,r=n,o=t;break;case 3:i=e,r=l,o=n;break;case 4:i=t,r=e,o=n;break;case 5:i=n,r=e,o=l;break;case 6:case 0:i=n,r=t,o=e}}return Lr(Math.floor(i),Math.floor(r),Math.floor(o))},Pr=function(e,t,n){return(e=Mr(e))&&(t=Mr(t))?(e=Nr(e),t=Nr(t),Lr(Math.round(t[0]+n*(e[0]-t[0])),Math.round(t[1]+n*(e[1]-t[1])),Math.round(t[2]+n*(e[2]-t[2])))):null},Dr=function(e){return $r(e,Dh,255*Bh)},Br=function(e,t,n){var i=[],r=e.split("");r.push("");var o=0;e=[];for(var a=null,s=0;s<r.length;s++){var l=r[s];if(0===o)if("%"===l)(o=e.join(""))&&i.push(o),e.length=0,o=1;else if(n&&"\n"===l){var u=e.join("");u&&i.push(u),e.length=0,i.push(l)}else e.push(l);else if(1===o)"%"===l?(e.push(l),o=0):t&&"0"<=l&&"9">=l?(o=2,a=l,(l=e.join(""))&&i.push(l),e.length=0):"{"===l?o=3:(e.push("%",l),o=0);else if(2===o)if("0"<=l&&"9">=l)a+=l;else{var c=void 0;i.push(parseInt(null!=(c=a)?c:"",10)),s--,o=0}else 3===o&&(""===l?(e.splice(0,0,"%{"),s--,o=0):"}"!==l?e.push(l):(o=e.join(""),/[A-Z]\w*/i.test(o)&&(l=(l=o.toUpperCase()).startsWith("BKY_")?l.substring(4):null)&&l in Wa.Msg$$module$build$src$core$msg?"string"===typeof(o=Wa.Msg$$module$build$src$core$msg[l])?Array.prototype.push.apply(i,Br(o,t,n)):t?i.push("".concat(o)):i.push(o):i.push("%{"+o+"}"),o=e.length=0))}for((t=e.join(""))&&i.push(t),c=[],e.length=0,r=0;r<i.length;r++)"string"!==typeof i[r]||n&&"\n"===i[r]?((t=e.join(""))&&c.push(t),e.length=0,c.push(i[r])):e.push(i[r]);return(t=e.join(""))&&c.push(t),e.length=0,c},Fr=function(e){return Br(e,!0,!0)},Ur=function(e){return"string"!==typeof e?e:(e=Br(e,!1,!1)).length?String(e[0]):""},jr=function(e){var t=!0,n=Wa.Msg$$module$build$src$core$msg,i=e.match(/%{BKY_[A-Z]\w*}/gi);if(i)for(var r=0;r<i.length;r++)void 0===n[i[r].toUpperCase().slice(6,-1)]&&(console.warn("No message string for "+i[r]+" in "+e),t=!1);return t},Zr=function(e){var t="string"===typeof e?Ur(e):e,n=Number(t);if(!isNaN(n)&&0<=n&&360>=n)return{hue:n,hex:$r(n,Ir(),255*Or())};if(n=Mr(t))return{hue:null,hex:n};throw n='Invalid colour: "'+t+'"',e!==t&&(n+=' (from "'+e+'")'),Error(n)},Hr=function(e){return void 0!==e.getProcedureModel&&void 0!==e.doProcedureUpdate&&void 0!==e.isProcedureDef},zr=function(e){return void 0!==e.startPublishing&&void 0!==e.stopPublishing},Vr=function(t,n){e(qa.FIELD,t,n)},Wr=function(e){i(qa.FIELD,e)},Wa.fromJson$$module$build$src$core$field_registry=function(e){return Gh.fromJsonInternal(e)},Gr=function(e){var t=y(qa.FIELD,e.type);if(t){if("function"!==typeof t.fromJson)throw new TypeError("returned Field was not a IRegistrableField");return t.fromJson(e)}return console.warn("Blockly could not create a field of type "+e.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},Xr=function(e){var t=!1,n=e.map((function(e){var n=p(e,2),i=n[0],r=n[1];return"string"===typeof i?[Ur(i),r]:(t=!0,[null!==i.alt?Object.assign({},i,{alt:Ur(i.alt)}):Object.assign({},i),r])}));if(t||2>e.length)return{options:n};var i=n.map((function(e){return p(e,1)[0]})),r=Qi(i);e=er(i,r);var o=tr(i,r);return!e&&!o||r<=e+o?{options:n}:(r=e?i[0].substring(0,e-1):void 0,i=o?i[0].substr(1-o):void 0,{options:Yr(n,e,o),prefix:r,suffix:i})},Yr=function(e,t,n){return e.map((function(e){var i=p(e,2),r=i[0],o=i[1];return[r.substring(t,r.length-n),o]}))},Kr=function(e){if(!Array.isArray(e))throw TypeError("FieldDropdown options must be an array.");if(!e.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var t=!1,n=0;n<e.length;n++){var i=e[n];Array.isArray(i)?"string"!==typeof i[1]?(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option id must be a string. Found "+i[1]+" in: ",i)):i[0]&&"string"!==typeof i[0]&&"string"!==typeof i[0].src&&(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must have a string label or image description. Found"+i[0]+" in: ",i)):(t=!0,console.error("Invalid option["+n+"]: Each FieldDropdown option must be an array. Found: ",i))}if(t)throw TypeError("Found invalid FieldDropdown options.")},Wa.register$$module$build$src$core$extensions=function(e,t){if("string"!==typeof e||""===e.trim())throw Error('Error: Invalid extension name "'+e+'"');if(nd[e])throw Error('Error: Extension "'+e+'" is already registered.');if("function"!==typeof t)throw Error('Error: Extension "'+e+'" must be a function');nd[e]=t},Wa.registerMixin$$module$build$src$core$extensions=function(e,t){if(!t||"object"!==typeof t)throw Error('Error: Mixin "'+e+'" must be a object');Wa.register$$module$build$src$core$extensions(e,(function(){this.mixin(t)}))},Wa.registerMutator$$module$build$src$core$extensions=function(e,t,n,i){var r='Error when registering mutator "'+e+'": ';oo(r,t);var o=io(t,r);if(n&&"function"!==typeof n)throw Error(r+'Extension "'+e+'" is not a function');Wa.register$$module$build$src$core$extensions(e,(function(){o&&this.setMutator(new Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon(i||[],this)),this.mixin(t),n&&n.apply(this)}))},qr=function(e){Jr(e)?delete nd[e]:console.warn('No extension mapping for name "'+e+'" found to unregister')},Jr=function(e){return!!nd[e]},Qr=function(e,t,n){var i,r=nd[e];if("function"!==typeof r)throw Error('Error: Extension "'+e+'" not found.');if(n?eo(e,t):i=ao(t),r.apply(t),n)oo('Error after applying mutator "'+e+'": ',t);else if(!so(i,t))throw Error('Error when applying extension "'+e+'": mutation properties changed when applying a non-mutator extension.')},eo=function(e,t){if(ao(t).length)throw Error('Error: tried to apply mutation "'+e+'" to a block that already has mutator functions.  Block id: '+t.id)},to=function(e,t){return ro(e.mutationToDom,e.domToMutation,t+" mutationToDom/domToMutation")},no=function(e,t){return ro(e.saveExtraState,e.loadExtraState,t+" saveExtraState/loadExtraState")},io=function(e,t){return ro(e.compose,e.decompose,t+" compose/decompose")},ro=function(e,t,n){if(e&&t){if("function"!==typeof e||"function"!==typeof t)throw Error(n+" must be a function");return!0}if(!e&&!t)return!1;throw Error(n+"Must have both or neither functions")},oo=function(e,t){var n=to(t,e),i=no(t,e);if(!n&&!i)throw Error(e+"Mutations must contain either XML hooks, or JSON hooks, or both");io(t,e)},ao=function(e){var t=[];return void 0!==e.domToMutation&&t.push(e.domToMutation),void 0!==e.mutationToDom&&t.push(e.mutationToDom),void 0!==e.saveExtraState&&t.push(e.saveExtraState),void 0!==e.loadExtraState&&t.push(e.loadExtraState),void 0!==e.compose&&t.push(e.compose),void 0!==e.decompose&&t.push(e.decompose),t},so=function(e,t){if((t=ao(t)).length!==e.length)return!1;for(var n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0},lo=function(e){if("object"!==typeof document)throw Error("runAfterPageLoad() requires browser document.");if("complete"===document.readyState)e();else var t=setInterval((function(){"complete"===document.readyState&&(clearInterval(t),e())}),10)},Wa.buildTooltipForDropdown$$module$build$src$core$extensions=function(e,t){var n=[];return function(){-1===n.indexOf(this.type)&&(uo(this,e,t),n.push(this.type)),this.setTooltip(function(){var n=String(this.getFieldValue(e));return Ur(t[n])}.bind(this))}},uo=function(e,t,n){var i=e.getField(t);if(i instanceof Yh&&!i.isOptionListDynamic()){i=i.getOptions();var r,o=g(i);try{for(o.s();!(r=o.n()).done;){var a=p(r.value,2)[1];void 0===n[a]&&console.warn("No tooltip mapping for value ".concat(a," of field ")+"".concat(t," of block type ").concat(e.type,"."))}}catch(s){o.e(s)}finally{o.f()}}},Wa.buildTooltipWithFieldText$$module$build$src$core$extensions=function(e,t){return function(){this.setTooltip(function(){var n=this.getField(t);return Ur(e).replace("%1",n?n.getText():"")}.bind(this))}},co=function(){var e=this.tooltip;this.setTooltip(function(){var t=this.getParent();return t&&t.getInputsInline()&&t.tooltip||e}.bind(this))},ho=function(e,t){return" "+e+","+t+" "},fo=function(e,t){return" "+e+t.join("")},po=function(e,t){return" M "+e+","+t+" "},vo=function(e,t){return" m "+e+","+t+" "},go=function(e,t){return" l "+e+","+t+" "},mo=function(e){return" l"+e.join("")},yo=function(e,t){return" "+e+" "+t+" "},_o=function(e,t,n,i){return e+" "+n+" "+n+" "+t+i},bo=function(t,n){e(qa.ICON,t.toString(),n)},ko=function(e){i(qa.ICON,e)},To=function(e){var t=e.getProcedureMap().getProcedures().filter((function(e){return!e.getReturnTypes()})).map((function(e){return[e.getName(),e.getParameters().map((function(e){return e.getName()})),!1]}));e.getBlocksByType("procedures_defnoreturn",!1).forEach((function(e){!Hr(e)&&pt(e)&&t.push(e.getProcedureDef())}));var n=e.getProcedureMap().getProcedures().filter((function(e){return!!e.getReturnTypes()})).map((function(e){return[e.getName(),e.getParameters().map((function(e){return e.getName()})),!0]}));return e.getBlocksByType("procedures_defreturn",!1).forEach((function(e){!Hr(e)&&pt(e)&&n.push(e.getProcedureDef())})),t.sort(Eo),n.sort(Eo),[t,n]},Eo=function(e,t){return e[0].localeCompare(t[0],void 0,{sensitivity:"base"})},Wa.findLegalName$$module$build$src$core$procedures=function(e,t){if(t.isInFlyout)return e;for(e=e||Wa.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!xo(e,t.workspace,t);){var n=e.match(/^(.*?)(\d+)$/);e=n?n[1]+(parseInt(n[2])+1):e+"2"}return e},xo=function(e,t,n){return!wo(e,t,n)},wo=function(e,t,n){var i,r=g(t.getAllBlocks(!1));try{for(r.s();!(i=r.n()).done;){var o=i.value;if(o!==n&&pt(o)&&Wa.Names$$module$build$src$core$names.equals(o.getProcedureDef()[0],e))return!0}}catch(u){r.e(u)}finally{r.f()}n=n&&Hr(n)?null==n?void 0:n.getProcedureModel():void 0;var a,s=g(t.getProcedureMap().getProcedures());try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l!==n&&Wa.Names$$module$build$src$core$names.equals(l.getName(),e))return!0}}catch(u){s.e(u)}finally{s.f()}return!1},Wa.rename$$module$build$src$core$procedures=function(e){var t=this.getSourceBlock();if(!t)throw new Hh;e=e.trim();var n=Wa.findLegalName$$module$build$src$core$procedures(e,t);Hr(t)&&!t.isInsertionMarker()&&t.getProcedureModel().setName(n);var i=this.getValue();if(i!==e&&i!==n)for(e=t.workspace.getAllBlocks(!1),t=0;t<e.length;t++){var r=e[t];r.renameProcedure&&r.renameProcedure(i,n)}return n},So=function(e){function t(e,t){for(var i=0;i<e.length;i++){var r=e[i][0],o=e[i][1],a=Wa.createElement$$module$build$src$core$utils$xml("block");a.setAttribute("type",t),a.setAttribute("gap","16");var s=Wa.createElement$$module$build$src$core$utils$xml("mutation");for(s.setAttribute("name",r),a.appendChild(s),r=0;r<o.length;r++){var l=Wa.createElement$$module$build$src$core$utils$xml("arg");l.setAttribute("name",o[r]),s.appendChild(l)}n.push(a)}}var n=[];if(ts.procedures_defnoreturn){var i=Wa.createElement$$module$build$src$core$utils$xml("block");i.setAttribute("type","procedures_defnoreturn"),i.setAttribute("gap","16");var r=Wa.createElement$$module$build$src$core$utils$xml("field");r.setAttribute("name","NAME"),r.appendChild(Wa.createTextNode$$module$build$src$core$utils$xml(Wa.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),i.appendChild(r),n.push(i)}return ts.procedures_defreturn&&((i=Wa.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_defreturn"),i.setAttribute("gap","16"),(r=Wa.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name","NAME"),r.appendChild(Wa.createTextNode$$module$build$src$core$utils$xml(Wa.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),i.appendChild(r),n.push(i)),ts.procedures_ifreturn&&((i=Wa.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","procedures_ifreturn"),i.setAttribute("gap","16"),n.push(i)),n.length&&n[n.length-1].setAttribute("gap","24"),t((e=To(e))[0],"procedures_callnoreturn"),t(e[1],"procedures_callreturn"),n},Co=function(e){for(var t,n=[],i=e.getBlocksByType("procedures_mutatorarg",!1),r=0;t=i[r];r++)n.push(t.getFieldValue("NAME"));i=Wa.createElement$$module$build$src$core$utils$xml("xml");var o=Wa.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","procedures_mutatorarg");var a=Wa.createElement$$module$build$src$core$utils$xml("field");a.setAttribute("name","NAME"),n=bt(Wa.DEFAULT_ARG$$module$build$src$core$procedures,n),n=Wa.createTextNode$$module$build$src$core$utils$xml(n),a.appendChild(n),o.appendChild(a),i.appendChild(o),e.updateToolbox(i)},Io=function(e){if(e.type===_s&&"mutator"===e.bubbleType&&e.isOpen&&e.blockId){var t=(e=k(e.workspaceId).getBlockById(e.blockId)).type;"procedures_defnoreturn"!==t&&"procedures_defreturn"!==t||(e=e.getIcon(Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),Co(e),e.addChangeListener(Ro))}},Ro=function(e){e.type!==Wa.CREATE$$module$build$src$core$events$utils&&e.type!==Wa.DELETE$$module$build$src$core$events$utils&&e.type!==Wa.CHANGE$$module$build$src$core$events$utils&&e.type!==cs||(e=k(e.workspaceId),Co(e))},Oo=function(e,t){return t.getAllBlocks(!1).filter((function(t){return Ao(t,e)||vt(t)&&Wa.Names$$module$build$src$core$names.equals(t.getProcedureCall(),e)}))},Ao=function(e,t){return Hr(e)&&!e.isProcedureDef()&&e.getProcedureModel()&&Wa.Names$$module$build$src$core$names.equals(e.getProcedureModel().getName(),t)},Wa.mutateCallers$$module$build$src$core$procedures=function(e){var t=F(),n=e.getProcedureDef()[0],i=e.mutationToDom(!0);e=Oo(n,e.workspace);for(var r,o=0;r=e[o];o++){n=(n=r.mutationToDom())&&Ve(n),r.domToMutation&&r.domToMutation(i);var a=r.mutationToDom();n!==(a=a&&Ve(a))&&(B(!1),U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(r,"mutation",null,n,a)),B(t))}},Wa.getDefinition$$module$build$src$core$procedures=function(e,t){var n,i=g(t.getAllBlocks(!1));try{for(i.s();!(n=i.n()).done;){var r=n.value;if(Hr(r)&&r.isProcedureDef()&&Wa.Names$$module$build$src$core$names.equals(r.getProcedureModel().getName(),e)||pt(r)&&Wa.Names$$module$build$src$core$names.equals(r.getProcedureDef()[0],e))return r}}catch(o){i.e(o)}finally{i.f()}return null},Mo=function(e){return e.isDynamic},Lo=function(e){return void 0!==e.pathDown&&void 0!==e.pathUp},No=function(e){return void 0!==e.pathLeft&&void 0!==e.pathRight},$o=function(e){var t=e.outputConnection;return(!t||e.previousConnection&&e.previousConnection.isConnected())&&(t=e.previousConnection),t},Po=function(e,t){if(!e||!t)throw Error("Cannot connect null connections.");e.targetConnection=t,t.targetConnection=e},Do=function(e,t){for(var n,i=null,r=null==(t=t.outputConnection)?void 0:t.getConnectionChecker(),o=0;n=e.inputList[o];o++){var a=n.connection,s=void 0;if(a&&null!=(s=r)&&s.canConnect(t,a,!1)){if(i)return null;i=a}}return i},Bo=function(e,t){for(var n;n=Do(e,t);)if(!(e=n.targetBlock())||e.isShadow())return n;return null},Fo=function(t,n){e(qa.RENDERER,t,n)},Uo=function(e){i(qa.RENDERER,e)},jo=function(e,t,n){return(e=new(m(qa.RENDERER,e))(e)).init(t,n),e},Zo=function(e){kt(e.getTargetWorkspace(),void 0,"String")},Ho=function(e){kt(e.getTargetWorkspace(),void 0,"Number")},zo=function(e){kt(e.getTargetWorkspace(),void 0,"Colour")},Vo=function(e){var t=[],n=document.createElement("button");return n.setAttribute("text",Wa.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),t.push(n),(n=document.createElement("button")).setAttribute("text",Wa.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),t.push(n),(n=document.createElement("button")).setAttribute("text",Wa.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),n.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),t.push(n),e.registerButtonCallback("CREATE_VARIABLE_STRING",Zo),e.registerButtonCallback("CREATE_VARIABLE_NUMBER",Ho),e.registerButtonCallback("CREATE_VARIABLE_COLOUR",zo),e=Wo(e),t.concat(e)},Wo=function(e){var t=[];if(0<(e=e.getAllVariables()).length){if(ts.variables_set_dynamic){var n=e[e.length-1],i=Wa.createElement$$module$build$src$core$utils$xml("block");i.setAttribute("type","variables_set_dynamic"),i.setAttribute("gap","24"),i.appendChild(It(n)),t.push(i)}if(ts.variables_get_dynamic){e.sort(yu.compareByName);for(var r,o=0;r=e[o];o++)(n=Wa.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type","variables_get_dynamic"),n.setAttribute("gap","8"),n.appendChild(It(r)),t.push(n)}}return t},Go=function(e){e.resizeContents()},Xo=function(e){return void 0!==e.toCopyData},Yo=function(){sp.registry.register({name:Hf.ESCAPE,preconditionFn:function(e){return!e.options.readOnly},callback:function(e){return e.hideChaff(),!0},keyCodes:[rd.ESC]})},Ko=function(){sp.registry.register({name:Hf.DELETE,preconditionFn:function(e){var t=C();return!e.options.readOnly&&null!=t&&t.isDeletable()},callback:function(e,t){return t.preventDefault(),!Rh.inProgress()&&(C().checkAndDelete(),!0)},keyCodes:[rd.DELETE,rd.BACKSPACE]})},qo=function(){var e=sp.registry.createSerializedKey(rd.C,[rd.CTRL]),t=sp.registry.createSerializedKey(rd.C,[rd.ALT]),n=sp.registry.createSerializedKey(rd.C,[rd.META]);sp.registry.register({name:Hf.COPY,preconditionFn:function(e){var t=C();return!e.options.readOnly&&!Rh.inProgress()&&null!=t&&t.isDeletable()&&t.isMovable()&&Xo(t)},callback:function(e,t){return t.preventDefault(),e.hideChaff(),!(!(t=C())||!Xo(t))&&(lp=t.toCopyData(),up=e,!!lp)},keyCodes:[e,t,n]})},Jo=function(){var e=sp.registry.createSerializedKey(rd.X,[rd.CTRL]),t=sp.registry.createSerializedKey(rd.X,[rd.ALT]),n=sp.registry.createSerializedKey(rd.X,[rd.META]);sp.registry.register({name:Hf.CUT,preconditionFn:function(e){var t=C();return!e.options.readOnly&&!Rh.inProgress()&&null!=t&&t instanceof Zf&&t.isDeletable()&&t.isMovable()&&!t.workspace.isFlyout},callback:function(e){var t=C();return!(!t||!Xo(t))&&(lp=t.toCopyData(),up=e,t.checkAndDelete(),!0)},keyCodes:[e,t,n]})},Qo=function(){var e=sp.registry.createSerializedKey(rd.V,[rd.CTRL]),t=sp.registry.createSerializedKey(rd.V,[rd.ALT]),n=sp.registry.createSerializedKey(rd.V,[rd.META]);sp.registry.register({name:Hf.PASTE,preconditionFn:function(e){return!e.options.readOnly&&!Rh.inProgress()},callback:function(){return!(!lp||!up)&&!!zn(lp,up)},keyCodes:[e,t,n]})},ea=function(){var e=sp.registry.createSerializedKey(rd.Z,[rd.CTRL]),t=sp.registry.createSerializedKey(rd.Z,[rd.ALT]),n=sp.registry.createSerializedKey(rd.Z,[rd.META]);sp.registry.register({name:Hf.UNDO,preconditionFn:function(e){return!e.options.readOnly&&!Rh.inProgress()},callback:function(e){return e.hideChaff(),e.undo(!1),!0},keyCodes:[e,t,n]})},ta=function(){var e=sp.registry.createSerializedKey(rd.Z,[rd.SHIFT,rd.CTRL]),t=sp.registry.createSerializedKey(rd.Z,[rd.SHIFT,rd.ALT]),n=sp.registry.createSerializedKey(rd.Z,[rd.SHIFT,rd.META]),i=sp.registry.createSerializedKey(rd.Y,[rd.CTRL]);sp.registry.register({name:Hf.REDO,preconditionFn:function(e){return!Rh.inProgress()&&!e.options.readOnly},callback:function(e){return e.hideChaff(),e.undo(!0),!0},keyCodes:[e,t,n,i]})},na=function(){Yo(),Ko(),qo(),Jo(),Qo(),ea(),ta()},ia=function(e){var t={id:e.getId(),name:e.getName(),returnTypes:e.getReturnTypes()};return e.getParameters().length?(t.parameters=e.getParameters().map((function(e){return ra(e)})),t):t},ra=function(e){var t={id:e.getId(),name:e.getName()};return e.getTypes().length?(t.types=e.getTypes(),t):t},oa=function(e,t,n,i){if(e=new e(i,n.name,n.id).setReturnTypes(n.returnTypes),!n.parameters)return e;var r,o=g(n.parameters.entries());try{for(o.s();!(r=o.n()).done;){var a=p(r.value,2),s=a[0],l=a[1];e.insertParameter(aa(t,l,i),s)}}catch(u){o.e(u)}finally{o.f()}return e},aa=function(e,t,n){return e=new e(n,t.name,t.id),t.types&&e.setTypes(t.types),e},sa=function(e){var t=Object.create(null),n=_(qa.SERIALIZER,!0);for(var i in n){var r=void 0,o=null==(r=n[i])?void 0:r.save(e);o&&(t[i]=o)}return t},la=function(e,t){var n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).recordUndo,i=void 0!==n&&n,r=_(qa.SERIALIZER,!0);if(r){r=Object.entries(r).sort((function(e,t){return t[1].priority-e[1].priority}));var o=F();B(i),(i=Wa.getGroup$$module$build$src$core$events$utils())||Wa.setGroup$$module$build$src$core$events$utils(!0),Ee(),t instanceof Rf&&t.setResizesEnabled(!1);var a,s=g(r.reverse());try{for(s.s();!(a=s.n()).done;){var l=p(a.value,2)[1],u=void 0;null==(u=l)||u.clear(t)}}catch(y){s.e(y)}finally{s.f()}var c,h=g(r.reverse());try{for(h.s();!(c=h.n()).done;){var d=p(c.value,2),f=d[0],v=d[1];if(e[f]){var m=void 0;null==(m=v)||m.load(e[f],t)}}}catch(y){h.e(y)}finally{h.f()}t instanceof Rf&&t.setResizesEnabled(!0),xe(),U(new(Y(Is))(t)),Wa.setGroup$$module$build$src$core$events$utils(i),B(o)}},ua=function(e,t,n){var i=n.getBoundingRectangle(),r=i.right-i.left,o=Ei(t.top,i.top,t.top+t.height-(i.bottom-i.top))-i.top,a=t.left;return t=t.left+t.width-r,e.RTL?a=Math.min(t,a):t=Math.max(a,t),!(!(e=Ei(a,i.left,t)-i.left)&&!o)&&(n.moveBy(e,o,["inbounds"]),!0)},ca=function(e){return function(t){var n,i=e.getMetricsManager();if(i.hasFixedEdges()&&!e.isDragging())if(-1!==Rs.indexOf(null!=(n=t.type)?n:"")){n=i.getScrollMetrics(!0);var r=ha(e,t);r&&(i=Wa.getGroup$$module$build$src$core$events$utils()||!1,Wa.setGroup$$module$build$src$core$events$utils(t.group),ua(e,n,r)&&!t.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),Wa.setGroup$$module$build$src$core$events$utils(i))}else t.type===Es&&t.scale&&t.oldScale&&t.scale>t.oldScale&&da(e)}},ha=function(e,t){var n=null;switch(t.type){case Wa.CREATE$$module$build$src$core$events$utils:case Wa.MOVE$$module$build$src$core$events$utils:(n=e.getBlockById(t.blockId))&&(n=n.getRootBlock());break;case xs:case Cs:n=e.getCommentById(t.commentId)}return n},da=function(e){var t=e.getMetricsManager();if(t.hasFixedEdges()&&!e.isDragging()){t=t.getScrollMetrics(!0);for(var n,i=e.getTopBoundedElements(),r=0;n=i[r];r++)ua(e,t,n)}},fa=function(e,t){var n,i=[],r=g(e.getIcons());try{for(r.s();!(n=r.n()).done;){var o=n.value;Cr(o)&&!o.bubbleIsVisible()||(i.push({location:t,icon:o}),o.onLocationChange(t))}}catch(u){r.e(u)}finally{r.f()}var a,s=g(e.getChildren(!1));try{for(s.s();!(a=s.n()).done;){var l=a.value;i.push.apply(i,v(fa(l,Tl.sum(t,l.relativeCoords))))}}catch(u){s.e(u)}finally{s.f()}return i},pa=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.UNDO},preconditionFn:function(e){return 0<e.workspace.getUndoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!1)},scopeType:Oc.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},va=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.REDO},preconditionFn:function(e){return 0<e.workspace.getRedoStack().length?"enabled":"disabled"},callback:function(e){e.workspace.undo(!0)},scopeType:Oc.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},ga=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn:function(e){return e.workspace.isMovable()?1<e.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback:function(e){e.workspace.cleanUp()},scopeType:Oc.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},ma=function(e,t){function n(t){r--,t.setCollapsed(e),0===r&&Wa.setGroup$$module$build$src$core$events$utils(!1)}var i=0,r=0;Wa.setGroup$$module$build$src$core$events$utils(!0);for(var o=0;o<t.length;o++)for(var a=t[o];a;)r++,setTimeout(n.bind(null,a),i),a=a.getNextBlock(),i+=10},ya=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(!n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){ma(!0,e.workspace.getTopBlocks(!0))},scopeType:Oc.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},_a=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn:function(e){if(e.workspace.options.collapse){e=e.workspace.getTopBlocks(!1);for(var t=0;t<e.length;t++)for(var n=e[t];n;){if(n.isCollapsed())return"enabled";n=n.getNextBlock()}return"disabled"}return"hidden"},callback:function(e){ma(!1,e.workspace.getTopBlocks(!0))},scopeType:Oc.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},ba=function(e,t){if(e.isDeletable())Array.prototype.push.apply(t,e.getDescendants(!1));else{e=e.getChildren(!1);for(var n=0;n<e.length;n++)ba(e[n],t)}},ka=function(e){var t=[];e=e.getTopBlocks(!0);for(var n=0;n<e.length;n++)ba(e[n],t);return t},Ta=function(e,t){t?Wa.setGroup$$module$build$src$core$events$utils(t):(Wa.setGroup$$module$build$src$core$events$utils(!0),t=Wa.getGroup$$module$build$src$core$events$utils());var n=e.shift();n&&(n.isDeadOrDying()?Ta(e,t):(n.dispose(!1,!0),setTimeout(Ta,10,e,t))),Wa.setGroup$$module$build$src$core$events$utils(!1)},Ea=function(){Oc.registry.register({displayText:function(e){return e.workspace?1===(e=ka(e.workspace).length)?Wa.Msg$$module$build$src$core$msg.DELETE_BLOCK:Wa.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1","".concat(e)):""},preconditionFn:function(e){return e.workspace&&0<ka(e.workspace).length?"enabled":"disabled"},callback:function(e){if(e.workspace){e.workspace.cancelCurrentGesture();var t=ka(e.workspace);2>t.length?Ta(t):lt(Wa.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(t.length)),(function(e){e&&Ta(t)}))}},scopeType:Oc.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},xa=function(){pa(),va(),ga(),ya(),_a(),Ea()},wa=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isDeletable()&&e.isMovable()?e.isDuplicatable()?"enabled":"disabled":"hidden"},callback:function(e){if(e.block){var t=e.block.toCopyData();t&&zn(t,e.block.workspace)}},scopeType:Oc.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},Sa=function(){Oc.registry.register({displayText:function(e){return e.block.hasIcon(pd.TYPE)?Wa.Msg$$module$build$src$core$msg.REMOVE_COMMENT:Wa.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.comments&&!e.isCollapsed()&&e.isEditable()?"enabled":"hidden"},callback:function(e){(e=e.block).hasIcon(pd.TYPE)?e.setCommentText(null):e.setCommentText("")},scopeType:Oc.ScopeType.BLOCK,id:"blockComment",weight:2})},Ca=function(){Oc.registry.register({displayText:function(e){return e.block.getInputsInline()?Wa.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:Wa.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn:function(e){if(!(e=e.block).isInFlyout&&e.isMovable()&&!e.isCollapsed())for(var t=1;t<e.inputList.length;t++)if(!(e.inputList[t-1]instanceof Zp||e.inputList[t]instanceof Zp))return"enabled";return"hidden"},callback:function(e){e.block.setInputsInline(!e.block.getInputsInline())},scopeType:Oc.ScopeType.BLOCK,id:"blockInline",weight:3})},Ia=function(){Oc.registry.register({displayText:function(e){return e.block.isCollapsed()?Wa.Msg$$module$build$src$core$msg.EXPAND_BLOCK:Wa.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.isMovable()&&e.workspace.options.collapse?"enabled":"hidden"},callback:function(e){e.block.setCollapsed(!e.block.isCollapsed())},scopeType:Oc.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},Ra=function(){Oc.registry.register({displayText:function(e){return e.block.isEnabled()?Wa.Msg$$module$build$src$core$msg.DISABLE_BLOCK:Wa.Msg$$module$build$src$core$msg.ENABLE_BLOCK},preconditionFn:function(e){return!(e=e.block).isInFlyout&&e.workspace.options.disable&&e.isEditable()?e.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback:function(e){e=e.block;var t=Wa.getGroup$$module$build$src$core$events$utils();t||Wa.setGroup$$module$build$src$core$events$utils(!0),e.setEnabled(!e.isEnabled()),Wa.setGroup$$module$build$src$core$events$utils(t)},scopeType:Oc.ScopeType.BLOCK,id:"blockDisable",weight:5})},Oa=function(){Oc.registry.register({displayText:function(e){var t=e.block;return e=t.getDescendants(!1).length,(t=t.getNextBlock())&&(e-=t.getDescendants(!1).length),1===e?Wa.Msg$$module$build$src$core$msg.DELETE_BLOCK:Wa.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1","".concat(e))},preconditionFn:function(e){return!e.block.isInFlyout&&e.block.isDeletable()?"enabled":"hidden"},callback:function(e){e.block&&e.block.checkAndDelete()},scopeType:Oc.ScopeType.BLOCK,id:"blockDelete",weight:6})},Aa=function(){Oc.registry.register({displayText:function(){return Wa.Msg$$module$build$src$core$msg.HELP},preconditionFn:function(e){return("function"===typeof(e=e.block).helpUrl?e.helpUrl():e.helpUrl)?"enabled":"hidden"},callback:function(e){e.block.showHelp()},scopeType:Oc.ScopeType.BLOCK,id:"blockHelp",weight:7})},Ma=function(){wa(),Sa(),Ca(),Ia(),Ra(),Oa(),Aa()},La=function(){xa(),Ma()},Na=function(e,t){var n,i=null;if(i="string"===typeof e?document.getElementById(e)||document.querySelector(e):e,!document.contains(i)&&document!==(null==(n=i)?void 0:n.ownerDocument))throw Error("Error: container is not in current document");e=new $h(t||{}),(t=document.createElement("div")).className="injectionDiv",t.tabIndex=0,Yn(t,fc.LABEL,Wa.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),i.appendChild(t),i=$a(t,e);var r=Pa(t,i,e);return Da(r),S(r),A(r),t.addEventListener("focusin",(function(){S(r)})),r},$a=function(e,t){e.setAttribute("dir","LTR"),de(t.hasCss,t.pathToMedia),e=pe(Ll.SVG,{xmlns:Sl,"xmlns:html":Cl,"xmlns:xlink":Il,version:"1.1",class:"blocklySvg",tabindex:"0"},e);var n=pe(Ll.DEFS,{},e),i=String(Math.random()).substring(2);return t.gridPattern=Oh.createDom(i,t.gridOptions,n),e},Pa=function(e,t,n){n.parentWorkspace=null;var i=(n=new Rf(n)).options;n.scale=i.zoomOptions.startScale,t.appendChild(n.createDom("blocklyMainBackground",e));var r=n.getRenderer().getClassName();return r&&ve(e,r),(r=n.getTheme().getClassName())&&ve(e,r),!i.hasCategories&&i.languageTree&&(e=n.addFlyout(Ll.SVG),be(e,t)),i.hasTrashcan&&n.addTrashcan(),i.zoomOptions&&i.zoomOptions.controls&&n.addZoomControls(),n.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),n.translate(0,0),n.addChangeListener(ca(n)),A(n),Jn(),xi(),dr(),n},Da=function(e){var t=e.options,n=e.getParentSvg();if(ie(n.parentNode,"contextmenu",null,(function(e){ae(e)||e.preventDefault()})),n=ie(window,"resize",null,(function(){_r(),e.hideComponents(!0),Vi(),li(),A(e),da(e)})),e.setResizeHandlerWrapper(n),Fa(),t.languageTree){n=e.getToolbox();var i=e.getFlyout(!0);n?n.init():i&&(i.init(e),i.show(t.languageTree),"function"===typeof i.scrollToStart&&i.scrollToStart())}t.hasTrashcan&&e.trashcan.init(),t.zoomOptions&&t.zoomOptions.controls&&e.zoomControls_.init(),t.moveOptions&&t.moveOptions.scrollbars?(e.scrollbar=new mp(e,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.horizontal,!0===t.moveOptions.scrollbars||!!t.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),e.scrollbar.resize()):e.setMetrics({x:.5,y:.5}),t.hasSounds&&Ua(t.pathToMedia,e)},Ba=function(e){var t=w();t&&!(ae(e)||t.rendered&&!t.isVisible())&&sp.registry.onKeyDown(t,e)},Fa=function(){dv||(ie(document,"scroll",null,(function(){for(var e,t=T(),n=0;e=t[n];n++)e instanceof Rf&&e.updateInverseScreenCTM()})),ie(document,"keydown",null,Ba),re(document,"touchend",null,J),re(document,"touchcancel",null,J),ll&&ie(window,"orientationchange",document,(function(){A(w())}))),dv=!0},Ua=function(e,t){function n(){for(;r.length;){var e=r.pop();e&&oe(e)}i.preload()}var i=t.getAudioManager();i.load([e+"click.mp3",e+"click.wav",e+"click.ogg"],"click"),i.load([e+"disconnect.wav",e+"disconnect.mp3",e+"disconnect.ogg"],"disconnect"),i.load([e+"delete.mp3",e+"delete.ogg",e+"delete.wav"],"delete");var r=[];r.push(ie(document,"pointermove",null,n,!0)),r.push(ie(document,"touchstart",null,n,!0))},ja=function(e){return void 0!==e.getType&&void 0!==e.initView&&void 0!==e.dispose&&void 0!==e.getWeight&&void 0!==e.getSize&&void 0!==e.applyColour&&void 0!==e.hideForInsertionMarker&&void 0!==e.updateEditable&&void 0!==e.updateCollapsed&&void 0!==e.isShownWhenCollapsed&&void 0!==e.setOffsetInBlock&&void 0!==e.onLocationChange&&void 0!==e.onClick},Za=function(e){return void 0!==e.paste},Ha=function(e){return e.isSelectable()},za=function(e){w().hideChaff(e)},(Va=Va||{}).scope={},Va.ASSUME_ES5=!1,Va.ASSUME_NO_NATIVE_MAP=!1,Va.ASSUME_NO_NATIVE_SET=!1,Va.SIMPLE_FROUND_POLYFILL=!1,Va.ISOLATE_POLYFILLS=!1,Va.FORCE_POLYFILL_PROMISE=!1,Va.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,Va.defineProperty=Va.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e},Va.getGlobal=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g];for(var t=0;t<e.length;++t){var i=e[t];if(i&&i.Math==Math)return i}throw Error("Cannot find global object")},Va.global=Va.getGlobal(this),Va.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x"),Va.TRUST_ES6_POLYFILLS=!Va.ISOLATE_POLYFILLS||Va.IS_SYMBOL_NATIVE,Va.polyfills={},Va.propertyToPolyfillSymbol={},Va.POLYFILL_PREFIX="$jscp$",Va.polyfill=function(e,t,n,i){t&&(Va.ISOLATE_POLYFILLS?Va.polyfillIsolated(e,t,n,i):Va.polyfillUnisolated(e,t,n,i))},Va.polyfillUnisolated=function(e,t,n,i){for(n=Va.global,e=e.split("."),i=0;i<e.length-1;i++){var r=e[i];if(!(r in n))return;n=n[r]}(t=t(i=n[e=e[e.length-1]]))!=i&&null!=t&&Va.defineProperty(n,e,{configurable:!0,writable:!0,value:t})},Va.polyfillIsolated=function(e,t,n,i){var r=e.split(".");e=1===r.length,i=r[0],i=!e&&i in Va.polyfills?Va.polyfills:Va.global;for(var o=0;o<r.length-1;o++){var a=r[o];if(!(a in i))return;i=i[a]}r=r[r.length-1],null!=(t=t(n=Va.IS_SYMBOL_NATIVE&&"es6"===n?i[r]:null))&&(e?Va.defineProperty(Va.polyfills,r,{configurable:!0,writable:!0,value:t}):t!==n&&(void 0===Va.propertyToPolyfillSymbol[r]&&(n=1e9*Math.random()>>>0,Va.propertyToPolyfillSymbol[r]=Va.IS_SYMBOL_NATIVE?Va.global.Symbol(r):Va.POLYFILL_PREFIX+n+"$"+r),Va.defineProperty(i,Va.propertyToPolyfillSymbol[r],{configurable:!0,writable:!0,value:t})))},Va.polyfill("globalThis",(function(e){return e||Va.global}),"es_2020","es3"),Va.arrayIteratorImpl=function(e){var t=0;return function(){return t<e.length?{done:!1,value:e[t++]}:{done:!0}}},Va.arrayIterator=function(e){return{next:Va.arrayIteratorImpl(e)}},Va.initSymbol=function(){},Va.iteratorPrototype=function(e){return(e={next:e})[Symbol.iterator]=function(){return this},e},Va.iteratorFromArray=function(e,t){e instanceof String&&(e+="");var n=0,i=!1,r={next:function(){if(!i&&n<e.length){var r=n++;return{value:t(r,e[r]),done:!1}}return i=!0,{done:!0,value:void 0}}};return r[Symbol.iterator]=function(){return r},r},Va.polyfill("Array.prototype.values",(function(e){return e||function(){return Va.iteratorFromArray(this,(function(e,t){return t}))}}),"es8","es3"),Va.polyfill("Array.prototype.flat",(function(e){return e||function(e){e=void 0===e?1:e;var t=[];return Array.prototype.forEach.call(this,(function(n){Array.isArray(n)&&0<e?(n=Array.prototype.flat.call(n,e-1),t.push.apply(t,n)):t.push(n)})),t}}),"es9","es5"),Va.owns=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Va.polyfill("Object.entries",(function(e){return e||function(e){var t,n=[];for(t in e)Va.owns(e,t)&&n.push([t,e[t]]);return n}}),"es8","es3"),Va.polyfill("Object.values",(function(e){return e||function(e){var t,n=[];for(t in e)Va.owns(e,t)&&n.push(e[t]);return n}}),"es8","es3");var Ga=Object.create(null),Xa={typeMap:Ga},Ya=Object.create(null),Ka="default",qa=function(){"use strict";function e(t){d(this,e),this.name=t}return f(e,[{key:"toString",value:function(){return this.name}}]),e}();qa.CONNECTION_CHECKER=new qa("connectionChecker"),qa.CONNECTION_PREVIEWER=new qa("connectionPreviewer"),qa.CURSOR=new qa("cursor"),qa.EVENT=new qa("event"),qa.FIELD=new qa("field"),qa.INPUT=new qa("input"),qa.RENDERER=new qa("renderer"),qa.TOOLBOX=new qa("toolbox"),qa.THEME=new qa("theme"),qa.TOOLBOX_ITEM=new qa("toolboxItem"),qa.FLYOUTS_VERTICAL_TOOLBOX=new qa("flyoutsVerticalToolbox"),qa.FLYOUTS_HORIZONTAL_TOOLBOX=new qa("flyoutsHorizontalToolbox"),qa.METRICS_MANAGER=new qa("metricsManager"),qa.BLOCK_DRAGGER=new qa("blockDragger"),qa.SERIALIZER=new qa("serializer"),qa.ICON=new qa("icon"),qa.PASTER=new qa("paster");var Ja={DEFAULT:Ka,TEST_ONLY:Xa};Ja.Type=qa,Ja.getAllItems=_,Ja.getClass=m,Ja.getClassFromOptions=b,Ja.getObject=y,Ja.hasItem=o,Ja.register=e,Ja.unregister=i;var Qa,es,ts=Object.create(null),ns=Object.create(null),is=null,rs=[],os={defineBlocksWithJsonArrayInternal:$},as={TEST_ONLY:os};as.createBlockDefinitionsFromJsonArray=Wa.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,as.defineBlocks=Wa.defineBlocks$$module$build$src$core$common,as.defineBlocksWithJsonArray=N,as.draggingConnections=rs,as.getAllWorkspaces=T,as.getBlockTypeCounts=M,as.getMainWorkspace=w,as.getParentContainer=R,as.getSelected=C,as.getWorkspaceById=k,as.registerWorkspace=E,as.setMainWorkspace=S,as.setParentContainer=O,as.setSelected=I,as.svgResize=A,as.unregisterWorkpace=x;var ss,ls,us,cs,hs,ds,fs,ps,vs,gs,ms,ys,_s,bs,ks,Ts,Es,xs,ws,Ss,Cs,Is,Rs,Os,As,Ms,Ls="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ns={genUid:function(){for(var e=Ls.length,t=[],n=0;20>n;n++)t[n]=Ls.charAt(Math.random()*e);return t.join("")}},$s=0,Ps={TEST_ONLY:Ns};Ps.genUid=D,Ps.getNextUniqueId=P,ss="",ls=!0,us=0,Wa.CREATE$$module$build$src$core$events$utils="create",Wa.CREATE$$module$build$src$core$events$utils,Wa.DELETE$$module$build$src$core$events$utils="delete",Wa.DELETE$$module$build$src$core$events$utils,Wa.CHANGE$$module$build$src$core$events$utils="change",Wa.CHANGE$$module$build$src$core$events$utils,cs="block_field_intermediate_change",Wa.MOVE$$module$build$src$core$events$utils="move",Wa.MOVE$$module$build$src$core$events$utils,hs="var_create",ds="var_delete",fs="var_rename",ps="ui",vs="drag",gs="selected",ms="click",ys="marker_move",_s="bubble_open",bs="trashcan_open",ks="toolbox_item_select",Ts="theme_change",Es="viewport_change",xs="comment_create",ws="comment_delete",Ss="comment_change",Cs="comment_move",Is="finished_loading",Rs=[Wa.CREATE$$module$build$src$core$events$utils,Wa.MOVE$$module$build$src$core$events$utils,xs,Cs],As={FIRE_QUEUE:Os=[],fireNow:Z,fireInternal:j,setGroupInternal:W},(Ms={BLOCK_CHANGE:Wa.CHANGE$$module$build$src$core$events$utils,BLOCK_CREATE:Wa.CREATE$$module$build$src$core$events$utils,BLOCK_DELETE:Wa.DELETE$$module$build$src$core$events$utils,BLOCK_DRAG:vs,BLOCK_FIELD_INTERMEDIATE_CHANGE:cs,BLOCK_MOVE:Wa.MOVE$$module$build$src$core$events$utils,BUBBLE_OPEN:_s,BUMP_EVENTS:Rs,CHANGE:Wa.CHANGE$$module$build$src$core$events$utils,CLICK:ms,COMMENT_CHANGE:Ss,COMMENT_CREATE:xs,COMMENT_DELETE:ws,COMMENT_MOVE:Cs,CREATE:Wa.CREATE$$module$build$src$core$events$utils,DELETE:Wa.DELETE$$module$build$src$core$events$utils,FINISHED_LOADING:Is,MARKER_MOVE:ys,MOVE:Wa.MOVE$$module$build$src$core$events$utils,SELECTED:gs,TEST_ONLY:As,THEME_CHANGE:Ts,TOOLBOX_ITEM_SELECT:ks,TRASHCAN_OPEN:bs,UI:ps,VAR_CREATE:hs,VAR_DELETE:ds,VAR_RENAME:fs,VIEWPORT_CHANGE:Es}).clearPendingUndo=z,Ms.disable=Wa.disable$$module$build$src$core$events$utils,Ms.disableOrphans=K,Ms.enable=Wa.enable$$module$build$src$core$events$utils,Ms.filter=H,Ms.fire=U,Ms.fromJson=X,Ms.get=Y,Ms.getDescendantIds=G,Ms.getGroup=Wa.getGroup$$module$build$src$core$events$utils,Ms.getRecordUndo=F,Ms.isEnabled=V,Ms.setGroup=Wa.setGroup$$module$build$src$core$events$utils,Ms.setRecordUndo=B;var Ds,Bs,Fs=function(){"use strict";function e(){d(this,e),this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=Wa.getGroup$$module$build$src$core$events$utils(),this.recordUndo=F()}return f(e,[{key:"toJson",value:function(){return{type:this.type,group:this.group}}},{key:"isNull",value:function(){return!1}},{key:"run",value:function(e){}},{key:"getEventWorkspace_",value:function(){var e;if(this.workspaceId&&(e=k(this.workspaceId)),!e)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return e}}],[{key:"fromJson",value:function(e,t,n){return n.isBlank=!1,n.group=e.group||"",n.workspaceId=t.id,n}}]),e}(),Us=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).recordUndo=!1,i.isUiEvent=!0,i.isBlank="undefined"===typeof e,i.workspaceId=e||"",i}return f(n)}(Fs),js=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),null===(i=e?e.workspace.id:i)&&(i=void 0),(o=t.call(this,i)).type=ms,o.blockId=e?e.id:void 0,o.targetType=r,o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return e.targetType=this.targetType,e.blockId=this.blockId,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).targetType=e.targetType,t.blockId=e.blockId,t}}]),n}(Us);(Bs=Ds||(Ds={})).BLOCK="block",Bs.WORKSPACE="workspace",Bs.ZOOM_CONTROLS="zoom_controls",e(qa.EVENT,ms,js);var Zs={};Zs.Click=js,Zs.ClickTarget=Ds;var Hs,zs,Vs,Ws,Gs,Xs,Ys,Ks,qs,Js,Qs=750,el="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),tl=null,nl={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},il=0,rl={TOUCH_ENABLED:el,TOUCH_MAP:nl};rl.checkTouchIdentifier=ne,rl.clearTouchIdentifier=Q,rl.getTouchIdentifierFromEvent=te,rl.longStart=q,rl.longStop=J,rl.shouldHandleEvent=ee,function(e){function t(e){return-1!==n.indexOf(e.toUpperCase())}var n=(Hs=e).toUpperCase();zs=t("JavaFX"),Vs=t("WebKit"),Ws=t("Gecko")&&!Vs,Gs=t("Android"),e=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Xs=t("iPad")||t("Macintosh")&&0<e,Ys=t("iPhone")&&!Xs,Ks=t("Macintosh"),qs=Xs||Gs&&!t("Mobile")||t("Silk"),Js=!qs&&(Ys||Gs)}(globalThis.navigator&&globalThis.navigator.userAgent||"");var ol=zs,al=Ws,sl=Gs,ll=Xs,ul=Ys,cl=Ks,hl=Js,dl={ANDROID:sl,GECKO:al,IPAD:ll,IPHONE:ul,JavaFx:ol,MAC:cl,MOBILE:hl,raw:Hs},fl=40,pl=125,vl={};vl.bind=re,vl.conditionalBind=ie,vl.getScrollDeltaPixels=ue,vl.isRightButton=se,vl.isTargetInput=ae,vl.mouseToSvg=le,vl.unbind=oe;var gl={};gl.removeElem=ce;var ml=function(){"use strict";function e(t){d(this,e),this.name_=t}return f(e,[{key:"toString",value:function(){return this.name_}}]),e}();ml.POSITIONABLE=new ml("positionable"),ml.DRAG_TARGET=new ml("drag_target"),ml.DELETE_AREA=new ml("delete_area"),ml.AUTOHIDEABLE=new ml("autohideable");var yl=function(){"use strict";function e(){d(this,e),this.componentData=new Map,this.capabilityToComponentIds=new Map}return f(e,[{key:"addComponent",value:function(e,t){var n,i=e.component.id;if(!t&&this.componentData.has(i))throw Error('Plugin "'+i+'" with capabilities "'+(null==(n=this.componentData.get(i))?void 0:n.capabilities)+'" already added.');for(this.componentData.set(i,e),t=[],n=0;n<e.capabilities.length;n++){var r=String(e.capabilities[n]).toLowerCase();if(t.push(r),this.capabilityToComponentIds.has(r)){var o=void 0;null==(o=this.capabilityToComponentIds.get(r))||o.push(i)}else this.capabilityToComponentIds.set(r,[i])}this.componentData.get(i).capabilities=t}},{key:"removeComponent",value:function(e){var t=this.componentData.get(e);if(t){for(var n=0;n<t.capabilities.length;n++){var i=String(t.capabilities[n]).toLowerCase();ce(this.capabilityToComponentIds.get(i),e)}this.componentData.delete(e)}}},{key:"addCapability",value:function(e,t){if(!this.getComponent(e))throw Error('Cannot add capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');var n,i;this.hasCapability(e,t)?console.warn('Plugin "'+e+'already has capability "'+t+'"'):(t="".concat(t).toLowerCase(),null==(n=this.componentData.get(e))||n.capabilities.push(t),null==(i=this.capabilityToComponentIds.get(t))||i.push(e))}},{key:"removeCapability",value:function(e,t){if(!this.getComponent(e))throw Error('Cannot remove capability, "'+t+'". Plugin "'+e+'" has not been added to the ComponentManager');this.hasCapability(e,t)?(t="".concat(t).toLowerCase(),ce(this.componentData.get(e).capabilities,t),ce(this.capabilityToComponentIds.get(t),e)):console.warn('Plugin "'+e+"doesn't have capability \""+t+'" to remove')}},{key:"hasCapability",value:function(e,t){return t="".concat(t).toLowerCase(),this.componentData.has(e)&&-1!==this.componentData.get(e).capabilities.indexOf(t)}},{key:"getComponent",value:function(e){var t;return null==(t=this.componentData.get(e))?void 0:t.component}},{key:"getComponents",value:function(e,t){var n=this;if(e="".concat(e).toLowerCase(),!(e=this.capabilityToComponentIds.get(e)))return[];var i=[];if(t){var r=[];e.forEach((function(e){r.push(n.componentData.get(e))})),r.sort((function(e,t){return e.weight-t.weight})),r.forEach((function(e){i.push(e.component)}))}else e.forEach((function(e){i.push(n.componentData.get(e).component)}));return i}}]),e}();yl.Capability=ml;var _l=!1,bl='\n.blocklySvg {\n  background-color: #fff;\n  outline: none;\n  overflow: hidden;  /* IE overflows by default. */\n  position: absolute;\n  display: block;\n}\n\n.blocklyWidgetDiv {\n  display: none;\n  position: absolute;\n  z-index: 99999;  /* big value for bootstrap3 compatibility */\n}\n\n.injectionDiv {\n  height: 100%;\n  position: relative;\n  overflow: hidden;  /* So blocks in drag surface disappear at edges */\n  touch-action: none;\n}\n\n.blocklyNonSelectable {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n}\n\n.blocklyBlockCanvas.blocklyCanvasTransitioning,\n.blocklyBubbleCanvas.blocklyCanvasTransitioning {\n  transition: transform .5s;\n}\n\n.blocklyTooltipDiv {\n  background-color: #ffffc7;\n  border: 1px solid #ddc;\n  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);\n  color: #000;\n  display: none;\n  font: 9pt sans-serif;\n  opacity: .9;\n  padding: 2px;\n  position: absolute;\n  z-index: 100000;  /* big value for bootstrap3 compatibility */\n}\n\n.blocklyDropDownDiv {\n  position: absolute;\n  left: 0;\n  top: 0;\n  z-index: 1000;\n  display: none;\n  border: 1px solid;\n  border-color: #dadce0;\n  background-color: #fff;\n  border-radius: 2px;\n  padding: 4px;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownContent {\n  max-height: 300px;  /* @todo: spec for maximum height. */\n  overflow: auto;\n  overflow-x: hidden;\n  position: relative;\n}\n\n.blocklyDropDownArrow {\n  position: absolute;\n  left: 0;\n  top: 0;\n  width: 16px;\n  height: 16px;\n  z-index: -1;\n  background-color: inherit;\n  border-color: inherit;\n}\n\n.blocklyDropDownButton {\n  display: inline-block;\n  float: left;\n  padding: 0;\n  margin: 4px;\n  border-radius: 4px;\n  outline: none;\n  border: 1px solid;\n  transition: box-shadow .1s;\n  cursor: pointer;\n}\n\n.blocklyArrowTop {\n  border-top: 1px solid;\n  border-left: 1px solid;\n  border-top-left-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyArrowBottom {\n  border-bottom: 1px solid;\n  border-right: 1px solid;\n  border-bottom-right-radius: 4px;\n  border-color: inherit;\n}\n\n.blocklyResizeSE {\n  cursor: se-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeSW {\n  cursor: sw-resize;\n  fill: #aaa;\n}\n\n.blocklyResizeLine {\n  stroke: #515A5A;\n  stroke-width: 1;\n}\n\n.blocklyHighlightedConnectionPath {\n  fill: none;\n  stroke: #fc3;\n  stroke-width: 4px;\n}\n\n.blocklyPathLight {\n  fill: none;\n  stroke-linecap: round;\n  stroke-width: 1;\n}\n\n.blocklySelected>.blocklyPathLight {\n  display: none;\n}\n\n.blocklyDraggable {\n  cursor: grab;\n  cursor: -webkit-grab;\n}\n\n.blocklyDragging {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n  /* Changes cursor on mouse down. Not effective in Firefox because of\n     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */\n.blocklyDraggable:active {\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n.blocklyDragging.blocklyDraggingDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyDragging>.blocklyPath,\n.blocklyDragging>.blocklyPathLight {\n  fill-opacity: .8;\n  stroke-opacity: .8;\n}\n\n.blocklyDragging>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyDisabled>.blocklyPath {\n  fill-opacity: .5;\n  stroke-opacity: .5;\n}\n\n.blocklyDisabled>.blocklyPathLight,\n.blocklyDisabled>.blocklyPathDark {\n  display: none;\n}\n\n.blocklyInsertionMarker>.blocklyPath,\n.blocklyInsertionMarker>.blocklyPathLight,\n.blocklyInsertionMarker>.blocklyPathDark {\n  fill-opacity: .2;\n  stroke: none;\n}\n\n.blocklyMultilineText {\n  font-family: monospace;\n}\n\n.blocklyNonEditableText>text {\n  pointer-events: none;\n}\n\n.blocklyFlyout {\n  position: absolute;\n  z-index: 20;\n}\n\n.blocklyText text {\n  cursor: default;\n}\n\n/*\n  Don\'t allow users to select text.  It gets annoying when trying to\n  drag a block and selected text moves instead.\n*/\n.blocklySvg text {\n  user-select: none;\n  -ms-user-select: none;\n  -webkit-user-select: none;\n  cursor: inherit;\n}\n\n.blocklyHidden {\n  display: none;\n}\n\n.blocklyFieldDropdown:not(.blocklyHidden) {\n  display: block;\n}\n\n.blocklyIconGroup {\n  cursor: default;\n}\n\n.blocklyIconGroup:not(:hover),\n.blocklyIconGroupReadonly {\n  opacity: .6;\n}\n\n.blocklyIconShape {\n  fill: #00f;\n  stroke: #fff;\n  stroke-width: 1px;\n}\n\n.blocklyIconSymbol {\n  fill: #fff;\n}\n\n.blocklyMinimalBody {\n  margin: 0;\n  padding: 0;\n}\n\n.blocklyHtmlInput {\n  border: none;\n  border-radius: 4px;\n  height: 100%;\n  margin: 0;\n  outline: none;\n  padding: 0;\n  width: 100%;\n  text-align: center;\n  display: block;\n  box-sizing: border-box;\n}\n\n/* Remove the increase and decrease arrows on the field number editor */\ninput.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,\ninput.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  margin: 0;\n}\n\ninput[type=number] {\n  -moz-appearance: textfield;\n}\n\n.blocklyMainBackground {\n  stroke-width: 1;\n  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */\n}\n\n.blocklyMutatorBackground {\n  fill: #fff;\n  stroke: #ddd;\n  stroke-width: 1;\n}\n\n.blocklyFlyoutBackground {\n  fill: #ddd;\n  fill-opacity: .8;\n}\n\n.blocklyMainWorkspaceScrollbar {\n  z-index: 20;\n}\n\n.blocklyFlyoutScrollbar {\n  z-index: 30;\n}\n\n.blocklyScrollbarHorizontal,\n.blocklyScrollbarVertical {\n  position: absolute;\n  outline: none;\n}\n\n.blocklyScrollbarBackground {\n  opacity: 0;\n}\n\n.blocklyScrollbarHandle {\n  fill: #ccc;\n}\n\n.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyScrollbarHandle:hover {\n  fill: #bbb;\n}\n\n/* Darken flyout scrollbars due to being on a grey background. */\n/* By contrast, workspace scrollbars are on a white background. */\n.blocklyFlyout .blocklyScrollbarHandle {\n  fill: #bbb;\n}\n\n.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,\n.blocklyFlyout .blocklyScrollbarHandle:hover {\n  fill: #aaa;\n}\n\n.blocklyInvalidInput {\n  background: #faa;\n}\n\n.blocklyVerticalMarker {\n  stroke-width: 3px;\n  fill: rgba(255,255,255,.5);\n  pointer-events: none;\n}\n\n.blocklyComputeCanvas {\n  position: absolute;\n  width: 0;\n  height: 0;\n}\n\n.blocklyNoPointerEvents {\n  pointer-events: none;\n}\n\n.blocklyContextMenu {\n  border-radius: 4px;\n  max-height: 100%;\n}\n\n.blocklyDropdownMenu {\n  border-radius: 2px;\n  padding: 0 !important;\n}\n\n.blocklyDropdownMenu .blocklyMenuItem {\n  /* 28px on the left for icon or checkbox. */\n  padding-left: 28px;\n}\n\n/* BiDi override for the resting state. */\n.blocklyDropdownMenu .blocklyMenuItemRtl {\n  /* Flip left/right padding for BiDi. */\n  padding-left: 5px;\n  padding-right: 28px;\n}\n\n.blocklyWidgetDiv .blocklyMenu {\n  background: #fff;\n  border: 1px solid transparent;\n  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);\n  font: normal 13px Arial, sans-serif;\n  margin: 0;\n  outline: none;\n  padding: 4px 0;\n  position: absolute;\n  overflow-y: auto;\n  overflow-x: hidden;\n  max-height: 100%;\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n.blocklyWidgetDiv .blocklyMenu.blocklyFocused {\n  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);\n}\n\n.blocklyDropDownDiv .blocklyMenu {\n  background: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  border: inherit;  /* Compatibility with gapi, reset from goog-menu */\n  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;\n  outline: none;\n  position: relative;  /* Compatibility with gapi, reset from goog-menu */\n  z-index: 20000;  /* Arbitrary, but some apps depend on it... */\n}\n\n/* State: resting. */\n.blocklyMenuItem {\n  border: none;\n  color: #000;\n  cursor: pointer;\n  list-style: none;\n  margin: 0;\n  /* 7em on the right for shortcut. */\n  min-width: 7em;\n  padding: 6px 15px;\n  white-space: nowrap;\n}\n\n/* State: disabled. */\n.blocklyMenuItemDisabled {\n  color: #ccc;\n  cursor: inherit;\n}\n\n/* State: hover. */\n.blocklyMenuItemHighlight {\n  background-color: rgba(0,0,0,.1);\n}\n\n/* State: selected/checked. */\n.blocklyMenuItemCheckbox {\n  height: 16px;\n  position: absolute;\n  width: 16px;\n}\n\n.blocklyMenuItemSelected .blocklyMenuItemCheckbox {\n  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;\n  float: left;\n  margin-left: -24px;\n  position: static;  /* Scroll with the menu. */\n}\n\n.blocklyMenuItemRtl .blocklyMenuItemCheckbox {\n  float: right;\n  margin-right: -24px;\n}\n\n.blocklyBlockDragSurface {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  overflow: visible !important;\n  z-index: 80;\n  pointer-events: none;\n}\n',kl={};kl.inject=de,kl.register=he;var Tl=function(){"use strict";function e(t,n){d(this,e),this.x=t,this.y=n}return f(e,[{key:"clone",value:function(){return new e(this.x,this.y)}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}},{key:"translate",value:function(e,t){return this.x+=e,this.y+=t,this}}],[{key:"equals",value:function(e,t){return e===t||!(!e||!t)&&e.x===t.x&&e.y===t.y}},{key:"distance",value:function(e,t){var n=e.x-t.x;return e=e.y-t.y,Math.sqrt(n*n+e*e)}},{key:"magnitude",value:function(e){return Math.sqrt(e.x*e.x+e.y*e.y)}},{key:"difference",value:function(t,n){return new e(t.x-n.x,t.y-n.y)}},{key:"sum",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}}]),e}(),El=new Set,xl={};xl.warn=fe;var wl,Sl="http://www.w3.org/2000/svg",Cl="http://www.w3.org/1999/xhtml",Il="http://www.w3.org/1999/xlink";!function(e){e[e.ELEMENT_NODE=1]="ELEMENT_NODE",e[e.TEXT_NODE=3]="TEXT_NODE",e[e.COMMENT_NODE=8]="COMMENT_NODE"}(wl||(wl={}));var Rl=null,Ol=0,Al=null,Ml={HTML_NS:Cl};Ml.NodeType=wl,Ml.SVG_NS=Sl,Ml.XLINK_NS=Il,Ml.addClass=ve,Ml.containsNode=ke,Ml.createSvgElement=pe,Ml.getFastTextWidth=Se,Ml.getFastTextWidthWithSizeString=Ce,Ml.getTextWidth=we,Ml.hasClass=ye,Ml.insertAfter=be,Ml.measureFontMetrics=Ie,Ml.removeClass=me,Ml.removeClasses=ge,Ml.removeNode=_e,Ml.setCssTransform=Te,Ml.startTextWidthCache=Ee,Ml.stopTextWidthCache=xe;var Ll=function(){"use strict";function e(t){d(this,e),this.tagName=t}return f(e,[{key:"toString",value:function(){return this.tagName}}]),e}();Ll.ANIMATE=new Ll("animate"),Ll.CIRCLE=new Ll("circle"),Ll.CLIPPATH=new Ll("clipPath"),Ll.DEFS=new Ll("defs"),Ll.FECOMPOSITE=new Ll("feComposite"),Ll.FECOMPONENTTRANSFER=new Ll("feComponentTransfer"),Ll.FEFLOOD=new Ll("feFlood"),Ll.FEFUNCA=new Ll("feFuncA"),Ll.FEGAUSSIANBLUR=new Ll("feGaussianBlur"),Ll.FEPOINTLIGHT=new Ll("fePointLight"),Ll.FESPECULARLIGHTING=new Ll("feSpecularLighting"),Ll.FILTER=new Ll("filter"),Ll.FOREIGNOBJECT=new Ll("foreignObject"),Ll.G=new Ll("g"),Ll.IMAGE=new Ll("image"),Ll.LINE=new Ll("line"),Ll.PATH=new Ll("path"),Ll.PATTERN=new Ll("pattern"),Ll.POLYGON=new Ll("polygon"),Ll.RECT=new Ll("rect"),Ll.SVG=new Ll("svg"),Ll.TEXT=new Ll("text"),Ll.TSPAN=new Ll("tspan");var Nl=function(){"use strict";function e(t,n,i,r){d(this,e),this.top=t,this.bottom=n,this.left=i,this.right=r}return f(e,[{key:"getHeight",value:function(){return this.bottom-this.top}},{key:"getWidth",value:function(){return this.right-this.left}},{key:"contains",value:function(e,t){return e>=this.left&&e<=this.right&&t>=this.top&&t<=this.bottom}},{key:"intersects",value:function(e){return!(this.left>e.right||this.right<e.left||this.top>e.bottom||this.bottom<e.top)}}]),e}(),$l=function(){"use strict";function e(t,n){d(this,e),this.width=t,this.height=n}return f(e,null,[{key:"equals",value:function(e,t){return e===t||!(!e||!t)&&e.width===t.width&&e.height===t.height}}]),e}(),Pl={getSizeInternal:Oe},Dl={TEST_ONLY:Pl};Dl.getBorderBox=$e,Dl.getComputedStyle=Me,Dl.getContainerOffsetToScrollInto=De,Dl.getPageOffset=Le,Dl.getSize=Re,Dl.getViewportPageOffset=Ne,Dl.scrollIntoContainerView=Pe;var Bl=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,Fl=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,Ul={TEST_ONLY:{XY_REGEX:Bl,XY_STYLE_REGEX:Fl}};Ul.getDocumentScroll=je,Ul.getInjectionDivXY=Fe,Ul.getRelativeXY=Be,Ul.getViewportBBox=Ue,Ul.screenToWsCoordinates=Ze,Ul.wsToScreenCoordinates=He;var jl=function(){"use strict";function e(t,n,i,r,o){d(this,e),this.workspace=t,this.horizontal=n,this.oldHostMetrics=null,this.ratio=1,this.origin=new Tl(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Tl(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=i||!1,this.margin=void 0!==o?o:e.DEFAULT_SCROLLBAR_MARGIN,t="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),r&&(t+=" "+r),this.outerSvg=pe(Ll.SVG,{class:t}),r=pe(Ll.G,{},this.outerSvg),this.svgBackground=pe(Ll.RECT,{class:"blocklyScrollbarBackground"},r),t=Math.floor((e.scrollbarThickness-5)/2),this.svgHandle=pe(Ll.RECT,{class:"blocklyScrollbarHandle",rx:t,ry:t},r),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),be(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),n?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=ie(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=ie(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}return f(e,[{key:"setInitialThickness",value:function(){var t=e.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(t)),this.outerSvg.setAttribute("height",String(t)),this.svgHandle.setAttribute("height",String(t-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(t)),this.outerSvg.setAttribute("width",String(t)),this.svgHandle.setAttribute("width",String(t-5)),this.svgHandle.setAttribute("x","2.5"))}},{key:"dispose",value:function(){this.cleanUp(),oe(this.onMouseDownBarWrapper_),oe(this.onMouseDownHandleWrapper_),_e(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}},{key:"constrainHandleLength",value:function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength)}},{key:"setHandleLength",value:function(e){this.handleLength=e,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}},{key:"constrainHandlePosition",value:function(e){return 0>=e||isNaN(e)?0:Math.min(e,this.scrollbarLength-this.handleLength)}},{key:"setHandlePosition",value:function(e){this.handlePosition=e,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}},{key:"setScrollbarLength",value:function(e){this.scrollbarLength=e,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}},{key:"setPosition",value:function(e,t){this.position.x=e,this.position.y=t,Te(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}},{key:"resize",value:function(t){(t||(t=this.workspace.getMetrics()))&&(this.oldHostMetrics&&e.metricsAreEquivalent(t,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(t):this.resizeVertical(t),this.oldHostMetrics=t,this.updateMetrics()))}},{key:"requiresViewResize",value:function(e){return!this.oldHostMetrics||this.oldHostMetrics.viewWidth!==e.viewWidth||this.oldHostMetrics.viewHeight!==e.viewHeight||this.oldHostMetrics.absoluteLeft!==e.absoluteLeft||this.oldHostMetrics.absoluteTop!==e.absoluteTop}},{key:"resizeHorizontal",value:function(e){this.requiresViewResize(e)?this.resizeViewHorizontal(e):this.resizeContentHorizontal(e)}},{key:"resizeViewHorizontal",value:function(t){var n=t.viewWidth-2*this.margin;this.pair&&(n-=e.scrollbarThickness),this.setScrollbarLength(Math.max(0,n)),n=t.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(n+=e.scrollbarThickness),this.setPosition(n,t.absoluteTop+t.viewHeight-e.scrollbarThickness-this.margin),this.resizeContentHorizontal(t)}},{key:"resizeContentHorizontal",value:function(e){if(e.viewWidth>=e.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewWidth/e.scrollWidth;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollWidth-e.viewWidth;var n=this.scrollbarLength-this.handleLength;e=(e.viewLeft-e.scrollLeft)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}},{key:"resizeVertical",value:function(e){this.requiresViewResize(e)?this.resizeViewVertical(e):this.resizeContentVertical(e)}},{key:"resizeViewVertical",value:function(t){var n=t.viewHeight-2*this.margin;this.pair&&(n-=e.scrollbarThickness),this.setScrollbarLength(Math.max(0,n)),this.setPosition(this.workspace.RTL?t.absoluteLeft+this.margin:t.absoluteLeft+t.viewWidth-e.scrollbarThickness-this.margin,t.absoluteTop+this.margin),this.resizeContentVertical(t)}},{key:"resizeContentVertical",value:function(e){if(e.viewHeight>=e.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var t=this.scrollbarLength*e.viewHeight/e.scrollHeight;t=this.constrainHandleLength(t),this.setHandleLength(t),t=e.scrollHeight-e.viewHeight;var n=this.scrollbarLength-this.handleLength;e=(e.viewTop-e.scrollTop)/t*n,e=this.constrainHandlePosition(e),this.setHandlePosition(e),this.ratio=n/t}}},{key:"isVisible",value:function(){return this.isHandleVisible}},{key:"setContainerVisible",value:function(e){var t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay_()}},{key:"setVisible",value:function(e){if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.setVisibleInternal(e)}},{key:"setVisibleInternal",value:function(e){var t=e!==this.isVisible();this.isHandleVisible=e,t&&this.updateDisplay_()}},{key:"updateDisplay_",value:function(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}},{key:"onMouseDownBar",value:function(e){if(this.workspace.markFocused(),Q(),this.cleanUp(),se(e))e.stopPropagation();else{var t=le(e,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());t=this.horizontal?t.x:t.y;var n=Fe(this.svgHandle);n=this.horizontal?n.x:n.y;var i=this.handlePosition,r=.95*this.handleLength;t<=n?i-=r:t>=n+this.handleLength&&(i+=r),this.setHandlePosition(this.constrainHandlePosition(i)),this.updateMetrics(),e.stopPropagation(),e.preventDefault()}}},{key:"onMouseDownHandle",value:function(e){this.workspace.markFocused(),this.cleanUp(),se(e)?e.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?e.clientX:e.clientY,this.onMouseUpWrapper_=ie(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=ie(document,"pointermove",this,this.onMouseMoveHandle),e.stopPropagation(),e.preventDefault())}},{key:"onMouseMoveHandle",value:function(e){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?e.clientX:e.clientY)-this.startDragMouse))),this.updateMetrics()}},{key:"onMouseUpHandle",value:function(){Q(),this.cleanUp()}},{key:"cleanUp",value:function(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(oe(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(oe(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}},{key:"getRatio_",value:function(){var e=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(e)&&(e=0),e}},{key:"updateMetrics",value:function(){var e=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:e}):this.workspace.setMetrics({y:e})}},{key:"set",value:function(e,t){this.setHandlePosition(this.constrainHandlePosition(e*this.ratio)),(t||void 0===t)&&this.updateMetrics()}},{key:"setOrigin",value:function(e,t){this.origin=new Tl(e,t)}}],[{key:"metricsAreEquivalent",value:function(e,t){return e.viewWidth===t.viewWidth&&e.viewHeight===t.viewHeight&&e.viewLeft===t.viewLeft&&e.viewTop===t.viewTop&&e.absoluteTop===t.absoluteTop&&e.absoluteLeft===t.absoluteLeft&&e.scrollWidth===t.scrollWidth&&e.scrollHeight===t.scrollHeight&&e.scrollLeft===t.scrollLeft&&e.scrollTop===t.scrollTop}}]),e}();jl.scrollbarThickness=el?25:15,jl.DEFAULT_SCROLLBAR_MARGIN=.5;var Zl={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},Hl={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},zl=globalThis.document,Vl=globalThis.DOMParser,Wl=globalThis.XMLSerializer;Vl&&(Zl=new Vl),Wl&&(Hl=new Wl);var Gl="https://developers.google.com/blockly/xml",Xl=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Yl={NAME_SPACE:Gl};Yl.createElement=Wa.createElement$$module$build$src$core$utils$xml,Yl.createTextNode=Wa.createTextNode$$module$build$src$core$utils$xml,Yl.domToText=Ve,Yl.injectDependencies=ze,Yl.textToDom=Wa.textToDom$$module$build$src$core$utils$xml;var Kl,ql="categoryToolbox",Jl="flyoutToolbox";!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM",e[e.LEFT=2]="LEFT",e[e.RIGHT=3]="RIGHT"}(Kl||(Kl={}));var Ql,eu,tu,nu={hasCategoriesInternal:qe},iu={};iu.Position=Kl,iu.TEST_ONLY=nu,iu.convertFlyoutDefToJsonArray=Ye,iu.convertToolboxDefToJson=Ge,iu.hasCategories=Ke,iu.isCategoryCollapsible=Je,iu.parseToolboxTree=nt,function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(Ql||(Ql={})),function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT"}(eu||(eu={})),function(e){e[e.UP=0]="UP",e[e.DOWN=1]="DOWN"}(tu||(tu={}));var ru={};ru.bumpDirection=tu,ru.bumpPositionRect=ot,ru.getCornerOppositeToolbox=rt,ru.getStartPositionRect=it,ru.horizontalPosition=eu,ru.verticalPosition=Ql;var ou={width:96,height:124,url:"sprites.png"},au=function(){"use strict";function e(t){d(this,e),this.workspace=t,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}return f(e,[{key:"createDom",value:function(){this.svgGroup=pe(Ll.G,{});var e=String(Math.random()).substring(2);return this.createZoomOutSvg(e),this.createZoomInSvg(e),this.workspace.isMovable()&&this.createZoomResetSvg(e),this.svgGroup}},{key:"init",value:function(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[yl.Capability.POSITIONABLE]}),this.initialized=!0}},{key:"dispose",value:function(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&_e(this.svgGroup);var e,t=g(this.boundEvents);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.boundEvents.length=0}},{key:"getBoundingRectangle",value:function(){var e=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(e+=this.LARGE_SPACING+this.HEIGHT),new Nl(this.top,this.top+e,this.left,this.left+this.WIDTH)}},{key:"position",value:function(e,t){if(this.initialized){var n,i=rt(this.workspace,e),r=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(r+=this.LARGE_SPACING+this.HEIGHT),e=it(i,new $l(this.WIDTH,r),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,e,this.workspace),i=i.vertical,t=ot(e,this.MARGIN_VERTICAL,i===Ql.TOP?tu.DOWN:tu.UP,t),i===Ql.TOP){var o,a=this.SMALL_SPACING+this.HEIGHT;null==(o=this.zoomInGroup)||o.setAttribute("transform","translate(0, "+a+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(a+this.LARGE_SPACING+this.HEIGHT)+")")}else{var s;o=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0,null==(s=this.zoomInGroup)||s.setAttribute("transform","translate(0, "+o+")"),o=o+this.SMALL_SPACING+this.HEIGHT,null==(a=this.zoomOutGroup)||a.setAttribute("transform","translate(0, "+o+")")}this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}},{key:"createZoomOutSvg",value:function(e){this.zoomOutGroup=pe(Ll.G,{class:"blocklyZoom blocklyZoomOut"},this.svgGroup);var t=pe(Ll.CLIPPATH,{id:"blocklyZoomoutClipPath"+e},this.zoomOutGroup);pe(Ll.RECT,{width:32,height:32},t),pe(Ll.IMAGE,{width:ou.width,height:ou.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+e+")"},this.zoomOutGroup).setAttributeNS(Il,"xlink:href",this.workspace.options.pathToMedia+ou.url),this.boundEvents.push(ie(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}},{key:"createZoomInSvg",value:function(e){this.zoomInGroup=pe(Ll.G,{class:"blocklyZoom blocklyZoomIn"},this.svgGroup);var t=pe(Ll.CLIPPATH,{id:"blocklyZoominClipPath"+e},this.zoomInGroup);pe(Ll.RECT,{width:32,height:32},t),pe(Ll.IMAGE,{width:ou.width,height:ou.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+e+")"},this.zoomInGroup).setAttributeNS(Il,"xlink:href",this.workspace.options.pathToMedia+ou.url),this.boundEvents.push(ie(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}},{key:"zoom",value:function(e,t){this.workspace.markFocused(),this.workspace.zoomCenter(e),this.fireZoomEvent(),Q(),t.stopPropagation(),t.preventDefault()}},{key:"createZoomResetSvg",value:function(e){this.zoomResetGroup=pe(Ll.G,{class:"blocklyZoom blocklyZoomReset"},this.svgGroup);var t=pe(Ll.CLIPPATH,{id:"blocklyZoomresetClipPath"+e},this.zoomResetGroup);pe(Ll.RECT,{width:32,height:32},t),pe(Ll.IMAGE,{width:ou.width,height:ou.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+e+")"},this.zoomResetGroup).setAttributeNS(Il,"xlink:href",this.workspace.options.pathToMedia+ou.url),this.boundEvents.push(ie(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}},{key:"resetZoom",value:function(e){this.workspace.markFocused();var t=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(t),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),Q(),e.stopPropagation(),e.preventDefault()}},{key:"fireZoomEvent",value:function(){var e=new(Y(ms))(null,this.workspace.id,"zoom_controls");U(e)}}]),e}();he("\n.blocklyZoom>image, .blocklyZoom>svg>image {\n  opacity: .4;\n}\n\n.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {\n  opacity: .6;\n}\n\n.blocklyZoom>image:active, .blocklyZoom>svg>image:active {\n  opacity: .8;\n}\n");var su=function(){"use strict";function e(t){d(this,e),this.name=t}return f(e,[{key:"toString",value:function(){return this.name}},{key:"equals",value:function(e){return this.name===e.toString()}}]),e}();su.MUTATOR=new su("mutator"),su.WARNING=new su("warning"),su.COMMENT=new su("comment"),function(e){e[e.VALUE=1]="VALUE",e[e.STATEMENT=3]="STATEMENT",e[e.DUMMY=5]="DUMMY",e[e.CUSTOM=6]="CUSTOM",e[e.END_ROW=7]="END_ROW"}(Wa.inputTypes$$module$build$src$core$inputs$input_types||(Wa.inputTypes$$module$build$src$core$inputs$input_types={})),Wa.inputTypes$$module$build$src$core$inputs$input_types;var lu,uu,cu=function(e,t){window.alert(e),t&&t()},hu=function(e,t){t(window.confirm(e))},du=function(e,t,n){n(window.prompt(e,t))},fu={confirmInternal:ut},pu={TEST_ONLY:fu};pu.alert=at,pu.confirm=lt,pu.prompt=ht,pu.setAlert=st,pu.setConfirm=ct,pu.setPrompt=dt,Wa.Msg$$module$build$src$core$msg=Object.create(null),lu=function(e){Object.keys(e).forEach((function(t){Wa.Msg$$module$build$src$core$msg[t]=e[t]}))},uu={Msg:Wa.Msg$$module$build$src$core$msg,setLocale:lu};var vu={};vu.isLegacyProcedureCallBlock=vt,vu.isLegacyProcedureDefBlock=pt;var gu=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).isBlank="undefined"===typeof e,e&&(i.varId=e.getId(),i.workspaceId=e.workspace.id),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return e.varId=this.varId,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).varId=e.varId,t}}]),n}(Fs),mu=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=hs,e&&(i.varType=e.type,i.varName=e.name),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.createVariable(this.varName,this.varType,this.varId):t.deleteVariableById(this.varId)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).varType=e.varType,t.varName=e.varName,t}}]),n}(gu);e(qa.EVENT,hs,mu);var yu=function(){"use strict";function e(t,n,i,r){d(this,e),this.workspace=t,this.name=n,this.type=i||"",this.id_=r||D()}return f(e,[{key:"getId",value:function(){return this.id_}}],[{key:"compareByName",value:function(e,t){return e.name.localeCompare(t.name,void 0,{sensitivity:"base"})}}]),e}(),_u="VARIABLE",bu="ijkmnopqrstuvwxyzabcdefgh",ku={generateUniqueNameInternal:_t},Tu={CATEGORY_NAME:_u,TEST_ONLY:ku,VAR_LETTER_OPTIONS:bu};Tu.allDeveloperVariables=Wa.allDeveloperVariables$$module$build$src$core$variables,Tu.allUsedVarModels=Wa.allUsedVarModels$$module$build$src$core$variables,Tu.createVariableButtonHandler=kt,Tu.flyoutCategory=gt,Tu.flyoutCategoryBlocks=mt,Tu.generateUniqueName=yt,Tu.generateUniqueNameFromOptions=bt,Tu.generateVariableFieldDom=It,Tu.getAddedVariables=Ot,Tu.getOrCreateVariablePackage=Wa.getOrCreateVariablePackage$$module$build$src$core$variables,Tu.getVariable=Wa.getVariable$$module$build$src$core$variables,Tu.nameUsedWithAnyType=xt,Tu.nameUsedWithConflictingParam=wt,Tu.promptName=Tt,Tu.renameVariable=Wa.renameVariable$$module$build$src$core$variables;var Eu=function(){"use strict";function e(t,n,i,r,o){d(this,e),this.workspace=t,this.editable=this.movable=this.deletable=!0,this.disposed_=!1,this.isComment=!0,this.id=o&&!t.getCommentById(o)?o:D(),t.addTopComment(this),this.xy_=new Tl(0,0),this.height_=i,this.width_=r,this.RTL=t.RTL,this.content_=n,e.fireCreateEvent(this)}return f(e,[{key:"dispose",value:function(){this.disposed_||(V()&&U(new(Y(ws))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}},{key:"getHeight",value:function(){return this.height_}},{key:"setHeight",value:function(e){this.height_=e}},{key:"getWidth",value:function(){return this.width_}},{key:"setWidth",value:function(e){this.width_=e}},{key:"getRelativeToSurfaceXY",value:function(){return new Tl(this.xy_.x,this.xy_.y)}},{key:"moveBy",value:function(e,t){var n=new(Y(Cs))(this);this.xy_.translate(e,t),n.recordNew(),U(n)}},{key:"isDeletable",value:function(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly)}},{key:"setDeletable",value:function(e){this.deletable=e}},{key:"isMovable",value:function(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly)}},{key:"setMovable",value:function(e){this.movable=e}},{key:"isEditable",value:function(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly)}},{key:"setEditable",value:function(e){this.editable=e}},{key:"getContent",value:function(){return this.content_}},{key:"setContent",value:function(e){this.content_!==e&&(U(new(Y(Ss))(this,this.content_,e)),this.content_=e)}},{key:"toXmlWithXY",value:function(e){return(e=this.toXml(e)).setAttribute("x",String(Math.round(this.xy_.x))),e.setAttribute("y",String(Math.round(this.xy_.y))),e.setAttribute("h",String(this.height_)),e.setAttribute("w",String(this.width_)),e}},{key:"toXml",value:function(e){var t=Wa.createElement$$module$build$src$core$utils$xml("comment");return e||(t.id=this.id),t.textContent=this.getContent(),t}}],[{key:"fireCreateEvent",value:function(e){if(V()){var t=Wa.getGroup$$module$build$src$core$events$utils();t||Wa.setGroup$$module$build$src$core$events$utils(!0);try{U(new(Y(xs))(e))}finally{Wa.setGroup$$module$build$src$core$events$utils(t)}}}},{key:"fromXml",value:function(t,n){var i=e.parseAttributes(t);return n=new e(n,i.content,i.h,i.w,i.id),i=t.getAttribute("x"),t=t.getAttribute("y"),i=i?parseInt(i,10):NaN,t=t?parseInt(t,10):NaN,isNaN(i)||isNaN(t)||n.moveBy(i,t),e.fireCreateEvent(n),n}},{key:"parseAttributes",value:function(e){var t,n=e.getAttribute("h"),i=e.getAttribute("w"),r=e.getAttribute("x"),o=e.getAttribute("y"),a=e.getAttribute("id");if(!a)throw Error("No ID present in XML comment definition.");return{id:a,h:n?parseInt(n):100,w:i?parseInt(i):100,x:r?parseInt(r):NaN,y:o?parseInt(o):NaN,content:null!=(t=e.textContent)?t:""}}}]),e}(),xu=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,r)).type=gs,o.oldElementId=null!=e?e:void 0,o.newElementId=null!=i?i:void 0,o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);return e.oldElementId=this.oldElementId,e.newElementId=this.newElementId,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldElementId=e.oldElementId,t.newElementId=e.newElementId,t}}]),n}(Us);e(qa.EVENT,gs,xu);var wu={};wu.register=At,wu.unregister=Mt;var Su=function(){"use strict";function e(){d(this,e)}return f(e,[{key:"paste",value:function(e,t,n){var i,r,o=e.commentState;return n?(o.setAttribute("x","".concat(n.x)),o.setAttribute("y","".concat(n.y))):(n=parseInt(null!=(i=o.getAttribute("x"))?i:"0")+50,i=parseInt(null!=(r=o.getAttribute("y"))?r:"0")+50,o.setAttribute("x","".concat(n)),o.setAttribute("y","".concat(i))),Ou.fromXmlRendered(e.commentState,t)}}]),e}();Su.TYPE="workspace-comment",At(Su.TYPE,new Su);var Cu=8,Iu=3,Ru=2,Ou=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a){var s;return d(this,n),(s=t.call(this,e,i,r,o,a)).onMouseMoveWrapper=s.onMouseUpWrapper=null,s.eventsInit=!1,s.deleteIconBorder=s.deleteGroup=s.resizeGroup=s.foreignObject=s.svgHandleTarget=s.svgRectTarget=s.textarea=null,s.rendered=s.autoLayout=s.focused=!1,s.svgGroup=pe(Ll.G,{class:"blocklyComment"}),s.workspace=e,s.svgRect_=pe(Ll.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:Iu,ry:Iu}),s.svgGroup.appendChild(s.svgRect_),s.render(),s}return f(n,[{key:"dispose",value:function(){this.disposed_||(C()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),V()&&U(new(Y(ws))(this)),_e(this.svgGroup),Wa.disable$$module$build$src$core$events$utils(),l(u(n.prototype),"dispose",this).call(this),Wa.enable$$module$build$src$core$events$utils())}},{key:"initSvg",value:function(e){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(ie(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),ie(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown)),this.eventsInit=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!e&&this.textarea&&this.textarea.select()}},{key:"pathMouseDown",value:function(e){var t=this.workspace.getGesture(e);t&&t.handleBubbleStart(e,this)}},{key:"showContextMenu",value:function(e){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}},{key:"select",value:function(){if(C()!==this){var e=null;if(C()){e=C().id,Wa.disable$$module$build$src$core$events$utils();try{C().unselect()}finally{Wa.enable$$module$build$src$core$events$utils()}}e=new(Y(gs))(e,this.id,this.workspace.id),U(e),I(this),this.addSelect()}}},{key:"unselect",value:function(){if(C()===this){var e=new(Y(gs))(this.id,null,this.workspace.id);U(e),I(null),this.removeSelect(),this.blurFocus()}}},{key:"addSelect",value:function(){ve(this.svgGroup,"blocklySelected"),this.setFocus()}},{key:"removeSelect",value:function(){ve(this.svgGroup,"blocklySelected"),this.blurFocus()}},{key:"addFocus",value:function(){ve(this.svgGroup,"blocklyFocused")}},{key:"removeFocus",value:function(){me(this.svgGroup,"blocklyFocused")}},{key:"getRelativeToSurfaceXY",value:function(){var e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");var t=0,n=0,i=this.getSvgRoot();if(i)do{var r=Be(i);t+=r.x,n+=r.y,i=i.parentNode}while(i&&!e.hasLayer(i)&&null!==i);return this.xy_=new Tl(t,n)}},{key:"moveBy",value:function(e,t){var n=new(Y(Cs))(this),i=this.getRelativeToSurfaceXY();this.translate(i.x+e,i.y+t),this.xy_=new Tl(i.x+e,i.y+t),n.recordNew(),U(n),this.workspace.resizeContents()}},{key:"translate",value:function(e,t){this.xy_=new Tl(e,t),this.getSvgRoot().setAttribute("transform","translate("+e+","+t+")")}},{key:"moveDuringDrag",value:function(e){e="translate(".concat(e.x,", ").concat(e.y,")"),this.getSvgRoot().setAttribute("transform",e)}},{key:"moveTo",value:function(e,t){this.translate(e,t)}},{key:"clearTransformAttributes",value:function(){this.getSvgRoot().removeAttribute("transform")}},{key:"getBoundingRectangle",value:function(){var e,t=this.getRelativeToSurfaceXY(),n=this.getHeightWidth(),i=t.y,r=t.y+n.height;return this.RTL?(e=t.x-n.width,t=t.x):(e=t.x,t=t.x+n.width),new Nl(i,r,e,t)}},{key:"updateMovable",value:function(){this.isMovable()?ve(this.svgGroup,"blocklyDraggable"):me(this.svgGroup,"blocklyDraggable")}},{key:"setMovable",value:function(e){l(u(n.prototype),"setMovable",this).call(this,e),this.updateMovable()}},{key:"setEditable",value:function(e){l(u(n.prototype),"setEditable",this).call(this,e),this.textarea&&(this.textarea.readOnly=!e)}},{key:"setDragging",value:function(e){e?ve(this.getSvgRoot(),"blocklyDragging"):me(this.getSvgRoot(),"blocklyDragging")}},{key:"getSvgRoot",value:function(){return this.svgGroup}},{key:"getContent",value:function(){return this.textarea?this.textarea.value:this.content_}},{key:"setContent",value:function(e){l(u(n.prototype),"setContent",this).call(this,e),this.textarea&&(this.textarea.value=e)}},{key:"setDeleteStyle",value:function(e){e?ve(this.svgGroup,"blocklyDraggingDelete"):me(this.svgGroup,"blocklyDraggingDelete")}},{key:"setAutoLayout",value:function(e){}},{key:"toXmlWithXY",value:function(e){var t=0;this.workspace.RTL&&(t=this.workspace.getWidth()),e=this.toXml(e);var n=this.getRelativeToSurfaceXY();return e.setAttribute("x",String(Math.round(this.workspace.RTL?t-n.x:n.x))),e.setAttribute("y",String(Math.round(n.y))),e.setAttribute("h",String(this.getHeight())),e.setAttribute("w",String(this.getWidth())),e}},{key:"toCopyData",value:function(){return{paster:Su.TYPE,commentState:this.toXmlWithXY()}}},{key:"getHeightWidth",value:function(){return{width:this.getWidth(),height:this.getHeight()}}},{key:"render",value:function(){if(!this.rendered){var e=this.getHeightWidth(),t=this.createEditor();this.svgGroup.appendChild(t),this.svgHandleTarget=pe(Ll.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup.appendChild(this.svgHandleTarget),this.svgRectTarget=pe(Ll.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:Iu,ry:Iu}),this.svgGroup.appendChild(this.svgRectTarget),this.addResizeDom(),this.isDeletable()&&this.addDeleteDom(),this.setSize(e.width,e.height),this.textarea.value=this.content_,this.rendered=!0,this.resizeGroup&&ie(this.resizeGroup,"pointerdown",this,this.resizeMouseDown),this.isDeletable()&&(ie(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),ie(this.deleteGroup,"pointerout",this,this.deleteMouseOut),ie(this.deleteGroup,"pointerup",this,this.deleteMouseUp))}}},{key:"createEditor",value:function(){this.foreignObject=pe(Ll.FOREIGNOBJECT,{x:0,y:n.TOP_OFFSET,class:"blocklyCommentForeignObject"});var e=document.createElementNS(Cl,"body");e.setAttribute("xmlns",Cl),e.className="blocklyMinimalBody";var t=document.createElementNS(Cl,"textarea");return t.className="blocklyCommentTextarea",t.setAttribute("dir",this.RTL?"RTL":"LTR"),t.readOnly=!this.isEditable(),e.appendChild(t),this.textarea=t,this.foreignObject.appendChild(e),ie(t,"wheel",this,(function(e){e.stopPropagation()})),ie(t,"change",this,(function(e){this.setContent(t.value)})),this.foreignObject}},{key:"addResizeDom",value:function(){this.resizeGroup=pe(Ll.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup),pe(Ll.POLYGON,{points:"0,".concat(Cu," ").concat(Cu,",").concat(Cu," ").concat(Cu,",0")},this.resizeGroup),pe(Ll.LINE,{class:"blocklyResizeLine",x1:Cu/3,y1:Cu-1,x2:Cu-1,y2:Cu/3},this.resizeGroup),pe(Ll.LINE,{class:"blocklyResizeLine",x1:2*Cu/3,y1:Cu-1,x2:Cu-1,y2:2*Cu/3},this.resizeGroup)}},{key:"addDeleteDom",value:function(){this.deleteGroup=pe(Ll.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup),this.deleteIconBorder=pe(Ll.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup),pe(Ll.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup),pe(Ll.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup)}},{key:"resizeMouseDown",value:function(e){this.unbindDragEvents(),se(e)||(this.workspace.startDrag(e,new Tl(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=ie(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=ie(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff()),e.stopPropagation()}},{key:"deleteMouseDown",value:function(e){this.deleteIconBorder&&ve(this.deleteIconBorder,"blocklyDeleteIconHighlighted"),e.stopPropagation()}},{key:"deleteMouseOut",value:function(e){this.deleteIconBorder&&me(this.deleteIconBorder,"blocklyDeleteIconHighlighted")}},{key:"deleteMouseUp",value:function(e){this.dispose(),e.stopPropagation()}},{key:"unbindDragEvents",value:function(){this.onMouseUpWrapper&&(oe(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onMouseMoveWrapper&&(oe(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null)}},{key:"resizeMouseUp",value:function(e){Q(),this.unbindDragEvents()}},{key:"resizeMouseMove",value:function(e){this.autoLayout=!1,e=this.workspace.moveDrag(e),this.setSize(this.RTL?-e.x:e.x,e.y)}},{key:"resizeComment",value:function(){var e,t,i,r=this.getHeightWidth(),o=n.TOP_OFFSET,a=2*Ru;null==(e=this.foreignObject)||e.setAttribute("width",String(r.width)),null==(t=this.foreignObject)||t.setAttribute("height",String(r.height-o)),this.RTL&&(null==(i=this.foreignObject)||i.setAttribute("x",String(-r.width))),this.textarea&&(this.textarea.style.width=r.width-a+"px",this.textarea.style.height=r.height-a-o+"px")}},{key:"setSize",value:function(e,t){var i,r,o,a,s;if(e=Math.max(e,45),t=Math.max(t,20+n.TOP_OFFSET),this.width_=e,this.height_=t,this.svgRect_.setAttribute("width","".concat(e)),this.svgRect_.setAttribute("height","".concat(t)),null==(i=this.svgRectTarget)||i.setAttribute("width","".concat(e)),null==(r=this.svgRectTarget)||r.setAttribute("height","".concat(t)),null==(o=this.svgHandleTarget)||o.setAttribute("width","".concat(e)),null==(a=this.svgHandleTarget)||a.setAttribute("height",String(n.TOP_OFFSET)),this.RTL&&(this.svgRect_.setAttribute("transform","scale(-1 1)"),null==(s=this.svgRectTarget)||s.setAttribute("transform","scale(-1 1)")),this.resizeGroup)if(this.RTL){var l;this.resizeGroup.setAttribute("transform","translate("+(-e+Cu)+","+(t-Cu)+") scale(-1 1)"),null==(l=this.deleteGroup)||l.setAttribute("transform","translate("+(-e+Cu)+","+-Cu+") scale(-1 1)")}else{var u;this.resizeGroup.setAttribute("transform","translate("+(e-Cu)+","+(t-Cu)+")"),null==(u=this.deleteGroup)||u.setAttribute("transform","translate("+(e-Cu)+","+-Cu+")")}this.resizeComment()}},{key:"setFocus",value:function(){var e=this;this.focused=!0,setTimeout((function(){e.disposed_||(e.textarea.focus(),e.addFocus(),e.svgRectTarget&&ve(e.svgRectTarget,"blocklyCommentTargetFocused"),e.svgHandleTarget&&ve(e.svgHandleTarget,"blocklyCommentHandleTargetFocused"))}),0)}},{key:"blurFocus",value:function(){var e=this;this.focused=!1,setTimeout((function(){e.disposed_||(e.textarea.blur(),e.removeFocus(),e.svgRectTarget&&me(e.svgRectTarget,"blocklyCommentTargetFocused"),e.svgHandleTarget&&me(e.svgHandleTarget,"blocklyCommentHandleTargetFocused"))}),0)}}],[{key:"fromXmlRendered",value:function(e,t,i){var r;Wa.disable$$module$build$src$core$events$utils();try{var o=Eu.parseAttributes(e);if(r=new n(t,o.content,o.h,o.w,o.id),t.rendered&&(r.initSvg(!0),r.render()),!isNaN(o.x)&&!isNaN(o.y))if(t.RTL){var a=i||t.getWidth();r.moveBy(a-o.x,o.y)}else r.moveBy(o.x,o.y)}finally{Wa.enable$$module$build$src$core$events$utils()}return Eu.fireCreateEvent(r),r}}]),n}(Eu);Ou.DEFAULT_SIZE=100,Ou.TOP_OFFSET=10,he("\n.blocklyCommentForeignObject {\n  position: relative;\n  z-index: 0;\n}\n\n.blocklyCommentRect {\n  fill: #E7DE8E;\n  stroke: #bcA903;\n  stroke-width: 1px;\n}\n\n.blocklyCommentTarget {\n  fill: transparent;\n  stroke: #bcA903;\n}\n\n.blocklyCommentTargetFocused {\n  fill: none;\n}\n\n.blocklyCommentHandleTarget {\n  fill: none;\n}\n\n.blocklyCommentHandleTargetFocused {\n  fill: transparent;\n}\n\n.blocklyFocused>.blocklyCommentRect {\n  fill: #B9B272;\n  stroke: #B9B272;\n}\n\n.blocklySelected>.blocklyCommentTarget {\n  stroke: #fc3;\n  stroke-width: 3px;\n}\n\n.blocklyCommentDeleteIcon {\n  cursor: pointer;\n  fill: #000;\n  display: none;\n}\n\n.blocklySelected > .blocklyCommentDeleteIcon {\n  display: block;\n}\n\n.blocklyDeleteIconShape {\n  fill: #000;\n  stroke: #000;\n  stroke-width: 1px;\n}\n\n.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {\n  stroke: #fc3;\n}\n");var Au=new Set,Mu=new WeakSet,Lu=null,Nu=null,$u=0,Pu={};Pu.finishQueuedRenders=Nt,Pu.queueRender=Lt,Pu.triggerQueuedRenders=$t;var Du={};Du.appendDomToWorkspace=Jt,Du.blockToDom=Gt,Du.blockToDomWithXY=zt,Du.clearWorkspaceAndLoadFromXml=qt,Du.deleteNext=dn,Du.domToBlock=Wa.domToBlock$$module$build$src$core$xml,Du.domToBlockInternal=Qt,Du.domToPrettyText=Kt,Du.domToText=Yt,Du.domToVariables=en,Du.domToWorkspace=Wa.domToWorkspace$$module$build$src$core$xml,Du.variablesToDom=Ht,Du.workspaceToDom=Zt;var Bu=function(e){"use strict";c(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n)}(s(Error)),Fu=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,"Expected to find a 'type' property, defining the block type")).state=e,i}return f(n)}(Bu),Uu=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,"The block ".concat(i.toDevString()," is missing a(n) ").concat(e,"\nconnection"))).block=i,o.state=r,o}return f(n)}(Bu),ju=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o){var a;return d(this,n),(a=t.call(this,"The block ".concat(r.toDevString()," could not connect its\n").concat(i," to its parent, because: ").concat(e))).childBlock=r,a.childState=o,a}return f(n)}(Bu),Zu=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,"Encountered a real block which is defined as a child of a shadow\nblock. It is an invariant of Blockly that shadow blocks only have shadow\nchildren")).state=e,i}return f(n)}(Bu),Hu=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,"Cannot add an icon of type '".concat(e,"' to the block ")+"".concat(i.toDevString(),", because there is no icon registered with ")+"type '".concat(e,"'. Make sure that all of your icons have been ")+"registered.")).block=i,o.state=r,o}return f(n)}(Bu),zu={};zu.BadConnectionCheck=ju,zu.DeserializationError=Bu,zu.MissingBlockType=Fu,zu.MissingConnection=Uu,zu.RealChildOfShadow=Zu,zu.UnregisteredIcon=Hu;var Vu=100,Wu=75,Gu=50,Xu={BLOCKS:Gu,PROCEDURES:Wu,VARIABLES:Vu},Yu={};Yu.register=vn,Yu.unregister=gn;var Ku=function(){"use strict";function e(){d(this,e),this.priority=Gu}return f(e,[{key:"save",value:function(e){var t,n=[],i=g(e.getTopBlocks(!1));try{for(i.s();!(t=i.n()).done;){var r=t.value;(e=mn(r,{addCoordinates:!0,doFullSerialization:!1}))&&n.push(e)}}catch(o){i.e(o)}finally{i.f()}return n.length?{languageVersion:0,blocks:n}:null}},{key:"load",value:function(e,t){e=e.blocks;var n,i=g(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;Sn(r,t,{recordUndo:F()})}}catch(o){i.e(o)}finally{i.f()}}},{key:"clear",value:function(e){var t,n=g(e.getTopBlocks(!1));try{for(n.s();!(t=n.n()).done;)t.value.dispose(!1)}catch(i){n.e(i)}finally{n.f()}}}]),e}();vn("blocks",new Ku);var qu={};qu.BlockSerializer=Ku,qu.append=Sn,qu.appendInternal=Cn,qu.save=mn;var Ju=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).isBlank=!e,e&&(i.blockId=e.id,i.workspaceId=e.workspace.id),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.blockId=this.blockId,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).blockId=e.blockId,t}}]),n}(Fs),Qu=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=Wa.CREATE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(i.recordUndo=!1),i.xml=zt(e),i.ids=G(e),i.json=mn(e,{addCoordinates:!0})),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.xml=Yt(this.xml),e.ids=this.ids,e.json=this.json,this.recordUndo||(e.recordUndo=this.recordUndo),e}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!ec(t,this.ids))if(e)Sn(this.json,t);else for(e=0;e<this.ids.length;e++){var n=this.ids[e],i=t.getBlockById(n);i?i.dispose(!1):n===this.blockId&&console.warn("Can't uncreate non-existent block: "+n)}}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).xml=Wa.textToDom$$module$build$src$core$utils$xml(e.xml),t.ids=e.ids,t.json=e.json,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}}]),n}(Ju),ec=function(e,t){return t.map((function(t){return e.getBlockById(t)})).filter((function(e){return e&&e.isShadow()})).length===t.length};e(qa.EVENT,Wa.CREATE$$module$build$src$core$events$utils,Qu);var tc=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,i)).type=Ts,r.themeName=e,r}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return e.themeName=this.themeName,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).themeName=e.themeName,t}}]),n}(Us);e(qa.EVENT,Ts,tc);var nc,ic,rc=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a){var s;return d(this,n),(s=t.call(this,o)).type=Es,s.viewTop=e,s.viewLeft=i,s.scale=r,s.oldScale=a,s}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.viewTop)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.viewLeft)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.scale)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(void 0===this.oldScale)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return e.viewTop=this.viewTop,e.viewLeft=this.viewLeft,e.scale=this.scale,e.oldScale=this.oldScale,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).viewTop=e.viewTop,t.viewLeft=e.viewLeft,t.scale=e.scale,t.oldScale=e.oldScale,t}}]),n}(Us);e(qa.EVENT,Es,rc),nc=28,Wa.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:nc,connectingSnapRadius:nc,currentConnectionPreference:8,bumpDelay:250},Wa.config$$module$build$src$core$config,function(e){e[e.INPUT_VALUE=1]="INPUT_VALUE",e[e.OUTPUT_VALUE=2]="OUTPUT_VALUE",e[e.NEXT_STATEMENT=3]="NEXT_STATEMENT",e[e.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"}(ic||(ic={}));var oc=function(){"use strict";function e(t){d(this,e),this.connectionChecker=t,this.connections=[]}return f(e,[{key:"addConnection",value:function(e,t){t=this.calculateIndexForYPos(t),this.connections.splice(t,0,e)}},{key:"findIndexOfConnection",value:function(e,t){if(!this.connections.length)return-1;var n=this.calculateIndexForYPos(t);if(n>=this.connections.length)return-1;t=e.y;for(var i=n;0<=i&&this.connections[i].y===t;){if(this.connections[i]===e)return i;i--}for(i=n;i<this.connections.length&&this.connections[i].y===t;){if(this.connections[i]===e)return i;i++}return-1}},{key:"calculateIndexForYPos",value:function(e){if(!this.connections.length)return 0;for(var t=0,n=this.connections.length;t<n;){var i=Math.floor((t+n)/2);if(this.connections[i].y<e)t=i+1;else{if(!(this.connections[i].y>e)){t=i;break}n=i}}return t}},{key:"removeConnection",value:function(e,t){if(-1===(e=this.findIndexOfConnection(e,t)))throw Error("Unable to find connection in connectionDB.");this.connections.splice(e,1)}},{key:"getNeighbours",value:function(e,t){function n(e){var n=r-i[e].x,a=o-i[e].y;return Math.sqrt(n*n+a*a)<=t&&l.push(i[e]),a<t}var i=this.connections,r=e.x,o=e.y;e=0;for(var a=i.length-2,s=a;e<s;)i[s].y<o?e=s:a=s,s=Math.floor((e+a)/2);var l=[];if(a=e=s,i.length){for(;0<=e&&n(e);)e--;do{a++}while(a<i.length&&n(a))}return l}},{key:"isInYRange",value:function(e,t,n){return Math.abs(this.connections[e].y-t)<=n}},{key:"searchForClosest",value:function(e,t,n){if(!this.connections.length)return{connection:null,radius:t};var i=e.y,r=e.x;e.x=r+n.x,e.y=i+n.y;var o=this.calculateIndexForYPos(e.y);n=null;for(var a,s=t,l=o-1;0<=l&&this.isInYRange(l,e.y,t);)a=this.connections[l],this.connectionChecker.canConnect(e,a,!0,s)&&(n=a,s=a.distanceFrom(e)),l--;for(;o<this.connections.length&&this.isInYRange(o,e.y,t);)a=this.connections[o],this.connectionChecker.canConnect(e,a,!0,s)&&(n=a,s=a.distanceFrom(e)),o++;return e.x=r,e.y=i,{connection:n,radius:s}}}],[{key:"init",value:function(t){var n=[];return n[ic.INPUT_VALUE]=new e(t),n[ic.OUTPUT_VALUE]=new e(t),n[ic.NEXT_STATEMENT]=new e(t),n[ic.PREVIOUS_STATEMENT]=new e(t),n}}]),e}(),ac=function(){"use strict";function e(){d(this,e)}return f(e,[{key:"paste",value:function(e,t,n){if(!t.isCapacityAvailable(e.typeCounts))return null;var i;n&&(e.blockState.x=n.x,e.blockState.y=n.y),Wa.disable$$module$build$src$core$events$utils();try{i=Sn(e.blockState,t),Fn(i)}finally{Wa.enable$$module$build$src$core$events$utils()}return i?(V()&&!i.isShadow()&&U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(i)),i.select(),i):i}}]),e}();ac.TYPE="block",At(ac.TYPE,new ac);var sc={};sc.BlockPaster=ac,sc.moveBlockToNotConflict=Fn;var lc=null,uc=null,cc={duplicateInternal:Gn,copyInternal:Hn},hc={};hc.BlockPaster=ac,hc.TEST_ONLY=cc,hc.copy=Zn,hc.duplicate=Wn,hc.paste=zn,hc.registry=wu;var dc,fc,pc="aria-",vc="role";(function(e){e.GRID="grid",e.GRIDCELL="gridcell",e.GROUP="group",e.LISTBOX="listbox",e.MENU="menu",e.MENUITEM="menuitem",e.MENUITEMCHECKBOX="menuitemcheckbox",e.OPTION="option",e.PRESENTATION="presentation",e.ROW="row",e.TREE="tree",e.TREEITEM="treeitem"})(dc||(dc={})),function(e){e.ACTIVEDESCENDANT="activedescendant",e.COLCOUNT="colcount",e.DISABLED="disabled",e.EXPANDED="expanded",e.INVALID="invalid",e.LABEL="label",e.LABELLEDBY="labelledby",e.LEVEL="level",e.ORIENTATION="orientation",e.POSINSET="posinset",e.ROWCOUNT="rowcount",e.SELECTED="selected",e.SETSIZE="setsize",e.VALUEMAX="valuemax",e.VALUEMIN="valuemin"}(fc||(fc={}));var gc={};gc.Role=dc,gc.State=fc,gc.setRole=Xn,gc.setState=Yn;var mc,yc=function(){"use strict";function e(){d(this,e),this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}return f(e,[{key:"addChild",value:function(e){this.menuItems.push(e)}},{key:"render",value:function(e){var t=document.createElement("div");t.className="blocklyMenu goog-menu blocklyNonSelectable",t.tabIndex=0,this.roleName&&Xn(t,this.roleName),this.element=t;for(var n,i=0;n=this.menuItems[i];i++)t.appendChild(n.createDom());return this.mouseOverHandler=ie(t,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=ie(t,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=ie(t,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=ie(t,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=ie(t,"keydown",this,this.handleKeyEvent),e.appendChild(t),t}},{key:"getElement",value:function(){return this.element}},{key:"focus",value:function(){var e=this.getElement();e&&(e.focus({preventScroll:!0}),ve(e,"blocklyFocused"))}},{key:"blur",value:function(){var e=this.getElement();e&&(e.blur(),me(e,"blocklyFocused"))}},{key:"setRole",value:function(e){this.roleName=e}},{key:"dispose",value:function(){this.mouseOverHandler&&(oe(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(oe(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(oe(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(oe(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(oe(this.onKeyDownHandler),this.onKeyDownHandler=null);for(var e,t=0;e=this.menuItems[t];t++)e.dispose();this.element=null}},{key:"getMenuItem",value:function(e){for(var t=this.getElement();e&&e!==t;){if(e.classList.contains("blocklyMenuItem"))for(var n,i=0;n=this.menuItems[i];i++)if(n.getElement()===e)return n;e=e.parentElement}return null}},{key:"setHighlighted",value:function(e){var t=this.highlightedItem;t&&(t.setHighlighted(!1),this.highlightedItem=null),e&&(e.setHighlighted(!0),this.highlightedItem=e,t=this.getElement(),Pe(e.getElement(),t),Yn(t,fc.ACTIVEDESCENDANT,e.getId()))}},{key:"highlightNext",value:function(){var e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(e,1)}},{key:"highlightPrevious",value:function(){var e=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>e?this.menuItems.length:e,-1)}},{key:"highlightFirst",value:function(){this.highlightHelper(-1,1)}},{key:"highlightLast",value:function(){this.highlightHelper(this.menuItems.length,-1)}},{key:"highlightHelper",value:function(e,t){var n;for(e+=t;n=this.menuItems[e];){if(n.isEnabled()){this.setHighlighted(n);break}e+=t}}},{key:"handleMouseOver",value:function(e){(e=this.getMenuItem(e.target))&&(e.isEnabled()?this.highlightedItem!==e&&this.setHighlighted(e):this.setHighlighted(null))}},{key:"handleClick",value:function(e){var t=this.openingCoords;if(this.openingCoords=null,t&&"number"===typeof e.clientX){var n=new Tl(e.clientX,e.clientY);if(1>Tl.distance(t,n))return}(e=this.getMenuItem(e.target))&&e.performAction()}},{key:"handleMouseEnter",value:function(e){this.focus()}},{key:"handleMouseLeave",value:function(e){this.getElement()&&(this.blur(),this.setHighlighted(null))}},{key:"handleKeyEvent",value:function(e){if(this.menuItems.length&&!(e.shiftKey||e.ctrlKey||e.metaKey||e.altKey)){var t=this.highlightedItem;switch(e.key){case"Enter":case" ":t&&t.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}e.preventDefault(),e.stopPropagation()}}},{key:"getSize",value:function(){var e=this.getElement(),t=Re(e);return t.height=e.scrollHeight,t}}]),e}(),_c=function(){"use strict";function e(t,n){d(this,e),this.content=t,this.opt_value=n,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}return f(e,[{key:"createDom",value:function(){var e=document.createElement("div");e.id=P(),this.element=e,e.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var t=document.createElement("div");if(t.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var n=document.createElement("div");n.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",t.appendChild(n)}return n=this.content,"string"===typeof this.content&&(n=document.createTextNode(this.content)),t.appendChild(n),e.appendChild(t),this.roleName&&Xn(e,this.roleName),Yn(e,fc.SELECTED,this.checkable&&this.checked||!1),Yn(e,fc.DISABLED,!this.enabled),e}},{key:"dispose",value:function(){this.element=null}},{key:"getElement",value:function(){return this.element}},{key:"getId",value:function(){return this.element.id}},{key:"getValue",value:function(){var e;return null!=(e=this.opt_value)?e:null}},{key:"setRightToLeft",value:function(e){this.rightToLeft=e}},{key:"setRole",value:function(e){this.roleName=e}},{key:"setCheckable",value:function(e){this.checkable=e}},{key:"setChecked",value:function(e){this.checked=e}},{key:"setHighlighted",value:function(e){this.highlight=e;var t=this.getElement();t&&this.isEnabled()&&(e?(ve(t,"blocklyMenuItemHighlight"),ve(t,"goog-menuitem-highlight")):(me(t,"blocklyMenuItemHighlight"),me(t,"goog-menuitem-highlight")))}},{key:"isEnabled",value:function(){return this.enabled}},{key:"setEnabled",value:function(e){this.enabled=e}},{key:"performAction",value:function(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}},{key:"onAction",value:function(e,t){this.actionHandler=e.bind(t)}}]),e}(),bc=null,kc=null,Tc="blocklyWidgetDiv",Ec="",xc="",wc={};wc.createDom=Jn,wc.getDiv=Kn,wc.hide=ei,wc.hideIfOwner=ni,wc.isVisible=ti,wc.positionWithAnchor=ri,wc.repositionForWindowResize=li,wc.show=Qn,wc.testOnly_setDiv=qn;var Sc=null,Cc={},Ic=null,Rc={};Rc.callbackFactory=Wa.callbackFactory$$module$build$src$core$contextmenu,Rc.commentDeleteOption=yi,Rc.commentDuplicateOption=_i,Rc.dispose=mi,Rc.getCurrentBlock=ui,Rc.hide=gi,Rc.setCurrentBlock=ci,Rc.show=hi,Rc.workspaceCommentOption=bi;var Oc=function(){"use strict";function e(){d(this,e),this.registry_=new Map,this.reset()}return f(e,[{key:"reset",value:function(){this.registry_.clear()}},{key:"register",value:function(e){if(this.registry_.has(e.id))throw Error('Menu item with ID "'+e.id+'" is already registered.');this.registry_.set(e.id,e)}},{key:"unregister",value:function(e){if(!this.registry_.has(e))throw Error('Menu item with ID "'+e+'" not found.');this.registry_.delete(e)}},{key:"getItem",value:function(e){var t;return null!=(t=this.registry_.get(e))?t:null}},{key:"getContextMenuOptions",value:function(e,t){var n,i=[],r=g(this.registry_.values());try{for(r.s();!(n=r.n()).done;){var o=n.value;if(e===o.scopeType){var a=o.preconditionFn(t);"hidden"!==a&&(a={text:"function"===typeof o.displayText?o.displayText(t):o.displayText,enabled:"enabled"===a,callback:o.callback,scope:t,weight:o.weight},i.push(a))}}}catch(s){r.e(s)}finally{r.f()}return i.sort((function(e,t){return e.weight-t.weight})),i}}]),e}();!function(e){var t=e.ScopeType||(e.ScopeType={});t.BLOCK="block",t.WORKSPACE="workspace",e.registry=new e}(Oc||(Oc={}));var Ac=Oc.ScopeType,Mc={};Mc.ContextMenuRegistry=Oc,Mc.ScopeType=Ac;var Lc={};Lc.clamp=Ei,Lc.toDegrees=Ti,Lc.toRadians=ki;var Nc,$c,Pc,Dc=16,Bc=1,Fc=12,Uc=16,jc=.25,Zc=null,Hc=null,zc="",Vc="",Wc=null,Gc=null,Xc=null,Yc={getBoundsInfo:function(){var e=Le(Wc),t=Re(Wc);return{left:e.x,right:e.x+t.width,top:e.y,bottom:e.y+t.height,width:t.width,height:t.height}},getPositionMetrics:function(e,t,n,i){var r=Yc.getBoundsInfo(),o=Re(Nc);return t+o.height<r.bottom?Pi(e,t,r,o):i-o.height>r.top?Di(n,i,r,o):t+o.height<document.documentElement.clientHeight?Pi(e,t,r,o):i-o.height>document.documentElement.clientTop?Di(n,i,r,o):Bi(e,r,o)}},Kc={ANIMATION_TIME:jc,ARROW_HORIZONTAL_PADDING:Fc,ARROW_SIZE:Dc,BORDER_SIZE:Bc,PADDING_Y:Uc,TEST_ONLY:Yc};Kc.clearContent=Ii,Kc.createDom=xi,Kc.getContentDiv=Ci,Kc.getOwner=Si,Kc.getPositionX=Fi,Kc.hide=Zi,Kc.hideIfOwner=ji,Kc.hideWithoutAnimation=Hi,Kc.isVisible=Ui,Kc.repositionForWindowResize=Vi,Kc.setBoundsElement=wi,Kc.setColour=Ri,Kc.show=$i,Kc.showPositionedByBlock=Oi,Kc.showPositionedByField=Ai;var qc=null,Jc=null,Qc={};Qc.connectionUiEffect=Xi,Qc.disconnectUiEffect=Yi,Qc.disconnectUiStop=qi,Qc.disposeUiEffect=Wi;var eh=50,th=100,nh=function(){"use strict";function e(t,n){d(this,e),this.bubble=t,this.workspace=n,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY()}return f(e,[{key:"startBubbleDrag",value:function(){var e;Wa.getGroup$$module$build$src$core$events$utils()||Wa.setGroup$$module$build$src$core$events$utils(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1),null==(e=this.workspace.getLayerManager())||e.moveToDragLayer(this.bubble),this.bubble.setDragging&&this.bubble.setDragging(!0)}},{key:"dragBubble",value:function(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Tl.sum(this.startXY_,t),this.bubble.moveDuringDrag(t),t=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(e),e=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),e!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==t&&(t&&t.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}},{key:"shouldDelete_",value:function(e){return!(!e||!this.workspace.getComponentManager().hasCapability(e.id,yl.Capability.DELETE_AREA))&&e.wouldDelete(this.bubble,!1)}},{key:"updateCursorDuringBubbleDrag_",value:function(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}},{key:"endBubbleDrag",value:function(e,t){var n;(this.dragBubble(e,t),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?e=this.startXY_:(e=this.pixelsToWorkspaceUnits_(t),e=Tl.sum(this.startXY_,e)),this.bubble.moveTo(e.x,e.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_)?(this.fireMoveEvent_(),this.bubble.dispose()):(this.bubble.setDragging&&(this.bubble.setDragging(!1),null==(n=this.workspace.getLayerManager())||n.moveOffDragLayer(this.bubble,th)),this.fireMoveEvent_());this.workspace.setResizesEnabled(!0),Wa.setGroup$$module$build$src$core$events$utils(!1)}},{key:"fireMoveEvent_",value:function(){if(this.bubble instanceof Ou){var e=new(Y(Cs))(this.bubble);e.setOldCoordinate(this.startXY_),e.recordNew(),U(e)}}},{key:"pixelsToWorkspaceUnits_",value:function(e){return e=new Tl(e.x/this.workspace.scale,e.y/this.workspace.scale),this.workspace.isMutator&&e.scale(1/this.workspace.options.parentWorkspace.scale),e}}]),e}(),ih=30,rh=!0,oh=[];oh[ic.INPUT_VALUE]=ic.OUTPUT_VALUE,oh[ic.OUTPUT_VALUE]=ic.INPUT_VALUE,oh[ic.NEXT_STATEMENT]=ic.PREVIOUS_STATEMENT,oh[ic.PREVIOUS_STATEMENT]=ic.NEXT_STATEMENT;var ah="RENAME_VARIABLE_ID",sh="DELETE_VARIABLE_ID",lh={};lh.commonWordPrefix=er,lh.commonWordSuffix=tr,lh.isNumber=Wa.isNumber$$module$build$src$core$utils$string,lh.shortestStringLength=Qi,lh.startsWith=Ji,lh.wrap=Wa.wrap$$module$build$src$core$utils$string;var uh=void 0,ch=!1,hh=!1,dh=50,fh=0,ph=0,vh=0,gh=0,mh=null,yh=null,_h=0,bh=10,kh=10,Th=750,Eh=5,xh=null,wh={HOVER_MS:Th,LIMIT:dh,MARGINS:Eh,OFFSET_X:_h,OFFSET_Y:bh,RADIUS_OK:kh};wh.bindMouseEvents=fr,wh.block=br,wh.createDom=dr,wh.dispose=yr,wh.getCustomTooltip=sr,wh.getDiv=ur,wh.getTooltipOfObject=cr,wh.hide=_r,wh.isVisible=lr,wh.setCustomTooltip=ar,wh.unbindMouseEvents=pr,wh.unblock=kr;var Sh=function(){"use strict";function e(t){d(this,e),this.workspace=t,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new Tl(t.scrollX,t.scrollY)}return f(e,[{key:"dispose",value:function(){this.workspace=null}},{key:"startDrag",value:function(){C()&&C().unselect()}},{key:"endDrag",value:function(e){this.drag(e)}},{key:"drag",value:function(e){if(e=Tl.sum(this.startScrollXY_,e),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(e.x,e.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(e.x,this.workspace.scrollY);else{if(!this.verticalScrollEnabled_)throw new TypeError("Invalid state.");this.workspace.scroll(this.workspace.scrollX,e.y)}}}]),e}(),Ch=5,Ih=6,Rh=function(){"use strict";function e(t,n){d(this,e),this.creatorWorkspace=n,this.mouseDownXY=new Tl(0,0),this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=t,this.currentDragDeltaXY=new Tl(0,0),this.healStack=!rh}return f(e,[{key:"dispose",value:function(){Q(),kr(),this.creatorWorkspace.clearGesture();var e,t=g(this.boundEvents);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.boundEvents.length=0,this.blockDragger&&this.blockDragger.dispose(),this.workspaceDragger&&this.workspaceDragger.dispose()}},{key:"updateFromEvent",value:function(e){var t=new Tl(e.clientX,e.clientY);this.updateDragDelta(t)&&(this.updateIsDragging(),J()),this.mostRecentEvent=e}},{key:"updateDragDelta",value:function(e){return this.currentDragDeltaXY=Tl.difference(e,this.mouseDownXY),!this.hasExceededDragRadius&&(this.hasExceededDragRadius=Tl.magnitude(this.currentDragDeltaXY)>(this.flyout?Wa.config$$module$build$src$core$config.flyoutDragRadius:Wa.config$$module$build$src$core$config.dragRadius))}},{key:"updateIsDraggingFromFlyout",value:function(){var e;if(!this.targetBlock||null==(e=this.flyout)||!e.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error("Cannot update dragging from the flyout because the ' +\n          'flyout's target workspace is undefined");return!(this.flyout.isScrollable()&&!this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY))&&(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),Wa.getGroup$$module$build$src$core$events$utils()||Wa.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),!0)}},{key:"updateIsDraggingBubble",value:function(){return!!this.startBubble&&(this.startDraggingBubble(),!0)}},{key:"updateIsDraggingBlock",value:function(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1}},{key:"updateIsDraggingWorkspace",value:function(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger=new Sh(this.startWorkspace_),this.workspaceDragger.startDrag())}},{key:"updateIsDragging",value:function(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace()}},{key:"startDraggingBlock",value:function(){this.blockDragger=new(b(qa.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_),this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack),this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY)}},{key:"startDraggingBubble",value:function(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new nh(this.startBubble,this.startWorkspace_),this.bubbleDragger.startBubbleDrag(),this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY)}},{key:"doStart",value:function(e){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,ae(e)?this.cancel():(this.gestureHasStarted=!0,qi(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=Si(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=e,br(),this.targetBlock&&this.targetBlock.select(),se(e)?this.handleRightClick(e):("pointerdown"===e.type.toLowerCase()&&"mouse"!==e.pointerType&&q(e,this),this.mouseDownXY=new Tl(e.clientX,e.clientY),this.healStack=e.altKey||e.ctrlKey||e.metaKey,this.bindMouseEvents(e),this.isEnding_||this.handleTouchStart(e)))}},{key:"bindMouseEvents",value:function(e){this.boundEvents.push(ie(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(ie(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(ie(document,"pointerup",null,this.handleUp.bind(this),!0)),e.preventDefault(),e.stopPropagation()}},{key:"handleStart",value:function(e){this.isDragging()||(this.handleTouchStart(e),this.isMultiTouch()&&J())}},{key:"handleMove",value:function(e){this.isDragging()&&ee(e)||!this.isMultiTouch()?(this.updateFromEvent(e),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),e.preventDefault(),e.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(e),J())}},{key:"handleUp",value:function(e){if(this.isDragging()||this.handleTouchEnd(e),!this.isMultiTouch()||this.isDragging()){if(!ee(e))return;if(this.updateFromEvent(e),J(),this.isEnding_)return void console.log("Trying to end a gesture recursively.");this.isEnding_=!0,this.bubbleDragger?this.bubbleDragger.endBubbleDrag(e,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(e,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(e)}e.preventDefault(),e.stopPropagation(),this.dispose()}},{key:"handleTouchStart",value:function(e){var t=te(e);this.cachedPoints.set(t,this.getTouchPoint(e));var n=Array.from(this.cachedPoints.keys());2===n.length&&(t=this.cachedPoints.get(n[0]),n=this.cachedPoints.get(n[1]),this.startDistance=Tl.distance(t,n),this.isMultiTouch_=!0,e.preventDefault())}},{key:"handleTouchMove",value:function(e){var t=te(e);this.cachedPoints.set(t,this.getTouchPoint(e)),this.isPinchZoomEnabled&&2===this.cachedPoints.size?this.handlePinch(e):this.handleMove(e)}},{key:"handlePinch",value:function(e){var t=Array.from(this.cachedPoints.keys()),n=this.cachedPoints.get(t[0]);if(t=this.cachedPoints.get(t[1]),n=Tl.distance(n,t)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(t=0<(t=n-this.previousScale)?t*Ch:t*Ih,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");var i=this.startWorkspace_,r=le(e,i.getParentSvg(),i.getInverseScreenCTM());i.zoom(r.x,r.y,t)}this.previousScale=n,e.preventDefault()}},{key:"handleTouchEnd",value:function(e){e=te(e),this.cachedPoints.has(e)&&this.cachedPoints.delete(e),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}},{key:"getTouchPoint",value:function(e){return this.startWorkspace_?new Tl(e.pageX,e.pageY):null}},{key:"isMultiTouch",value:function(){return this.isMultiTouch_}},{key:"cancel",value:function(){this.isEnding_||(J(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}},{key:"handleRightClick",value:function(e){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(e)):this.startBubble?this.startBubble.showContextMenu(e):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(e)),e.preventDefault(),e.stopPropagation(),this.dispose()}},{key:"handleWsStart",value:function(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(t),this.mostRecentEvent=e,this.doStart(e)}},{key:"fireWorkspaceClick",value:function(e){U(new(Y(ms))(null,e.id,"workspace"))}},{key:"handleFlyoutStart",value:function(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(t),this.handleWsStart(e,t.getWorkspace())}},{key:"handleBlockStart",value:function(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(t),this.mostRecentEvent=e}},{key:"handleBubbleStart",value:function(e,t){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(t),this.mostRecentEvent=e}},{key:"doBubbleClick",value:function(){this.startBubble instanceof Ou&&(this.startBubble.setFocus(),this.startBubble.select())}},{key:"doFieldClick",value:function(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}},{key:"doIconClick",value:function(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.bringBlockToFront(),this.startIcon.onClick()}},{key:"doBlockClick",value:function(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&(Wa.getGroup$$module$build$src$core$events$utils()||Wa.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");var e=new(Y(ms))(this.startBlock,this.startWorkspace_.id,"block");U(e)}this.bringBlockToFront(),Wa.setGroup$$module$build$src$core$events$utils(!1)}},{key:"doWorkspaceClick",value:function(e){e=this.creatorWorkspace,C()&&C().unselect(),this.fireWorkspaceClick(this.startWorkspace_||e)}},{key:"bringBlockToFront",value:function(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}},{key:"setStartField",value:function(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=e)}},{key:"setStartIcon",value:function(e){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=e)}},{key:"setStartBubble",value:function(e){this.startBubble||(this.startBubble=e)}},{key:"setStartBlock",value:function(e){this.startBlock||this.startBubble||(this.startBlock=e,e.isInFlyout&&e!==e.getRootBlock()?this.setTargetBlock(e.getRootBlock()):this.setTargetBlock(e))}},{key:"setTargetBlock",value:function(e){e.isShadow()?this.setTargetBlock(e.getParent()):this.targetBlock=e}},{key:"setStartWorkspace",value:function(e){this.startWorkspace_||(this.startWorkspace_=e)}},{key:"setStartFlyout",value:function(e){this.flyout||(this.flyout=e)}},{key:"isBubbleClick",value:function(){return!!this.startBubble&&!this.hasExceededDragRadius}},{key:"isBlockClick",value:function(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}},{key:"isFieldClick",value:function(){return!!this.startField&&this.startField.isClickable()&&!this.hasExceededDragRadius&&(!this.flyout||this.startField.isClickableInFlyout(this.flyout.autoClose))}},{key:"isIconClick",value:function(){if(!this.startIcon)return!1;var e=!this.flyout||!this.startIcon.isClickableInFlyout||this.startIcon.isClickableInFlyout(this.flyout.autoClose);return!this.hasExceededDragRadius&&e}},{key:"isWorkspaceClick",value:function(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}},{key:"isDragging",value:function(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger}},{key:"hasStarted",value:function(){return this.gestureHasStarted}},{key:"getInsertionMarkers",value:function(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[]}},{key:"getCurrentDragger",value:function(){var e,t;return null!=(t=null!=(e=this.blockDragger)?e:this.workspaceDragger)?t:this.bubbleDragger}}],[{key:"inProgress",value:function(){for(var e,t=T(),n=0;e=t[n];n++)if(e.currentGesture_)return!0;return!1}}]),e}(),Oh=function(){"use strict";function e(t,n){var i,r,o;d(this,e),this.pattern=t,this.scale=1,this.spacing=null!=(i=n.spacing)?i:0,this.length=null!=(r=n.length)?r:1,this.line2=(this.line1=t.firstChild)&&this.line1.nextSibling,this.snapToGrid=null!=(o=n.snap)&&o}return f(e,[{key:"setSpacing",value:function(e){this.spacing=e,this.update(this.scale)}},{key:"setLength",value:function(e){this.length=e,this.update(this.scale)}},{key:"setSnapToGrid",value:function(e){this.snapToGrid=e}},{key:"shouldSnap",value:function(){return this.snapToGrid}},{key:"getSpacing",value:function(){return this.spacing}},{key:"getPatternId",value:function(){return this.pattern.id}},{key:"update",value:function(e){this.scale=e;var t=this.spacing*e;this.pattern.setAttribute("width","".concat(t)),this.pattern.setAttribute("height","".concat(t));var n=(t=Math.floor(this.spacing/2)+.5)-this.length/2,i=t+this.length/2;t*=e,n*=e,i*=e,this.setLineAttributes(this.line1,e,n,i,t,t),this.setLineAttributes(this.line2,e,t,t,n,i)}},{key:"setLineAttributes",value:function(e,t,n,i,r,o){e&&(e.setAttribute("stroke-width","".concat(t)),e.setAttribute("x1","".concat(n)),e.setAttribute("y1","".concat(r)),e.setAttribute("x2","".concat(i)),e.setAttribute("y2","".concat(o)))}},{key:"moveTo",value:function(e,t){this.pattern.setAttribute("x","".concat(e)),this.pattern.setAttribute("y","".concat(t))}}],[{key:"createDom",value:function(e,t,n){var i,r,o;return e=pe(Ll.PATTERN,{id:"blocklyGridPattern"+e,patternUnits:"userSpaceOnUse"},n),0<(null!=(i=t.length)?i:1)&&0<(null!=(r=t.spacing)?r:0)?(pe(Ll.LINE,{stroke:t.colour},e),null!=(o=t.length)&&o&&pe(Ll.LINE,{stroke:t.colour},e)):pe(Ll.LINE,{},e),e}}]),e}(),Ah=function(){"use strict";function e(t){d(this,e),this.workspace=t,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}return f(e,[{key:"registerMarker",value:function(e,t){this.markers.has(e)&&this.unregisterMarker(e),t.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,t)),this.setMarkerSvg(t.getDrawer().createDom()),this.markers.set(e,t)}},{key:"unregisterMarker",value:function(e){var t=this.markers.get(e);if(!t)throw Error("Marker with ID "+e+" does not exist. Can only unregister markers that exist.");t.dispose(),this.markers.delete(e)}},{key:"getCursor",value:function(){return this.cursor_}},{key:"getMarker",value:function(e){return this.markers.get(e)||null}},{key:"setCursor",value:function(e){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=e)&&(e=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(e),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}},{key:"setCursorSvg",value:function(e){e?(this.workspace.getBlockCanvas().appendChild(e),this.cursorSvg_=e):this.cursorSvg_=null}},{key:"setMarkerSvg",value:function(e){e?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(e,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(e)):this.markerSvg_=null}},{key:"updateMarkers",value:function(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}},{key:"dispose",value:function(){for(var e,t=Object.keys(this.markers),n=0;e=t[n];n++)this.unregisterMarker(e);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}}]),e}();Ah.LOCAL_MARKER="local_marker_1";var Mh={};Mh.deepMerge=Sr;var Lh=function(){"use strict";function t(n,i,r,o){d(this,t),this.name=n,this.startHats=!1,this.blockStyles=i||Object.create(null),this.categoryStyles=r||Object.create(null),this.componentStyles=o||Object.create(null),this.fontStyle=Object.create(null),e(qa.THEME,n,this,!0)}return f(t,[{key:"getClassName",value:function(){return this.name+"-theme"}},{key:"setBlockStyle",value:function(e,t){this.blockStyles[e]=t}},{key:"setCategoryStyle",value:function(e,t){this.categoryStyles[e]=t}},{key:"getComponentStyle",value:function(e){if(!(e=this.componentStyles[e]))return null;if("string"===typeof e){var t=this.getComponentStyle(e);if(t)return t}return"".concat(e)}},{key:"setComponentStyle",value:function(e,t){this.componentStyles[e]=t}},{key:"setFontStyle",value:function(e){this.fontStyle=e}},{key:"setStartHats",value:function(e){this.startHats=e}}],[{key:"defineTheme",value:function(e,n){var i,r=new t(e=e.toLowerCase()),o=n.base;o&&("string"===typeof o&&(o=null!=(i=y(qa.THEME,o))?i:void 0),o instanceof t&&(Sr(r,o),r.name=e));return Sr(r.blockStyles,n.blockStyles),Sr(r.categoryStyles,n.categoryStyles),Sr(r.componentStyles,n.componentStyles),Sr(r.fontStyle,n.fontStyle),null!==n.startHats&&(r.startHats=n.startHats),r}}]),t}(),Nh=new Lh("classic",{colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},{colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}}),$h=function(){"use strict";function e(t){d(this,e),this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;var n,i=null,r=!1,o=!1,a=!1,s=!1,l=!1,u=!1,c=!!t.readOnly;c||(i=Ge(null!=(n=t.toolbox)?n:null),r=Ke(i),o=void 0===(o=t.trashcan)?r:o,a=void 0===(a=t.collapse)?r:a,s=void 0===(s=t.comments)?r:s,l=void 0===(l=t.disable)?r:l,u=void 0===(u=t.sounds)||u),n=t.maxTrashcanContents,o?void 0===n&&(n=32):n=0;var h=!!t.rtl,f=t.horizontalLayout;void 0===f&&(f=!1);var p="end"!==t.toolboxPosition;p=f?p?Kl.TOP:Kl.BOTTOM:p===h?Kl.RIGHT:Kl.LEFT;var v=t.css;void 0===v&&(v=!0);var g="https://blockly-demo.appspot.com/static/media/";t.media?g=t.media.endsWith("/")?t.media:t.media+"/":"path"in t&&(fe("path","Nov 2014","Jul 2023","media"),g=t.path+"media/");var m,y,_,b=t.oneBasedIndex,k=t.renderer||"geras",T=t.plugins||{},E=t.modalInputs;void 0===E&&(E=!0),this.RTL=h,this.oneBasedIndex=void 0===b||b,this.collapse=a,this.comments=s,this.disable=l,this.readOnly=c,this.maxBlocks=t.maxBlocks||1/0,this.maxInstances=null!=(m=t.maxInstances)?m:null,this.modalInputs=E,this.pathToMedia=g,this.hasCategories=r,this.moveOptions=e.parseMoveOptions_(t,r),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=o,this.maxTrashcanContents=n,this.hasSounds=u,this.hasCss=v,this.horizontalLayout=f,this.languageTree=i,this.gridOptions=e.parseGridOptions_(t),this.zoomOptions=e.parseZoomOptions_(t),this.toolboxPosition=p,this.theme=e.parseThemeOptions_(t),this.renderer=k,this.rendererOverrides=null!=(y=t.rendererOverrides)?y:null,this.parentWorkspace=null!=(_=t.parentWorkspace)?_:null,this.plugins=T}return f(e,null,[{key:"parseMoveOptions_",value:function(e,t){var n=e.move||{},i={};return void 0===n.scrollbars&&void 0===e.scrollbars?i.scrollbars=t:"object"===typeof n.scrollbars?(i.scrollbars={horizontal:!!n.scrollbars.horizontal,vertical:!!n.scrollbars.vertical},i.scrollbars.horizontal&&i.scrollbars.vertical?i.scrollbars=!0:i.scrollbars.horizontal||i.scrollbars.vertical||(i.scrollbars=!1)):i.scrollbars=!!n.scrollbars||!!e.scrollbars,i.wheel=i.scrollbars&&void 0!==n.wheel?!!n.wheel:"object"===typeof i.scrollbars,i.drag=!!i.scrollbars&&(void 0===n.drag||!!n.drag),i}},{key:"parseZoomOptions_",value:function(e){e=e.zoom||{};var t={};return t.controls=void 0!==e.controls&&!!e.controls,t.wheel=void 0!==e.wheel&&!!e.wheel,t.startScale=void 0===e.startScale?1:Number(e.startScale),t.maxScale=void 0===e.maxScale?3:Number(e.maxScale),t.minScale=void 0===e.minScale?.3:Number(e.minScale),t.scaleSpeed=void 0===e.scaleSpeed?1.2:Number(e.scaleSpeed),t.pinch=void 0===e.pinch?t.wheel||t.controls:!!e.pinch,t}},{key:"parseGridOptions_",value:function(e){e=e.grid||{};var t={};return t.spacing=Number(e.spacing)||0,t.colour=e.colour||"#888",t.length=void 0===e.length?1:Number(e.length),t.snap=0<t.spacing&&!!e.snap,t}},{key:"parseThemeOptions_",value:function(e){return"string"===typeof(e=e.theme||Nh)?y(qa.THEME,e):e instanceof Lh?e:Lh.defineTheme(e.name||"builtin"+P(),e)}}]),e}(),Ph=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a){var s;return d(this,n),(s=t.call(this,e)).type=Wa.CHANGE$$module$build$src$core$events$utils,e&&(s.element=i,s.name=r||void 0,s.oldValue=o,s.newValue=a),s}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return e.element=this.element,e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}},{key:"isNull",value:function(){return this.oldValue===this.newValue}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var i=t.getIcon(su.MUTATOR);switch(i&&Cr(i)&&i.bubbleIsVisible()&&i.setBubbleVisible(!1),e=e?this.newValue:this.oldValue,this.element){case"field":(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name);break;case"comment":t.setCommentText(e||null);break;case"collapsed":t.setCollapsed(!!e);break;case"disabled":t.setEnabled(!e);break;case"inline":t.setInputsInline(!!e);break;case"mutation":i=n.getExtraBlockState_(t),t.loadExtraState?t.loadExtraState(JSON.parse(e||"{}")):t.domToMutation&&t.domToMutation(Wa.textToDom$$module$build$src$core$utils$xml(e||"<mutation/>")),U(new n(t,"mutation",null,i,e));break;default:console.warn("Unknown change type: "+this.element)}}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).element=e.element,t.name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}},{key:"getExtraBlockState_",value:function(e){return e.saveExtraState?(e=e.saveExtraState(!0))?JSON.stringify(e):"":e.mutationToDom&&(e=e.mutationToDom())?Yt(e):""}}]),n}(Ju);e(qa.EVENT,Wa.CHANGE$$module$build$src$core$events$utils,Ph);var Dh=.45,Bh=.65,Fh={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},Uh={};Uh.blend=Pr,Uh.getHsvSaturation=Ir,Uh.getHsvValue=Or,Uh.hexToRgb=Nr,Uh.hsvToHex=$r,Uh.hueToHex=Dr,Uh.names=Fh,Uh.parse=Mr,Uh.rgbToHex=Lr,Uh.setHsvSaturation=Rr,Uh.setHsvValue=Ar;var jh={};jh.checkMessageReferences=jr,jh.parseBlockColour=Zr,jh.replaceMessageReferences=Ur,jh.tokenizeInterpolation=Fr;var Zh=function(){"use strict";function e(t,n,i){d(this,e),this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in(this instanceof e?this.constructor:void 0).prototype?(this instanceof e?this.constructor:void 0).prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new $l(0,0),t!==e.SKIP_SETUP&&(i&&this.configure_(i),this.setValue(t),n&&this.setValidator(n))}return f(e,[{key:"configure_",value:function(e){e.tooltip&&this.setTooltip(Ur(e.tooltip))}},{key:"setSourceBlock",value:function(e){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=e}},{key:"getConstants",value:function(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}},{key:"getSourceBlock",value:function(){return this.sourceBlock_}},{key:"init",value:function(){this.fieldGroup_||(this.fieldGroup_=pe(Ll.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}},{key:"initView",value:function(){this.createBorderRect_(),this.createTextElement_()}},{key:"initModel",value:function(){}},{key:"isFullBlockField",value:function(){return!this.borderRect_}},{key:"createBorderRect_",value:function(){this.borderRect_=pe(Ll.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}},{key:"createTextElement_",value:function(){this.textElement_=pe(Ll.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}},{key:"bindEvents_",value:function(){var e=this.getClickTarget_();if(!e)throw Error("A click target has not been set.");fr(e),this.mouseDownWrapper_=ie(e,"pointerdown",this,this.onMouseDown_)}},{key:"fromXml",value:function(e){this.setValue(e.textContent)}},{key:"toXml",value:function(e){return e.textContent=this.getValue(),e}},{key:"saveState",value:function(t){return null!==(t=this.saveLegacyState(e))?t:this.getValue()}},{key:"loadState",value:function(t){this.loadLegacyState(e,t)||this.setValue(t)}},{key:"saveLegacyState",value:function(e){return e.prototype.saveState===this.saveState&&e.prototype.toXml!==this.toXml?((e=Wa.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name",this.name||""),Ve(this.toXml(e)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}},{key:"loadLegacyState",value:function(e,t){return e.prototype.loadState===this.loadState&&e.prototype.fromXml!==this.fromXml&&(this.fromXml(Wa.textToDom$$module$build$src$core$utils$xml(t)),!0)}},{key:"dispose",value:function(){var e;ji(this),ni(this),null!=(e=this.getSourceBlock())&&e.isDeadOrDying()||_e(this.fieldGroup_),this.disposed=!0}},{key:"updateEditable",value:function(){var e=this.fieldGroup_,t=this.getSourceBlock();this.EDITABLE&&e&&t&&(this.enabled_&&t.isEditable()?(ve(e,"blocklyEditableText"),me(e,"blocklyNonEditableText"),e.style.cursor=this.CURSOR):(ve(e,"blocklyNonEditableText"),me(e,"blocklyEditableText"),e.style.cursor=""))}},{key:"setEnabled",value:function(e){this.enabled_=e,this.updateEditable()}},{key:"isEnabled",value:function(){return this.enabled_}},{key:"isClickable",value:function(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==e.prototype.showEditor_}},{key:"isClickableInFlyout",value:function(e){return!e}},{key:"isCurrentlyEditable",value:function(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}},{key:"isSerializable",value:function(){var e=!1;return this.name&&(this.SERIALIZABLE?e=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),e=!0)),e}},{key:"isVisible",value:function(){return this.visible_}},{key:"setVisible",value:function(e){if(this.visible_!==e){this.visible_=e;var t=this.fieldGroup_;t&&(t.style.display=e?"block":"none")}}},{key:"setValidator",value:function(e){this.validator_=e}},{key:"getValidator",value:function(){return this.validator_}},{key:"getSvgRoot",value:function(){return this.fieldGroup_}},{key:"getBorderRect",value:function(){if(!this.borderRect_)throw Error("The border rectangle is ".concat(this.borderRect_,"."));return this.borderRect_}},{key:"getTextElement",value:function(){if(!this.textElement_)throw Error("The text element is ".concat(this.textElement_,"."));return this.textElement_}},{key:"getTextContent",value:function(){if(!this.textContent_)throw Error("The text content is ".concat(this.textContent_,"."));return this.textContent_}},{key:"applyColour",value:function(){}},{key:"render_",value:function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}},{key:"showEditor",value:function(e){this.isClickable()&&this.showEditor_(e)}},{key:"showEditor_",value:function(e){}},{key:"repositionForWindowResize",value:function(){return!1}},{key:"updateSize_",value:function(e){var t=this.getConstants(),n=2*(e=void 0!==e?e:this.isFullBlockField()?0:this.getConstants().FIELD_BORDER_RECT_X_PADDING),i=t.FIELD_TEXT_HEIGHT,r=0;this.textElement_&&(n+=r=Se(this.textElement_,t.FIELD_TEXT_FONTSIZE,t.FIELD_TEXT_FONTWEIGHT,t.FIELD_TEXT_FONTFAMILY)),this.isFullBlockField()||(i=Math.max(i,t.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=i,this.size_.width=n,this.positionTextElement_(e,r),this.positionBorderRect_()}},{key:"positionTextElement_",value:function(e,t){if(this.textElement_){var n,i=this.getConstants(),r=this.size_.height/2;this.textElement_.setAttribute("x",String(null!=(n=this.getSourceBlock())&&n.RTL?this.size_.width-t-e:e)),this.textElement_.setAttribute("y",String(i.FIELD_TEXT_BASELINE_CENTER?r:r-i.FIELD_TEXT_HEIGHT/2+i.FIELD_TEXT_BASELINE))}}},{key:"positionBorderRect_",value:function(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}},{key:"getSize",value:function(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&0===this.size_.width&&(this.render_(),0!==this.size_.width&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new $l(0,0)}},{key:"getScaledBBox",value:function(){var e,t=this.getSourceBlock();if(!t)throw new Hh;if(this.isFullBlockField()){var n=this.sourceBlock_.getHeightWidth(),i=t.workspace.scale;e=this.getAbsoluteXY_(),t=(n.width+1)*i,n=(n.height+1)*i,al?(e.x+=1.5*i,e.y+=1.5*i):(e.x-=.5*i,e.y-=.5*i)}else n=this.borderRect_.getBoundingClientRect(),e=Le(this.borderRect_),t=n.width,n=n.height;return new Nl(e.y,e.y+n,e.x,e.x+t)}},{key:"onLocationChange",value:function(e){}},{key:"getDisplayText_",value:function(){var t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"\u2026"),t=t.replace(/\s/g,e.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="\u200f"),t):e.NBSP}},{key:"getText",value:function(){var e=this.getText_();return String(null!==e?e:this.getValue())}},{key:"getText_",value:function(){return null}},{key:"markDirty",value:function(){this.isDirty_=!0,this.constants_=null}},{key:"forceRerender",value:function(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}},{key:"setValue",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(null!==e){var n,i=this.doClassValidation_(e);(e=this.processValidation_(e,i))instanceof Error||(i=null==(n=this.getValidator())?void 0:n.call(this,e),(n=this.processValidation_(e,i))instanceof Error||(e=this.sourceBlock_)&&e.disposed||((i=this.getValue())===n?this.doValueUpdate_(n):(this.doValueUpdate_(n),t&&e&&V()&&U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(e,"field",this.name||null,i,n)),this.isDirty_&&this.forceRerender())))}}},{key:"processValidation_",value:function(e,t){return null===t?(this.doValueInvalid_(e),this.isDirty_&&this.forceRerender(),Error()):void 0===t?e:t}},{key:"getValue",value:function(){return this.value_}},{key:"doClassValidation_",value:function(e){return null===e||void 0===e?null:e}},{key:"doValueUpdate_",value:function(e){this.value_=e,this.isDirty_=!0}},{key:"doValueInvalid_",value:function(e){}},{key:"onMouseDown_",value:function(e){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(e=this.sourceBlock_.workspace.getGesture(e))&&e.setStartField(this)}},{key:"setTooltip",value:function(e){e||""===e||(e=this.sourceBlock_);var t=this.getClickTarget_();t?t.tooltip=e:this.tooltip_=e}},{key:"getTooltip",value:function(){var e=this.getClickTarget_();return cr(e||{tooltip:this.tooltip_})}},{key:"getClickTarget_",value:function(){return this.clickTarget_||this.getSvgRoot()}},{key:"getAbsoluteXY_",value:function(){return Le(this.getClickTarget_())}},{key:"referencesVariables",value:function(){return!1}},{key:"refreshVariableName",value:function(){}},{key:"getParentInput",value:function(){var e=null,t=this.getSourceBlock();if(!t)throw new Hh;for(var n=t.inputList,i=0;i<t.inputList.length;i++)for(var r=n[i],o=r.fieldRow,a=0;a<o.length;a++)if(o[a]===this){e=r;break}return e}},{key:"getFlipRtl",value:function(){return!1}},{key:"isTabNavigable",value:function(){return!1}},{key:"onShortcut",value:function(e){return!1}},{key:"setCursorSvg",value:function(e){if(e){if(!this.fieldGroup_)throw Error("The field group is ".concat(this.fieldGroup_,"."));this.fieldGroup_.appendChild(e),this.cursorSvg_=e}else this.cursorSvg_=null}},{key:"setMarkerSvg",value:function(e){if(e){if(!this.fieldGroup_)throw Error("The field group is ".concat(this.fieldGroup_,"."));this.fieldGroup_.appendChild(e),this.markerSvg_=e}else this.markerSvg_=null}},{key:"updateMarkers_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;(e=e.workspace).keyboardAccessibilityMode&&this.cursorSvg_&&e.getCursor().draw(),e.keyboardAccessibilityMode&&this.markerSvg_&&e.getMarker(Ah.LOCAL_MARKER).draw()}}]),e}();Zh.NBSP="\xa0",Zh.SKIP_SETUP=Symbol("SKIP_SETUP");var Hh=function(e){"use strict";c(n,e);var t=h(n);function n(){return d(this,n),t.call(this,"The field has not yet been attached to its input. Call appendField to attach it.")}return f(n)}(s(Error)),zh={};zh.Field=Zh,zh.UnattachedFieldError=Hh,Wa.Names$$module$build$src$core$names=function(){"use strict";function e(t,n){d(this,e),this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=n||"",this.reservedWords=new Set(t?t.split(","):[])}return f(e,[{key:"reset",value:function(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}},{key:"setVariableMap",value:function(e){this.variableMap=e}},{key:"getNameForUserVariable",value:function(e){return this.variableMap?(e=this.variableMap.getVariableById(e))?e.name:null:(console.warn("Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),null)}},{key:"populateVariables",value:function(e){e=Wa.allUsedVarModels$$module$build$src$core$variables(e);for(var t=0;t<e.length;t++)this.getName(e[t].getId(),Wa.NameType$$module$build$src$core$names.VARIABLE)}},{key:"populateProcedures",value:function(e){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}},{key:"getName",value:function(e,t){var n=e;t===Wa.NameType$$module$build$src$core$names.VARIABLE&&(e=this.getNameForUserVariable(e))&&(n=e),e=n.toLowerCase();var i=t===Wa.NameType$$module$build$src$core$names.VARIABLE||t===Wa.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(t)||this.db.set(t,new Map);var r=this.db.get(t);return r.has(e)?i+r.get(e):(t=this.getDistinctName(n,t),r.set(e,t.substr(i.length)),t)}},{key:"getUserNames",value:function(e){var t;return(e=null==(t=this.db.get(e))?void 0:t.keys())?Array.from(e):[]}},{key:"getDistinctName",value:function(e,t){e=this.safeName(e);for(var n,i,r,o=null;this.dbReverse.has(e+(null!=(n=o)?n:""))||this.reservedWords.has(e+(null!=(i=o)?i:""));)o=o?o+1:2;return e+=null!=(r=o)?r:"",this.dbReverse.add(e),(t===Wa.NameType$$module$build$src$core$names.VARIABLE||t===Wa.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+e}},{key:"safeName",value:function(e){return e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!=="0123456789".indexOf(e[0])&&(e="my_"+e)):e=Wa.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",e}}],[{key:"equals",value:function(e,t){return e.toLowerCase()===t.toLowerCase()}}]),e}(),function(e){(e=e.NameType||(e.NameType={})).DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",e.VARIABLE="VARIABLE",e.PROCEDURE="PROCEDURE"}(Wa.Names$$module$build$src$core$names||(Wa.Names$$module$build$src$core$names={})),Wa.NameType$$module$build$src$core$names=Wa.Names$$module$build$src$core$names.NameType,Wa.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=Wa.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,{NameType:Wa.NameType$$module$build$src$core$names}.Names=Wa.Names$$module$build$src$core$names;var Vh=function(e){"use strict";c(n,e);var t=h(n);function n(){return d(this,n),t.call(this)}return f(n,[{key:"set",value:function(e,t){return this.get(e)===t||(l(u(n.prototype),"set",this).call(this,e,t),zr(t)&&t.startPublishing()),this}},{key:"delete",value:function(e){var t=this.get(e);return(e=l(u(n.prototype),"delete",this).call(this,e))?(zr(t)&&t.stopPublishing(),e):e}},{key:"clear",value:function(){if(this.size){var e,t=g(this.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.delete(n)}}catch(i){t.e(i)}finally{t.f()}}}},{key:"add",value:function(e){return this.set(e.getId(),e)}},{key:"getProcedures",value:function(){return v(this.values())}}]),n}(s(Map)),Wh=function(){"use strict";function e(t){d(this,e),this.sourceBlock=t,this.offsetInBlock=new Tl(0,0),this.workspaceLocation=new Tl(0,0),this.svgRoot=null,this.tooltip=t}return f(e,[{key:"getType",value:function(){throw Error("Icons must implement getType")}},{key:"initView",value:function(e){if(!this.svgRoot){var t=this.sourceBlock;this.svgRoot=pe(Ll.G,{class:"blocklyIconGroup"}),t.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),ie(this.svgRoot,"pointerdown",this,e),this.svgRoot.tooltip=this,fr(this.svgRoot)}}},{key:"dispose",value:function(){pr(this.svgRoot),_e(this.svgRoot)}},{key:"getWeight",value:function(){return-1}},{key:"getSize",value:function(){return new $l(0,0)}},{key:"setTooltip",value:function(e){this.tooltip=null!=e?e:this.sourceBlock}},{key:"getTooltip",value:function(){return this.tooltip}},{key:"applyColour",value:function(){}},{key:"updateEditable",value:function(){}},{key:"updateCollapsed",value:function(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",Cr(this)&&this.setBubbleVisible(!1))}},{key:"hideForInsertionMarker",value:function(){this.svgRoot&&(this.svgRoot.style.display="none")}},{key:"isShownWhenCollapsed",value:function(){return!1}},{key:"setOffsetInBlock",value:function(e){this.offsetInBlock=e,this.updateSvgRootOffset()}},{key:"updateSvgRootOffset",value:function(){var e;null==(e=this.svgRoot)||e.setAttribute("transform","translate(".concat(this.offsetInBlock.x,", ").concat(this.offsetInBlock.y,")"))}},{key:"onLocationChange",value:function(e){this.workspaceLocation=Tl.sum(e,this.offsetInBlock)}},{key:"onClick",value:function(){}},{key:"isClickableInFlyout",value:function(e){return!0}},{key:"setVisible",value:function(e){fe("setVisible","v10","v11","setBubbleVisible"),Cr(this)&&this.setBubbleVisible(e)}}]),e}(),Gh={fromJsonInternal:Gr},Xh={TEST_ONLY:Gh};Xh.fromJson=Wa.fromJson$$module$build$src$core$field_registry,Xh.register=Vr,Xh.unregister=Wr;var Yh=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).svgArrow=o.arrow=o.imageElement=o.menu_=o.selectedMenuItem=null,o.SERIALIZABLE=!0,o.CURSOR="default",o.clickTarget_=o.suffixField=o.prefixField=o.generatedOptions=null,e!==Zh.SKIP_SETUP&&(Array.isArray(e)?(Kr(e),e=Xr(e),o.menuGenerator_=e.options,o.prefixField=e.prefix||null,o.suffixField=e.suffix||null):o.menuGenerator_=e,o.selectedOption=o.getOptions(!1)[0],r&&o.configure_(r),o.setValue(o.selectedOption[1]),i&&o.setValidator(i)),o}return f(n,[{key:"fromXml",value:function(e){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e.textContent)}},{key:"loadState",value:function(e){this.loadLegacyState(n,e)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(e))}},{key:"initView",value:function(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=pe(Ll.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&ve(this.borderRect_,"blocklyDropdownRect")}},{key:"shouldAddBorderRect_",value:function(){var e;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!(null!=(e=this.getSourceBlock())&&e.isShadow())}},{key:"createTextArrow_",value:function(){var e,t;this.arrow=pe(Ll.TSPAN,{},this.textElement_),this.arrow.appendChild(document.createTextNode(null!=(e=this.getSourceBlock())&&e.RTL?n.ARROW_CHAR+" ":" "+n.ARROW_CHAR)),null!=(t=this.getSourceBlock())&&t.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}},{key:"createSVGArrow_",value:function(){this.svgArrow=pe(Ll.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(Il,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}},{key:"showEditor_",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;this.dropdownCreate(),this.menu_.openingCoords=e&&"number"===typeof e.clientX?new Tl(e.clientX,e.clientY):null,Ii(),e=this.menu_.render(Ci()),ve(e,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=t.getColour(),Ri(t,this.sourceBlock_.style.colourTertiary)),Ai(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),Pe(this.selectedMenuItem.getElement(),Ci(),!0)),this.applyColour()}},{key:"dropdownCreate",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;var t=new yc;t.setRole(dc.LISTBOX),this.menu_=t;var n=this.getOptions(!1);this.selectedMenuItem=null;for(var i=0;i<n.length;i++){var r=p(n[i],2),o=r[0],a=r[1];if("object"===typeof o){var s=new Image(o.width,o.height);s.src=o.src,s.alt=o.alt||""}else s=o;(s=new _c(s,a)).setRole(dc.OPTION),s.setRightToLeft(e.RTL),s.setCheckable(!0),t.addChild(s),s.setChecked(a===this.value_),a===this.value_&&(this.selectedMenuItem=s),s.onAction(this.handleMenuActionEvent,this)}}},{key:"dropdownDispose_",value:function(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}},{key:"handleMenuActionEvent",value:function(e){ji(this,!0),this.onItemSelected_(this.menu_,e)}},{key:"onItemSelected_",value:function(e,t){this.setValue(t.getValue())}},{key:"isOptionListDynamic",value:function(){return"function"===typeof this.menuGenerator_}},{key:"getOptions",value:function(e){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:(e&&this.generatedOptions||(this.generatedOptions=this.menuGenerator_(),Kr(this.generatedOptions)),this.generatedOptions)}},{key:"doClassValidation_",value:function(e){return this.getOptions(!0).some((function(t){return t[1]===e}))?e:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+e),null)}},{key:"doValueUpdate_",value:function(e){l(u(n.prototype),"doValueUpdate_",this).call(this,e),e=this.getOptions(!0);for(var t,i=0;t=e[i];i++)t[1]===this.value_&&(this.selectedOption=t)}},{key:"applyColour",value:function(){var e=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",e.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",e.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=e.colourSecondary:this.arrow.style.fill=e.colourPrimary)}},{key:"render_",value:function(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";var e=this.selectedOption&&this.selectedOption[0];e&&"object"===typeof e?this.renderSelectedImage(e):this.renderSelectedText(),this.positionBorderRect_()}},{key:"renderSelectedImage",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;this.imageElement.style.display="",this.imageElement.setAttributeNS(Il,"xlink:href",e.src),this.imageElement.setAttribute("height",String(e.height)),this.imageElement.setAttribute("width",String(e.width));var n=Number(e.height);e=Number(e.width);var i,r=!!this.borderRect_,o=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,n+Kh);r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,i=this.svgArrow?this.positionSVGArrow(e+r,o/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Se(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=e+i+2*r,this.size_.height=o;var a=0;t.RTL?this.imageElement.setAttribute("x","".concat(r+i)):(a=e+i,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x","".concat(r))),this.imageElement.setAttribute("y",String(o/2-n/2)),this.positionTextElement_(a+r,e+i)}},{key:"renderSelectedText",value:function(){this.getTextContent().nodeValue=this.getDisplayText_();var e=this.getTextElement();ve(e,"blocklyDropdownText"),e.setAttribute("text-anchor","start");var t=!!this.borderRect_;e=Math.max(t?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);var n=Se(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);t=t?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;var i=0;this.svgArrow&&(i=this.positionSVGArrow(n+t,e/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=n+i+2*t,this.size_.height=e,this.positionTextElement_(t,n)}},{key:"positionSVGArrow",value:function(e,t){if(!this.svgArrow)return 0;var n=this.getSourceBlock();if(!n)throw new Hh;var i=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,r=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,o=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(n.RTL?i:e+r)+","+t+")"),o+r}},{key:"getText_",value:function(){if(!this.selectedOption)return null;var e=this.selectedOption[0];return"object"===typeof e?e.alt:e}}],[{key:"fromJson",value:function(e){if(!e.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(e.options,void 0,e)}}]),n}(Zh);Yh.CHECKMARK_OVERHANG=25,Yh.MAX_MENU_HEIGHT_VH=.45,Yh.ARROW_CHAR="\u25be";var Kh=10;Vr("field_dropdown",Yh);var qh,Jh=function(){"use strict";function e(t,n,i){d(this,e),this.workspace=t,this.anchor=n,this.ownerRect=i,this.size=new $l(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.svgRoot=pe(Ll.G,{},t.getBubbleCanvas()),t=pe(Ll.G,{filter:"url(#".concat(this.workspace.getRenderer().getConstants().embossFilterId,")")},this.svgRoot),this.tail=pe(Ll.PATH,{},t),this.background=pe(Ll.RECT,{class:"blocklyDraggable",x:0,y:0,rx:qh.BORDER_WIDTH,ry:qh.BORDER_WIDTH},t),this.contentContainer=pe(Ll.G,{},this.svgRoot),ie(this.background,"pointerdown",this,this.onMouseDown)}return f(e,[{key:"dispose",value:function(){_e(this.svgRoot),this.disposed=!0}},{key:"setAnchorLocation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.anchor=e,t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}},{key:"setPositionRelativeToAnchor",value:function(e,t){this.relativeLeft=e,this.relativeTop=t,this.positionRelativeToAnchor(),this.renderTail()}},{key:"getSize",value:function(){return this.size}},{key:"setSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.width=Math.max(e.width,qh.MIN_SIZE),e.height=Math.max(e.height,qh.MIN_SIZE),this.size=e,this.background.setAttribute("width","".concat(e.width)),this.background.setAttribute("height","".concat(e.height)),t?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}},{key:"getColour",value:function(){return this.colour}},{key:"setColour",value:function(e){this.colour=e,this.tail.setAttribute("fill",e),this.background.setAttribute("fill",e)}},{key:"onMouseDown",value:function(e){var t;null==(t=this.workspace.getGesture(e))||t.handleBubbleStart(e,this)}},{key:"positionRelativeToAnchor",value:function(){var e=this.anchor.x;e=this.workspace.RTL?e-(this.relativeLeft+this.size.width):e+this.relativeLeft,this.moveTo(e,this.relativeTop+this.anchor.y)}},{key:"moveTo",value:function(e,t){this.svgRoot.setAttribute("transform","translate(".concat(e,", ").concat(t,")"))}},{key:"positionByRect",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Nl(0,0,0,0),t=this.workspace.getMetricsManager().getViewMetrics(!0),n=this.getOptimalRelativeLeft(t),i=this.getOptimalRelativeTop(t),r={x:n,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},o={x:-this.size.width-30,y:i};i={x:e.getWidth(),y:i};var a={x:n,y:e.getHeight()};n=e.getWidth()<e.getHeight()?i:a,e=e.getWidth()<e.getHeight()?a:i,i=this.getOverlap(r,t),a=this.getOverlap(o,t);var s=this.getOverlap(n,t);t=this.getOverlap(e,t),i===(t=Math.max(i,a,s,t))?(this.relativeLeft=r.x,this.relativeTop=r.y):a===t?(this.relativeLeft=o.x,this.relativeTop=o.y):s===t?(this.relativeLeft=n.x,this.relativeTop=n.y):(this.relativeLeft=e.x,this.relativeTop=e.y),this.positionRelativeToAnchor()}},{key:"getOverlap",value:function(e,t){var n=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x+this.anchor.x;return e=e.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(n+this.size.width,t.left+t.width)-Math.max(n,t.left))*(Math.min(e+this.size.height,t.top+t.height)-Math.max(e,t.top))/(this.size.width*this.size.height)))}},{key:"getOptimalRelativeLeft",value:function(e){var t=-this.size.width/4;if(this.size.width>e.width)return t;if(e=this.getWorkspaceViewRect(e),this.workspace.RTL){var n=this.anchor.x-t;n-this.size.width<e.left?t=-(e.left-this.anchor.x+this.size.width):n>e.right&&(t=-(e.right-this.anchor.x))}else{var i=(n=t+this.anchor.x)+this.size.width;n<e.left?t=e.left-this.anchor.x:i>e.right&&(t=e.right-this.anchor.x-this.size.width)}return t}},{key:"getOptimalRelativeTop",value:function(e){var t=-this.size.height/4;if(this.size.height>e.height)return t;var n=this.anchor.y+t,i=n+this.size.height;return n<(e=this.getWorkspaceViewRect(e)).top?t=e.top-this.anchor.y:i>e.bottom&&(t=e.bottom-this.anchor.y-this.size.height),t}},{key:"getWorkspaceViewRect",value:function(e){var t=e.top,n=e.top+e.height,i=e.left;return e=e.left+e.width,n-=this.getScrollbarThickness(),this.workspace.RTL?i-=this.getScrollbarThickness():e-=this.getScrollbarThickness(),new Nl(t,n,i,e)}},{key:"getScrollbarThickness",value:function(){return jl.scrollbarThickness/this.workspace.scale}},{key:"renderTail",value:function(){var e,t=[],n=this.size.width/2,i=this.size.height/2,r=-this.relativeLeft,o=-this.relativeTop;if(n===r&&i===o)t.push("M "+n+","+i);else{o-=i,r-=n,this.workspace.RTL&&(r*=-1);var a=Math.sqrt(o*o+r*r),s=Math.acos(r/a);0>o&&(s=2*Math.PI-s);var l=s+Math.PI/2;l>2*Math.PI&&(l-=2*Math.PI);var u=Math.sin(l),c=Math.cos(l),h=(this.size.width+this.size.height)/qh.TAIL_THICKNESS;h=Math.min(h,this.size.width,this.size.height)/4,r=n+(l=1-qh.ANCHOR_RADIUS/a)*r,o=i+l*o,l=n+h*c;var d=i+h*u;n-=h*c,i-=h*u,(u=s+(u=ki(this.workspace.RTL?-qh.TAIL_ANGLE:qh.TAIL_ANGLE)))>2*Math.PI&&(u-=2*Math.PI),s=Math.sin(u)*a/qh.TAIL_BEND,a=Math.cos(u)*a/qh.TAIL_BEND,t.push("M"+l+","+d),t.push("C"+(l+a)+","+(d+s)+" "+r+","+o+" "+r+","+o),t.push("C"+r+","+o+" "+(n+a)+","+(i+s)+" "+n+","+i)}t.push("z"),null==(e=this.tail)||e.setAttribute("d",t.join(" "))}},{key:"bringToFront",value:function(){var e,t=null==(e=this.svgRoot)?void 0:e.parentNode;return!(!this.svgRoot||(null==t?void 0:t.lastChild)===this.svgRoot)&&(null==t||t.appendChild(this.svgRoot),!0)}},{key:"getRelativeToSurfaceXY",value:function(){return new Tl(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}},{key:"getSvgRoot",value:function(){return this.svgRoot}},{key:"moveDuringDrag",value:function(e){this.moveTo(e.x,e.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-e.x-this.size.width:e.x-this.anchor.x,this.relativeTop=e.y-this.anchor.y,this.renderTail()}},{key:"setDragging",value:function(e){}},{key:"setDeleteStyle",value:function(e){}},{key:"isDeletable",value:function(){return!1}},{key:"showContextMenu",value:function(e){}}]),e}();qh=Jh,Jh.BORDER_WIDTH=6,Jh.DOUBLE_BORDER=2*qh.BORDER_WIDTH,Jh.MIN_SIZE=qh.DOUBLE_BORDER,Jh.TAIL_THICKNESS=1,Jh.TAIL_ANGLE=20,Jh.TAIL_BEND=4,Jh.ANCHOR_RADIUS=8;var Qh,ed,td=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o){var s,l,u;return d(this,n),(s=t.call(this,i,r,o)).workspace=i,s.anchor=r,s.ownerRect=o,s.autoLayout=!0,i=new $h(e),s.validateWorkspaceOptions(i),s.svgDialog=pe(Ll.SVG,{x:Jh.BORDER_WIDTH,y:Jh.BORDER_WIDTH},s.contentContainer),e.parentWorkspace=s.workspace,s.miniWorkspace=s.newWorkspaceSvg(new $h(e)),s.miniWorkspace.internalIsMutator=!0,e=s.miniWorkspace.createDom("blocklyMutatorBackground"),s.svgDialog.appendChild(e),i.languageTree&&(e.insertBefore(s.miniWorkspace.addFlyout(Ll.G),s.miniWorkspace.getCanvas()),null==(e=s.miniWorkspace.getFlyout())||e.init(s.miniWorkspace),null==e||e.show(i.languageTree)),s.miniWorkspace.addChangeListener(s.onWorkspaceChange.bind(a(s))),null==(l=s.miniWorkspace.getFlyout())||null==(u=l.getWorkspace())||u.addChangeListener(s.onWorkspaceChange.bind(a(s))),s.updateBubbleSize(),s}return f(n,[{key:"dispose",value:function(){this.miniWorkspace.dispose(),l(u(n.prototype),"dispose",this).call(this)}},{key:"getWorkspace",value:function(){return this.miniWorkspace}},{key:"addWorkspaceChangeListener",value:function(e){this.miniWorkspace.addChangeListener(e)}},{key:"validateWorkspaceOptions",value:function(e){if(e.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(e.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(e.zoomOptions.controls||e.zoomOptions.wheel||e.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(e.moveOptions.scrollbars||e.moveOptions.wheel||e.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(e.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}},{key:"onWorkspaceChange",value:function(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}},{key:"bumpBlocksIntoBounds",value:function(){if(!this.miniWorkspace.isDragging()){var e,t=g(this.miniWorkspace.getTopBlocks(!1));try{for(t.s();!(e=t.n()).done;){var n=e.value,i=n.getRelativeToSurfaceXY();if(20>i.y&&n.moveBy(0,20-i.y),n.RTL){var r=-20,o=this.miniWorkspace.getFlyout();o&&(r-=o.getWidth()),i.x>r&&n.moveBy(r-i.x,0)}else 20>i.x&&n.moveBy(20-i.x,0)}}catch(a){t.e(a)}finally{t.f()}}}},{key:"updateBubbleSize",value:function(){if(!this.miniWorkspace.isDragging()){var e=this.getSize(),t=this.calculateWorkspaceSize();Math.abs(e.width-t.width)<n.MINIMUM_VIEW_CHANGE&&Math.abs(e.height-t.height)<n.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width","".concat(t.width,"px")),this.svgDialog.setAttribute("height","".concat(t.height,"px")),this.miniWorkspace.setCachedParentSvgSize(t.width,t.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform","translate(".concat(t.width,", 0)")),this.setSize(new $l(t.width+Jh.DOUBLE_BORDER,t.height+Jh.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}},{key:"calculateWorkspaceSize",value:function(){var e=this.miniWorkspace.getCanvas().getBBox(),t=e.width+n.MARGIN;e=e.height+n.MARGIN;var i=this.miniWorkspace.getFlyout();if(i){var r=i.getWorkspace().getMetricsManager().getScrollMetrics();e=Math.max(e,r.height+20),t+=i.getWidth()}return new $l(t,e)}},{key:"updateBlockStyles",value:function(){var e,t,n=g(this.miniWorkspace.getAllBlocks(!1));try{for(n.s();!(e=n.n()).done;){var i=e.value;i.setStyle(i.getStyleName())}}catch(s){n.e(s)}finally{n.f()}if(i=null==(t=this.miniWorkspace.getFlyout())?void 0:t.getWorkspace()){var r,o=g(i.getAllBlocks(!1));try{for(o.s();!(r=o.n()).done;){var a=r.value;a.setStyle(a.getStyleName())}}catch(s){o.e(s)}finally{o.f()}}}},{key:"moveDuringDrag",value:function(e){l(u(n.prototype),"moveDuringDrag",this).call(this,e),this.autoLayout=!1}},{key:"moveTo",value:function(e,t){l(u(n.prototype),"moveTo",this).call(this,e,t),this.miniWorkspace.recordDragTargets()}},{key:"newWorkspaceSvg",value:function(e){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}}]),n}(Jh);td.MINIMUM_VIEW_CHANGE=10,td.MARGIN=3*Jh.DOUBLE_BORDER,Qh=17,ed=16,Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,i)).flyoutBlockTypes=e,r.sourceBlock=i,r.saveConnectionsListener=r.updateWorkspacePid=r.rootBlock=r.miniWorkspaceBubble=null,r}return f(n,[{key:"getType",value:function(){return Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}},{key:"initView",value:function(e){this.svgRoot||(l(u(n.prototype),"initView",this).call(this,e),pe(Ll.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),pe(Ll.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),pe(Ll.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot),ve(this.svgRoot,"blockly-icon-mutator"))}},{key:"dispose",value:function(){var e;l(u(n.prototype),"dispose",this).call(this),null==(e=this.miniWorkspaceBubble)||e.dispose()}},{key:"getWeight",value:function(){return Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}},{key:"getSize",value:function(){return new $l(Qh,Qh)}},{key:"applyColour",value:function(){var e,t;l(u(n.prototype),"applyColour",this).call(this),null==(e=this.miniWorkspaceBubble)||e.setColour(this.sourceBlock.style.colourPrimary),null==(t=this.miniWorkspaceBubble)||t.updateBlockStyles()}},{key:"updateCollapsed",value:function(){l(u(n.prototype),"updateCollapsed",this).call(this),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}},{key:"onLocationChange",value:function(e){var t;l(u(n.prototype),"onLocationChange",this).call(this,e),null==(t=this.miniWorkspaceBubble)||t.setAnchorLocation(this.getAnchorLocation())}},{key:"onClick",value:function(){l(u(n.prototype),"onClick",this).call(this),this.sourceBlock.isEditable()&&this.setBubbleVisible(!this.bubbleIsVisible())}},{key:"isClickableInFlyout",value:function(){return!1}},{key:"bubbleIsVisible",value:function(){return!!this.miniWorkspaceBubble}},{key:"setBubbleVisible",value:function(e){var t,n;this.bubbleIsVisible()!==e&&(e?(this.miniWorkspaceBubble=new td(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour(),this.createRootBlock(),this.addSaveConnectionsListener(),null==(t=this.miniWorkspaceBubble)||t.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener())):(null==(n=this.miniWorkspaceBubble)||n.dispose(),this.miniWorkspaceBubble=null,this.saveConnectionsListener&&this.sourceBlock.workspace.removeChangeListener(this.saveConnectionsListener),this.saveConnectionsListener=null),U(new(Y(_s))(this.sourceBlock,e,"mutator")))}},{key:"getMiniWorkspaceConfig",value:function(){var e,t={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:null!=(e=this.sourceBlock.workspace.options.rendererOverrides)?e:void 0};return this.flyoutBlockTypes.length&&(t.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map((function(e){return{kind:"block",type:e}}))}),t}},{key:"getAnchorLocation",value:function(){var e=Qh/2;return Tl.sum(this.workspaceLocation,new Tl(e,e))}},{key:"getBubbleOwnerRect",value:function(){var e=this.sourceBlock.getSvgRoot().getBBox();return new Nl(e.y,e.y+e.height,e.x,e.x+e.width)}},{key:"createRootBlock",value:function(){if(!this.sourceBlock.decompose)throw Error("Blocks with mutator icons must include a decompose method");this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());var e,t,n,i,r,o=g(this.rootBlock.getDescendants(!1));try{for(o.s();!(e=o.n()).done;){var a=e.value;a.queueRender()}}catch(s){o.e(s)}finally{o.f()}this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1),a=null!=(r=null==(t=this.miniWorkspaceBubble)||null==(n=t.getWorkspace())||null==(i=n.getFlyout())?void 0:i.getWidth())?r:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(a+ed):ed,ed)}},{key:"addSaveConnectionsListener",value:function(){var e=this;this.sourceBlock.saveConnections&&this.rootBlock&&(this.saveConnectionsListener=function(){e.sourceBlock.saveConnections&&e.rootBlock&&e.sourceBlock.saveConnections(e.rootBlock)},this.saveConnectionsListener(),this.sourceBlock.workspace.addChangeListener(this.saveConnectionsListener))}},{key:"createMiniWorkspaceChangeListener",value:function(){var e=this;return function(t){Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(t)||e.updateWorkspacePid||(e.updateWorkspacePid=setTimeout((function(){e.updateWorkspacePid=null,e.recomposeSourceBlock()}),0))}}},{key:"recomposeSourceBlock",value:function(){if(this.rootBlock){if(!this.sourceBlock.compose)throw Error("Blocks with mutator icons must include a compose method");var e=Wa.getGroup$$module$build$src$core$events$utils();e||Wa.setGroup$$module$build$src$core$events$utils(!0);var t=Ph.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var n=Ph.getExtraBlockState_(this.sourceBlock);t!==n&&U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,t,n)),Wa.setGroup$$module$build$src$core$events$utils(e)}}},{key:"getWorkspace",value:function(){var e;return null==(e=this.miniWorkspaceBubble)?void 0:e.getWorkspace()}}],[{key:"isIgnorableMutatorEvent",value:function(e){return e.isUiEvent||e.type===Wa.CREATE$$module$build$src$core$events$utils||e.type===Wa.CHANGE$$module$build$src$core$events$utils&&"disabled"===e.element}},{key:"reconnect",value:function(e,t,n){return fe("MutatorIcon.reconnect","v10","v11","connection.reconnect"),!!e&&e.reconnect(t,n)}},{key:"findParentWs",value:function(e){return fe("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace"),e.getRootWorkspace()}}]),n}(Wh),Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=su.MUTATOR,Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon;var nd=Object.create(null),id={allExtensions:nd};Wa.register$$module$build$src$core$extensions("parent_tooltip_when_inline",co);var rd,od={TEST_ONLY:id};od.apply=Qr,od.buildTooltipForDropdown=Wa.buildTooltipForDropdown$$module$build$src$core$extensions,od.buildTooltipWithFieldText=Wa.buildTooltipWithFieldText$$module$build$src$core$extensions,od.isRegistered=Jr,od.register=Wa.register$$module$build$src$core$extensions,od.registerMixin=Wa.registerMixin$$module$build$src$core$extensions,od.registerMutator=Wa.registerMutator$$module$build$src$core$extensions,od.runAfterPageLoad=lo,od.unregister=qr,function(e){e[e.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",e[e.MAC_ENTER=3]="MAC_ENTER",e[e.BACKSPACE=8]="BACKSPACE",e[e.TAB=9]="TAB",e[e.NUM_CENTER=12]="NUM_CENTER",e[e.ENTER=13]="ENTER",e[e.SHIFT=16]="SHIFT",e[e.CTRL=17]="CTRL",e[e.ALT=18]="ALT",e[e.PAUSE=19]="PAUSE",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.ESC=27]="ESC",e[e.SPACE=32]="SPACE",e[e.PAGE_UP=33]="PAGE_UP",e[e.PAGE_DOWN=34]="PAGE_DOWN",e[e.END=35]="END",e[e.HOME=36]="HOME",e[e.LEFT=37]="LEFT",e[e.UP=38]="UP",e[e.RIGHT=39]="RIGHT",e[e.DOWN=40]="DOWN",e[e.PLUS_SIGN=43]="PLUS_SIGN",e[e.PRINT_SCREEN=44]="PRINT_SCREEN",e[e.INSERT=45]="INSERT",e[e.DELETE=46]="DELETE",e[e.ZERO=48]="ZERO",e[e.ONE=49]="ONE",e[e.TWO=50]="TWO",e[e.THREE=51]="THREE",e[e.FOUR=52]="FOUR",e[e.FIVE=53]="FIVE",e[e.SIX=54]="SIX",e[e.SEVEN=55]="SEVEN",e[e.EIGHT=56]="EIGHT",e[e.NINE=57]="NINE",e[e.FF_SEMICOLON=59]="FF_SEMICOLON",e[e.FF_EQUALS=61]="FF_EQUALS",e[e.FF_DASH=173]="FF_DASH",e[e.FF_HASH=163]="FF_HASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.AT_SIGN=64]="AT_SIGN",e[e.A=65]="A",e[e.B=66]="B",e[e.C=67]="C",e[e.D=68]="D",e[e.E=69]="E",e[e.F=70]="F",e[e.G=71]="G",e[e.H=72]="H",e[e.I=73]="I",e[e.J=74]="J",e[e.K=75]="K",e[e.L=76]="L",e[e.M=77]="M",e[e.N=78]="N",e[e.O=79]="O",e[e.P=80]="P",e[e.Q=81]="Q",e[e.R=82]="R",e[e.S=83]="S",e[e.T=84]="T",e[e.U=85]="U",e[e.V=86]="V",e[e.W=87]="W",e[e.X=88]="X",e[e.Y=89]="Y",e[e.Z=90]="Z",e[e.META=91]="META",e[e.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",e[e.CONTEXT_MENU=93]="CONTEXT_MENU",e[e.NUM_ZERO=96]="NUM_ZERO",e[e.NUM_ONE=97]="NUM_ONE",e[e.NUM_TWO=98]="NUM_TWO",e[e.NUM_THREE=99]="NUM_THREE",e[e.NUM_FOUR=100]="NUM_FOUR",e[e.NUM_FIVE=101]="NUM_FIVE",e[e.NUM_SIX=102]="NUM_SIX",e[e.NUM_SEVEN=103]="NUM_SEVEN",e[e.NUM_EIGHT=104]="NUM_EIGHT",e[e.NUM_NINE=105]="NUM_NINE",e[e.NUM_MULTIPLY=106]="NUM_MULTIPLY",e[e.NUM_PLUS=107]="NUM_PLUS",e[e.NUM_MINUS=109]="NUM_MINUS",e[e.NUM_PERIOD=110]="NUM_PERIOD",e[e.NUM_DIVISION=111]="NUM_DIVISION",e[e.F1=112]="F1",e[e.F2=113]="F2",e[e.F3=114]="F3",e[e.F4=115]="F4",e[e.F5=116]="F5",e[e.F6=117]="F6",e[e.F7=118]="F7",e[e.F8=119]="F8",e[e.F9=120]="F9",e[e.F10=121]="F10",e[e.F11=122]="F11",e[e.F12=123]="F12",e[e.NUMLOCK=144]="NUMLOCK",e[e.SCROLL_LOCK=145]="SCROLL_LOCK",e[e.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",e[e.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",e[e.SEMICOLON=186]="SEMICOLON",e[e.DASH=189]="DASH",e[e.EQUALS=187]="EQUALS",e[e.COMMA=188]="COMMA",e[e.PERIOD=190]="PERIOD",e[e.SLASH=191]="SLASH",e[e.APOSTROPHE=192]="APOSTROPHE",e[e.TILDE=192]="TILDE",e[e.SINGLE_QUOTE=222]="SINGLE_QUOTE",e[e.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",e[e.BACKSLASH=220]="BACKSLASH",e[e.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",e[e.WIN_KEY=224]="WIN_KEY",e[e.MAC_FF_META=224]="MAC_FF_META",e[e.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",e[e.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",e[e.WIN_IME=229]="WIN_IME",e[e.VK_NONAME=252]="VK_NONAME",e[e.PHANTOM=255]="PHANTOM"}(rd||(rd={}));var ad={};ad.arc=_o,ad.curve=fo,ad.line=mo,ad.lineOnAxis=yo,ad.lineTo=go,ad.moveBy=vo,ad.moveTo=po,ad.point=ho;var sd={};sd.Coordinate=Tl,sd.KeyCodes=rd,sd.Rect=Nl,sd.Size=$l,sd.Svg=Ll,sd.aria=gc,sd.array=gl,sd.browserEvents=vl,sd.colour=Uh,sd.deprecation=xl,sd.dom=Ml,sd.extensions=od,sd.idGenerator=Ps,sd.math=Lc,sd.object=Mh,sd.parsing=jh,sd.string=lh,sd.style=Dl,sd.svgMath=Ul,sd.svgPaths=ad,sd.toolbox=iu,sd.userAgent=dl,sd.xml=Yl;var ld={};ld.register=bo,ld.unregister=ko;var ud=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o){var a;return d(this,n),(a=t.call(this,i,r,o)).text=e,a.workspace=i,a.anchor=r,a.ownerRect=o,a.paragraph=a.stringToSvg(e,a.contentContainer),a.updateBubbleSize(),a}return f(n,[{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e,_e(this.paragraph),this.paragraph=this.stringToSvg(e,this.contentContainer),this.updateBubbleSize()}},{key:"stringToSvg",value:function(e,t){return t=this.createParagraph(t),e=this.createSpans(t,e),this.workspace.RTL&&this.rightAlignSpans(t.getBBox().width,e),t}},{key:"createParagraph",value:function(e){return pe(Ll.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Jh.BORDER_WIDTH},e)}},{key:"createSpans",value:function(e,t){return t.split("\n").map((function(t){var n=pe(Ll.TSPAN,{dy:"1em",x:Jh.BORDER_WIDTH},e);return t=document.createTextNode(t),n.appendChild(t),n}))}},{key:"rightAlignSpans",value:function(e,t){var n,i=g(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;r.setAttribute("text-anchor","end"),r.setAttribute("x","".concat(e+Jh.BORDER_WIDTH))}}catch(o){i.e(o)}finally{i.f()}}},{key:"updateBubbleSize",value:function(){var e=this.paragraph.getBBox();this.setSize(new $l(e.width+2*Jh.BORDER_WIDTH,e.height+2*Jh.BORDER_WIDTH),!0)}}]),n}(Jh),cd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;d(this,n),(o=t.call(this,e,i,r)).workspace=e,o.anchor=i,o.ownerRect=r,o.resizePointerMoveListener=o.resizePointerUpListener=null,o.textChangeListeners=[],o.sizeChangeListeners=[],o.text="",o.DEFAULT_SIZE=new $l(160+Jh.DOUBLE_BORDER,80+Jh.DOUBLE_BORDER),o.MIN_SIZE=new $l(45+Jh.DOUBLE_BORDER,20+Jh.DOUBLE_BORDER);var a=o.createEditor(o.contentContainer);return o.inputRoot=a.inputRoot,o.textArea=a.textArea,o.resizeGroup=o.createResizeHandle(o.svgRoot),o.setSize(o.DEFAULT_SIZE,!0),o}return f(n,[{key:"getText",value:function(){return this.text}},{key:"setText",value:function(e){this.text=e,this.textArea.value=e,this.onTextChange()}},{key:"addTextChangeListener",value:function(e){this.textChangeListeners.push(e)}},{key:"addSizeChangeListener",value:function(e){this.sizeChangeListeners.push(e)}},{key:"createEditor",value:function(e){e=pe(Ll.FOREIGNOBJECT,{x:Jh.BORDER_WIDTH,y:Jh.BORDER_WIDTH},e);var t=document.createElementNS(Cl,"body");t.setAttribute("xmlns",Cl),t.className="blocklyMinimalBody";var n=document.createElementNS(Cl,"textarea");return n.className="blocklyCommentTextarea",n.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),t.appendChild(n),e.appendChild(t),this.bindTextAreaEvents(n),setTimeout((function(){n.focus()}),0),{inputRoot:e,textArea:n}}},{key:"bindTextAreaEvents",value:function(e){ie(e,"wheel",this,(function(e){e.stopPropagation()})),ie(e,"focus",this,this.onStartEdit,!0),ie(e,"change",this,this.onTextChange)}},{key:"createResizeHandle",value:function(e){e=pe(Ll.G,{class:this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},e);var t=2*Jh.BORDER_WIDTH;return pe(Ll.POLYGON,{points:"0,".concat(t," ").concat(t,",").concat(t," ").concat(t,",0")},e),pe(Ll.LINE,{class:"blocklyResizeLine",x1:t/3,y1:t-1,x2:t-1,y2:t/3},e),pe(Ll.LINE,{class:"blocklyResizeLine",x1:2*t/3,y1:t-1,x2:t-1,y2:2*t/3},e),ie(e,"pointerdown",this,this.onResizePointerDown),e}},{key:"setSize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.width=Math.max(e.width,this.MIN_SIZE.width),e.height=Math.max(e.height,this.MIN_SIZE.height);var i=e.width-Jh.DOUBLE_BORDER,r=e.height-Jh.DOUBLE_BORDER;this.inputRoot.setAttribute("width","".concat(i)),this.inputRoot.setAttribute("height","".concat(r)),this.textArea.style.width="".concat(i-4,"px"),this.textArea.style.height="".concat(r-4,"px"),this.workspace.RTL?this.resizeGroup.setAttribute("transform","translate(".concat(Jh.DOUBLE_BORDER,", ").concat(r,") scale(-1 1)")):this.resizeGroup.setAttribute("transform","translate(".concat(i,", ").concat(r,")")),l(u(n.prototype),"setSize",this).call(this,e,t),this.onSizeChange()}},{key:"getSize",value:function(){return l(u(n.prototype),"getSize",this).call(this)}},{key:"onResizePointerDown",value:function(e){this.bringToFront(),se(e)||(this.workspace.startDrag(e,new Tl(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=ie(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=ie(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),e.stopPropagation()}},{key:"onResizePointerUp",value:function(e){Q(),this.resizePointerUpListener&&(oe(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(oe(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}},{key:"onResizePointerMove",value:function(e){e=this.workspace.moveDrag(e),this.setSize(new $l(this.workspace.RTL?-e.x:e.x,e.y),!1),this.onSizeChange()}},{key:"onStartEdit",value:function(){this.bringToFront()&&this.textArea.focus()}},{key:"onTextChange",value:function(){this.text=this.textArea.value;var e,t=g(this.textChangeListeners);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(n){t.e(n)}finally{t.f()}}},{key:"onSizeChange",value:function(){var e,t=g(this.sizeChangeListeners);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(n){t.e(n)}finally{t.f()}}}]),n}(Jh);he("\n.blocklyCommentTextarea {\n  background-color: #fef49c;\n  border: 0;\n  display: block;\n  margin: 0;\n  outline: 0;\n  padding: 3px;\n  resize: none;\n  text-overflow: hidden;\n}\n");var hd=17,dd=160,fd=80,pd=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).sourceBlock=e,i.textBubble=i.textInputBubble=null,i.text="",i.bubbleSize=new $l(dd,fd),i.bubbleVisiblity=!1,i}return f(n,[{key:"getType",value:function(){return n.TYPE}},{key:"initView",value:function(e){this.svgRoot||(l(u(n.prototype),"initView",this).call(this,e),pe(Ll.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),pe(Ll.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),pe(Ll.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot),ve(this.svgRoot,"blockly-icon-comment"))}},{key:"dispose",value:function(){var e,t;l(u(n.prototype),"dispose",this).call(this),null==(e=this.textInputBubble)||e.dispose(),null==(t=this.textBubble)||t.dispose()}},{key:"getWeight",value:function(){return n.WEIGHT}},{key:"getSize",value:function(){return new $l(hd,hd)}},{key:"applyColour",value:function(){l(u(n.prototype),"applyColour",this).call(this);var e,t,i=this.sourceBlock.style.colourPrimary;null==(e=this.textInputBubble)||e.setColour(i),null==(t=this.textBubble)||t.setColour(i)}},{key:"updateEditable",value:function(){l(u(n.prototype),"updateEditable",this).call(this),this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0))}},{key:"onLocationChange",value:function(e){var t,i;l(u(n.prototype),"onLocationChange",this).call(this,e),e=this.getAnchorLocation(),null==(t=this.textInputBubble)||t.setAnchorLocation(e),null==(i=this.textBubble)||i.setAnchorLocation(e)}},{key:"setText",value:function(e){var t,n,i=this.text;U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,i,e)),this.text=e,null==(t=this.textInputBubble)||t.setText(this.text),null==(n=this.textBubble)||n.setText(this.text)}},{key:"getText",value:function(){return this.text}},{key:"setBubbleSize",value:function(e){var t;this.bubbleSize=e,null==(t=this.textInputBubble)||t.setSize(this.bubbleSize,!0)}},{key:"getBubbleSize",value:function(){return this.bubbleSize}},{key:"saveState",value:function(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}},{key:"loadState",value:function(e){var t,n,i,r,o=this;this.text=null!=(t=e.text)?t:"",this.bubbleSize=new $l(null!=(n=e.width)?n:dd,null!=(i=e.height)?i:fd),this.bubbleVisiblity=null!=(r=e.pinned)&&r,setTimeout((function(){return o.setBubbleVisible(o.bubbleVisiblity)}),1)}},{key:"onClick",value:function(){l(u(n.prototype),"onClick",this).call(this),this.setBubbleVisible(!this.bubbleIsVisible())}},{key:"isClickableInFlyout",value:function(){return!1}},{key:"onTextChange",value:function(){if(this.textInputBubble){var e=this.textInputBubble.getText();this.text!==e&&(U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"comment",null,this.text,e)),this.text=e)}}},{key:"onSizeChange",value:function(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}},{key:"bubbleIsVisible",value:function(){return this.bubbleVisiblity}},{key:"setBubbleVisible",value:function(e){e&&(this.textBubble||this.textInputBubble)||(e||this.textBubble||this.textInputBubble)&&(this.bubbleVisiblity=e,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(e?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),U(new(Y(_s))(this.sourceBlock,e,"comment"))))}},{key:"showEditableBubble",value:function(){var e=this;this.textInputBubble=new cd(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener((function(){return e.onTextChange()})),this.textInputBubble.addSizeChangeListener((function(){return e.onSizeChange()}))}},{key:"showNonEditableBubble",value:function(){this.textBubble=new ud(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}},{key:"hideBubble",value:function(){var e,t;null==(e=this.textInputBubble)||e.dispose(),this.textInputBubble=null,null==(t=this.textBubble)||t.dispose(),this.textBubble=null}},{key:"getAnchorLocation",value:function(){var e=hd/2;return Tl.sum(this.workspaceLocation,new Tl(e,e))}},{key:"getBubbleOwnerRect",value:function(){var e=this.sourceBlock.getSvgRoot().getBBox();return new Nl(e.y,e.y+e.height,e.x,e.x+e.width)}}]),n}(Wh);pd.TYPE=su.COMMENT,pd.WEIGHT=3,bo(pd.TYPE,pd);var vd=17,gd=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).sourceBlock=e,i.textMap=new Map,i.textBubble=null,i}return f(n,[{key:"getType",value:function(){return n.TYPE}},{key:"initView",value:function(e){this.svgRoot||(l(u(n.prototype),"initView",this).call(this,e),pe(Ll.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),pe(Ll.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),pe(Ll.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot),ve(this.svgRoot,"blockly-icon-warning"))}},{key:"dispose",value:function(){var e;l(u(n.prototype),"dispose",this).call(this),null==(e=this.textBubble)||e.dispose()}},{key:"getWeight",value:function(){return n.WEIGHT}},{key:"getSize",value:function(){return new $l(vd,vd)}},{key:"applyColour",value:function(){var e;l(u(n.prototype),"applyColour",this).call(this),null==(e=this.textBubble)||e.setColour(this.sourceBlock.style.colourPrimary)}},{key:"updateCollapsed",value:function(){}},{key:"isShownWhenCollapsed",value:function(){return!0}},{key:"onLocationChange",value:function(e){var t;l(u(n.prototype),"onLocationChange",this).call(this,e),null==(t=this.textBubble)||t.setAnchorLocation(this.getAnchorLocation())}},{key:"addMessage",value:function(e,t){return this.textMap.get(t)===e||(e?this.textMap.set(t,e):this.textMap.delete(t),null==(n=this.textBubble)||n.setText(this.getText())),this;var n}},{key:"getText",value:function(){return v(this.textMap.values()).join("\n")}},{key:"onClick",value:function(){l(u(n.prototype),"onClick",this).call(this),this.setBubbleVisible(!this.bubbleIsVisible())}},{key:"isClickableInFlyout",value:function(){return!1}},{key:"bubbleIsVisible",value:function(){return!!this.textBubble}},{key:"setBubbleVisible",value:function(e){var t;this.bubbleIsVisible()!==e&&(e?(this.textBubble=new ud(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour()):(null==(t=this.textBubble)||t.dispose(),this.textBubble=null),U(new(Y(_s))(this.sourceBlock,e,"warning")))}},{key:"getAnchorLocation",value:function(){var e=vd/2;return Tl.sum(this.workspaceLocation,new Tl(e,e))}},{key:"getBubbleOwnerRect",value:function(){var e=this.sourceBlock.getSvgRoot().getBBox();return new Nl(e.y,e.y+e.height,e.x,e.x+e.width)}}]),n}(Wh);gd.TYPE=su.WARNING,gd.WEIGHT=2;var md=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,"Tried to append an icon of type ".concat(e.getType()," when an icon of ")+"that type already exists on the block. Use getIcon to access the existing icon.")).icon=e,i}return f(n)}(s(Error)),yd={};yd.DuplicateIconType=md;var _d,bd,kd={};kd.CommentIcon=pd,kd.Icon=Wh,kd.IconType=su,kd.MutatorIcon=Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon,kd.WarningIcon=gd,kd.exceptions=yd,kd.registry=ld,_d="PROCEDURE",Wa.DEFAULT_ARG$$module$build$src$core$procedures="x",(bd={CATEGORY_NAME:_d,DEFAULT_ARG:Wa.DEFAULT_ARG$$module$build$src$core$procedures}).ObservableProcedureMap=Vh,bd.allProcedures=To,bd.findLegalName=Wa.findLegalName$$module$build$src$core$procedures,bd.flyoutCategory=So,bd.getCallers=Oo,bd.getDefinition=Wa.getDefinition$$module$build$src$core$procedures,bd.isNameUsed=wo,bd.isProcedureBlock=Hr,bd.mutateCallers=Wa.mutateCallers$$module$build$src$core$procedures,bd.mutatorOpenListener=Io,bd.rename=Wa.rename$$module$build$src$core$procedures;var Td=new(function(){"use strict";function e(){d(this,e),this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}return f(e,[{key:"getType",value:function(e){return Object.prototype.hasOwnProperty.call(this,e)||(this[e]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[e]}},{key:"isField",value:function(e){return e.type&this.FIELD}},{key:"isHat",value:function(e){return e.type&this.HAT}},{key:"isIcon",value:function(e){return e.type&this.ICON}},{key:"isSpacer",value:function(e){return e.type&this.SPACER}},{key:"isInRowSpacer",value:function(e){return e.type&this.IN_ROW_SPACER}},{key:"isInput",value:function(e){return e.type&this.INPUT}},{key:"isExternalInput",value:function(e){return e.type&this.EXTERNAL_VALUE_INPUT}},{key:"isInlineInput",value:function(e){return e.type&this.INLINE_INPUT}},{key:"isStatementInput",value:function(e){return e.type&this.STATEMENT_INPUT}},{key:"isPreviousConnection",value:function(e){return e.type&this.PREVIOUS_CONNECTION}},{key:"isNextConnection",value:function(e){return e.type&this.NEXT_CONNECTION}},{key:"isPreviousOrNextConnection",value:function(e){return e.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}},{key:"isLeftRoundedCorner",value:function(e){return e.type&this.LEFT_ROUND_CORNER}},{key:"isRightRoundedCorner",value:function(e){return e.type&this.RIGHT_ROUND_CORNER}},{key:"isLeftSquareCorner",value:function(e){return e.type&this.LEFT_SQUARE_CORNER}},{key:"isRightSquareCorner",value:function(e){return e.type&this.RIGHT_SQUARE_CORNER}},{key:"isCorner",value:function(e){return e.type&this.CORNER}},{key:"isJaggedEdge",value:function(e){return e.type&this.JAGGED_EDGE}},{key:"isRow",value:function(e){return e.type&this.ROW}},{key:"isBetweenRowSpacer",value:function(e){return e.type&this.BETWEEN_ROW_SPACER}},{key:"isTopRow",value:function(e){return e.type&this.TOP_ROW}},{key:"isBottomRow",value:function(e){return e.type&this.BOTTOM_ROW}},{key:"isTopOrBottomRow",value:function(e){return e.type&(this.TOP_ROW|this.BOTTOM_ROW)}},{key:"isInputRow",value:function(e){return e.type&this.INPUT_ROW}}]),e}()),Ed=f((function e(t){"use strict";d(this,e),this.centerline=this.xPos=this.height=this.width=0,this.constants_=t,this.type=Td.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT})),xd=function(){"use strict";function e(t){d(this,e),this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=t,this.type=Td.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}return f(e,[{key:"getLastInput",value:function(){for(var e=this.elements.length-1;0<=e;e--){var t=this.elements[e];if(Td.isInput(t))return t}return null}},{key:"measure",value:function(){throw Error("Unexpected attempt to measure a base Row.")}},{key:"startsWithElemSpacer",value:function(){return!0}},{key:"endsWithElemSpacer",value:function(){return!0}},{key:"getFirstSpacer",value:function(){for(var e=0;e<this.elements.length;e++){var t=this.elements[e];if(Td.isSpacer(t))return t}return null}},{key:"getLastSpacer",value:function(){for(var e=this.elements.length-1;0<=e;e--){var t=this.elements[e];if(Td.isSpacer(t))return t}return null}}]),e}(),wd=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).hasNextConnection=!1,i.connection=null,i.baseline=i.descenderHeight=0,i.type|=Td.BOTTOM_ROW,i}return f(n,[{key:"hasLeftSquareCorner",value:function(e){return!!e.outputConnection||!!e.getNextBlock()}},{key:"hasRightSquareCorner",value:function(e){return!0}},{key:"measure",value:function(){for(var e=0,t=0,n=0,i=0;i<this.elements.length;i++){var r=this.elements[i];t+=r.width,Td.isSpacer(r)||(Td.isNextConnection(r)?n=Math.max(n,r.height):e=Math.max(e,r.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.descenderHeight=n,this.widthWithConnectedBlocks=this.width}},{key:"startsWithElemSpacer",value:function(){return!1}},{key:"endsWithElemSpacer",value:function(){return!1}}]),n}(xd),Sd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).connectionModel=i,r.type|=Td.CONNECTION,r.shape=r.constants_.shapeFor(i),r.isDynamicShape="isDynamic"in r.shape&&r.shape.isDynamic,r.highlighted=i.isHighlighted(),r}return f(n)}(Ed),Cd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i.connection)).input=i,r.connectionOffsetY=r.connectionOffsetX=0,r.type|=Td.INPUT,r.align=i.align,(r.connectedBlock=i.connection&&i.connection.targetBlock()?i.connection.targetBlock():null)?(e=r.connectedBlock.getHeightWidth(),r.connectedBlockWidth=e.width,r.connectedBlockHeight=e.height):r.connectedBlockHeight=r.connectedBlockWidth=0,r}return f(n)}(Sd),Id=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).height=0,r.type|=Td.EXTERNAL_VALUE_INPUT,r.height=r.connectedBlock?r.connectedBlockHeight-r.constants_.TAB_OFFSET_FROM_TOP-r.constants_.MEDIUM_PADDING:r.shape.height,r.width=r.shape.width+r.constants_.EXTERNAL_VALUE_INPUT_PADDING,r.connectionOffsetY=r.constants_.TAB_OFFSET_FROM_TOP,r.connectionHeight=r.shape.height,r.connectionWidth=r.shape.width,r}return f(n)}(Cd),Rd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e)).field=i,o.parentInput=r,o.isEditable=i.EDITABLE,o.flipRtl=i.getFlipRtl(),o.type|=Td.FIELD,e=o.field.getSize(),o.height=e.height,o.width=e.width,o}return f(n)}(Ed),Od=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type|=Td.HAT,i.height=i.constants_.START_HAT.height,i.width=i.constants_.START_HAT.width,i.ascenderHeight=i.height,i}return f(n)}(Ed),Ad=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).icon=i,r.flipRtl=!1,r.isVisible=Cr(i)&&i.bubbleIsVisible(),r.type|=Td.ICON,e=i.getSize(),r.height=e.height,r.width=e.width,r}return f(n)}(Ed),Md=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).type=r.type|Td.SPACER|Td.IN_ROW_SPACER,r.width=i,r.height=r.constants_.SPACER_DEFAULT_HEIGHT,r}return f(n)}(Ed),Ld=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).type|=Td.INLINE_INPUT,r.connectedBlock?(r.width=r.connectedBlockWidth,r.height=r.connectedBlockHeight):(r.height=r.constants_.EMPTY_INLINE_INPUT_HEIGHT,r.width=r.constants_.EMPTY_INLINE_INPUT_PADDING),r.connectionHeight=r.isDynamicShape?r.shape.height(r.height):r.shape.height,r.connectionWidth=r.isDynamicShape?r.shape.width(r.height):r.shape.width,r.connectedBlock||(r.width+=r.connectionWidth*(r.isDynamicShape?2:1)),r.connectionOffsetY="connectionOffsetY"in r.shape?r.shape.connectionOffsetY(r.connectionHeight):r.constants_.TAB_OFFSET_FROM_TOP,r.connectionOffsetX="connectionOffsetX"in r.shape?r.shape.connectionOffsetX(r.connectionWidth):0,r}return f(n)}(Cd),Nd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).type|=Td.STATEMENT_INPUT,r.height=r.connectedBlock?r.connectedBlockHeight+r.constants_.STATEMENT_BOTTOM_SPACER:r.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,r.width=r.constants_.STATEMENT_INPUT_NOTCH_OFFSET+r.shape.width,r}return f(n)}(Cd),$d=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).connectedBlockWidths=0,i.type|=Td.INPUT_ROW,i}return f(n,[{key:"measure",value:function(){this.width=this.minWidth,this.height=this.minHeight;for(var e=0,t=0;t<this.elements.length;t++){var n=this.elements[t];this.width+=n.width,Td.isInput(n)&&n instanceof Cd&&(Td.isStatementInput(n)&&n instanceof Nd?e+=n.connectedBlockWidth:Td.isExternalInput(n)&&n instanceof Id&&0!==n.connectedBlockWidth&&(e+=n.connectedBlockWidth-n.connectionWidth)),Td.isSpacer(n)||(this.height=Math.max(this.height,n.height))}this.connectedBlockWidths=e,this.widthWithConnectedBlocks=this.width+e}},{key:"endsWithElemSpacer",value:function(){return!this.hasExternalInput&&!this.hasStatement}}]),n}(xd),Pd=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type|=Td.JAGGED_EDGE,i.height=i.constants_.JAGGED_TEETH.height,i.width=i.constants_.JAGGED_TEETH.width,i}return f(n)}(Ed),Dd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).type|=Td.NEXT_CONNECTION,r.height=r.shape.height,r.width=r.shape.width,r}return f(n)}(Sd),Bd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).connectionOffsetX=0,r.type|=Td.OUTPUT_CONNECTION,r.height=r.isDynamicShape?0:r.shape.height,r.startX=r.width=r.isDynamicShape?0:r.shape.width,r.connectionOffsetY=r.constants_.TAB_OFFSET_FROM_TOP,r}return f(n)}(Sd),Fd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).type|=Td.PREVIOUS_CONNECTION,r.height=r.shape.height,r.width=r.shape.width,r}return f(n)}(Sd),Ud=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).type=(i&&"left"!==i?Td.RIGHT_ROUND_CORNER:Td.LEFT_ROUND_CORNER)|Td.CORNER,r.width=r.constants_.CORNER_RADIUS,r.height=r.constants_.CORNER_RADIUS/2,r}return f(n)}(Ed),jd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e)).height=i,o.width=r,o.precedesStatement=o.followsStatement=!1,o.widthWithConnectedBlocks=0,o.type=o.type|Td.SPACER|Td.BETWEEN_ROW_SPACER,o.elements=[new Md(o.constants_,r)],o}return f(n,[{key:"measure",value:function(){}}]),n}(xd),Zd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).type=(i&&"left"!==i?Td.RIGHT_SQUARE_CORNER:Td.LEFT_SQUARE_CORNER)|Td.CORNER,r.width=r.height=r.constants_.NO_PADDING,r}return f(n)}(Ed),Hd=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).ascenderHeight=i.capline=0,i.hasPreviousConnection=!1,i.connection=null,i.type|=Td.TOP_ROW,i}return f(n,[{key:"hasLeftSquareCorner",value:function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection,n=e.getPreviousBlock();return!!e.outputConnection||t||!!n&&n.getNextBlock()===e}},{key:"hasRightSquareCorner",value:function(e){return!0}},{key:"measure",value:function(){for(var e=0,t=0,n=0,i=0;i<this.elements.length;i++){var r=this.elements[i];t+=r.width,Td.isSpacer(r)||(Td.isHat(r)&&r instanceof Od?n=Math.max(n,r.ascenderHeight):e=Math.max(e,r.height))}this.width=Math.max(this.minWidth,t),this.height=Math.max(this.minHeight,e)+n,this.capline=this.ascenderHeight=n,this.widthWithConnectedBlocks=this.width}},{key:"startsWithElemSpacer",value:function(){return!1}},{key:"endsWithElemSpacer",value:function(){return!1}}]),n}(xd),zd=function(){"use strict";function e(){d(this,e),this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=vo(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}return f(e,[{key:"init",value:function(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}},{key:"setTheme",value:function(e){this.blockStyles=Object.create(null);var t=e.blockStyles;for(var n in t)this.blockStyles[n]=this.validatedBlockStyle_(t[n]);this.setDynamicProperties_(e)}},{key:"setDynamicProperties_",value:function(e){this.setFontConstants_(e),this.setComponentConstants_(e),this.ADD_START_HATS=void 0!==e.startHats?e.startHats:this.ADD_START_HATS}},{key:"setFontConstants_",value:function(e){e.fontStyle&&e.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=e.fontStyle.family),e.fontStyle&&e.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=e.fontStyle.weight),e.fontStyle&&e.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=e.fontStyle.size),e=Ie("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=e.height,this.FIELD_TEXT_BASELINE=e.baseline}},{key:"setComponentConstants_",value:function(e){this.CURSOR_COLOUR=e.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=e.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=e.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(e.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}},{key:"getBlockStyleForColour",value:function(e){var t="auto_"+e;return this.blockStyles[t]||(this.blockStyles[t]=this.createBlockStyle_(e)),{style:this.blockStyles[t],name:t}}},{key:"getBlockStyle",value:function(e){return this.blockStyles[e||""]||(e&&0===e.indexOf("auto_")?this.getBlockStyleForColour(e.substring(5)).style:this.createBlockStyle_("#000000"))}},{key:"createBlockStyle_",value:function(e){return this.validatedBlockStyle_({colourPrimary:e})}},{key:"validatedBlockStyle_",value:function(e){var t={};return e&&Object.assign(t,e),e=Zr(t.colourPrimary||"#000"),t.colourPrimary=e.hex,t.colourSecondary=t.colourSecondary?Zr(t.colourSecondary).hex:this.generateSecondaryColour_(t.colourPrimary),t.colourTertiary=t.colourTertiary?Zr(t.colourTertiary).hex:this.generateTertiaryColour_(t.colourPrimary),t.hat=t.hat||"",t}},{key:"generateSecondaryColour_",value:function(e){return Pr("#fff",e,.6)||e}},{key:"generateTertiaryColour_",value:function(e){return Pr("#fff",e,.3)||e}},{key:"dispose",value:function(){this.embossFilter&&_e(this.embossFilter),this.disabledPattern&&_e(this.disabledPattern),this.debugFilter&&_e(this.debugFilter),this.cssNode=null}},{key:"makeJaggedTeeth",value:function(){var e=this.JAGGED_TEETH_HEIGHT,t=this.JAGGED_TEETH_WIDTH;return{height:e,width:t,path:mo([ho(t,e/4),ho(2*-t,e/2),ho(t,e/4)])}}},{key:"makeStartHat",value:function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:fo("c",[ho(30,-e),ho(70,-e),ho(t,0)])}}},{key:"makePuzzleTab",value:function(){function e(e){var i=-(e=e?-1:1),r=n/2,o=r+2.5,a=r+.5,s=ho(-t,e*r);return r=ho(t,e*r),fo("c",[ho(0,e*o),ho(-t,i*a),s])+fo("s",[ho(t,2.5*i),r])}var t=this.TAB_WIDTH,n=this.TAB_HEIGHT,i=e(!0),r=e(!1);return{type:this.SHAPES.PUZZLE,width:t,height:n,pathDown:r,pathUp:i}}},{key:"makeNotch",value:function(){function e(e){return mo([ho(e*i,n),ho(3*e,0),ho(e*i,-n)])}var t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,i=(t-3)/2,r=e(1),o=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:r,pathRight:o}}},{key:"makeInsideCorners",value:function(){var e=this.CORNER_RADIUS;return{width:e,height:e,pathTop:_o("a","0 0,0",e,ho(-e,e)),pathBottom:_o("a","0 0,0",e,ho(e,e))}}},{key:"makeOutsideCorners",value:function(){var e=this.CORNER_RADIUS,t=vo(0,e)+_o("a","0 0,1",e,ho(e,-e)),n=_o("a","0 0,1",e,ho(e,e)),i=_o("a","0 0,1",e,ho(-e,-e));return{topLeft:t,topRight:n,bottomRight:_o("a","0 0,1",e,ho(-e,e)),bottomLeft:i,rightHeight:e}}},{key:"shapeFor",value:function(e){switch(e.type){case ic.INPUT_VALUE:case ic.OUTPUT_VALUE:return this.PUZZLE_TAB;case ic.PREVIOUS_STATEMENT:case ic.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}},{key:"createDom",value:function(e,t,n){this.injectCSS_(t,n),this.defs=pe(Ll.DEFS,{},e),e=pe(Ll.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),pe(Ll.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},e),t=pe(Ll.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},e),pe(Ll.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},t),pe(Ll.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},e),pe(Ll.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},e),this.embossFilterId=e.id,this.embossFilter=e,e=pe(Ll.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),pe(Ll.RECT,{width:10,height:10,fill:"#aaa"},e),pe(Ll.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},e),this.disabledPatternId=e.id,this.disabledPattern=e,this.createDebugFilter()}},{key:"createDebugFilter",value:function(){if(!this.debugFilter){var e=pe(Ll.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),t=pe(Ll.FECOMPONENTTRANSFER,{result:"outBlur"},e);pe(Ll.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),pe(Ll.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},e),pe(Ll.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),this.debugFilterId=e.id,this.debugFilter=e}}},{key:"injectCSS_",value:function(e,t){t=this.getCSS_(t),e="blockly-renderer-style-"+e,this.cssNode=document.getElementById(e);var n=t.join("\n");this.cssNode?this.cssNode.firstChild.textContent=n:((t=document.createElement("style")).id=e,e=document.createTextNode(n),t.appendChild(e),document.head.insertBefore(t,document.head.firstChild),this.cssNode=t)}},{key:"getCSS_",value:function(e){return["".concat(e," .blocklyText, "),"".concat(e," .blocklyFlyoutLabelText {"),"font: ".concat(this.FIELD_TEXT_FONTWEIGHT," ")+"".concat(this.FIELD_TEXT_FONTSIZE,"pt ").concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e," .blocklyText {"),"fill: #fff;","}","".concat(e," .blocklyNonEditableText>rect,"),"".concat(e," .blocklyEditableText>rect {"),"fill: ".concat(this.FIELD_BORDER_RECT_COLOUR,";"),"fill-opacity: .6;","stroke: none;","}","".concat(e," .blocklyNonEditableText>text,"),"".concat(e," .blocklyEditableText>text {"),"fill: #000;","}","".concat(e," .blocklyFlyoutLabelText {"),"fill: #000;","}","".concat(e," .blocklyText.blocklyBubbleText {"),"fill: #000;","}","".concat(e," .blocklyEditableText:not(.editing):hover>rect {"),"stroke: #fff;","stroke-width: 2;","}","".concat(e," .blocklyHtmlInput {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"font-weight: ".concat(this.FIELD_TEXT_FONTWEIGHT,";"),"}","".concat(e," .blocklySelected>.blocklyPath {"),"stroke: #fc3;","stroke-width: 3px;","}","".concat(e," .blocklyHighlightedConnectionPath {"),"stroke: #fc3;","}","".concat(e," .blocklyReplaceable .blocklyPath {"),"fill-opacity: .5;","}","".concat(e," .blocklyReplaceable .blocklyPathLight,"),"".concat(e," .blocklyReplaceable .blocklyPathDark {"),"display: none;","}","".concat(e," .blocklyInsertionMarker>.blocklyPath {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}"]}}]),e}(),Vd={};Vd.ConstantProvider=zd,Vd.isDynamicShape=Mo,Vd.isNotch=No,Vd.isPuzzleTab=Lo;var Wd=function(){"use strict";function e(t,n){d(this,e),this.inlinePath_=this.outlinePath_="",this.block_=t,this.info_=n,this.topLeft_=t.getRelativeToSurfaceXY(),this.constants_=n.getRenderer().getConstants()}return f(e,[{key:"draw",value:function(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),this.block_.pathObject.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}},{key:"hideHiddenIcons_",value:function(){fe("hideHiddenIcons_","v10","v11")}},{key:"recordSizeOnBlock_",value:function(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}},{key:"drawOutline_",value:function(){this.drawTop_();for(var e=1;e<this.info_.rows.length-1;e++){var t=this.info_.rows[e];t.hasJaggedEdge?this.drawJaggedEdge_(t):t.hasStatement?this.drawStatementInput_(t):t.hasExternalInput?this.drawValueInput_(t):this.drawRightSideRow_(t)}this.drawBottom_(),this.drawLeft_()}},{key:"drawTop_",value:function(){var e=this.info_.topRow,t=e.elements;this.positionPreviousConnection_(),this.outlinePath_+=vo(e.xPos,this.info_.startY);for(var n,i=0;n=t[i];i++)Td.isLeftRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Td.isRightRoundedCorner(n)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Td.isPreviousConnection(n)&&n instanceof Sd?this.outlinePath_+=n.shape.pathLeft:Td.isHat(n)?this.outlinePath_+=this.constants_.START_HAT.path:Td.isSpacer(n)&&(this.outlinePath_+=yo("h",n.width));this.outlinePath_+=yo("v",e.height)}},{key:"drawJaggedEdge_",value:function(e){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+yo("v",e.height-this.constants_.JAGGED_TEETH.height)}},{key:"drawValueInput_",value:function(e){var t=e.getLastInput();this.positionExternalValueConnection_(e);var n=Mo(t.shape)?t.shape.pathDown(t.height):t.shape.pathDown;this.outlinePath_+=yo("H",t.xPos+t.width)+n+yo("v",e.height-t.connectionHeight)}},{key:"drawStatementInput_",value:function(e){var t=e.getLastInput();if(t){var n=t.xPos+t.notchOffset+t.shape.width;t=t.shape.pathRight+yo("h",-(t.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var i=e.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=yo("H",n)+t+yo("v",i)+this.constants_.INSIDE_CORNERS.pathBottom+yo("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}}},{key:"drawRightSideRow_",value:function(e){this.outlinePath_+=yo("V",e.yPos+e.height)}},{key:"drawBottom_",value:function(){var e=this.info_.bottomRow,t=e.elements;this.positionNextConnection_();for(var n,i=0,r="",o=t.length-1;n=t[o];o--)Td.isNextConnection(n)&&n instanceof Sd?r+=n.shape.pathRight:Td.isLeftSquareCorner(n)?r+=yo("H",e.xPos):Td.isLeftRoundedCorner(n)?r+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Td.isRightRoundedCorner(n)?(r+=this.constants_.OUTSIDE_CORNERS.bottomRight,i=this.constants_.OUTSIDE_CORNERS.rightHeight):Td.isSpacer(n)&&(r+=yo("h",-1*n.width));this.outlinePath_+=yo("V",e.baseline-i),this.outlinePath_+=r}},{key:"drawLeft_",value:function(){var e=this.info_.outputConnection;if(this.positionOutputConnection_(),e){var t=e.connectionOffsetY+e.height;e=Mo(e.shape)?e.shape.pathUp(e.height):e.shape.pathUp,this.outlinePath_+=yo("V",t)+e}this.outlinePath_+="z"}},{key:"drawInternals_",value:function(){for(var e,t=0;e=this.info_.rows[t];t++)for(var n,i=0;n=e.elements[i];i++)Td.isInlineInput(n)?this.drawInlineInput_(n):(Td.isIcon(n)||Td.isField(n))&&this.layoutField_(n)}},{key:"layoutField_",value:function(e){var t=e.centerline-e.height/2,n=e.xPos,i="";this.info_.RTL&&(n=-(n+e.width),e.flipRtl&&(n+=e.width,i="scale(-1 1)")),Td.isIcon(e)?((i=e.icon).setOffsetInBlock(new Tl(n,t)),this.info_.isInsertionMarker&&i.hideForInsertionMarker()):((e=e.field.getSvgRoot()).setAttribute("transform","translate("+n+","+t+")"+i),this.info_.isInsertionMarker&&e.setAttribute("display","none"))}},{key:"drawInlineInput_",value:function(e){var t=e.width,n=e.height,i=e.connectionOffsetY,r=e.connectionHeight+i;this.inlinePath_+=po(e.xPos+e.connectionWidth,e.centerline-n/2)+yo("v",i)+e.shape.pathDown+yo("v",n-r)+yo("h",t-e.connectionWidth)+yo("v",-n)+"z",this.positionInlineInputConnection_(e)}},{key:"positionInlineInputConnection_",value:function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+e.connectionOffsetX;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY)}}},{key:"positionStatementInputConnection_",value:function(e){var t=e.getLastInput();if(null!=t&&t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}},{key:"positionExternalValueConnection_",value:function(e){var t=e.getLastInput();if(t&&t.connectionModel){var n=e.xPos+e.width;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}},{key:"positionPreviousConnection_",value:function(){var e=this.info_.topRow;if(e.connection){var t=e.xPos+e.notchOffset;e.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-t:t,0)}}},{key:"positionNextConnection_",value:function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock(this.info_.RTL?-n:n,e.baseline)}}},{key:"positionOutputConnection_",value:function(){if(this.info_.outputConnection){var e=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-e:e,this.info_.outputConnection.connectionOffsetY)}}},{key:"updateConnectionHighlights",value:function(){var e,t=g(this.info_.rows);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=g(i.elements);try{for(r.s();!(n=r.n()).done;){var o=n.value;if(o instanceof Sd)if(o.highlighted)this.drawConnectionHighlightPath(o);else{var a=void 0,s=void 0;null==(s=(a=this.block_.pathObject).removeConnectionHighlight)||s.call(a,o.connectionModel)}}}catch(l){r.e(l)}finally{r.f()}}}catch(l){t.e(l)}finally{t.f()}}},{key:"drawConnectionHighlightPath",value:function(e){var t=e.connectionModel;e=t.type===ic.INPUT_VALUE||t.type===ic.OUTPUT_VALUE?this.getExpressionConnectionHighlightPath(e):this.getStatementConnectionHighlightPath(e);var n,i,r=t.getSourceBlock();null==(i=(n=r.pathObject).addConnectionHighlight)||i.call(n,t,e,t.getOffsetInBlock(),r.RTL)}},{key:"getExpressionConnectionHighlightPath",value:function(e){var t="";return Mo(e.shape)?t=e.shape.pathDown(e.height):Lo(e.shape)&&(t=e.shape.pathDown),e=this.constants_.TAB_OFFSET_FROM_TOP,vo(0,-e)+yo("v",e)+t+yo("v",e)}},{key:"getStatementConnectionHighlightPath",value:function(e){if(!No(e.shape))throw Error("Statement connections should have notch shapes");var t=this.constants_.NOTCH_OFFSET_LEFT-this.constants_.CORNER_RADIUS;return vo(-t,0)+yo("h",t)+e.shape.pathLeft+yo("h",t)}}]),e}();(function(e){e[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Wa.Align$$module$build$src$core$inputs$align||(Wa.Align$$module$build$src$core$inputs$align={})),Wa.Align$$module$build$src$core$inputs$align;var Gd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).class=null,o.EDITABLE=!1,o.maxDisplayLength=1/0,e!==Zh.SKIP_SETUP&&(r?o.configure_(r):o.class=i||null,o.setValue(e)),o}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),e.class&&(this.class=e.class)}},{key:"initView",value:function(){this.createTextElement_(),this.class&&ve(this.getTextElement(),this.class)}},{key:"doClassValidation_",value:function(e){return null===e||void 0===e?null:"".concat(e)}},{key:"setClass",value:function(e){this.textElement_&&(this.class&&me(this.textElement_,this.class),e&&ve(this.textElement_,e)),this.class=e}}],[{key:"fromJson",value:function(e){return new this(Ur(e.text),void 0,e)}}]),n}(Zh);Vr("field_label",Gd),Gd.prototype.DEFAULT_VALUE="";var Xd=function(){"use strict";function e(t,n){d(this,e),this.name=t,this.sourceBlock=n,this.fieldRow=[],this.align=Wa.Align$$module$build$src$core$inputs$input.LEFT,this.visible=!0,this.type=Wa.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}return f(e,[{key:"getSourceBlock",value:function(){return this.sourceBlock}},{key:"appendField",value:function(e,t){return this.insertFieldAt(this.fieldRow.length,e,t),this}},{key:"insertFieldAt",value:function(e,t,n){if(0>e||e>this.fieldRow.length)throw Error("index "+e+" out of bounds.");return t||""===t&&n?("string"===typeof t&&(t=Wa.fromJson$$module$build$src$core$field_registry({type:"field_label",text:t})),t.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(t.init(),t.applyColour()),t.name=n,t.setVisible(this.isVisible()),t.prefixField&&(e=this.insertFieldAt(e,t.prefixField)),this.fieldRow.splice(e,0,t),e++,t.suffixField&&(e=this.insertFieldAt(e,t.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),e):e}},{key:"removeField",value:function(e,t){for(var n,i=0;n=this.fieldRow[i];i++)if(n.name===e)return n.dispose(),this.fieldRow.splice(i,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(t)return!1;throw Error('Field "'+e+'" not found.')}},{key:"isVisible",value:function(){return this.visible}},{key:"setVisible",value:function(e){var t=[];if(this.visible===e)return t;this.visible=e;for(var n,i=0;n=this.fieldRow[i];i++)n.setVisible(e);if(this.connection){var r=this.connection;e?t=r.startTrackingAll():r.stopTrackingAll(),(r=r.targetBlock())&&(r.getSvgRoot().style.display=e?"block":"none")}return t}},{key:"markDirty",value:function(){for(var e,t=0;e=this.fieldRow[t];t++)e.markDirty()}},{key:"setCheck",value:function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(e),this}},{key:"setAlign",value:function(e){return this.align=e,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}},{key:"setShadowDom",value:function(e){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(e),this}},{key:"getShadowDom",value:function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}},{key:"init",value:function(){if(this.sourceBlock.workspace.rendered)for(var e=0;e<this.fieldRow.length;e++)this.fieldRow[e].init()}},{key:"dispose",value:function(){for(var e,t=0;e=this.fieldRow[t];t++)e.dispose();this.connection&&this.connection.dispose()}},{key:"makeConnection",value:function(e){return this.sourceBlock.makeConnection_(e)}}]),e}();(function(e){(e=e.Align||(e.Align={}))[e.LEFT=-1]="LEFT",e[e.CENTRE=0]="CENTRE",e[e.RIGHT=1]="RIGHT"})(Xd||(Xd={})),Wa.Align$$module$build$src$core$inputs$input=Xd.Align,{Align:Wa.Align$$module$build$src$core$inputs$input}.Input=Xd;var Yd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).name=e,r.type=Wa.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,r}return f(n)}(Xd),Kd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).name=e,r.type=Wa.inputTypes$$module$build$src$core$inputs$input_types.END_ROW,r}return f(n)}(Xd),qd=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;if(d(this,n),!e)throw Error("Statement inputs must have a non-empty name");return(r=t.call(this,e,i)).name=e,r.type=Wa.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,r.connection=r.makeConnection(ic.NEXT_STATEMENT),r}return f(n)}(Xd);Wa.ValueInput$$module$build$src$core$inputs$value_input=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;if(d(this,n),!e)throw Error("Value inputs must have a non-empty name");return(r=t.call(this,e,i)).name=e,r.type=Wa.inputTypes$$module$build$src$core$inputs$input_types.VALUE,r.connection=r.makeConnection(ic.INPUT_VALUE),r}return f(n)}(Xd),Wa.ValueInput$$module$build$src$core$inputs$value_input;var Jd=function(){"use strict";function e(t,n){d(this,e),this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=t,this.block_=n,this.constants_=this.renderer_.getConstants(),this.outputConnection=n.outputConnection?new Bd(this.constants_,n.outputConnection):null,this.isInline=n.getInputsInline()&&!n.isCollapsed(),this.isCollapsed=n.isCollapsed(),this.isInsertionMarker=n.isInsertionMarker(),this.RTL=n.RTL,this.topRow=new Hd(this.constants_),this.bottomRow=new wd(this.constants_)}return f(e,[{key:"getRenderer",value:function(){return this.renderer_}},{key:"measure",value:function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}},{key:"createRows_",value:function(){this.populateTopRow_(),this.rows.push(this.topRow);var e=new $d(this.constants_);this.inputRows.push(e);for(var t,n=this.block_.getIcons(),i=0;t=n[i];i++){var r=new Ad(this.constants_,t);this.isCollapsed&&!t.isShownWhenCollapsed()||e.elements.push(r)}n=void 0;for(var o,a=0;o=this.block_.inputList[a];a++)if(o.isVisible()){this.shouldStartNewRow_(o,n)&&(this.rows.push(e),e=new $d(this.constants_),this.inputRows.push(e));for(var s,l=0;s=o.fieldRow[l];l++)e.elements.push(new Rd(this.constants_,s,o));this.addInput_(o,e),n=o}this.isCollapsed&&(e.hasJaggedEdge=!0,e.elements.push(new Pd(this.constants_))),(e.elements.length||e.hasDummyInput)&&this.rows.push(e),this.populateBottomRow_(),this.rows.push(this.bottomRow)}},{key:"populateTopRow_",value:function(){var e=!!this.block_.previousConnection,t=(this.block_.hat?"cap"===this.block_.hat:this.constants_.ADD_START_HATS)&&!this.outputConnection&&!e,n=this.topRow.hasLeftSquareCorner(this.block_)?Zd:Ud;this.topRow.elements.push(new n(this.constants_)),t?(e=new Od(this.constants_),this.topRow.elements.push(e),this.topRow.capline=e.ascenderHeight):e&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new Fd(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof qd&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,n=this.topRow.hasRightSquareCorner(this.block_)?Zd:Ud,this.topRow.elements.push(new n(this.constants_,"right"))}},{key:"populateBottomRow_",value:function(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof qd?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new Zd(this.constants_)):this.bottomRow.elements.push(new Ud(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new Dd(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new Zd(this.constants_,"right")):this.bottomRow.elements.push(new Ud(this.constants_,"right"))}},{key:"addInput_",value:function(e,t){this.isInline&&e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Ld(this.constants_,e)),t.hasInlineInput=!0):e instanceof qd?(t.elements.push(new Nd(this.constants_,e)),t.hasStatement=!0):e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Id(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Yd||e instanceof Kd)&&(t.minHeight=Math.max(t.minHeight,e.getSourceBlock()&&e.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),null===t.align&&(t.align=e.align)}},{key:"shouldStartNewRow_",value:function(e,t){return!!t&&(t instanceof Kd||e instanceof qd||t instanceof qd||(e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Yd||t instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input)&&!this.isInline)}},{key:"addElemSpacing_",value:function(){for(var e,t=0;e=this.rows[t];t++){var n=e.elements;if(e.elements=[],e.startsWithElemSpacer()&&e.elements.push(new Md(this.constants_,this.getInRowSpacing_(null,n[0]))),n.length){for(var i=0;i<n.length-1;i++){e.elements.push(n[i]);var r=this.getInRowSpacing_(n[i],n[i+1]);e.elements.push(new Md(this.constants_,r))}e.elements.push(n[n.length-1]),e.endsWithElemSpacer()&&e.elements.push(new Md(this.constants_,this.getInRowSpacing_(n[n.length-1],null)))}}}},{key:"getInRowSpacing_",value:function(e,t){if(!e&&t&&Td.isStatementInput(t))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(e&&Td.isInput(e)&&!t){if(Td.isExternalInput(e))return this.constants_.NO_PADDING;if(Td.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Td.isStatementInput(e))return this.constants_.NO_PADDING}return e&&Td.isLeftSquareCorner(e)&&t&&(Td.isPreviousConnection(t)||Td.isNextConnection(t))?t.notchOffset:e&&Td.isLeftRoundedCorner(e)&&t&&(Td.isPreviousConnection(t)||Td.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}},{key:"computeBounds_",value:function(){for(var e,t=0,n=0,i=0,r=0;e=this.rows[r];r++){if(e.measure(),n=Math.max(n,e.width),e.hasStatement){var o=e.getLastInput(),a=void 0,s=void 0;o=e.width-(null!=(s=null==(a=o)?void 0:a.width)?s:0),t=Math.max(t,o)}i=Math.max(i,e.widthWithConnectedBlocks)}this.statementEdge=t,this.width=n;for(var l,u=0;l=this.rows[u];u++)l.hasStatement&&(l.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(n,i),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}},{key:"alignRowElements_",value:function(){for(var e,t=0;e=this.rows[t];t++)if(e.hasStatement)this.alignStatementRow_(e);else{var n=e.width;0<(n=this.getDesiredRowWidth_(e)-n)&&this.addAlignmentPadding_(e,n),Td.isTopOrBottomRow(e)&&(e.widthWithConnectedBlocks=e.width)}}},{key:"getDesiredRowWidth_",value:function(e){return this.width-this.startX}},{key:"addAlignmentPadding_",value:function(e,t){var n=e.getFirstSpacer(),i=e.getLastSpacer();if((e.hasExternalInput||e.hasStatement)&&(e.widthWithConnectedBlocks+=t),e.align===Wa.Align$$module$build$src$core$inputs$align.LEFT&&i)i.width+=t;else if(e.align===Wa.Align$$module$build$src$core$inputs$align.CENTRE&&n&&i)n.width+=t/2,i.width+=t/2;else if(e.align===Wa.Align$$module$build$src$core$inputs$align.RIGHT&&n)n.width+=t;else{if(!i)return;i.width+=t}e.width+=t}},{key:"alignStatementRow_",value:function(e){var t=e.getLastInput();if(t){var n=e.width-t.width,i=this.statementEdge;0<(n=i-n)&&this.addAlignmentPadding_(e,n),n=e.width,i=this.getDesiredRowWidth_(e),t.width+=i-n,t.height=Math.max(t.height,e.height),e.width+=i-n,e.widthWithConnectedBlocks=Math.max(e.width,this.statementEdge+e.connectedBlockWidths)}}},{key:"addRowSpacing_",value:function(){var e=this.rows;this.rows=[];for(var t=0;t<e.length;t++)this.rows.push(e[t]),t!==e.length-1&&this.rows.push(this.makeSpacerRow_(e[t],e[t+1]))}},{key:"makeSpacerRow_",value:function(e,t){var n=this.getSpacerRowHeight_(e,t),i=this.getSpacerRowWidth_(e,t);return n=new jd(this.constants_,n,i),e.hasStatement&&(n.followsStatement=!0),t.hasStatement&&(n.precedesStatement=!0),n}},{key:"getSpacerRowWidth_",value:function(e,t){return this.width-this.startX}},{key:"getSpacerRowHeight_",value:function(e,t){return this.constants_.MEDIUM_PADDING}},{key:"getElemCenterline_",value:function(e,t){return Td.isSpacer(t)?e.yPos+t.height/2:Td.isBottomRow(e)?(e=e.yPos+e.height-e.descenderHeight,Td.isNextConnection(t)?e+t.height/2:e-t.height/2):Td.isTopRow(e)?Td.isHat(t)?e.capline-t.height/2:e.capline+t.height/2:e.yPos+e.height/2}},{key:"recordElemPositions_",value:function(e){for(var t,n=e.xPos,i=0;t=e.elements[i];i++)Td.isSpacer(t)&&(t.height=e.height),t.xPos=n,t.centerline=this.getElemCenterline_(e,t),n+=t.width}},{key:"finalize_",value:function(){for(var e,t=0,n=0,i=0;e=this.rows[i];i++)e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks),this.recordElemPositions_(e);if(this.outputConnection&&this.block_.nextConnection){var r=this.block_.nextConnection.targetBlock();r&&(t=Math.max(t,r.getHeightWidth().width))}this.widthWithChildren=t+this.startX,this.height=n,this.startY=this.topRow.capline,this.bottomRow.baseline=n-this.bottomRow.descenderHeight}},{key:"getMeasureableForConnection",value:function(e){var t;if((null==(t=this.outputConnection)?void 0:t.connectionModel)===e)return this.outputConnection;var n,i=g(this.rows);try{for(i.s();!(n=i.n()).done;){var r,o=n.value,a=g(o.elements);try{for(a.s();!(r=a.n()).done;){var s=r.value;if(s instanceof Sd&&s.connectionModel===e)return s}}catch(l){a.e(l)}finally{a.f()}}}catch(l){i.e(l)}finally{i.f()}return null}}]),e}(),Qd=function(){"use strict";function e(t,n,i){if(d(this,e),this.wsCoordinate=null,!n)throw Error("Cannot create a node without a location.");this.type=t,this.isConnectionLocation=Qd.isConnectionType(t),this.location=n,this.processParams(i||null)}return f(e,[{key:"processParams",value:function(e){e&&e.wsCoordinate&&(this.wsCoordinate=e.wsCoordinate)}},{key:"getLocation",value:function(){return this.location}},{key:"getType",value:function(){return this.type}},{key:"getWsCoordinate",value:function(){return this.wsCoordinate}},{key:"isConnection",value:function(){return this.isConnectionLocation}},{key:"findNextForInput",value:function(){var e=this.location.getParentInput(),t=e.getSourceBlock();for(e=t.inputList.indexOf(e),e+=1;e<t.inputList.length;e++){for(var n=t.inputList[e],i=n.fieldRow,r=0;r<i.length;r++){var o=i[r];if(o.isClickable()||Qd.NAVIGATE_ALL_FIELDS)return Qd.createFieldNode(o)}if(n.connection)return Qd.createInputNode(n)}return null}},{key:"findNextForField",value:function(){var e=this.location,t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var i=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)+1;i<n.inputList.length;i++){for(var r=(t=n.inputList[i]).fieldRow;e<r.length;){if(r[e].isClickable()||Qd.NAVIGATE_ALL_FIELDS)return Qd.createFieldNode(r[e]);e++}if(e=0,t.connection)return Qd.createInputNode(t)}return null}},{key:"findPrevForInput",value:function(){for(var e=this.location.getParentInput(),t=e.getSourceBlock(),n=t.inputList.indexOf(e);0<=n;n--){var i=t.inputList[n];if(i.connection&&i!==e)return Qd.createInputNode(i);for(var r=(i=i.fieldRow).length-1;0<=r;r--){var o=i[r];if(o.isClickable()||Qd.NAVIGATE_ALL_FIELDS)return Qd.createFieldNode(o)}}return null}},{key:"findPrevForField",value:function(){var e=this.location,t=e.getParentInput(),n=e.getSourceBlock();if(!n)throw Error("The current AST location is not associated with a block");var i=n.inputList.indexOf(t);for(e=t.fieldRow.indexOf(e)-1;0<=i;i--){var r=n.inputList[i];if(r.connection&&r!==t)return Qd.createInputNode(r);for(r=r.fieldRow;-1<e;){if(r[e].isClickable()||Qd.NAVIGATE_ALL_FIELDS)return Qd.createFieldNode(r[e]);e--}0<=i-1&&(e=n.inputList[i-1].fieldRow.length-1)}return null}},{key:"navigateBetweenStacks",value:function(e){var t=this.getLocation();if(t.getSourceBlock){var n=t.getSourceBlock();n&&(t=n)}if(!t||t.isDeadOrDying())return null;n=t.getRootBlock(),t=n.workspace.getTopBlocks(!0);for(var i=0;i<t.length;i++)if(n.id===t[i].id)return-1===(e=i+(e?1:-1))||e===t.length?null:Qd.createStackNode(t[e]);throw Error("Couldn't find "+(e?"next":"previous")+" stack?!")}},{key:"findTopASTNodeForBlock",value:function(e){var t=$o(e);return t?Qd.createConnectionNode(t):Qd.createBlockNode(e)}},{key:"getOutAstNodeForBlock",value:function(e){if(!e)return null;e=e.getTopStackBlock();var t=$o(e);return t&&t.targetConnection&&t.targetConnection.getParentInput()?Qd.createInputNode(t.targetConnection.getParentInput()):Qd.createStackNode(e)}},{key:"findFirstFieldOrInput",value:function(e){e=e.inputList;for(var t=0;t<e.length;t++){for(var n=e[t],i=n.fieldRow,r=0;r<i.length;r++){var o=i[r];if(o.isClickable()||Qd.NAVIGATE_ALL_FIELDS)return Qd.createFieldNode(o)}if(n.connection)return Qd.createInputNode(n)}return null}},{key:"getSourceBlock",value:function(){return this.getType()===Qd.types.BLOCK||this.getType()===Qd.types.STACK?this.getLocation():this.getType()===Qd.types.WORKSPACE?null:this.getLocation().getSourceBlock()}},{key:"next",value:function(){switch(this.type){case Qd.types.STACK:return this.navigateBetweenStacks(!0);case Qd.types.OUTPUT:return Qd.createBlockNode(this.location.getSourceBlock());case Qd.types.FIELD:return this.findNextForField();case Qd.types.INPUT:return this.findNextForInput();case Qd.types.BLOCK:var e=this.location.nextConnection;if(!e)break;return Qd.createConnectionNode(e);case Qd.types.PREVIOUS:return Qd.createBlockNode(this.location.getSourceBlock());case Qd.types.NEXT:return Qd.createConnectionNode(this.location.targetConnection)}return null}},{key:"in",value:function(){switch(this.type){case Qd.types.WORKSPACE:var e=this.location.getTopBlocks(!0);if(0<e.length)return Qd.createStackNode(e[0]);break;case Qd.types.STACK:return this.findTopASTNodeForBlock(this.location);case Qd.types.BLOCK:return this.findFirstFieldOrInput(this.location);case Qd.types.INPUT:return Qd.createConnectionNode(this.location.targetConnection)}return null}},{key:"prev",value:function(){switch(this.type){case Qd.types.STACK:return this.navigateBetweenStacks(!1);case Qd.types.FIELD:return this.findPrevForField();case Qd.types.INPUT:return this.findPrevForInput();case Qd.types.BLOCK:var e=$o(this.location);if(!e)break;return Qd.createConnectionNode(e);case Qd.types.PREVIOUS:if((e=this.location.targetConnection)&&!e.getParentInput())return Qd.createConnectionNode(e);break;case Qd.types.NEXT:return Qd.createBlockNode(this.location.getSourceBlock())}return null}},{key:"out",value:function(){switch(this.type){case Qd.types.STACK:var e=this.location,t=e.getRelativeToSurfaceXY();return t=new Tl(t.x,t.y+Qd.DEFAULT_OFFSET_Y),Qd.createWorkspaceNode(e.workspace,t);case Qd.types.OUTPUT:return(t=(e=this.location).targetConnection)?Qd.createConnectionNode(t):Qd.createStackNode(e.getSourceBlock());case Qd.types.FIELD:if(!(e=this.location.getSourceBlock()))throw Error("The current AST location is not associated with a block");return Qd.createBlockNode(e);case Qd.types.INPUT:return Qd.createBlockNode(this.location.getSourceBlock());case Qd.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case Qd.types.PREVIOUS:case Qd.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}}],[{key:"isConnectionType",value:function(e){switch(e){case Qd.types.PREVIOUS:case Qd.types.NEXT:case Qd.types.INPUT:case Qd.types.OUTPUT:return!0}return!1}},{key:"createFieldNode",value:function(e){return e?new Qd(Qd.types.FIELD,e):null}},{key:"createConnectionNode",value:function(e){if(!e)return null;var t=e.type;return t===ic.INPUT_VALUE||t===ic.NEXT_STATEMENT&&e.getParentInput()?Qd.createInputNode(e.getParentInput()):t===ic.NEXT_STATEMENT?new Qd(Qd.types.NEXT,e):t===ic.OUTPUT_VALUE?new Qd(Qd.types.OUTPUT,e):t===ic.PREVIOUS_STATEMENT?new Qd(Qd.types.PREVIOUS,e):null}},{key:"createInputNode",value:function(e){return e&&e.connection?new Qd(Qd.types.INPUT,e.connection):null}},{key:"createBlockNode",value:function(e){return e?new Qd(Qd.types.BLOCK,e):null}},{key:"createStackNode",value:function(e){return e?new Qd(Qd.types.STACK,e):null}},{key:"createWorkspaceNode",value:function(e,t){return t&&e?new Qd(Qd.types.WORKSPACE,e,{wsCoordinate:t}):null}},{key:"createTopNode",value:function(e){var t=$o(e);return t?Qd.createConnectionNode(t):Qd.createBlockNode(e)}}]),e}();Qd.NAVIGATE_ALL_FIELDS=!1,Qd.DEFAULT_OFFSET_Y=-20,function(e){(e=e.types||(e.types={})).FIELD="field",e.BLOCK="block",e.INPUT="input",e.OUTPUT="output",e.NEXT="next",e.PREVIOUS="previous",e.STACK="stack",e.WORKSPACE="workspace"}(Qd||(Qd={}));var ef=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o){var a;d(this,n);var s=e?e.workspace.id:void 0;return o&&o.getType()===Qd.types.WORKSPACE&&(s=o.getLocation().id),(a=t.call(this,s)).type=ys,a.blockId=null==e?void 0:e.id,a.oldNode=r||void 0,a.newNode=o,a.isCursor=i,a}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.isCursor)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return e.isCursor=this.isCursor,e.blockId=this.blockId,e.oldNode=this.oldNode,e.newNode=this.newNode,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).isCursor=e.isCursor,t.blockId=e.blockId,t.oldNode=e.oldNode,t.newNode=e.newNode,t}}]),n}(Us);e(qa.EVENT,ys,ef);var tf="blocklyCursor",nf="blocklyMarker",rf=.75,of=function(){"use strict";function e(t,n,i){d(this,e),this.workspace=t,this.marker=i,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=n,t=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=i.colour||t}return f(e,[{key:"getSvgRoot",value:function(){return this.svgGroup_}},{key:"getMarker",value:function(){return this.marker}},{key:"isCursor",value:function(){return"cursor"===this.marker.type}},{key:"createDom",value:function(){var e=this.isCursor()?tf:nf;return this.svgGroup_=pe(Ll.G,{class:e}),this.createDomInternal_(),this.svgGroup_}},{key:"setParent_",value:function(e){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),e.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),e.setMarkerSvg(this.getSvgRoot())),this.parent=e}},{key:"draw",value:function(e,t){if(t){this.constants_=this.workspace.getRenderer().getConstants();var n=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||n,this.applyColour_(t),this.showAtLocation_(t),this.fireMarkerEvent(e,t),void 0!==(e=this.currentMarkerSvg.childNodes[0])&&e.beginElement&&e.beginElement()}else this.hide()}},{key:"showAtLocation_",value:function(e){var t=e.getLocation().type;e.getType()===Qd.types.BLOCK?this.showWithBlock_(e):e.getType()===Qd.types.OUTPUT?this.showWithOutput_(e):t===ic.INPUT_VALUE?this.showWithInput_(e):t===ic.NEXT_STATEMENT?this.showWithNext_(e):e.getType()===Qd.types.PREVIOUS?this.showWithPrevious_(e):e.getType()===Qd.types.FIELD?this.showWithField_(e):e.getType()===Qd.types.WORKSPACE?this.showWithCoordinates_(e):e.getType()===Qd.types.STACK&&this.showWithStack_(e)}},{key:"showWithBlockPrevOutput",value:function(e){var t=(e=e.getSourceBlock()).width,n=e.height,i=n*rf,r=this.constants_.CURSOR_BLOCK_PADDING;e.previousConnection?(n=this.constants_.shapeFor(e.previousConnection),this.positionPrevious_(t,r,i,n)):e.outputConnection?(i=this.constants_.shapeFor(e.outputConnection),this.positionOutput_(t,n,i)):this.positionBlock_(t,r,i),this.setParent_(e),this.showCurrent_()}},{key:"showWithBlock_",value:function(e){this.showWithBlockPrevOutput(e)}},{key:"showWithPrevious_",value:function(e){this.showWithBlockPrevOutput(e)}},{key:"showWithOutput_",value:function(e){this.showWithBlockPrevOutput(e)}},{key:"showWithCoordinates_",value:function(e){var t=e.getWsCoordinate();e=t.x,t=t.y,this.workspace.RTL&&(e-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(e,t,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}},{key:"showWithField_",value:function(e){var t=(e=e.getLocation()).getSize().width,n=e.getSize().height;this.positionRect_(0,0,t,n),this.setParent_(e),this.showCurrent_()}},{key:"showWithInput_",value:function(e){var t=(e=e.getLocation()).getSourceBlock();this.positionInput_(e),this.setParent_(t),this.showCurrent_()}},{key:"showWithNext_",value:function(e){var t=e.getLocation();e=t.getSourceBlock();var n=0;t=t.getOffsetInBlock().y;var i=e.getHeightWidth().width;this.workspace.RTL&&(n=-i),this.positionLine_(n,t,i),this.setParent_(e),this.showCurrent_()}},{key:"showWithStack_",value:function(e){var t=(e=e.getLocation()).getHeightWidth(),n=t.width+this.constants_.CURSOR_STACK_PADDING;t=t.height+this.constants_.CURSOR_STACK_PADDING;var i=-this.constants_.CURSOR_STACK_PADDING/2,r=-this.constants_.CURSOR_STACK_PADDING/2,o=i;this.workspace.RTL&&(o=-(n+i)),this.positionRect_(o,r,n,t),this.setParent_(e),this.showCurrent_()}},{key:"showCurrent_",value:function(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}},{key:"positionBlock_",value:function(e,t,n){if(e=vo(-t,n)+yo("V",-t)+yo("H",e+2*t)+yo("V",n),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}},{key:"positionInput_",value:function(e){var t=e.getOffsetInBlock().x,n=e.getOffsetInBlock().y;e=po(0,0)+this.constants_.shapeFor(e).pathDown,this.markerInput_.setAttribute("d",e),this.markerInput_.setAttribute("transform","translate("+t+","+n+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}},{key:"positionLine_",value:function(e,t,n){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x","".concat(e)),this.markerSvgLine_.setAttribute("y","".concat(t)),this.markerSvgLine_.setAttribute("width","".concat(n)),this.currentMarkerSvg=this.markerSvgLine_}},{key:"positionOutput_",value:function(e,t,n){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");e=vo(e,0)+yo("h",-(e-n.width))+yo("v",this.constants_.TAB_OFFSET_FROM_TOP)+n.pathDown+yo("V",t)+yo("H",e),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}},{key:"positionPrevious_",value:function(e,t,n,i){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");e=vo(-t,n)+yo("V",-t)+yo("H",this.constants_.NOTCH_OFFSET_LEFT)+i.pathLeft+yo("H",e+2*t)+yo("V",n),this.markerBlock_.setAttribute("d",e),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}},{key:"positionRect_",value:function(e,t,n,i){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x","".concat(e)),this.markerSvgRect_.setAttribute("y","".concat(t)),this.markerSvgRect_.setAttribute("width","".concat(n)),this.markerSvgRect_.setAttribute("height","".concat(i)),this.currentMarkerSvg=this.markerSvgRect_}},{key:"flipRtl",value:function(e){e.setAttribute("transform","scale(-1 1)")}},{key:"hide",value:function(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}},{key:"fireMarkerEvent",value:function(e,t){var n=t.getSourceBlock();e=new(Y(ys))(n,this.isCursor(),e,t),U(e)}},{key:"getBlinkProperties_",value:function(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}},{key:"createDomInternal_",value:function(){if(this.markerSvg_=pe(Ll.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=pe(Ll.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.markerSvg_),this.markerSvgRect_=pe(Ll.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10},this.markerSvg_),this.markerInput_=pe(Ll.PATH,{transform:""},this.markerSvg_),this.markerBlock_=pe(Ll.PATH,{transform:"",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){var e=this.getBlinkProperties_();pe(Ll.ANIMATE,e,this.markerSvgLine_),pe(Ll.ANIMATE,e,this.markerInput_),pe(Ll.ANIMATE,Object.assign({},e,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}},{key:"applyColour_",value:function(e){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",e),this.markerInput_.firstElementChild.setAttribute("values",e),this.markerBlock_.firstElementChild.setAttribute("values",e))}},{key:"dispose",value:function(){this.svgGroup_&&_e(this.svgGroup_)}}]),e}(),af=function(){"use strict";function e(t,n,i){d(this,e),this.markerSvg=this.cursorSvg=null,this.connectionHighlights=new WeakMap,this.highlightOffsets=new WeakMap,this.constants=i,this.style=n,this.svgRoot=t,this.svgPath=pe(Ll.PATH,{class:"blocklyPath"},this.svgRoot)}return f(e,[{key:"setPath",value:function(e){this.svgPath.setAttribute("d",e)}},{key:"flipRTL",value:function(){this.svgPath.setAttribute("transform","scale(-1 1)")}},{key:"setCursorSvg",value:function(e){e?(this.svgRoot.appendChild(e),this.cursorSvg=e):this.cursorSvg=null}},{key:"setMarkerSvg",value:function(e){e?(this.cursorSvg?this.svgRoot.insertBefore(e,this.cursorSvg):this.svgRoot.appendChild(e),this.markerSvg=e):this.markerSvg=null}},{key:"applyColour",value:function(e){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(e.isShadow()),this.updateDisabled_(!e.isEnabled()||e.getInheritedDisabled())}},{key:"setStyle",value:function(e){this.style=e}},{key:"setClass_",value:function(e,t){e&&(t?ve(this.svgRoot,e):me(this.svgRoot,e))}},{key:"updateHighlighted",value:function(e){e?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}},{key:"updateShadow_",value:function(e){e&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}},{key:"updateDisabled_",value:function(e){this.setClass_("blocklyDisabled",e),e&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}},{key:"updateSelected",value:function(e){this.setClass_("blocklySelected",e)}},{key:"updateDraggingDelete",value:function(e){this.setClass_("blocklyDraggingDelete",e)}},{key:"updateInsertionMarker",value:function(e){this.setClass_("blocklyInsertionMarker",e)}},{key:"updateMovable",value:function(e){this.setClass_("blocklyDraggable",e)}},{key:"updateReplacementFade",value:function(e){this.setClass_("blocklyReplaceable",e)}},{key:"updateShapeForInputHighlight",value:function(e,t){}},{key:"addConnectionHighlight",value:function(e,t,n,i){if(this.connectionHighlights.has(e)){if(this.currentHighlightMatchesNew(e,t,n))return;this.removeConnectionHighlight(e)}t=pe(Ll.PATH,{class:"blocklyHighlightedConnectionPath",d:t,transform:"translate(".concat(n.x,", ").concat(n.y,")")+(i?" scale(-1 1)":"")},this.svgRoot),this.connectionHighlights.set(e,t)}},{key:"currentHighlightMatchesNew",value:function(e,t,n){var i,r=null==(i=this.connectionHighlights.get(e))?void 0:i.getAttribute("d");return e=this.highlightOffsets.get(e),r===t&&Tl.equals(e,n)}},{key:"removeConnectionHighlight",value:function(e){var t=this.connectionHighlights.get(e);t&&(_e(t),this.connectionHighlights.delete(e))}}]),e}(),sf=function(){"use strict";function e(t,n){d(this,e),this.type=n,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=t}return f(e,[{key:"connect_",value:function(t){var n,i,r=ic.INPUT_VALUE,o=this.getSourceBlock(),a=t.getSourceBlock();if(t.isConnected()&&t.disconnectInternal(!1),this.isConnected()){var s=this.stashShadowState(),l=this.targetBlock();l.isShadow()?l.dispose(!1):(this.disconnectInternal(),n=l),this.applyShadowState(s)}V()&&(i=new(Y(Wa.MOVE$$module$build$src$core$events$utils))(a)).setReason(["connect"]),Po(this,t),a.setParent(o),i&&(i.recordNew(),U(i)),n&&(t=this.type===r?n.outputConnection:n.previousConnection)&&((a=e.getConnectionForOrphanedConnection(a,t))?t.connect(a):t.onFailedConnect(this))}},{key:"dispose",value:function(){if(this.isConnected()){this.setShadowStateInternal();var e=this.targetBlock();e&&!e.isDeadOrDying()&&e.unplug()}this.disposed=!0}},{key:"getSourceBlock",value:function(){return this.sourceBlock_}},{key:"isSuperior",value:function(){return this.type===ic.INPUT_VALUE||this.type===ic.NEXT_STATEMENT}},{key:"isConnected",value:function(){return!!this.targetConnection}},{key:"getConnectionChecker",value:function(){return this.sourceBlock_.workspace.connectionChecker}},{key:"onFailedConnect",value:function(e){}},{key:"connect",value:function(e){if(this.targetConnection===e)return!0;if(this.getConnectionChecker().canConnect(this,e,!1)){var t=Wa.getGroup$$module$build$src$core$events$utils();t||Wa.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(e):e.connect_(this),Wa.setGroup$$module$build$src$core$events$utils(t)}return this.isConnected()}},{key:"disconnect",value:function(){this.disconnectInternal()}},{key:"disconnectInternal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getParentAndChildConnections(),n=t.parentConnection,i=t.childConnection;if(!n||!i)throw Error("Source connection not connected.");var r,o=Wa.getGroup$$module$build$src$core$events$utils();o||Wa.setGroup$$module$build$src$core$events$utils(!0),V()&&(r=new(Y(Wa.MOVE$$module$build$src$core$events$utils))(i.getSourceBlock())).setReason(["disconnect"]);var a=this.targetConnection;a&&(a.targetConnection=null),this.targetConnection=null,e&&i.getSourceBlock().setParent(null),r&&(r.recordNew(),U(r)),i.getSourceBlock().isShadow()||n.respawnShadow_(),Wa.setGroup$$module$build$src$core$events$utils(o)}},{key:"getParentAndChildConnections",value:function(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}},{key:"respawnShadow_",value:function(){this.createShadowBlock(!0)}},{key:"reconnect",value:function(e,t){return!this.getSourceBlock().isDeadOrDying()&&(t=null==(n=e.getInput(t))?void 0:n.connection,!((n=this.targetBlock())&&n!==e||!t||t.targetConnection===this)&&(t.isConnected()&&t.disconnect(),t.connect(this),!0));var n}},{key:"targetBlock",value:function(){var e,t;return this.isConnected()&&null!=(t=null==(e=this.targetConnection)?void 0:e.getSourceBlock())?t:null}},{key:"onCheckChanged_",value:function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}},{key:"setCheck",value:function(e){return e?(Array.isArray(e)||(e=[e]),this.check=e,this.onCheckChanged_()):this.check=null,this}},{key:"getCheck",value:function(){return this.check}},{key:"setShadowDom",value:function(e){this.setShadowStateInternal({shadowDom:e})}},{key:"getShadowDom",value:function(e){return e&&this.targetBlock().isShadow()?Gt(this.targetBlock()):this.shadowDom}},{key:"setShadowState",value:function(e){this.setShadowStateInternal({shadowState:e})}},{key:"getShadowState",value:function(e){return e&&this.targetBlock()&&this.targetBlock().isShadow()?mn(this.targetBlock()):this.shadowState}},{key:"neighbours",value:function(e){return[]}},{key:"getParentInput",value:function(){for(var e=null,t=this.sourceBlock_.inputList,n=0;n<t.length;n++)if(t[n].connection===this){e=t[n];break}return e}},{key:"toString",value:function(){var e=this.sourceBlock_;if(!e)return"Orphan Connection";if(e.outputConnection===this)var t="Output Connection of ";else if(e.previousConnection===this)t="Previous Connection of ";else if(e.nextConnection===this)t="Next Connection of ";else{t=null;for(var n,i=0;n=e.inputList[i];i++)if(n.connection===this){t=n;break}if(!t)return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection";t='Input "'+t.name+'" connection on '}return t+e.toDevString()}},{key:"stashShadowState",value:function(){var e=this.getShadowDom(!0),t=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:e,shadowState:t}}},{key:"applyShadowState",value:function(e){var t=e.shadowDom,n=e.shadowState;this.shadowDom=t,this.shadowState=n}},{key:"setShadowStateInternal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.shadowDom,n=void 0===t?null:t,i=e.shadowState,r=void 0===i?null:i;this.shadowDom=n,this.shadowState=r,(n=this.targetBlock())?n.isShadow()?(n.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(n=this.createShadowBlock(!1),this.serializeShadow(n),n&&n.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))}},{key:"createShadowBlock",value:function(e){var t=this.getSourceBlock(),n=this.getShadowState(),i=this.getShadowDom();if(t.isDeadOrDying()||!n&&!i)return null;if(n)return Cn(n,t.workspace,{parentConnection:e?this:void 0,isShadow:!0,recordUndo:!1});if(i){if(t=Qt(i,t.workspace),e)if(this.type===ic.INPUT_VALUE){if(!t.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(t.outputConnection))throw Error("Could not connect shadow block to connection")}else{if(this.type!==ic.NEXT_STATEMENT)throw Error("Cannot connect a shadow block to a previous/output connection");if(!t.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(t.previousConnection))throw Error("Could not connect shadow block to connection")}return t}return null}},{key:"serializeShadow",value:function(e){e&&(this.shadowDom=Gt(e),this.shadowState=mn(e))}}],[{key:"getConnectionForOrphanedConnection",value:function(e,t){if(t.type===ic.OUTPUT_VALUE)return Bo(e,t.getSourceBlock());e=e.lastConnectionInStack(!0);var n=t.getConnectionChecker();return e&&n.canConnect(t,e,!1)?e:null}}]),e}();sf.CAN_CONNECT=0,sf.REASON_SELF_CONNECTION=1,sf.REASON_WRONG_TYPE=2,sf.REASON_TARGET_NULL=3,sf.REASON_CHECKS_FAILED=4,sf.REASON_DIFFERENT_WORKSPACES=5,sf.REASON_SHADOW_PARENT=6,sf.REASON_DRAG_CHECKS_FAILED=7,sf.REASON_PREVIOUS_AND_OUTPUT=8;var lf="_TEMP_COLLAPSED_INPUT",uf="_TEMP_COLLAPSED_FIELD",cf={COLLAPSED_FIELD_NAME:uf,COLLAPSED_INPUT_NAME:lf},hf="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",df=function(){"use strict";function e(t){d(this,e),this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,I(t),this.topBlock=t,this.workspace=t.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}return f(e,[{key:"dispose",value:function(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}},{key:"updateAvailableConnections",value:function(){this.availableConnections=this.initAvailableConnections()}},{key:"wouldConnectBlock",value:function(){return!!this.activeCandidate}},{key:"applyConnections",value:function(){if(this.activeCandidate){Wa.disable$$module$build$src$core$events$utils(),this.hidePreview(),Wa.enable$$module$build$src$core$events$utils();var e=this.activeCandidate,t=e.local,n=e.closest;if(t.connect(n),this.topBlock.rendered){var i=t.isSuperior()?n:t,r=this.topBlock.getRootBlock();Nt().then((function(){Xi(i.getSourceBlock()),setTimeout((function(){r.bringToFront()}),0)}))}}}},{key:"update",value:function(e,t){var n=this.getCandidate(e);((this.wouldDeleteBlock=this.shouldDelete(!!n,t))||this.shouldUpdatePreviews(n,e))&&(Wa.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(n),this.maybeShowPreview(n),Wa.enable$$module$build$src$core$events$utils())}},{key:"createMarkerBlock",value:function(e){var t,n=e.type;Wa.disable$$module$build$src$core$events$utils();try{if((t=this.workspace.newBlock(n)).setInsertionMarker(!0),e.saveExtraState){var i=e.saveExtraState(!0);i&&t.loadExtraState&&t.loadExtraState(i)}else if(e.mutationToDom){var r=e.mutationToDom();r&&t.domToMutation&&t.domToMutation(r)}for(n=0;n<e.inputList.length;n++){var o=e.inputList[n];if(o.name!==lf){var a=t.inputList[n];if(!a)throw Error(hf.replace("%1","an input"));for(i=0;i<o.fieldRow.length;i++){var s=o.fieldRow[i],l=a.fieldRow[i];if(!l)throw Error(hf.replace("%1","a field"));l.setValue(s.getValue())}}}var u,c=g(t.getDescendants(!1));try{for(c.s();!(u=c.n()).done;)u.value.setInsertionMarker(!0)}catch(h){c.e(h)}finally{c.f()}t.setCollapsed(e.isCollapsed()),t.setInputsInline(e.getInputsInline()),t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden")}finally{Wa.enable$$module$build$src$core$events$utils()}return t}},{key:"initAvailableConnections",value:function(){var e=this.topBlock.getConnections_(!1),t=this.topBlock.lastConnectionInStack(!0);return t&&t!==this.topBlock.nextConnection&&(e.push(t),this.lastOnStack=t),e}},{key:"shouldUpdatePreviews",value:function(e,t){if(!e)return!!this.activeCandidate;if(!this.activeCandidate)return!0;var n=this.activeCandidate,i=n.local,r=n.closest;if(r===e.closest&&i===e.local)return!1;var o=i.x+t.x-r.x;return t=i.y+t.y-r.y,e.radius<Math.sqrt(o*o+t*t)-Wa.config$$module$build$src$core$config.currentConnectionPreference}},{key:"getCandidate",value:function(e){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();for(var t=this.getStartRadius(),n=null,i=0;i<this.availableConnections.length;i++){var r=this.availableConnections[i],o=r.closest(t,e);o.connection&&(n={closest:o.connection,local:r,radius:o.radius},t=o.radius)}return n}},{key:"getStartRadius",value:function(){return this.activeCandidate?Wa.config$$module$build$src$core$config.connectingSnapRadius:Wa.config$$module$build$src$core$config.snapRadius}},{key:"shouldDelete",value:function(e,t){return!(!t||!this.workspace.getComponentManager().hasCapability(t.id,yl.Capability.DELETE_AREA))&&t.wouldDelete(this.topBlock,e)}},{key:"maybeShowPreview",value:function(e){if(!this.wouldDeleteBlock&&e){var t,n=e.closest;n===(null==(t=this.activeCandidate)?void 0:t.closest)||n.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=e,this.showPreview(this.activeCandidate))}}},{key:"showPreview",value:function(e){var t=this.workspace.getRenderer();switch(t.getConnectionPreviewMethod(e.closest,e.local,this.topBlock)){case df.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(e);break;case df.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(e);break;case df.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(e)}t.shouldHighlightConnection(e.closest)&&e.closest.highlight()}},{key:"maybeHidePreview",value:function(e){if(e){if(this.activeCandidate){var t=this.activeCandidate.local!==e.local;(this.activeCandidate.closest!==e.closest||t||this.wouldDeleteBlock)&&this.hidePreview()}}else this.hidePreview();this.activeCandidate=this.markerConnection=null}},{key:"hidePreview",value:function(){var e,t=null==(e=this.activeCandidate)?void 0:e.closest;t&&t.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(t)&&t.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}},{key:"showInsertionMarker",value:function(e){var t,n=e,i=n.local,r=n.closest,o=(e=this.lastOnStack&&i===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");try{t=o.getMatchingConnection(i.getSourceBlock(),i)}catch(u){if(e&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),o=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),o=this.firstMarker=this.createMarkerBlock(this.topBlock)),!o)throw Error("Cannot show the insertion marker because there is no insertion marker block");t=o.getMatchingConnection(i.getSourceBlock(),i)}if(!t)throw Error("Cannot show the insertion marker because there is no associated connection");if(t===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");o.queueRender(),$t(),t.connect(r);var a={x:r.x-t.x,y:r.y-t.y},s=t.getOffsetInBlock().clone(),l=t;Nt().then((function(){var e,t;null==(e=o)||e.positionNearConnection(l,a,s),null==(t=o)||t.getSvgRoot().setAttribute("visibility","visible")})),this.markerConnection=t}},{key:"hideInsertionMarker",value:function(){if(this.markerConnection){var e,t,n=this.markerConnection,i=n.getSourceBlock(),r=i.outputConnection;if(null!=(e=i.previousConnection)&&e.targetConnection||null!=r&&r.targetConnection?i.unplug(!0):null==(t=n.targetBlock())||t.unplug(!1),n.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(n=i.getSvgRoot())&&n.setAttribute("visibility","hidden")}}},{key:"showInsertionInputOutline",value:function(e){e=e.closest,this.highlightedBlock=e.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(e,!0)}},{key:"hideInsertionInputOutline",value:function(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}},{key:"showReplacementFade",value:function(e){if(this.fadedBlock=e.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}},{key:"hideReplacementFade",value:function(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}},{key:"getInsertionMarkers",value:function(){var e=[];return this.firstMarker&&e.push(this.firstMarker),this.lastMarker&&e.push(this.lastMarker),e}},{key:"disposeInsertionMarker",value:function(e){if(e){Wa.disable$$module$build$src$core$events$utils();try{e.dispose()}finally{Wa.enable$$module$build$src$core$events$utils()}}}}]),e}();!function(e){(e=e.PREVIEW_TYPE||(e.PREVIEW_TYPE={}))[e.INSERTION_MARKER=0]="INSERTION_MARKER",e[e.INPUT_OUTLINE=1]="INPUT_OUTLINE",e[e.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"}(df||(df={}));var ff=df.PREVIEW_TYPE,pf={};pf.InsertionMarkerManager=df,pf.PreviewType=ff;var vf=function(){"use strict";function e(t){d(this,e),this.overrides=null,this.name=t}return f(e,[{key:"getClassName",value:function(){return this.name+"-renderer"}},{key:"init",value:function(e,t){this.constants_=this.makeConstants_(),t&&(this.overrides=t,Object.assign(this.constants_,t)),this.constants_.setTheme(e),this.constants_.init()}},{key:"createDom",value:function(e,t){this.constants_.createDom(e,this.name+"-"+t.name,"."+this.getClassName()+"."+t.getClassName())}},{key:"refreshDom",value:function(e,t){var n=this.getConstants();n.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=n.randomIdentifier,this.constants_.setTheme(t),this.constants_.init(),this.createDom(e,t)}},{key:"dispose",value:function(){this.constants_&&this.constants_.dispose()}},{key:"makeConstants_",value:function(){return new zd}},{key:"makeRenderInfo_",value:function(e){return new Jd(this,e)}},{key:"makeDrawer_",value:function(e,t){return new Wd(e,t)}},{key:"makeMarkerDrawer",value:function(e,t){return new of(e,this.getConstants(),t)}},{key:"makePathObject",value:function(e,t){return new af(e,t,this.constants_)}},{key:"getConstants",value:function(){return this.constants_}},{key:"shouldHighlightConnection",value:function(e){return!0}},{key:"orphanCanConnectAtEnd",value:function(e,t,n){return!!sf.getConnectionForOrphanedConnection(e,n===ic.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}},{key:"getConnectionPreviewMethod",value:function(e,t,n){return fe("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===ic.OUTPUT_VALUE||t.type===ic.PREVIOUS_STATEMENT?!e.isConnected()||this.orphanCanConnectAtEnd(n,e.targetBlock(),t.type)?df.PREVIEW_TYPE.INSERTION_MARKER:df.PREVIEW_TYPE.REPLACEMENT_FADE:df.PREVIEW_TYPE.INSERTION_MARKER}},{key:"render",value:function(e){var t=this.makeRenderInfo_(e);t.measure(),this.makeDrawer_(e,t).draw()}}]),e}(),gf={};gf.BottomRow=wd,gf.Connection=Sd,gf.ConstantProvider=zd,gf.Drawer=Wd,gf.ExternalValueInput=Id,gf.Field=Rd,gf.Hat=Od,gf.Icon=Ad,gf.InRowSpacer=Md,gf.InlineInput=Ld,gf.InputConnection=Cd,gf.InputRow=$d,gf.JaggedEdge=Pd,gf.MarkerSvg=of,gf.Measurable=Ed,gf.NextConnection=Dd,gf.OutputConnection=Bd,gf.PathObject=af,gf.PreviousConnection=Fd,gf.RenderInfo=Jd,gf.Renderer=vf,gf.RoundCorner=Ud,gf.Row=xd,gf.SpacerRow=jd,gf.SquareCorner=Zd,gf.StatementInput=Nd,gf.TopRow=Hd,gf.Types=Td,gf.init=jo,gf.register=Fo,gf.unregister=Uo;var mf=function(){"use strict";function e(t,n){d(this,e),this.workspace=t,this.theme=n,this.subscribedWorkspaces_=[],this.componentDB=new Map}return f(e,[{key:"getTheme",value:function(){return this.theme}},{key:"setTheme",value:function(e){var t=this.theme;this.theme=e,(e=this.workspace.getInjectionDiv())&&(t&&(t=t.getClassName())&&me(e,t),(t=this.theme.getClassName())&&ve(e,t));for(var n,i=0;n=this.subscribedWorkspaces_[i];i++)n.refreshTheme();var r,o=g(this.componentDB);try{for(o.s();!(r=o.n()).done;){var a,s=p(r.value,2),l=s[0],u=s[1],c=g(u);try{for(c.s();!(a=c.n()).done;){var h=a.value;e=h.element,t=h.propertyName;var d=this.theme&&this.theme.getComponentStyle(l);e.style.setProperty(t,d||"")}}catch(m){c.e(m)}finally{c.f()}}}catch(m){o.e(m)}finally{o.f()}var f,v=g(this.subscribedWorkspaces_);try{for(v.s();!(f=v.n()).done;)f.value.hideChaff()}catch(m){v.e(m)}finally{v.f()}}},{key:"subscribeWorkspace",value:function(e){this.subscribedWorkspaces_.push(e)}},{key:"unsubscribeWorkspace",value:function(e){if(!ce(this.subscribedWorkspaces_,e))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}},{key:"subscribe",value:function(e,t,n){this.componentDB.has(t)||this.componentDB.set(t,[]),this.componentDB.get(t).push({element:e,propertyName:n}),t=this.theme&&this.theme.getComponentStyle(t),e.style.setProperty(n,t||"")}},{key:"unsubscribe",value:function(e){if(e){var t,n=g(this.componentDB);try{for(n.s();!(t=n.n()).done;){for(var i=p(t.value,2),r=i[0],o=i[1],a=o.length-1;0<=a;a--)o[a].element===e&&o.splice(a,1);o.length||this.componentDB.delete(r)}}catch(s){n.e(s)}finally{n.f()}}}},{key:"dispose",value:function(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}}]),e}(),yf="VARIABLE_DYNAMIC",_f={CATEGORY_NAME:yf};_f.flyoutCategory=Vo,_f.flyoutCategoryBlocks=Wo,_f.onCreateVariableButtonClick_Colour=zo,_f.onCreateVariableButtonClick_Number=Ho,_f.onCreateVariableButtonClick_String=Zo;var bf=function(){"use strict";function e(){d(this,e)}return f(e,[{key:"canConnect",value:function(e,t,n,i){return this.canConnectWithReason(e,t,n,i)===sf.CAN_CONNECT}},{key:"canConnectWithReason",value:function(e,t,n,i){var r=this.doSafetyChecks(e,t);return r!==sf.CAN_CONNECT?r:this.doTypeChecks(e,t)?n&&!this.doDragChecks(e,t,i||0)?sf.REASON_DRAG_CHECKS_FAILED:sf.CAN_CONNECT:sf.REASON_CHECKS_FAILED}},{key:"getErrorMessage",value:function(e,t,n){switch(e){case sf.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case sf.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case sf.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case sf.REASON_TARGET_NULL:return"Target connection is null.";case sf.REASON_CHECKS_FAILED:return"Connection checks failed. "+t+" expected "+t.getCheck()+", found "+n.getCheck();case sf.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case sf.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case sf.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}},{key:"doSafetyChecks",value:function(e,t){return e&&t?(e.isSuperior()?(n=e.getSourceBlock(),i=t.getSourceBlock(),r=t):(i=e.getSourceBlock(),n=t.getSourceBlock(),r=e,e=t),n===i?sf.REASON_SELF_CONNECTION:r.type!==oh[e.type]?sf.REASON_WRONG_TYPE:n.workspace!==i.workspace?sf.REASON_DIFFERENT_WORKSPACES:n.isShadow()&&!i.isShadow()?sf.REASON_SHADOW_PARENT:r.type===ic.OUTPUT_VALUE&&i.previousConnection&&i.previousConnection.isConnected()||r.type===ic.PREVIOUS_STATEMENT&&i.outputConnection&&i.outputConnection.isConnected()?sf.REASON_PREVIOUS_AND_OUTPUT:sf.CAN_CONNECT):sf.REASON_TARGET_NULL;var n,i,r}},{key:"doTypeChecks",value:function(e,t){if(e=e.getCheck(),t=t.getCheck(),!e||!t)return!0;for(var n=0;n<e.length;n++)if(-1!==t.indexOf(e[n]))return!0;return!1}},{key:"doDragChecks",value:function(e,t,n){if(e.distanceFrom(t)>n||t.getSourceBlock().isInsertionMarker())return!1;switch(t.type){case ic.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(e,t);case ic.OUTPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isInsertionMarker()||e.isConnected())return!1;break;case ic.INPUT_VALUE:if(t.isConnected()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;case ic.NEXT_STATEMENT:if(t.isConnected()&&!e.getSourceBlock().nextConnection&&!t.targetBlock().isShadow()&&t.targetBlock().nextConnection||t.targetBlock()&&!t.targetBlock().isMovable()&&!t.targetBlock().isShadow())return!1;break;default:return!1}return-1===rs.indexOf(t)}},{key:"canConnectToPrevious_",value:function(e,t){return!e.targetConnection&&-1===rs.indexOf(t)&&(!t.targetConnection||!!(e=t.targetBlock()).isInsertionMarker()&&!e.getPreviousBlock())}}]),e}();e(qa.CONNECTION_CHECKER,Ka,bf);var kf=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=ds,e&&(i.varType=e.type,i.varName=e.name),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.varType)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return e.varType=this.varType,e.varName=this.varName,e}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");e?t.deleteVariableById(this.varId):t.createVariable(this.varName,this.varType,this.varId)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).varType=e.varType,t.varName=e.varName,t}}]),n}(gu);e(qa.EVENT,ds,kf);var Tf=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).type=fs,e&&(r.oldName=e.name,r.newName="undefined"===typeof i?"":i),r}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return e.oldName=this.oldName,e.newName=this.newName,e}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");e?t.renameVariableById(this.varId,this.newName):t.renameVariableById(this.varId,this.oldName)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldName=e.oldName,t.newName=e.newName,t}}]),n}(gu);e(qa.EVENT,fs,Tf);var Ef=function(){"use strict";function e(t){d(this,e),this.workspace=t,this.variableMap=new Map}return f(e,[{key:"clear",value:function(){var e,t=g(this.variableMap.values());try{for(t.s();!(e=t.n()).done;)for(var n=e.value;0<n.length;)this.deleteVariable(n[0])}catch(i){t.e(i)}finally{t.f()}if(0!==this.variableMap.size)throw Error("Non-empty variable map")}},{key:"renameVariable",value:function(e,t){if(e.name!==t){var n=this.getVariable(t,e.type),i=this.workspace.getAllBlocks(!1),r=Wa.getGroup$$module$build$src$core$events$utils();r||Wa.setGroup$$module$build$src$core$events$utils(!0);try{n&&n.getId()!==e.getId()?this.renameVariableWithConflict_(e,t,n,i):this.renameVariableAndUses_(e,t,i)}finally{Wa.setGroup$$module$build$src$core$events$utils(r)}}}},{key:"renameVariableById",value:function(e,t){var n=this.getVariableById(e);if(!n)throw Error("Tried to rename a variable that didn't exist. ID: "+e);this.renameVariable(n,t)}},{key:"renameVariableAndUses_",value:function(e,t,n){for(U(new(Y(fs))(e,t)),e.name=t,t=0;t<n.length;t++)n[t].updateVarName(e)}},{key:"renameVariableWithConflict_",value:function(e,t,n,i){var r=e.type;for(t!==n.name&&this.renameVariableAndUses_(n,t,i),t=0;t<i.length;t++)i[t].renameVarById(e.getId(),n.getId());U(new(Y(ds))(e)),ce(this.variableMap.get(r),e)}},{key:"createVariable",value:function(e,t,n){var i=this.getVariable(e,t);if(i){if(n&&i.getId()!==n)throw Error('Variable "'+e+'" is already in use and its id is "'+i.getId()+'" which conflicts with the passed in id, "'+n+'".');return i}if(n&&this.getVariableById(n))throw Error('Variable id, "'+n+'", is already in use.');return i=n||D(),t=t||"",i=new yu(this.workspace,e,t,i),(e=this.variableMap.get(t)||[]).push(i),this.variableMap.delete(t),this.variableMap.set(t,e),U(new(Y(hs))(i)),i}},{key:"deleteVariable",value:function(e){var t=e.getId(),n=this.variableMap.get(e.type);if(n)for(var i=0;i<n.length;i++)if(n[i].getId()===t){n.splice(i,1),U(new(Y(ds))(e)),0===n.length&&this.variableMap.delete(e.type);break}}},{key:"deleteVariableById",value:function(e){var t=this,n=this.getVariableById(e);if(n){for(var i,r=n.name,o=this.getVariableUsesById(e),a=0;i=o[a];a++)if("procedures_defnoreturn"===i.type||"procedures_defreturn"===i.type)return e=String(i.getFieldValue("NAME")),r=Wa.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",r).replace("%2",e),void at(r);1<o.length?(r=Wa.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(o.length)).replace("%2",r),lt(r,(function(e){e&&n&&t.deleteVariableInternal(n,o)}))):this.deleteVariableInternal(n,o)}else console.warn("Can't delete non-existent variable: "+e)}},{key:"deleteVariableInternal",value:function(e,t){var n=Wa.getGroup$$module$build$src$core$events$utils();n||Wa.setGroup$$module$build$src$core$events$utils(!0);try{for(var i=0;i<t.length;i++)t[i].dispose(!0);this.deleteVariable(e)}finally{Wa.setGroup$$module$build$src$core$events$utils(n)}}},{key:"getVariable",value:function(e,t){if(t=this.variableMap.get(t||""))for(var n,i=0;n=t[i];i++)if(Wa.Names$$module$build$src$core$names.equals(n.name,e))return n;return null}},{key:"getVariableById",value:function(e){var t,n=g(this.variableMap.values());try{for(n.s();!(t=n.n()).done;){var i,r=t.value,o=g(r);try{for(o.s();!(i=o.n()).done;){var a=i.value;if(a.getId()===e)return a}}catch(s){o.e(s)}finally{o.f()}}}catch(s){n.e(s)}finally{n.f()}return null}},{key:"getVariablesOfType",value:function(e){return(e=this.variableMap.get(e||""))?e.slice():[]}},{key:"getVariableTypes",value:function(e){var t=new Set(this.variableMap.keys());if(e&&e.getPotentialVariableMap()){var n,i=g(e.getPotentialVariableMap().variableMap.keys());try{for(i.s();!(n=i.n()).done;){var r=n.value;t.add(r)}}catch(o){i.e(o)}finally{i.f()}}return t.has("")||t.add(""),Array.from(t.values())}},{key:"getAllVariables",value:function(){var e,t=[],n=g(this.variableMap.values());try{for(n.s();!(e=n.n()).done;){var i=e.value;t=t.concat(i)}}catch(r){n.e(r)}finally{n.f()}return t}},{key:"getAllVariableNames",value:function(){return Array.from(this.variableMap.values()).flat().map((function(e){return e.name}))}},{key:"getVariableUsesById",value:function(e){for(var t=[],n=this.workspace.getAllBlocks(!1),i=0;i<n.length;i++){var r=n[i].getVarModels();if(r)for(var o=0;o<r.length;o++)r[o].getId()===e&&t.push(n[i])}return t}}]),e}(),xf=function(){"use strict";function e(t){d(this,e),this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new Vh,this.potentialVariableMap=null,this.id=D(),E(this),this.options=t||new $h({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(b(qa.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new Ef(this)}return f(e,[{key:"isFlyout",get:function(){return this.internalIsFlyout}},{key:"isMutator",get:function(){return this.internalIsMutator}},{key:"dispose",value:function(){this.listeners.length=0,this.clear(),x(this)}},{key:"sortObjects_",value:function(t,n){var i=Math.sin(ki(e.SCAN_ANGLE))*(this.RTL?-1:1);return t=t.getRelativeToSurfaceXY(),n=n.getRelativeToSurfaceXY(),t.y+i*t.x-(n.y+i*n.x)}},{key:"addTopBlock",value:function(e){this.topBlocks.push(e)}},{key:"removeTopBlock",value:function(e){if(!ce(this.topBlocks,e))throw Error("Block not present in workspace's list of top-most blocks.")}},{key:"getTopBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[].concat(this.topBlocks);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}},{key:"addTypedBlock",value:function(e){this.typedBlocksDB.has(e.type)||this.typedBlocksDB.set(e.type,[]),this.typedBlocksDB.get(e.type).push(e)}},{key:"removeTypedBlock",value:function(e){ce(this.typedBlocksDB.get(e.type),e),this.typedBlocksDB.get(e.type).length||this.typedBlocksDB.delete(e.type)}},{key:"getBlocksByType",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.typedBlocksDB.has(e)?(e=this.typedBlocksDB.get(e).slice(0),t&&e&&1<e.length&&e.sort(this.sortObjects_.bind(this)),e.filter((function(e){return!e.isInsertionMarker()}))):[]}},{key:"addTopComment",value:function(e){this.topComments.push(e),this.commentDB.has(e.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+e.id+'"'),this.commentDB.set(e.id,e)}},{key:"removeTopComment",value:function(e){if(!ce(this.topComments,e))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(e.id)}},{key:"getTopComments",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=[].concat(this.topComments);return e&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t}},{key:"getAllBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e){var t=this.getTopBlocks(!0);e=[];for(var n=0;n<t.length;n++){var i;(i=e).push.apply(i,v(t[n].getDescendants(!0)))}}else for(e=this.getTopBlocks(!1),t=0;t<e.length;t++){var r;(r=e).push.apply(r,v(e[t].getChildren(!1)))}return e.filter((function(e){return!e.isInsertionMarker()}))}},{key:"clear",value:function(){this.isClearing=!0;try{var e=Wa.getGroup$$module$build$src$core$events$utils();for(e||Wa.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();Wa.setGroup$$module$build$src$core$events$utils(e),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}},{key:"renameVariableById",value:function(e,t){this.variableMap.renameVariableById(e,t)}},{key:"createVariable",value:function(e,t,n){return this.variableMap.createVariable(e,t,n)}},{key:"getVariableUsesById",value:function(e){return this.variableMap.getVariableUsesById(e)}},{key:"deleteVariableById",value:function(e){this.variableMap.deleteVariableById(e)}},{key:"getVariable",value:function(e,t){return this.variableMap.getVariable(e,t)}},{key:"getVariableById",value:function(e){return this.variableMap.getVariableById(e)}},{key:"getVariablesOfType",value:function(e){return this.variableMap.getVariablesOfType(e)}},{key:"getVariableTypes",value:function(){return this.variableMap.getVariableTypes(this)}},{key:"getAllVariables",value:function(){return this.variableMap.getAllVariables()}},{key:"getAllVariableNames",value:function(){return this.variableMap.getAllVariableNames()}},{key:"getWidth",value:function(){return 0}},{key:"newBlock",value:function(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}},{key:"remainingCapacity",value:function(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}},{key:"remainingCapacityOfType",value:function(e){return this.options.maxInstances?(void 0!==this.options.maxInstances[e]?this.options.maxInstances[e]:1/0)-this.getBlocksByType(e,!1).length:1/0}},{key:"isCapacityAvailable",value:function(e){if(!this.hasBlockLimits())return!0;var t=0;for(var n in e){if(e[n]>this.remainingCapacityOfType(n))return!1;t+=e[n]}return!(t>this.remainingCapacity())}},{key:"hasBlockLimits",value:function(){return 1/0!==this.options.maxBlocks||!!this.options.maxInstances}},{key:"getUndoStack",value:function(){return this.undoStack_}},{key:"getRedoStack",value:function(){return this.redoStack_}},{key:"undo",value:function(e){var t=e?this.redoStack_:this.undoStack_,n=e?this.undoStack_:this.redoStack_,i=t.pop();if(i){for(var r=[i];t.length&&i.group&&i.group===t[t.length-1].group;){var o=t.pop();o&&r.push(o)}for(t=0;t<r.length;t++)n.push(r[t]);r=H(r,e),B(!1);try{for(n=0;n<r.length;n++)r[n].run(e)}finally{B(!0)}}}},{key:"clearUndo",value:function(){this.undoStack_.length=0,this.redoStack_.length=0,z()}},{key:"addChangeListener",value:function(e){return this.listeners.push(e),e}},{key:"removeChangeListener",value:function(e){ce(this.listeners,e)}},{key:"fireChangeListener",value:function(e){if(e.recordUndo)for(this.undoStack_.push(e),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(var t=0;t<this.listeners.length;t++)(0,this.listeners[t])(e)}},{key:"getBlockById",value:function(e){return this.blockDB.get(e)||null}},{key:"setBlockById",value:function(e,t){this.blockDB.set(e,t)}},{key:"removeBlockById",value:function(e){this.blockDB.delete(e)}},{key:"getCommentById",value:function(e){var t;return null!=(t=this.commentDB.get(e))?t:null}},{key:"allInputsFilled",value:function(e){for(var t=this.getTopBlocks(!1),n=0;n<t.length;n++)if(!t[n].allInputsFilled(e))return!1;return!0}},{key:"getPotentialVariableMap",value:function(){return this.potentialVariableMap}},{key:"createPotentialVariableMap",value:function(){this.potentialVariableMap=new Ef(this)}},{key:"getVariableMap",value:function(){return this.variableMap}},{key:"setVariableMap",value:function(e){this.variableMap=e}},{key:"getProcedureMap",value:function(){return this.procedureMap}},{key:"getRootWorkspace",value:function(){var e=null,t=this.options.parentWorkspace;return this.isFlyout?t&&t.options&&(e=t.options.parentWorkspace):t&&(e=t),e}}],[{key:"getById",value:function(e){return k(e)}},{key:"getAll",value:function(){return T()}}]),e}();xf.SCAN_ANGLE=3;var wf=100,Sf=function(){"use strict";function e(t){d(this,e),this.parentWorkspace=t,this.sounds=new Map,this.lastSound_=null,this.muted=!1}return f(e,[{key:"dispose",value:function(){this.sounds.clear()}},{key:"load",value:function(e,t){if(e.length){try{var n=new globalThis.Audio}catch(i){return}for(var i=0;i<e.length;i++){var r=e[i],o=r.match(/\.(\w+)$/);if(o&&n.canPlayType("audio/"+o[1])){var a=new globalThis.Audio(r);break}}a&&this.sounds.set(t,a)}}},{key:"preload",value:function(){var e,t=g(this.sounds.values());try{for(t.s();!(e=t.n()).done;){var n=e.value;n.volume=.01;var i=n.play();if(void 0!==i?i.then(n.pause).catch((function(){})):n.pause(),ll||ul)break}}catch(r){t.e(r)}finally{t.f()}}},{key:"play",value:function(e,t){if(!this.muted){var n=this.sounds.get(e);n?(e=new Date,null!==this.lastSound_&&e.getTime()-this.lastSound_.getTime()<wf||(this.lastSound_=e,(n=ll||sl?n:n.cloneNode()).volume=void 0===t?1:t,n.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(e,t)}}},{key:"setMuted",value:function(e){this.muted=e}},{key:"getMuted",value:function(){return this.muted}}]),e}(),Cf=function(){"use strict";function e(t){d(this,e),this.workspace=t,this.layers=new Map,(t=t.getInjectionDiv())&&(this.dragLayer=this.createDragLayer(t)),t=this.createLayer(eh),ve(t,"blocklyBlockCanvas"),t=this.createLayer(th),ve(t,"blocklyBubbleCanvas")}return f(e,[{key:"createDragLayer",value:function(e){var t=pe(Ll.SVG,{class:"blocklyBlockDragSurface",xmlns:Sl,"xmlns:html":Cl,"xmlns:xlink":Il,version:"1.1"});return e.append(t),pe(Ll.G,{},t)}},{key:"translateLayers",value:function(e,t){var n;e="translate(".concat(e.x,", ").concat(e.y,") scale(").concat(t,")"),null==(n=this.dragLayer)||n.setAttribute("transform",e);var i,r=g(this.layers);try{for(r.s();!(i=r.n()).done;)p(i.value,2)[1].setAttribute("transform",e)}catch(o){r.e(o)}finally{r.f()}}},{key:"moveToDragLayer",value:function(e){var t;null==(t=this.dragLayer)||t.appendChild(e.getSvgRoot())}},{key:"moveOffDragLayer",value:function(e,t){this.append(e,t)}},{key:"append",value:function(e,t){var n;this.layers.has(t)||this.createLayer(t),null==(n=this.layers.get(t))||n.appendChild(e.getSvgRoot())}},{key:"createLayer",value:function(e){var t,n=this.workspace.getSvgGroup(),i=pe(Ll.G,{}),r=!1,o=v(this.layers).sort((function(e,t){return e[0]-t[0]})),a=g(o);try{for(a.s();!(t=a.n()).done;){var s=p(t.value,2),l=s[0],u=s[1];if(e<l){n.insertBefore(i,u),r=!0;break}}}catch(c){a.e(c)}finally{a.f()}return r||n.appendChild(i),this.layers.set(e,i),i}},{key:"hasLayer",value:function(e){return e===this.dragLayer||new Set(this.layers.values()).has(e)}},{key:"getBlockLayer",value:function(){return this.layers.get(eh)}},{key:"getBubbleLayer",value:function(){return this.layers.get(th)}}]),e}(),If=20,Rf=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i,r;return d(this,n),(i=t.call(this,e)).resizeHandlerWrapper=null,i.resizesEnabled=i.isVisible_=i.rendered=!0,i.startScrollY=i.startScrollX=i.scrollY=i.scrollX=0,i.dragDeltaXY=null,i.oldScale=i.scale=1,i.oldLeft=i.oldTop=0,i.inverseScreenCTM=i.targetWorkspace=i.dummyWheelListener=i.configureContextMenu=i.lastRecordedPageScroll=i.injectionDiv=i.currentGesture_=i.toolbox_=i.flyout=i.scrollbar=i.trashcan=null,i.inverseScreenCTMDirty=!0,i.highlightedBlocks=[],i.toolboxCategoryCallbacks=new Map,i.flyoutButtonCallbacks=new Map,i.cachedParentSvg=null,i.keyboardAccessibilityMode=!1,i.topBoundedElements=[],i.dragTargetAreas=[],i.zoomControls_=i.layerManager=null,i.metricsManager=new(b(qa.METRICS_MANAGER,e,!0))(a(i)),i.getMetrics=e.getMetrics||i.metricsManager.getMetrics.bind(i.metricsManager),i.setMetrics=e.setMetrics||n.setTopLevelWorkspaceMetrics_,i.componentManager=new yl,i.connectionDBList=oc.init(i.connectionChecker),i.audioManager=new Sf(e.parentWorkspace),i.grid=i.options.gridPattern?new Oh(i.options.gridPattern,e.gridOptions):null,i.markerManager=new Ah(a(i)),Tu&&gt&&i.registerToolboxCategoryCallback(_u,gt),_f&&Vo&&i.registerToolboxCategoryCallback(yf,Vo),bd&&So&&(i.registerToolboxCategoryCallback(_d,So),i.addChangeListener(Io)),i.themeManager_=i.options.parentWorkspace?i.options.parentWorkspace.getThemeManager():new mf(a(i),i.options.theme||Nh),i.themeManager_.subscribeWorkspace(a(i)),i.renderer=jo(i.options.renderer||"geras",i.getTheme(),null!=(r=i.options.rendererOverrides)?r:void 0),i.cachedParentSvgSize=new $l(0,0),i}return f(n,[{key:"getMarkerManager",value:function(){return this.markerManager}},{key:"getMetricsManager",value:function(){return this.metricsManager}},{key:"setMetricsManager",value:function(e){this.metricsManager=e,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}},{key:"getComponentManager",value:function(){return this.componentManager}},{key:"setCursorSvg",value:function(e){this.markerManager.setCursorSvg(e)}},{key:"setMarkerSvg",value:function(e){this.markerManager.setMarkerSvg(e)}},{key:"getMarker",value:function(e){return this.markerManager?this.markerManager.getMarker(e):null}},{key:"getCursor",value:function(){return this.markerManager?this.markerManager.getCursor():null}},{key:"getRenderer",value:function(){return this.renderer}},{key:"getThemeManager",value:function(){return this.themeManager_}},{key:"getTheme",value:function(){return this.themeManager_.getTheme()}},{key:"setTheme",value:function(e){e||(e=Nh),this.themeManager_.setTheme(e)}},{key:"refreshTheme",value:function(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter((function(e){return!!e.getStyleName()}))),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);var e=new(Y(Ts))(this.getTheme().name,this.id);U(e)}},{key:"updateBlockStyles_",value:function(e){for(var t,n=0;t=e[n];n++){var i=t.getStyleName();i&&t.setStyle(i)}}},{key:"getInverseScreenCTM",value:function(){if(this.inverseScreenCTMDirty){var e=this.getParentSvg().getScreenCTM();e&&(this.inverseScreenCTM=e.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}},{key:"updateInverseScreenCTM",value:function(){this.inverseScreenCTMDirty=!0}},{key:"isVisible",value:function(){return this.isVisible_}},{key:"getSvgXY",value:function(e){var t=0,n=0,i=1;(this.getCanvas().contains(e)||this.getBubbleCanvas().contains(e))&&(i=this.scale);do{var r=Be(e);e!==this.getCanvas()&&e!==this.getBubbleCanvas()||(i=1),t+=r.x*i,n+=r.y*i,e=e.parentNode}while(e&&e!==this.getParentSvg()&&e!==this.getInjectionDiv());return new Tl(t,n)}},{key:"getCachedParentSvgSize",value:function(){var e=this.cachedParentSvgSize;return new $l(e.width,e.height)}},{key:"getOriginOffsetInPixels",value:function(){return Fe(this.getCanvas())}},{key:"getInjectionDiv",value:function(){if(!this.injectionDiv)for(var e=this.svgGroup_;e;){if(-1!==(" "+(e.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){this.injectionDiv=e;break}e=e.parentNode}return this.injectionDiv}},{key:"getSvgGroup",value:function(){return this.svgGroup_}},{key:"getBlockCanvas",value:function(){return this.getCanvas()}},{key:"setResizeHandlerWrapper",value:function(e){this.resizeHandlerWrapper=e}},{key:"createDom",value:function(e,t){return this.injectionDiv||(this.injectionDiv=null!=t?t:null),this.svgGroup_=pe(Ll.G,{class:"blocklyWorkspace"}),e&&(this.svgBackground_=pe(Ll.RECT,{height:"100%",width:"100%",class:e},this.svgGroup_),"blocklyMainBackground"===e&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.layerManager=new Cf(this),this.svgBlockCanvas_=this.layerManager.getBlockLayer(),this.svgBubbleCanvas_=this.layerManager.getBubbleLayer(),this.isFlyout||(ie(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),this.dummyWheelListener=function(){},document.body.addEventListener("wheel",this.dummyWheelListener),ie(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(b(qa.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(e=b(qa.CURSOR,this.options))&&this.markerManager.setCursor(new e),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}},{key:"dispose",value:function(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&_e(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),l(u(n.prototype),"dispose",this).call(this),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){var e=this.getParentSvg();e&&e.parentNode&&_e(e.parentNode)}this.resizeHandlerWrapper&&(oe(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null),this.dummyWheelListener&&(document.body.removeEventListener("wheel",this.dummyWheelListener),this.dummyWheelListener=null)}},{key:"addTrashcan",value:function(){this.trashcan=n.newTrashcan(this);var e=this.trashcan.createDom();this.svgGroup_.insertBefore(e,this.getCanvas())}},{key:"addZoomControls",value:function(){this.zoomControls_=new au(this);var e=this.zoomControls_.createDom();this.svgGroup_.appendChild(e)}},{key:"addFlyout",value:function(e){var t=new $h({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(b(qa.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(t):new(b(qa.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(t),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(e)}},{key:"getFlyout",value:function(e){return this.flyout||e?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}},{key:"getToolbox",value:function(){return this.toolbox_}},{key:"updateScreenCalculations_",value:function(){this.updateInverseScreenCTM(),this.recordDragTargets()}},{key:"resizeContents",value:function(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}},{key:"resize",value:function(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();for(var e,t=this.componentManager.getComponents(yl.Capability.POSITIONABLE,!0),n=this.getMetricsManager().getUiMetrics(),i=[],r=0;e=t[r];r++){e.position(n,i);var o=e.getBoundingRectangle();o&&i.push(o)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}},{key:"updateScreenCalculationsIfScrolled",value:function(){var e=je();Tl.equals(this.lastRecordedPageScroll,e)||(this.lastRecordedPageScroll=e,this.updateScreenCalculations_())}},{key:"getLayerManager",value:function(){return this.layerManager}},{key:"getCanvas",value:function(){return this.layerManager.getBlockLayer()}},{key:"setCachedParentSvgSize",value:function(e,t){var n=this.getParentSvg();null!=e&&(this.cachedParentSvgSize.width=e,n.setAttribute("data-cached-width","".concat(e))),null!=t&&(this.cachedParentSvgSize.height=t,n.setAttribute("data-cached-height","".concat(t)))}},{key:"getBubbleCanvas",value:function(){return this.layerManager.getBubbleLayer()}},{key:"getParentSvg",value:function(){if(!this.cachedParentSvg)for(var e=this.svgGroup_;e;){if("svg"===e.tagName){this.cachedParentSvg=e;break}e=e.parentNode}return this.cachedParentSvg}},{key:"maybeFireViewportChangeEvent",value:function(){if(V()){var e=this.scale,t=-this.scrollY,n=-this.scrollX;if(!(e===this.oldScale&&1>Math.abs(t-this.oldTop)&&1>Math.abs(n-this.oldLeft))){var i=new(Y(Es))(t,n,e,this.id,this.oldScale);this.oldScale=e,this.oldTop=t,this.oldLeft=n,U(i)}}}},{key:"translate",value:function(e,t){var n,i;null==(n=this.layerManager)||n.translateLayers(new Tl(e,t),this.scale),null==(i=this.grid)||i.moveTo(e,t),this.maybeFireViewportChangeEvent()}},{key:"getWidth",value:function(){var e=this.getMetrics();return e?e.viewWidth/this.scale:0}},{key:"setVisible",value:function(e){this.isVisible_=e,this.svgGroup_&&(this.scrollbar&&this.scrollbar.setContainerVisible(e),this.getFlyout()&&this.getFlyout().setContainerVisible(e),this.getParentSvg().style.display=e?"block":"none",this.toolbox_&&this.toolbox_.setVisible(e),e||this.hideChaff(!0))}},{key:"render",value:function(){for(var e=this,t=this.getAllBlocks(!1),n=t.length-1;0<=n;n--)t[n].queueRender();if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),n=0;n<t.length;n++)t[n].queueRender();Nt().then((function(){e.markerManager.updateMarkers()}))}},{key:"highlightBlock",value:function(e,t){if(void 0===t){for(var n,i=0;n=this.highlightedBlocks[i];i++)n.setHighlighted(!1);this.highlightedBlocks.length=0}(e=e?this.getBlockById(e):null)&&((t=void 0===t||t)?-1===this.highlightedBlocks.indexOf(e)&&this.highlightedBlocks.push(e):ce(this.highlightedBlocks,e),e.setHighlighted(t))}},{key:"paste",value:function(e){if(fe("Blockly.WorkspaceSvg.prototype.paste","v10","v11","Blockly.clipboard.paste"),!this.rendered||!e.type&&!e.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();var t,n=Wa.getGroup$$module$build$src$core$events$utils();n||Wa.setGroup$$module$build$src$core$events$utils(!0);try{t=e.type?this.pasteBlock_(null,e):"comment"===e.tagName.toLowerCase()?this.pasteWorkspaceComment_(e):this.pasteBlock_(e,null)}finally{Wa.setGroup$$module$build$src$core$events$utils(n)}return t}},{key:"pasteBlock_",value:function(e,t){var n;Wa.disable$$module$build$src$core$events$utils();try{var i,r,o=0,a=0;if(e?(n=Qt(e,this),o=parseInt(null!=(i=e.getAttribute("x"))?i:"0"),this.RTL&&(o=-o),a=parseInt(null!=(r=e.getAttribute("y"))?r:"0")):t&&(n=Sn(t,this),o=t.x||10,this.RTL&&(o=this.getWidth()-o),a=t.y||10),!isNaN(o)&&!isNaN(a)){var s;do{s=!1;for(var l,u=this.getAllBlocks(!1),c=0;l=u[c];c++){var h=l.getRelativeToSurfaceXY();if(1>=Math.abs(o-h.x)&&1>=Math.abs(a-h.y)){s=!0;break}}if(!s)for(var d,f=n.getConnections_(!1),p=0;d=f[p];p++)if(d.closest(Wa.config$$module$build$src$core$config.snapRadius,new Tl(o,a)).connection){s=!0;break}s&&(o=this.RTL?o-Wa.config$$module$build$src$core$config.snapRadius:o+Wa.config$$module$build$src$core$config.snapRadius,a+=2*Wa.config$$module$build$src$core$config.snapRadius)}while(s);n.moveTo(new Tl(o,a))}}finally{Wa.enable$$module$build$src$core$events$utils()}return V()&&!n.isShadow()&&U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(n)),n.select(),n}},{key:"pasteWorkspaceComment_",value:function(e){var t;Wa.disable$$module$build$src$core$events$utils();try{t=Ou.fromXmlRendered(e,this);var n,i,r=parseInt(null!=(n=e.getAttribute("x"))?n:"0"),o=parseInt(null!=(i=e.getAttribute("y"))?i:"0");isNaN(r)||isNaN(o)||(this.RTL&&(r=-r),t.moveBy(r+50,o+50))}finally{Wa.enable$$module$build$src$core$events$utils()}return V()&&Eu.fireCreateEvent(t),t.select(),t}},{key:"refreshToolboxSelection",value:function(){var e=this.isFlyout?this.targetWorkspace:this;e&&!e.currentGesture_&&e.toolbox_&&e.toolbox_.getFlyout()&&e.toolbox_.refreshSelection()}},{key:"renameVariableById",value:function(e,t){l(u(n.prototype),"renameVariableById",this).call(this,e,t),this.refreshToolboxSelection()}},{key:"deleteVariableById",value:function(e){l(u(n.prototype),"deleteVariableById",this).call(this,e),this.refreshToolboxSelection()}},{key:"createVariable",value:function(e,t,i){return e=l(u(n.prototype),"createVariable",this).call(this,e,t,i),this.refreshToolboxSelection(),e}},{key:"recordDragTargets",value:function(){var e=this.componentManager.getComponents(yl.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(var t,n=0;t=e[n];n++){var i=t.getClientRect();i&&this.dragTargetAreas.push({component:t,clientRect:i})}}},{key:"newBlock",value:function(e,t){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}},{key:"getDragTarget",value:function(e){for(var t,n=0;t=this.dragTargetAreas[n];n++)if(t.clientRect.contains(e.clientX,e.clientY))return t.component;return null}},{key:"onMouseDown_",value:function(e){var t=this.getGesture(e);t&&t.handleWsStart(e,this)}},{key:"startDrag",value:function(e,t){(e=le(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,this.dragDeltaXY=Tl.difference(t,e)}},{key:"moveDrag",value:function(e){return(e=le(e,this.getParentSvg(),this.getInverseScreenCTM())).x/=this.scale,e.y/=this.scale,Tl.sum(this.dragDeltaXY,e)}},{key:"isDragging",value:function(){return null!==this.currentGesture_&&this.currentGesture_.isDragging()}},{key:"isDraggable",value:function(){return this.options.moveOptions&&this.options.moveOptions.drag}},{key:"isMovable",value:function(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}},{key:"isMovableHorizontally",value:function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollHorizontally())}},{key:"isMovableVertically",value:function(){var e=!!this.scrollbar;return this.isMovable()&&(!e||e&&this.scrollbar.canScrollVertically())}},{key:"onMouseWheel_",value:function(e){if(Rh.inProgress())e.preventDefault(),e.stopPropagation();else{var t=this.options.zoomOptions&&this.options.zoomOptions.wheel,n=this.options.moveOptions&&this.options.moveOptions.wheel;if(t||n){var i=ue(e);if(cl)var r=e.metaKey;t&&(e.ctrlKey||r||!n)?(i=-i.y/50,t=le(e,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(t.x,t.y,i)):(t=this.scrollX-i.x,n=this.scrollY-i.y,e.shiftKey&&!i.x&&(t=this.scrollX-i.y,n=this.scrollY),this.scroll(t,n)),e.preventDefault()}}}},{key:"getBlocksBoundingBox",value:function(){var e=this.getTopBoundedElements();if(!e.length)return new Nl(0,0,0,0);for(var t=e[0].getBoundingRectangle(),n=1;n<e.length;n++){var i=e[n];i.isInsertionMarker&&i.isInsertionMarker()||((i=i.getBoundingRectangle()).top<t.top&&(t.top=i.top),i.bottom>t.bottom&&(t.bottom=i.bottom),i.left<t.left&&(t.left=i.left),i.right>t.right&&(t.right=i.right))}return t}},{key:"cleanUp",value:function(){this.setResizesEnabled(!1),Wa.setGroup$$module$build$src$core$events$utils(!0);for(var e,t=this.getTopBlocks(!0),n=0,i=0;e=t[i];i++)if(e.isMovable()){var r=e.getRelativeToSurfaceXY();e.moveBy(-r.x,n-r.y,["cleanup"]),e.snapToGrid(),n=e.getRelativeToSurfaceXY().y+e.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}Wa.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}},{key:"showContextMenu",value:function(e){if(!this.options.readOnly&&!this.isFlyout){var t=Oc.registry.getContextMenuOptions(Oc.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(t,e),hi(e,t,this.RTL)}}},{key:"updateToolbox",value:function(e){if(e=Ge(e)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Ke(e)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=e,this.toolbox_.render(e)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=e,this.flyout.show(e)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}},{key:"markFocused",value:function(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(S(this),this.getParentSvg().focus({preventScroll:!0}))}},{key:"zoom",value:function(e,t,n){n=Math.pow(this.options.zoomOptions.scaleSpeed,n);var i=this.scale*n;if(this.scale!==i){i>this.options.zoomOptions.maxScale?n=this.options.zoomOptions.maxScale/this.scale:i<this.options.zoomOptions.minScale&&(n=this.options.zoomOptions.minScale/this.scale);var r=this.getCanvas().getCTM(),o=this.getParentSvg().createSVGPoint();o.x=e,o.y=t,e=(o=o.matrixTransform(r.inverse())).x,t=o.y,r=r.translate(e*(1-n),t*(1-n)).scale(n),this.scrollX=r.e,this.scrollY=r.f,this.setScale(i)}}},{key:"zoomCenter",value:function(e){var t,n=this.getMetrics();this.flyout?(t=n.svgWidth?n.svgWidth/2:0,n=n.svgHeight?n.svgHeight/2:0):(t=n.viewWidth/2+n.absoluteLeft,n=n.viewHeight/2+n.absoluteTop),this.zoom(t,n,e)}},{key:"zoomToFit",value:function(){if(this.isMovable()){var e=this.getMetrics(),t=e.viewWidth;e=e.viewHeight;var n=this.getBlocksBoundingBox(),i=2*If,r=n.right-n.left+i;if(n=n.bottom-n.top+i,r){this.flyout&&(this.horizontalLayout?(e+=this.flyout.getHeight(),n+=this.flyout.getHeight()/this.scale):(t+=this.flyout.getWidth(),r+=this.flyout.getWidth()/this.scale)),t/=r,e/=n,Wa.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(t,e)),this.scrollCenter()}finally{Wa.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}},{key:"beginCanvasTransition",value:function(){ve(this.getCanvas(),"blocklyCanvasTransitioning"),ve(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}},{key:"endCanvasTransition",value:function(){me(this.getCanvas(),"blocklyCanvasTransitioning"),me(this.getBubbleCanvas(),"blocklyCanvasTransitioning")}},{key:"scrollCenter",value:function(){if(this.isMovable()){var e=this.getMetrics(),t=(e.scrollWidth-e.viewWidth)/2,n=(e.scrollHeight-e.viewHeight)/2;t=-t-e.scrollLeft,n=-n-e.scrollTop,this.scroll(t,n)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}},{key:"centerOnBlock",value:function(e,t){if(this.isMovable()){var n=e?this.getBlockById(e):null;if(n){e=n.getRelativeToSurfaceXY(),n=t?{height:n.height,width:n.width}:n.getHeightWidth();var i=this.scale;t=(e.x+(this.RTL?-1:1)*n.width/2)*i,e=(e.y+n.height/2)*i,n=this.getMetrics(),this.scroll(-(t-n.viewWidth/2),-(e-n.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}},{key:"setScale",value:function(e){this.options.zoomOptions.maxScale&&e>this.options.zoomOptions.maxScale?e=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&e<this.options.zoomOptions.minScale&&(e=this.options.zoomOptions.minScale),this.scale=e,this.hideChaff(!1),(e=this.getFlyout(!1))&&e.isVisible()&&(e.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),e=this.getMetrics(),this.scrollX-=e.absoluteLeft,this.scrollY-=e.absoluteTop,e.viewLeft+=e.absoluteLeft,e.viewTop+=e.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(e):this.scrollbar.resizeContent(e))}},{key:"getScale",value:function(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}},{key:"scroll",value:function(e,t){this.hideChaff(!0);var n=this.getMetrics();e=Math.min(e,-n.scrollLeft),t=Math.min(t,-n.scrollTop);var i=n.scrollTop+Math.max(0,n.scrollHeight-n.viewHeight);e=Math.max(e,-(n.scrollLeft+Math.max(0,n.scrollWidth-n.viewWidth))),t=Math.max(t,-i),this.scrollX=e,this.scrollY=t,this.scrollbar&&this.scrollbar.set(-(e+n.scrollLeft),-(t+n.scrollTop),!1),e+=n.absoluteLeft,t+=n.absoluteTop,this.translate(e,t)}},{key:"getBlockById",value:function(e){return l(u(n.prototype),"getBlockById",this).call(this,e)}},{key:"getAllBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l(u(n.prototype),"getAllBlocks",this).call(this,e)}},{key:"getTopBlocks",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return l(u(n.prototype),"getTopBlocks",this).call(this,e)}},{key:"addTopBlock",value:function(e){this.addTopBoundedElement(e),l(u(n.prototype),"addTopBlock",this).call(this,e)}},{key:"removeTopBlock",value:function(e){this.removeTopBoundedElement(e),l(u(n.prototype),"removeTopBlock",this).call(this,e)}},{key:"addTopComment",value:function(e){this.addTopBoundedElement(e),l(u(n.prototype),"addTopComment",this).call(this,e)}},{key:"removeTopComment",value:function(e){this.removeTopBoundedElement(e),l(u(n.prototype),"removeTopComment",this).call(this,e)}},{key:"getRootWorkspace",value:function(){return l(u(n.prototype),"getRootWorkspace",this).call(this)}},{key:"addTopBoundedElement",value:function(e){this.topBoundedElements.push(e)}},{key:"removeTopBoundedElement",value:function(e){ce(this.topBoundedElements,e)}},{key:"getTopBoundedElements",value:function(){return[].concat(this.topBoundedElements)}},{key:"setResizesEnabled",value:function(e){var t=!this.resizesEnabled&&e;this.resizesEnabled=e,t&&this.resizeContents()}},{key:"clear",value:function(){this.setResizesEnabled(!1),l(u(n.prototype),"clear",this).call(this),this.topBoundedElements=[],this.setResizesEnabled(!0)}},{key:"registerButtonCallback",value:function(e,t){if("function"!==typeof t)throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(e,t)}},{key:"getButtonCallback",value:function(e){var t;return null!=(t=this.flyoutButtonCallbacks.get(e))?t:null}},{key:"removeButtonCallback",value:function(e){this.flyoutButtonCallbacks.delete(e)}},{key:"registerToolboxCategoryCallback",value:function(e,t){if("function"!==typeof t)throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(e,t)}},{key:"getToolboxCategoryCallback",value:function(e){return this.toolboxCategoryCallbacks.get(e)||null}},{key:"removeToolboxCategoryCallback",value:function(e){this.toolboxCategoryCallbacks.delete(e)}},{key:"getGesture",value:function(e){var t="pointerdown"===e.type,n=this.currentGesture_;return n?t&&n.hasStarted()?(console.warn("Tried to start the same gesture twice."),n.cancel(),null):n:t?this.currentGesture_=new Rh(e,this):null}},{key:"clearGesture",value:function(){this.currentGesture_=null}},{key:"cancelCurrentGesture",value:function(){this.currentGesture_&&this.currentGesture_.cancel()}},{key:"getAudioManager",value:function(){return this.audioManager}},{key:"getGrid",value:function(){return this.grid}},{key:"hideChaff",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];_r(),ei(),Hi(),this.hideComponents(e)}},{key:"hideComponents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.getComponentManager().getComponents(yl.Capability.AUTOHIDEABLE,!0).forEach((function(t){return t.autoHide(e)}))}}],[{key:"newTrashcan",value:function(e){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}},{key:"setTopLevelWorkspaceMetrics_",value:function(e){var t=this.getMetrics();"number"===typeof e.x&&(this.scrollX=-(t.scrollLeft+(t.scrollWidth-t.viewWidth)*e.x)),"number"===typeof e.y&&(this.scrollY=-(t.scrollTop+(t.scrollHeight-t.viewHeight)*e.y)),this.translate(this.scrollX+t.absoluteLeft,this.scrollY+t.absoluteTop)}}]),n}(xf),Of={};Of.WorkspaceSvg=Rf,Of.resizeSvgContents=Go;var Af=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,i)).type=bs,r.isOpen=e,r}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.isOpen)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).isOpen=e.isOpen,t}}]),n}(Us);e(qa.EVENT,bs,Af);var Mf=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;if(d(this,n),(i=t.call(this,e)).type=Wa.DELETE$$module$build$src$core$events$utils,e){if(e.getParent())throw Error("Connected blocks cannot be deleted.");e.isShadow()&&(i.recordUndo=!1),i.oldXml=zt(e),i.ids=G(e),i.wasShadow=e.isShadow(),i.oldJson=mn(e,{addCoordinates:!0})}return i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(void 0===this.wasShadow)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return e.oldXml=Yt(this.oldXml),e.ids=this.ids,e.wasShadow=this.wasShadow,e.oldJson=this.oldJson,this.recordUndo||(e.recordUndo=this.recordUndo),e}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(e)for(e=0;e<this.ids.length;e++){var n=this.ids[e],i=t.getBlockById(n);i?i.dispose(!1):n===this.blockId&&console.warn("Can't delete non-existent block: "+n)}else Sn(this.oldJson,t)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldXml=Wa.textToDom$$module$build$src$core$utils$xml(e.oldXml),t.ids=e.ids,t.wasShadow=e.wasShadow||"shadow"===t.oldXml.tagName.toLowerCase(),t.oldJson=e.oldJson,void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}}]),n}(Ju);e(qa.EVENT,Wa.DELETE$$module$build$src$core$events$utils,Mf);var Lf=function(){"use strict";function e(t,n,i){if(d(this,e),this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.isInsertionMarker_=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=t,this.id=i&&!t.getBlockById(i)?i:D(),t.setBlockById(this.id,this),this.xy_=new Tl(0,0),this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,n){if(this.type=n,!(i=ts[n])||"object"!==typeof i)throw TypeError("Invalid block definition for type: "+n);Object.assign(this,i)}t.addTopBlock(this),t.addTypedBlock(this),(this instanceof e?this.constructor:void 0)===e&&this.doInit_()}return f(e,[{key:"doInit_",value:function(){var e=Wa.getGroup$$module$build$src$core$events$utils();e||Wa.setGroup$$module$build$src$core$events$utils(!0);var t=F();try{"function"===typeof this.init&&(B(!1),this.init(),B(t)),V()&&U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(this))}finally{Wa.setGroup$$module$build$src$core$events$utils(e),B(t)}this.inputsInlineDefault=this.inputsInline,"function"===typeof this.onchange&&this.setOnChange(this.onchange)}},{key:"dispose",value:function(e){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(e),V()&&U(new(Y(Wa.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}},{key:"disposeInternal",value:function(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,"function"===typeof this.destroy&&this.destroy(),this.childBlocks_.forEach((function(e){return e.disposeInternal()})),this.inputList.forEach((function(e){return e.dispose()})),this.inputList.length=0,this.getConnections_(!0).forEach((function(e){return e.dispose()})),this.disposed=!0)}},{key:"isDeadOrDying",value:function(){return this.disposing||this.disposed}},{key:"initModel",value:function(){var e,t=g(this.inputList);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=g(i.fieldRow);try{for(r.s();!(n=r.n()).done;){var o=n.value;o.initModel&&o.initModel()}}catch(a){r.e(a)}finally{r.f()}}}catch(a){t.e(a)}finally{t.f()}}},{key:"unplug",value:function(e){this.outputConnection&&this.unplugFromRow_(e),this.previousConnection&&this.unplugFromStack_(e)}},{key:"unplugFromRow_",value:function(e){var t,n=null;null!=(t=this.outputConnection)&&t.isConnected()&&(n=this.outputConnection.targetConnection,this.outputConnection.disconnect()),n&&e&&(e=this.getOnlyValueConnection_())&&e.isConnected()&&!e.targetBlock().isShadow()&&(null==(e=e.targetConnection)||e.disconnect(),this.workspace.connectionChecker.canConnect(e,n,!1)?n.connect(e):null==e||e.onFailedConnect(n))}},{key:"getOnlyValueConnection_",value:function(){for(var e=null,t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;if(n&&n.type===ic.INPUT_VALUE&&n.targetConnection){if(e)return null;e=n}}return e}},{key:"unplugFromStack_",value:function(e){var t,n,i,r=null;null!=(t=this.previousConnection)&&t.isConnected()&&(r=this.previousConnection.targetConnection,this.previousConnection.disconnect()),t=this.getNextBlock(),e&&t&&!t.isShadow()&&(null==(e=null!=(i=null==(n=this.nextConnection)?void 0:n.targetConnection)?i:null)||e.disconnect(),r&&this.workspace.connectionChecker.canConnect(r,e,!1)&&r.connect(e))}},{key:"getConnections_",value:function(e){e=[],this.outputConnection&&e.push(this.outputConnection),this.previousConnection&&e.push(this.previousConnection),this.nextConnection&&e.push(this.nextConnection);for(var t,n=0;t=this.inputList[n];n++)t.connection&&e.push(t.connection);return e}},{key:"lastConnectionInStack",value:function(e){for(var t=this.nextConnection;t;){var n=t.targetBlock();if(!n||e&&n.isShadow())return t;t=n.nextConnection}return null}},{key:"bumpNeighbours",value:function(){}},{key:"getParent",value:function(){return this.parentBlock_}},{key:"getInputWithBlock",value:function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.connection&&t.connection.targetBlock()===e)return t;return null}},{key:"getSurroundParent",value:function(){var e,t=this;do{if(e=t,!(t=t.getParent()))return null}while(t.getNextBlock()===e);return t}},{key:"getNextBlock",value:function(){return this.nextConnection&&this.nextConnection.targetBlock()}},{key:"getPreviousBlock",value:function(){return this.previousConnection&&this.previousConnection.targetBlock()}},{key:"getRootBlock",value:function(){var e,t=this;do{t=(e=t).parentBlock_}while(t);return e}},{key:"getTopStackBlock",value:function(){var e,t=this;do{e=t.getPreviousBlock()}while(e&&e.getNextBlock()===t&&(t=e));return t}},{key:"getChildren",value:function(e){if(!e)return this.childBlocks_;e=[];for(var t,n=0;t=this.inputList[n];n++)if(t.connection){var i=t.connection.targetBlock();i&&e.push(i)}return(i=this.getNextBlock())&&e.push(i),e}},{key:"setParent",value:function(e){if(e!==this.parentBlock_){var t=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),n=!!t;if(n&&e&&t!==e)throw Error("Block connected to superior one that is not new parent.");if(!n&&e)throw Error("Block not connected to new parent.");if(n&&!e)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?ce(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=e)?e.childBlocks_.push(this):this.workspace.addTopBlock(this)}}},{key:"getDescendants",value:function(e){for(var t,n=[this],i=this.getChildren(e),r=0;t=i[r];r++)n.push.apply(n,v(t.getDescendants(e)));return n}},{key:"isDeletable",value:function(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}},{key:"isOwnDeletable",value:function(){return this.deletable_}},{key:"setDeletable",value:function(e){this.deletable_=e}},{key:"isMovable",value:function(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}},{key:"isOwnMovable",value:function(){return this.movable_}},{key:"setMovable",value:function(e){this.movable_=e}},{key:"isDuplicatable",value:function(){return!this.workspace.hasBlockLimits()||this.workspace.isCapacityAvailable(M(this,!0))}},{key:"isShadow",value:function(){return this.isShadow_}},{key:"setShadow",value:function(e){this.isShadow_=e}},{key:"isInsertionMarker",value:function(){return this.isInsertionMarker_}},{key:"setInsertionMarker",value:function(e){this.isInsertionMarker_=e}},{key:"isEditable",value:function(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}},{key:"isOwnEditable",value:function(){return this.editable_}},{key:"setEditable",value:function(e){this.editable_=e;for(var t,n=0;t=this.inputList[n];n++)for(var i,r=0;i=t.fieldRow[r];r++)i.updateEditable()}},{key:"isDisposed",value:function(){return this.disposed}},{key:"isSimpleReporter",value:function(){if(!this.outputConnection)return!1;var e,t=g(this.inputList);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.connection||1<n.fieldRow.length)return!1}}catch(i){t.e(i)}finally{t.f()}return!0}},{key:"getMatchingConnection",value:function(e,t){var n=this.getConnections_(!0);if(e=e.getConnections_(!0),n.length!==e.length)throw Error("Connection lists did not match in length.");for(var i=0;i<e.length;i++)if(e[i]===t)return n[i];return null}},{key:"setHelpUrl",value:function(e){this.helpUrl=e}},{key:"setTooltip",value:function(e){this.tooltip=e}},{key:"getTooltip",value:function(){return cr(this)}},{key:"getColour",value:function(){return this.colour_}},{key:"getStyleName",value:function(){return this.styleName_}},{key:"getHue",value:function(){return this.hue_}},{key:"setColour",value:function(e){e=Zr(e),this.hue_=e.hue,this.colour_=e.hex}},{key:"setStyle",value:function(e){this.styleName_=e}},{key:"setOnChange",value:function(e){if(e&&"function"!==typeof e)throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=e,this.onchangeWrapper_=e.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}},{key:"getField",value:function(e){if("string"!==typeof e)throw TypeError("Block.prototype.getField expects a string with the field name but received "+(void 0===e?"nothing":e+" of type "+typeof e)+" instead");for(var t,n=0;t=this.inputList[n];n++)for(var i,r=0;i=t.fieldRow[r];r++)if(i.name===e)return i;return null}},{key:"getVars",value:function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var i,r=0;i=e.fieldRow[r];r++)i.referencesVariables()&&t.push(i.getValue());return t}},{key:"getVarModels",value:function(){for(var e,t=[],n=0;e=this.inputList[n];n++)for(var i,r=0;i=e.fieldRow[r];r++)if(i.referencesVariables()){var o=this.workspace.getVariableById(i.getValue());o&&t.push(o)}return t}},{key:"updateVarName",value:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var i,r=0;i=t.fieldRow[r];r++)i.referencesVariables()&&e.getId()===i.getValue()&&i.refreshVariableName()}},{key:"renameVarById",value:function(e,t){for(var n,i=0;n=this.inputList[i];i++)for(var r,o=0;r=n.fieldRow[o];o++)r.referencesVariables()&&e===r.getValue()&&r.setValue(t)}},{key:"getFieldValue",value:function(e){return(e=this.getField(e))?e.getValue():null}},{key:"setFieldValue",value:function(e,t){var n=this.getField(t);if(!n)throw Error('Field "'+t+'" not found.');n.setValue(e)}},{key:"setPreviousStatement",value:function(e,t){if(e)void 0===t&&(t=null),this.previousConnection||(this.previousConnection=this.makeConnection_(ic.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(t);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}},{key:"setNextStatement",value:function(e,t){if(e)void 0===t&&(t=null),this.nextConnection||(this.nextConnection=this.makeConnection_(ic.NEXT_STATEMENT)),this.nextConnection.setCheck(t);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}},{key:"setOutput",value:function(e,t){if(e)void 0===t&&(t=null),this.outputConnection||(this.outputConnection=this.makeConnection_(ic.OUTPUT_VALUE)),this.outputConnection.setCheck(t);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}},{key:"setInputsInline",value:function(e){this.inputsInline!==e&&(U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,e)),this.inputsInline=e)}},{key:"getInputsInline",value:function(){if(void 0!==this.inputsInline)return this.inputsInline;for(var e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Yd&&this.inputList[e]instanceof Yd)return!1;for(e=1;e<this.inputList.length;e++)if(this.inputList[e-1]instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[e]instanceof Yd)return!0;for(e=0;e<this.inputList.length;e++)if(this.inputList[e]instanceof Kd)return!0;return!1}},{key:"setOutputShape",value:function(e){this.outputShape_=e}},{key:"getOutputShape",value:function(){return this.outputShape_}},{key:"isEnabled",value:function(){return!this.disabled}},{key:"setEnabled",value:function(e){if(this.isEnabled()!==e){var t=this.disabled;this.disabled=!e,U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,t,!e))}}},{key:"getInheritedDisabled",value:function(){for(var e=this.getSurroundParent();e;){if(e.disabled)return!0;e=e.getSurroundParent()}return!1}},{key:"isCollapsed",value:function(){return this.collapsed_}},{key:"setCollapsed",value:function(e){this.collapsed_!==e&&(U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,e)),this.collapsed_=e)}},{key:"toString",value:function(e,t){t=this.toTokens(t);for(var n=2;n<t.length;n++)"("===t[n-2]&&")"===t[n]&&(t[n-2]=t[n-1],t.splice(n-1,2));var i="";return t=t.reduce((function(e,t){return e=e+("("===i||")"===t?"":" ")+t,i=t[t.length-1],e}),""),t=t.trim()||"???",e&&t.length>e&&(t=t.substring(0,e-3)+"..."),t}},{key:"toTokens",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"?",n=[],i=g(this.inputList);try{for(i.s();!(e=i.n()).done;){var r=e.value;if(r.name!=lf){var o,a=g(r.fieldRow);try{for(a.s();!(o=a.n()).done;){var s=o.value;n.push(s.getText())}}catch(h){a.e(h)}finally{a.f()}if(r.connection){var l=r.connection.targetBlock();if(l){var u=r.connection,c=u.getCheck();!c&&u.targetConnection&&(c=u.targetConnection.getCheck()),(u=!!c&&(-1!==c.indexOf("Boolean")||-1!==c.indexOf("Number")))&&n.push("("),n.push.apply(n,v(l.toTokens(t))),u&&n.push(")")}else n.push(t)}}}}catch(h){i.e(h)}finally{i.f()}return n}},{key:"appendValueInput",value:function(e){return this.appendInput(new Wa.ValueInput$$module$build$src$core$inputs$value_input(e,this))}},{key:"appendStatementInput",value:function(e){return this.statementInputCount++,this.appendInput(new qd(e,this))}},{key:"appendDummyInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.appendInput(new Yd(e,this))}},{key:"appendEndRowInput",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.appendInput(new Kd(e,this))}},{key:"appendInput",value:function(e){return this.inputList.push(e),e}},{key:"appendInputFromRegistry",value:function(e,t){return(e=m(qa.INPUT,e,!1))?this.appendInput(new e(t,this)):null}},{key:"jsonInit",value:function(e){var t=e.type?'Block "'+e.type+'": ':"";if(e.output&&e.previousStatement)throw Error(t+"Must not have both an output and a previousStatement.");for(var n=0;e["args"+n];){if(void 0===e["message"+n])throw Error(t+"args".concat(n," must have a corresponding message (message").concat(n,")."));n++}if(e.style&&e.style.hat&&(this.hat=e.style.hat,e.style=null),e.style&&e.colour)throw Error(t+"Must not have both a colour and a style.");for(e.style?this.jsonInitStyle_(e,t):this.jsonInitColour_(e,t),n=0;void 0!==e["message"+n];)this.interpolate_(e["message"+n],e["args"+n]||[],e["implicitAlign"+n]||e["lastDummyAlign"+n],t),n++;if(void 0!==e.inputsInline&&(Wa.disable$$module$build$src$core$events$utils(),this.setInputsInline(e.inputsInline),Wa.enable$$module$build$src$core$events$utils()),void 0!==e.output&&this.setOutput(!0,e.output),void 0!==e.outputShape&&this.setOutputShape(e.outputShape),void 0!==e.previousStatement&&this.setPreviousStatement(!0,e.previousStatement),void 0!==e.nextStatement&&this.setNextStatement(!0,e.nextStatement),void 0!==e.tooltip&&(n=Ur(e.tooltip),this.setTooltip(n)),void 0!==e.enableContextMenu&&(this.contextMenu=!!e.enableContextMenu),void 0!==e.suppressPrefixSuffix&&(this.suppressPrefixSuffix=!!e.suppressPrefixSuffix),void 0!==e.helpUrl&&(n=Ur(e.helpUrl),this.setHelpUrl(n)),"string"===typeof e.extensions&&(console.warn(t+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+e.type+"' block."),e.extensions=[e.extensions]),void 0!==e.mutator&&Qr(e.mutator,this,!0),e=e.extensions,Array.isArray(e))for(t=0;t<e.length;t++)Qr(e[t],this,!1)}},{key:"jsonInitColour_",value:function(e,t){if("colour"in e)if(void 0===e.colour)console.warn(t+"Undefined colour value.");else{e=e.colour;try{this.setColour(e)}catch(n){console.warn(t+"Illegal colour value: ",e)}}}},{key:"jsonInitStyle_",value:function(e,t){e=e.style;try{this.setStyle(e)}catch(n){console.warn(t+"Style does not exist: ",e)}}},{key:"mixin",value:function(e,t){if(void 0!==t&&"boolean"!==typeof t)throw Error("opt_disableCheck must be a boolean if provided");if(!t){for(var n in t=[],e)void 0!==this[n]&&t.push(n);if(t.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(t))}Object.assign(this,e)}},{key:"interpolate_",value:function(e,t,n,i){e=Fr(e),this.validateTokens_(e,t.length),t=this.interpolateArguments_(e,t,n),n=[];for(var r,o=0;r=t[o];o++)if(this.isInputKeyword_(r.type)){if(e=this.inputFromJson_(r,i)){for(var a,s=0;a=n[s];s++)e.appendField(a[0],a[1]);n.length=0}}else(e=this.fieldFromJson_(r))&&n.push([e,r.name])}},{key:"validateTokens_",value:function(e,t){for(var n=[],i=0,r=0;r<e.length;r++){var o=e[r];if("number"===typeof o){if(1>o||o>t)throw Error('Block "'+this.type+'": Message index %'+o+" out of range.");if(n[o])throw Error('Block "'+this.type+'": Message index %'+o+" duplicated.");n[o]=!0,i++}}if(i!==t)throw Error('Block "'+this.type+'": Message does not reference all '+t+" arg(s).")}},{key:"interpolateArguments_",value:function(e,t,n){for(var i=[],r=0;r<e.length;r++){var o=e[r];if("number"===typeof o&&(o=t[o-1]),"string"===typeof o)if("\n"===o)o={type:"input_end_row"},n&&(o.align=n);else if(!(o=this.stringToFieldJson_(o)))continue;i.push(o)}return(e=i.length)&&!this.isInputKeyword_(i[e-1].type)&&(e={type:"input_dummy"},n&&(e.align=n),i.push(e)),i}},{key:"fieldFromJson_",value:function(e){var t=Wa.fromJson$$module$build$src$core$field_registry(e);return!t&&e.alt?"string"===typeof e.alt?(e=this.stringToFieldJson_(e.alt))?this.fieldFromJson_(e):null:this.fieldFromJson_(e.alt):t}},{key:"inputFromJson_",value:function(e,t){var n,i={LEFT:Wa.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:Wa.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:Wa.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:Wa.Align$$module$build$src$core$inputs$align.CENTRE};switch(e.type){case"input_value":n=this.appendValueInput(e.name);break;case"input_statement":n=this.appendStatementInput(e.name);break;case"input_dummy":n=this.appendDummyInput(e.name);break;case"input_end_row":n=this.appendEndRowInput(e.name);break;default:n=this.appendInputFromRegistry(e.type,e.name)}return n?(e.check&&n.setCheck(e.check),e.align&&(void 0===(i=i[e.align.toUpperCase()])?console.warn(t+"Illegal align value: ",e.align):n.setAlign(i)),n):null}},{key:"isInputKeyword_",value:function(e){return"input_value"===e||"input_statement"===e||"input_dummy"===e||"input_end_row"===e||o(qa.INPUT,e)}},{key:"stringToFieldJson_",value:function(e){return(e=e.trim())?{type:"field_label",text:e}:null}},{key:"moveInputBefore",value:function(e,t){if(e!==t){for(var n,i=-1,r=t?-1:this.inputList.length,o=0;n=this.inputList[o];o++)if(n.name===e){if(i=o,-1!==r)break}else if(t&&n.name===t&&(r=o,-1!==i))break;if(-1===i)throw Error('Named input "'+e+'" not found.');if(-1===r)throw Error('Reference input "'+t+'" not found.');this.moveNumberedInputBefore(i,r)}}},{key:"moveNumberedInputBefore",value:function(e,t){if(e===t)throw Error("Can't move input to itself.");if(e>=this.inputList.length)throw RangeError("Input index "+e+" out of bounds.");if(t>this.inputList.length)throw RangeError("Reference input "+t+" out of bounds.");var n=this.inputList[e];this.inputList.splice(e,1),e<t&&t--,this.inputList.splice(t,0,n)}},{key:"removeInput",value:function(e,t){for(var n,i=0;n=this.inputList[i];i++)if(n.name===e)return n instanceof qd&&this.statementInputCount--,n.dispose(),this.inputList.splice(i,1),!0;if(t)return!1;throw Error("Input not found: "+e)}},{key:"getInput",value:function(e){for(var t,n=0;t=this.inputList[n];n++)if(t.name===e)return t;return null}},{key:"getInputTargetBlock",value:function(e){return(e=this.getInput(e))&&e.connection&&e.connection.targetBlock()}},{key:"getCommentText",value:function(){var e,t;return null!=(t=null==(e=this.getIcon(pd.TYPE))?void 0:e.getText())?t:null}},{key:"setCommentText",value:function(e){var t,n,i=null!=(n=null==(t=this.getIcon(pd.TYPE))?void 0:t.getText())?n:null;i!==e&&(null!==e?((t=this.getIcon(pd.TYPE))||(t=this.addIcon(new pd(this))),Wa.disable$$module$build$src$core$events$utils(),t.setText(e),Wa.enable$$module$build$src$core$events$utils()):this.removeIcon(pd.TYPE),U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,i,e)))}},{key:"setWarningText",value:function(e,t){}},{key:"setMutator",value:function(e){}},{key:"addIcon",value:function(e){if(this.hasIcon(e.getType()))throw new md(e);return this.icons.push(e),this.icons.sort((function(e,t){return e.getWeight()-t.getWeight()})),e}},{key:"removeIcon",value:function(e){return!!this.hasIcon(e)&&(null==(t=this.getIcon(e))||t.dispose(),this.icons=this.icons.filter((function(t){return!t.getType().equals(e)})),!0);var t}},{key:"hasIcon",value:function(e){return this.icons.some((function(t){return t.getType().equals(e)}))}},{key:"getIcon",value:function(e){return e instanceof su?this.icons.find((function(t){return t.getType().equals(e)})):this.icons.find((function(t){return t.getType().toString()===e}))}},{key:"getIcons",value:function(){return v(this.icons)}},{key:"getRelativeToSurfaceXY",value:function(){return this.xy_}},{key:"moveBy",value:function(e,t,n){if(this.parentBlock_)throw Error("Block has parent");var i=new(Y(Wa.MOVE$$module$build$src$core$events$utils))(this);n&&i.setReason(n),this.xy_.translate(e,t),i.recordNew(),U(i)}},{key:"makeConnection_",value:function(e){return new sf(this,e)}},{key:"allInputsFilled",value:function(e){if(void 0===e&&(e=!0),!e&&this.isShadow())return!1;for(var t,n=0;t=this.inputList[n];n++)if(t.connection){var i=t.connection.targetBlock();if(!i||!i.allInputsFilled(e))return!1}return!(i=this.getNextBlock())||i.allInputsFilled(e)}},{key:"toDevString",value:function(){var e=this.type?'"'+this.type+'" block':"Block";return this.id&&(e+=' (id="'+this.id+'")'),e}}]),e}();Lf.COLLAPSED_INPUT_NAME=lf,Lf.COLLAPSED_FIELD_NAME=uf;var Nf=function(){"use strict";function e(){d(this,e),this.drawer=this.curNode=this.colour=null,this.type="marker"}return f(e,[{key:"setDrawer",value:function(e){this.drawer=e}},{key:"getDrawer",value:function(){return this.drawer}},{key:"getCurNode",value:function(){return this.curNode}},{key:"setCurNode",value:function(e){var t=this.curNode;this.curNode=e,this.drawer&&this.drawer.draw(t,this.curNode)}},{key:"draw",value:function(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}},{key:"hide",value:function(){this.drawer&&this.drawer.hide()}},{key:"dispose",value:function(){this.getDrawer()&&this.getDrawer().dispose()}}]),e}(),$f=function(e){"use strict";c(n,e);var t=h(n);function n(){var e;return d(this,n),(e=t.call(this)).type="cursor",e}return f(n,[{key:"next",value:function(){var e=this.getCurNode();if(!e)return null;for(e=e.next();e&&e.next()&&(e.getType()===Qd.types.NEXT||e.getType()===Qd.types.BLOCK);)e=e.next();return e&&this.setCurNode(e),e}},{key:"in",value:function(){var e,t,n=this.getCurNode();return n?(n.getType()!==Qd.types.PREVIOUS&&n.getType()!==Qd.types.OUTPUT||(n=n.next()),(n=null!=(t=null==(e=n)?void 0:e.in())?t:null)&&this.setCurNode(n),n):null}},{key:"prev",value:function(){var e=this.getCurNode();if(!e)return null;for(e=e.prev();e&&e.prev()&&(e.getType()===Qd.types.NEXT||e.getType()===Qd.types.BLOCK);)e=e.prev();return e&&this.setCurNode(e),e}},{key:"out",value:function(){var e=this.getCurNode();return e?((e=e.out())&&e.getType()===Qd.types.BLOCK&&(e=e.prev()||e),e&&this.setCurNode(e),e):null}}]),n}(Nf);e(qa.CURSOR,Ka,$f);var Pf=function(e){"use strict";c(n,e);var t=h(n);function n(){return d(this,n),t.call(this)}return f(n,[{key:"next",value:function(){var e=this.getCurNode();return e?((e=this.getNextNode_(e,this.validNode_))&&this.setCurNode(e),e):null}},{key:"in",value:function(){return this.next()}},{key:"prev",value:function(){var e=this.getCurNode();return e?((e=this.getPreviousNode_(e,this.validNode_))&&this.setCurNode(e),e):null}},{key:"out",value:function(){return this.prev()}},{key:"getNextNode_",value:function(e,t){if(!e)return null;var n=e.in()||e.next();return t(n)?n:n?this.getNextNode_(n,t):t(e=this.findSiblingOrParent(e.out()))?e:e?this.getNextNode_(e,t):null}},{key:"getPreviousNode_",value:function(e,t){if(!e)return null;var n=e.prev();return t(n=n?this.getRightMostChild(n):e.out())?n:n?this.getPreviousNode_(n,t):null}},{key:"validNode_",value:function(e){var t=!1;return(e=e&&e.getType())!==Qd.types.OUTPUT&&e!==Qd.types.INPUT&&e!==Qd.types.FIELD&&e!==Qd.types.NEXT&&e!==Qd.types.PREVIOUS&&e!==Qd.types.WORKSPACE||(t=!0),t}},{key:"findSiblingOrParent",value:function(e){if(!e)return null;var t=e.next();return t||this.findSiblingOrParent(e.out())}},{key:"getRightMostChild",value:function(e){if(!e.in())return e;for(e=e.in();e&&e.next();)e=e.next();return this.getRightMostChild(e)}}]),n}($f);Pf.registrationName="basicCursor",e(qa.CURSOR,Pf.registrationName,Pf);var Df=function(e){"use strict";c(n,e);var t=h(n);function n(){return d(this,n),t.apply(this,arguments)}return f(n,[{key:"validNode_",value:function(e){var t=!1,n=e&&e.getType();return e&&(e=e.getLocation(),n===Qd.types.FIELD&&e&&e.isTabNavigable()&&e.isClickable()&&(t=!0)),t}}]),n}(Pf),Bf=10,Ff=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).highlighted=!1,r.targetConnection=null,r.db=e.workspace.connectionDBList[i],r.dbOpposite=e.workspace.connectionDBList[oh[i]],r.offsetInBlock=new Tl(0,0),r.trackedState=Ff.TrackedState.WILL_TRACK,r}return f(n,[{key:"dispose",value:function(){var e,t;l(u(n.prototype),"dispose",this).call(this),this.trackedState===Ff.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),null==(t=(e=this.sourceBlock_.pathObject).removeConnectionHighlight)||t.call(e,this)}},{key:"getSourceBlock",value:function(){return l(u(n.prototype),"getSourceBlock",this).call(this)}},{key:"targetBlock",value:function(){return l(u(n.prototype),"targetBlock",this).call(this)}},{key:"distanceFrom",value:function(e){var t=this.x-e.x;return e=this.y-e.y,Math.sqrt(t*t+e*e)}},{key:"bumpAwayFrom",value:function(e){if(!this.sourceBlock_.workspace.isDragging()){var t=this.sourceBlock_.getRootBlock();if(!t.isInFlyout){var n=!1;if(!t.isMovable()){if(!(t=e.getSourceBlock().getRootBlock()).isMovable())return;e=this,n=!0}var i=C()==t;i||t.addSelect();var r=e.x+Wa.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Bf)-this.x,o=e.y+Wa.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Bf)-this.y;n&&(o=-o),t.RTL&&(r=e.x-Wa.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*Bf)-this.x),t.moveBy(r,o,["bump"]),i||t.removeSelect()}}}},{key:"moveTo",value:function(e,t){var n=!1;return this.trackedState===Ff.TrackedState.WILL_TRACK?(this.db.addConnection(this,t),this.trackedState=Ff.TrackedState.TRACKED,n=!0):this.trackedState===Ff.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,t),n=!0),this.x=e,this.y=t,n}},{key:"moveBy",value:function(e,t){return this.moveTo(this.x+e,this.y+t)}},{key:"moveToOffset",value:function(e){return this.moveTo(e.x+this.offsetInBlock.x,e.y+this.offsetInBlock.y)}},{key:"setOffsetInBlock",value:function(e,t){this.offsetInBlock.x=e,this.offsetInBlock.y=t}},{key:"getOffsetInBlock",value:function(){return this.offsetInBlock}},{key:"tightenEfficiently",value:function(){var e=this.targetConnection,t=this.targetBlock();e&&t&&(e=Tl.difference(this.offsetInBlock,e.offsetInBlock),t.translate(e.x,e.y))}},{key:"closest",value:function(e,t){return this.dbOpposite.searchForClosest(this,e,t)}},{key:"highlight",value:function(){this.highlighted=!0,this.getSourceBlock().queueRender()}},{key:"unhighlight",value:function(){this.highlighted=!1,this.getSourceBlock().queueRender()}},{key:"isHighlighted",value:function(){return this.highlighted}},{key:"setTracking",value:function(e){e&&this.trackedState===Ff.TrackedState.TRACKED||!e&&this.trackedState===Ff.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(e?(this.db.addConnection(this,this.y),this.trackedState=Ff.TrackedState.TRACKED):(this.trackedState===Ff.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Ff.TrackedState.UNTRACKED))}},{key:"stopTrackingAll",value:function(){if(this.setTracking(!1),this.targetConnection)for(var e=this.targetBlock().getDescendants(!1),t=0;t<e.length;t++){for(var n=e[t],i=n.getConnections_(!0),r=0;r<i.length;r++)i[r].setTracking(!1);var o,a=g(n.getIcons());try{for(a.s();!(o=a.n()).done;){var s=o.value;Cr(s)&&s.setBubbleVisible(!1)}}catch(l){a.e(l)}finally{a.f()}}}},{key:"startTrackingAll",value:function(){this.setTracking(!0);var e=[];if(this.type!==ic.INPUT_VALUE&&this.type!==ic.NEXT_STATEMENT)return e;var t=this.targetBlock();if(t){var n;t.isCollapsed()?(n=[],t.outputConnection&&n.push(t.outputConnection),t.nextConnection&&n.push(t.nextConnection),t.previousConnection&&n.push(t.previousConnection)):n=t.getConnections_(!0);for(var i=0;i<n.length;i++){var r;(r=e).push.apply(r,v(n[i].startTrackingAll()))}e.length||(e=[t])}return e}},{key:"onFailedConnect",value:function(e){var t=this.getSourceBlock();if(F()){var n=Wa.getGroup$$module$build$src$core$events$utils();setTimeout(function(){t.isDisposed()||t.getParent()||(Wa.setGroup$$module$build$src$core$events$utils(n),this.bumpAwayFrom(e),Wa.setGroup$$module$build$src$core$events$utils(!1))}.bind(this),Wa.config$$module$build$src$core$config.bumpDelay)}}},{key:"disconnectInternal",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.getParentAndChildConnections(),i=t.parentConnection,r=t.childConnection;if(i&&r){var o=i.getSourceBlock(),a=r.getSourceBlock();l(u(n.prototype),"disconnectInternal",this).call(this,e),o.rendered&&o.queueRender(),a.rendered&&(a.updateDisabled(),a.queueRender(),a.getSvgRoot().style.display="block")}}},{key:"respawnShadow_",value:function(){l(u(n.prototype),"respawnShadow_",this).call(this);var e=this.targetBlock();e&&(e.initSvg(),e.queueRender())}},{key:"neighbours",value:function(e){return this.dbOpposite.getNeighbours(this,e)}},{key:"connect_",value:function(e){l(u(n.prototype),"connect_",this).call(this,e);var t=this.getSourceBlock();e=e.getSourceBlock();var i=t.rendered,r=e.rendered;i&&t.updateDisabled(),r&&e.updateDisabled(),i&&r&&(this.type===ic.NEXT_STATEMENT||this.type===ic.PREVIOUS_STATEMENT?e.queueRender():t.queueRender()),(t=t.getInputWithBlock(e))&&(t=t.isVisible(),e.getSvgRoot().style.display=t?"block":"none")}},{key:"onCheckChanged_",value:function(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}},{key:"setCheck",value:function(e){return l(u(n.prototype),"setCheck",this).call(this,e),this.sourceBlock_.rendered&&this.sourceBlock_.queueRender(),this}}]),n}(sf);!function(e){(e=e.TrackedState||(e.TrackedState={}))[e.WILL_TRACK=-1]="WILL_TRACK",e[e.UNTRACKED=0]="UNTRACKED",e[e.TRACKED=1]="TRACKED"}(Ff||(Ff={}));var Uf=Ff.TrackedState,jf={};jf.RenderedConnection=Ff,jf.TrackedState=Uf;var Zf=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).width=o.height=0,o.warningTextDb=new Map,o.warning=o.mutator=null,o.eventsInit_=o.renderIsInProgress_=o.visuallyDisabled=o.rendered=!1,o.translation="",o.bumpNeighboursPid=0,o.dragging=!1,o.relativeCoords=new Tl(0,0),o.workspace=e,o.svgGroup_=pe(Ll.G,{}),o.style=e.getRenderer().getConstants().getBlockStyle(null),o.pathObject=e.getRenderer().makePathObject(o.svgGroup_,o.style),(e=o.pathObject.svgPath).tooltip=a(o),fr(e),o.svgGroup_.setAttribute("data-id",o.id),o.doInit_(),o}return f(n,[{key:"initSvg",value:function(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(var e,t=0;e=this.inputList[t];t++)e.init();var n,i=g(this.getIcons());try{for(i.s();!(n=i.n()).done;){var r=n.value;r.initView(this.createIconPointerDownListener(r)),r.updateEditable()}}catch(o){i.e(o)}finally{i.f()}this.applyColour(),this.pathObject.updateMovable(this.isMovable()),r=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!r||ie(r,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,r.parentNode||this.workspace.getCanvas().appendChild(r)}},{key:"getColourSecondary",value:function(){return this.style.colourSecondary}},{key:"getColourTertiary",value:function(){return this.style.colourTertiary}},{key:"select",value:function(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(C()!==this){var e=null;if(C()){e=C().id,Wa.disable$$module$build$src$core$events$utils();try{C().unselect()}finally{Wa.enable$$module$build$src$core$events$utils()}}e=new(Y(gs))(e,this.id,this.workspace.id),U(e),I(this),this.addSelect()}}},{key:"unselect",value:function(){if(C()===this){var e=new(Y(gs))(this.id,null,this.workspace.id);e.workspaceId=this.workspace.id,U(e),I(null),this.removeSelect()}}},{key:"setParent",value:function(e){var t=this.parentBlock_;if(e!==t){Ee(),l(u(n.prototype),"setParent",this).call(this,e),xe();var i=this.getSvgRoot();if(!this.workspace.isClearing&&i){var r=this.getRelativeToSurfaceXY();e?e.getSvgRoot().appendChild(i):t&&((e=this.workspace.getCanvas().querySelector(".blocklyDragging"))?this.workspace.getCanvas().insertBefore(i,e):this.workspace.getCanvas().appendChild(i),this.translate(r.x,r.y)),this.applyColour()}}}},{key:"getRelativeToSurfaceXY",value:function(){var e=this.workspace.getLayerManager();if(!e)throw Error("Cannot calculate position because the workspace has not been appended");var t=0,n=0,i=this.getSvgRoot();if(i)do{var r=Be(i);t+=r.x,n+=r.y,i=i.parentNode}while(i&&!e.hasLayer(i));return new Tl(t,n)}},{key:"moveBy",value:function(e,t,n){if(this.parentBlock_)throw Error("Block has parent");var i=V(),r=null;i&&(r=new(Y(Wa.MOVE$$module$build$src$core$events$utils))(this),n&&r.setReason(n)),e=new Tl(e,t),t=this.getRelativeToSurfaceXY(),e=Tl.sum(t,e),this.translate(e.x,e.y),this.updateComponentLocations(e),i&&r&&(r.recordNew(),U(r)),this.workspace.resizeContents()}},{key:"translate",value:function(e,t){this.translation="translate(".concat(e,", ").concat(t,")"),this.relativeCoords=new Tl(e,t),this.getSvgRoot().setAttribute("transform",this.getTranslation())}},{key:"getTranslation",value:function(){return this.translation}},{key:"moveTo",value:function(e,t){var n=this.getRelativeToSurfaceXY();this.moveBy(e.x-n.x,e.y-n.y,t)}},{key:"moveDuringDrag",value:function(e){this.translate(e.x,e.y),this.getSvgRoot().setAttribute("transform",this.getTranslation()),this.updateComponentLocations(e)}},{key:"snapToGrid",value:function(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var e=this.workspace.getGrid();if(e&&e.shouldSnap()){var t=e.getSpacing(),n=t/2,i=this.getRelativeToSurfaceXY();e=Math.round(Math.round((i.x-n)/t)*t+n-i.x),t=Math.round(Math.round((i.y-n)/t)*t+n-i.y),(e||t)&&this.moveBy(e,t,["snap"])}}}},{key:"getBoundingRectangle",value:function(){var e,t,n=this.getRelativeToSurfaceXY(),i=this.getHeightWidth();return this.RTL?(e=n.x-i.width,t=n.x):(e=n.x,t=n.x+i.width),new Nl(n.y,n.y+i.height,e,t)}},{key:"markDirty",value:function(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(var e,t=0;e=this.inputList[t];t++)e.markDirty()}},{key:"setCollapsed",value:function(e){this.collapsed_!==e&&(l(u(n.prototype),"setCollapsed",this).call(this,e),this.updateCollapsed_())}},{key:"updateCollapsed_",value:function(){for(var e,t=this.isCollapsed(),n=lf,i=uf,r=0;e=this.inputList[r];r++)e.name!==n&&e.setVisible(!t);var o,a=g(this.getIcons());try{for(a.s();!(o=a.n()).done;){var s=o.value;s.updateCollapsed()}}catch(l){a.e(l)}finally{a.f()}t?(t=this.toString(ih),(s=this.getField(i))?s.setValue(t):(this.getInput(n)||this.appendDummyInput(n)).appendField(new Gd(t),i)):(this.updateDisabled(),this.removeInput(n))}},{key:"tab",value:function(e,t){var n=new Df;n.setCurNode(Qd.createFieldNode(e)),e=n.getCurNode(),t?n.next():n.prev(),(t=n.getCurNode())&&t!==e&&(t.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(t))}},{key:"onMouseDown_",value:function(e){var t=this.workspace.getGesture(e);t&&t.handleBlockStart(e,this)}},{key:"showHelp",value:function(){var e="function"===typeof this.helpUrl?this.helpUrl():this.helpUrl;e&&window.open(e)}},{key:"generateContextMenu",value:function(){if(this.workspace.options.readOnly||!this.contextMenu)return null;var e=Oc.registry.getContextMenuOptions(Oc.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(e),e}},{key:"showContextMenu",value:function(e){var t=this.generateContextMenu();t&&t.length&&(hi(e,t,this.RTL),ci(this))}},{key:"updateComponentLocations",value:function(e){if(this.rendered){this.dragging||this.updateConnectionLocations(e),this.updateIconLocations(e),this.updateFieldLocations(e);var t,n=g(this.getChildren(!1));try{for(n.s();!(t=n.n()).done;){var i=t.value;i.updateComponentLocations(Tl.sum(e,i.relativeCoords))}}catch(r){n.e(r)}finally{n.f()}}}},{key:"updateConnectionLocations",value:function(e){var t,n=g(this.getConnections_(!1));try{for(n.s();!(t=n.n()).done;)t.value.moveToOffset(e)}catch(i){n.e(i)}finally{n.f()}}},{key:"updateIconLocations",value:function(e){var t,n=g(this.getIcons());try{for(n.s();!(t=n.n()).done;)t.value.onLocationChange(e)}catch(i){n.e(i)}finally{n.f()}}},{key:"updateFieldLocations",value:function(e){var t,n=g(this.inputList);try{for(n.s();!(t=n.n()).done;){var i,r=t.value,o=g(r.fieldRow);try{for(o.s();!(i=o.n()).done;)i.value.onLocationChange(e)}catch(a){o.e(a)}finally{o.f()}}}catch(a){n.e(a)}finally{n.f()}}},{key:"setDragging",value:function(e){(this.dragging=e)?(this.translation="",rs.push.apply(rs,v(this.getConnections_(!0))),ve(this.svgGroup_,"blocklyDragging")):(rs.length=0,me(this.svgGroup_,"blocklyDragging"));for(var t=0;t<this.childBlocks_.length;t++)this.childBlocks_[t].setDragging(e)}},{key:"setMovable",value:function(e){l(u(n.prototype),"setMovable",this).call(this,e),this.pathObject.updateMovable(e)}},{key:"setEditable",value:function(e){l(u(n.prototype),"setEditable",this).call(this,e),e=this.getIcons();for(var t=0;t<e.length;t++)e[t].updateEditable()}},{key:"setShadow",value:function(e){l(u(n.prototype),"setShadow",this).call(this,e),this.applyColour()}},{key:"setInsertionMarker",value:function(e){this.isInsertionMarker_!==e&&(this.isInsertionMarker_=e)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}},{key:"getSvgRoot",value:function(){return this.svgGroup_}},{key:"dispose",value:function(e,t){this.isDeadOrDying()||(yr(),gi(),t&&this.rendered&&(this.unplug(e),Wi(this)),l(u(n.prototype),"dispose",this).call(this,!!e),_e(this.svgGroup_))}},{key:"disposeInternal",value:function(){this.isDeadOrDying()||(l(u(n.prototype),"disposeInternal",this).call(this),this.rendered=!1,C()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),v(this.warningTextDb.values()).forEach((function(e){return clearTimeout(e)})),this.warningTextDb.clear(),this.getIcons().forEach((function(e){return e.dispose()})))}},{key:"checkAndDelete",value:function(){this.workspace.isFlyout||(Wa.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),Wa.setGroup$$module$build$src$core$events$utils(!1))}},{key:"toCopyData",value:function(){return this.isInsertionMarker_?null:{paster:ac.TYPE,blockState:mn(this,{addCoordinates:!0,addNextBlocks:!1}),typeCounts:M(this,!0)}}},{key:"applyColour",value:function(){this.pathObject.applyColour(this);for(var e=this.getIcons(),t=0;t<e.length;t++)e[t].applyColour();for(var n,i=0;n=this.inputList[i];i++)for(var r,o=0;r=n.fieldRow[o];o++)r.applyColour()}},{key:"updateDisabled",value:function(){var e=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===e){var t;null==(t=this.getNextBlock())||t.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=e;var n,i=g(this.getChildren(!1));try{for(i.s();!(n=i.n()).done;)n.value.updateDisabled()}catch(r){i.e(r)}finally{i.f()}}}},{key:"getCommentIcon",value:function(){var e;return fe("getCommentIcon","v10","v11","getIcon"),null!=(e=this.getIcon(pd.TYPE))?e:null}},{key:"setWarningText",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(i)this.warningTextDb.has(i)&&(clearTimeout(this.warningTextDb.get(i)),this.warningTextDb.delete(i));else{var r,o=g(this.warningTextDb.values());try{for(o.s();!(r=o.n()).done;){var a=r.value;clearTimeout(a)}}catch(u){o.e(u)}finally{o.f()}this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(i,setTimeout((function(){t.isDeadOrDying()||(t.warningTextDb.delete(i),t.setWarningText(e,i))}),100));else if(this.isInFlyout&&(e=null),a=this.getIcon(gd.TYPE),e){for(var s=this.getSurroundParent(),l=null;s;)s.isCollapsed()&&(l=s),s=s.getSurroundParent();l&&l.setWarningText(Wa.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,n.COLLAPSED_WARNING_ID),a?a.addMessage(e,i):this.addIcon(new gd(this).addMessage(e,i))}else a&&(i?(a.addMessage("",i),a.getText()||this.removeIcon(gd.TYPE)):this.removeIcon(gd.TYPE))}},{key:"setMutator",value:function(e){this.removeIcon(Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),e&&this.addIcon(e)}},{key:"addIcon",value:function(e){return l(u(n.prototype),"addIcon",this).call(this,e),e instanceof gd&&(this.warning=e),e instanceof Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=e),this.rendered&&(e.initView(this.createIconPointerDownListener(e)),e.applyColour(),e.updateEditable(),this.queueRender(),$t(),this.bumpNeighbours()),e}},{key:"createIconPointerDownListener",value:function(e){var t=this;return function(n){t.isDeadOrDying()||(n=t.workspace.getGesture(n))&&n.setStartIcon(e)}}},{key:"removeIcon",value:function(e){var t=l(u(n.prototype),"removeIcon",this).call(this,e);return e.equals(gd.TYPE)&&(this.warning=null),e.equals(Wa.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.rendered&&(this.queueRender(),$t(),this.bumpNeighbours()),t}},{key:"setEnabled",value:function(e){this.isEnabled()!==e&&(l(u(n.prototype),"setEnabled",this).call(this,e),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}},{key:"setHighlighted",value:function(e){this.rendered&&this.pathObject.updateHighlighted(e)}},{key:"addSelect",value:function(){this.pathObject.updateSelected(!0)}},{key:"removeSelect",value:function(){this.pathObject.updateSelected(!1)}},{key:"setDeleteStyle",value:function(e){this.pathObject.updateDraggingDelete(e)}},{key:"getColour",value:function(){return this.style.colourPrimary}},{key:"setColour",value:function(e){l(u(n.prototype),"setColour",this).call(this,e),e=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(e.style),this.style=e.style,this.styleName_=e.name,this.applyColour()}},{key:"setStyle",value:function(e){var t=this.workspace.getRenderer().getConstants().getBlockStyle(e);if(this.styleName_=e,!t)throw Error("Invalid style name: "+e);this.hat=t.hat,this.pathObject.setStyle(t),this.colour_=t.colourPrimary,this.style=t,this.applyColour()}},{key:"bringToFront",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this;if(!t.isDeadOrDying())do{var n=t.getSvgRoot(),i=n.parentNode,r=i.childNodes;if(r[r.length-1]!==n&&i.appendChild(n),e)break;t=t.getParent()}while(t)}},{key:"setPreviousStatement",value:function(e,t){l(u(n.prototype),"setPreviousStatement",this).call(this,e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}},{key:"setNextStatement",value:function(e,t){l(u(n.prototype),"setNextStatement",this).call(this,e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}},{key:"setOutput",value:function(e,t){l(u(n.prototype),"setOutput",this).call(this,e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}},{key:"setInputsInline",value:function(e){l(u(n.prototype),"setInputsInline",this).call(this,e),this.rendered&&(this.queueRender(),this.bumpNeighbours())}},{key:"removeInput",value:function(e,t){return e=l(u(n.prototype),"removeInput",this).call(this,e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}},{key:"moveNumberedInputBefore",value:function(e,t){l(u(n.prototype),"moveNumberedInputBefore",this).call(this,e,t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}},{key:"appendInput",value:function(e){return l(u(n.prototype),"appendInput",this).call(this,e),this.rendered&&(this.queueRender(),this.bumpNeighbours()),e}},{key:"setConnectionTracking",value:function(e){if(this.previousConnection&&this.previousConnection.setTracking(e),this.outputConnection&&this.outputConnection.setTracking(e),this.nextConnection){this.nextConnection.setTracking(e);var t=this.nextConnection.targetBlock();t&&t.setConnectionTracking(e)}if(!this.collapsed_)for(t=0;t<this.inputList.length;t++){var n=this.inputList[t].connection;n&&(n.setTracking(e),(n=n.targetBlock())&&n.setConnectionTracking(e))}}},{key:"getConnections_",value:function(e){var t=[];if((e||this.rendered)&&(this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection),e||!this.collapsed_))for(var n,i=0;n=this.inputList[i];i++)n.connection&&t.push(n.connection);return t}},{key:"lastConnectionInStack",value:function(e){return l(u(n.prototype),"lastConnectionInStack",this).call(this,e)}},{key:"getMatchingConnection",value:function(e,t){return l(u(n.prototype),"getMatchingConnection",this).call(this,e,t)}},{key:"makeConnection_",value:function(e){return new Ff(this,e)}},{key:"getNextBlock",value:function(){return l(u(n.prototype),"getNextBlock",this).call(this)}},{key:"getPreviousBlock",value:function(){return l(u(n.prototype),"getPreviousBlock",this).call(this)}},{key:"bumpNeighbours",value:function(){var e=this;if(!this.bumpNeighboursPid){var t=Wa.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout((function(){var n=Wa.getGroup$$module$build$src$core$events$utils();Wa.setGroup$$module$build$src$core$events$utils(t),e.getRootBlock().bumpNeighboursInternal(),Wa.setGroup$$module$build$src$core$events$utils(n),e.bumpNeighboursPid=0}),Wa.config$$module$build$src$core$config.bumpDelay)}}},{key:"bumpNeighboursInternal",value:function(){var e=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||e.isInFlyout)){var t,n=g(this.getConnections_(!1));try{for(n.s();!(t=n.n()).done;){var i=t.value;if(i.isSuperior()){var r=void 0;null==(r=i.targetBlock())||r.bumpNeighboursInternal()}var o,a=g(i.neighbours(Wa.config$$module$build$src$core$config.snapRadius));try{for(a.s();!(o=a.n()).done;){var s=o.value;s.getSourceBlock().getRootBlock()!==e&&(i.isConnected()&&s.isConnected()||(i.isSuperior()?s.bumpAwayFrom(i):i.bumpAwayFrom(s)))}}catch(l){a.e(l)}finally{a.f()}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"scheduleSnapAndBump",value:function(){var e=this,t=Wa.getGroup$$module$build$src$core$events$utils();setTimeout((function(){Wa.setGroup$$module$build$src$core$events$utils(t),e.snapToGrid(),Wa.setGroup$$module$build$src$core$events$utils(!1)}),Wa.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}},{key:"positionNearConnection",value:function(e,t,n){if(e.type===ic.NEXT_STATEMENT||e.type===ic.INPUT_VALUE){var i=t.x;t=t.y,i+=n.x-e.getOffsetInBlock().x,t+=n.y-e.getOffsetInBlock().y,this.moveBy(i,t)}}},{key:"getChildren",value:function(e){return l(u(n.prototype),"getChildren",this).call(this,e)}},{key:"queueRender",value:function(){return Lt(this)}},{key:"render",value:function(){this.queueRender(),$t()}},{key:"renderEfficiently",value:function(){this.rendered=!0,Ee(),this.isCollapsed()&&this.updateCollapsed_(),this.isEnabled()||this.updateDisabled(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),xe(),this.updateMarkers_()}},{key:"tightenChildrenEfficiently",value:function(){var e,t=g(this.inputList);try{for(t.s();!(e=t.n()).done;){var n=e.value.connection;n&&n.tightenEfficiently()}}catch(i){t.e(i)}finally{t.f()}this.nextConnection&&this.nextConnection.tightenEfficiently()}},{key:"updateMarkers_",value:function(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(Ah.LOCAL_MARKER).draw();var e,t=g(this.inputList);try{for(t.s();!(e=t.n()).done;){var n,i=e.value,r=g(i.fieldRow);try{for(r.s();!(n=r.n()).done;)n.value.updateMarkers_()}catch(o){r.e(o)}finally{r.f()}}}catch(o){t.e(o)}finally{t.f()}}},{key:"setCursorSvg",value:function(e){this.pathObject.setCursorSvg(e)}},{key:"setMarkerSvg",value:function(e){this.pathObject.setMarkerSvg(e)}},{key:"getHeightWidth",value:function(){var e=this.height,t=this.width,n=this.getNextBlock();if(n){n=n.getHeightWidth();var i=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;e+=n.height-i,t=Math.max(t,n.width)}return{height:e,width:t}}},{key:"fadeForReplacement",value:function(e){this.pathObject.updateReplacementFade(e)}},{key:"highlightShapeForInput",value:function(e,t){this.pathObject.updateShapeForInputHighlight(e,t)}}]),n}(Lf);Zf.INLINE=-1,Zf.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var Hf,zf=function(){"use strict";function e(){d(this,e)}return f(e,[{key:"onDragEnter",value:function(e){}},{key:"onDragOver",value:function(e){}},{key:"onDragExit",value:function(e){}},{key:"onDrop",value:function(e){}},{key:"getClientRect",value:function(){return null}},{key:"shouldPreventMove",value:function(e){return!1}}]),e}(),Vf=function(e){"use strict";c(n,e);var t=h(n);function n(){var e;return d(this,n),(e=t.call(this)).wouldDelete_=!1,e}return f(n,[{key:"wouldDelete",value:function(e,t){return e instanceof Zf?(e=!e.getParent()&&e.isDeletable(),this.updateWouldDelete_(e&&!t)):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}},{key:"updateWouldDelete_",value:function(e){this.wouldDelete_=e}}]),n}(zf),Wf=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).workspace=e,i.id="trashcan",i.contents=[],i.flyout=null,i.isLidOpen=!1,i.minOpenness=0,i.lidTask=i.svgLid=i.svgGroup=null,i.top=i.left=i.lidOpen=0,i.initialized=!1,0>=i.workspace.options.maxTrashcanContents||(e=new $h({scrollbars:!0,parentWorkspace:i.workspace,rtl:i.workspace.RTL,oneBasedIndex:i.workspace.options.oneBasedIndex,renderer:i.workspace.options.renderer,rendererOverrides:i.workspace.options.rendererOverrides,move:{scrollbars:!0}}),i.workspace.horizontalLayout?(e.toolboxPosition=i.workspace.toolboxPosition===Kl.TOP?Kl.BOTTOM:Kl.TOP,i.flyout=new(b(qa.FLYOUTS_HORIZONTAL_TOOLBOX,i.workspace.options,!0))(e)):(e.toolboxPosition=i.workspace.toolboxPosition===Kl.RIGHT?Kl.LEFT:Kl.RIGHT,i.flyout=new(b(qa.FLYOUTS_VERTICAL_TOOLBOX,i.workspace.options,!0))(e)),i.workspace.addChangeListener(i.onDelete.bind(a(i)))),i}return f(n,[{key:"createDom",value:function(){var e;this.svgGroup=pe(Ll.G,{class:"blocklyTrash"});var t=String(Math.random()).substring(2);e=pe(Ll.CLIPPATH,{id:"blocklyTrashBodyClipPath"+t},this.svgGroup),pe(Ll.RECT,{width:Gf,height:Xf,y:Yf},e);var n=pe(Ll.IMAGE,{width:ou.width,x:-Qf,height:ou.height,y:-ep,"clip-path":"url(#blocklyTrashBodyClipPath"+t+")"},this.svgGroup);return n.setAttributeNS(Il,"xlink:href",this.workspace.options.pathToMedia+ou.url),e=pe(Ll.CLIPPATH,{id:"blocklyTrashLidClipPath"+t},this.svgGroup),pe(Ll.RECT,{width:Gf,height:Yf},e),this.svgLid=pe(Ll.IMAGE,{width:ou.width,x:-Qf,height:ou.height,y:-ep,"clip-path":"url(#blocklyTrashLidClipPath"+t+")"},this.svgGroup),this.svgLid.setAttributeNS(Il,"xlink:href",this.workspace.options.pathToMedia+ou.url),re(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),re(this.svgGroup,"pointerup",this,this.click),re(n,"pointerover",this,this.mouseOver),re(n,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}},{key:"init",value:function(){0<this.workspace.options.maxTrashcanContents&&(be(this.flyout.createDom(Ll.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[yl.Capability.AUTOHIDEABLE,yl.Capability.DELETE_AREA,yl.Capability.DRAG_TARGET,yl.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}},{key:"dispose",value:function(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&_e(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}},{key:"hasContents",value:function(){return!!this.contents.length}},{key:"contentsIsOpen",value:function(){return!!this.flyout&&this.flyout.isVisible()}},{key:"openFlyout",value:function(){var e=this;if(!this.contentsIsOpen()){var t=this.contents.map((function(e){return JSON.parse(e)})),n=this.workspace.getParentSvg().style;n.cursor="wait",setTimeout((function(){var i,r;null==(i=e.flyout)||i.show(t),n.cursor="",null==(r=e.workspace.scrollbar)||r.setVisible(!1)}),10),this.fireUiEvent(!0)}}},{key:"closeFlyout",value:function(){var e,t;this.contentsIsOpen()&&(null==(e=this.flyout)||e.hide(),null==(t=this.workspace.scrollbar)||t.setVisible(!0),this.fireUiEvent(!1),this.workspace.recordDragTargets())}},{key:"autoHide",value:function(e){!e&&this.flyout&&this.closeFlyout()}},{key:"emptyContents",value:function(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}},{key:"position",value:function(e,t){if(this.initialized){var n,i=rt(this.workspace,e);e=it(i,new $l(Gf,Xf+Yf),qf,Kf,e,this.workspace),t=ot(e,Kf,i.vertical===Ql.TOP?tu.DOWN:tu.UP,t),this.top=t.top,this.left=t.left,null==(n=this.svgGroup)||n.setAttribute("transform","translate("+this.left+","+this.top+")")}}},{key:"getBoundingRectangle",value:function(){return new Nl(this.top,this.top+Xf+Yf,this.left,this.left+Gf)}},{key:"getClientRect",value:function(){if(!this.svgGroup)return null;var e=this.svgGroup.getBoundingClientRect(),t=e.top+ep-Jf;return e=e.left+Qf-Jf,new Nl(t,t+Yf+Xf+2*Jf,e,e+Gf+2*Jf)}},{key:"onDragOver",value:function(e){this.setLidOpen(this.wouldDelete_)}},{key:"onDragExit",value:function(e){this.setLidOpen(!1)}},{key:"onDrop",value:function(e){setTimeout(this.setLidOpen.bind(this,!1),100)}},{key:"setLidOpen",value:function(e){this.isLidOpen!==e&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=e,this.animateLid())}},{key:"animateLid",value:function(){var e=ip,t=1/(e+1);this.lidOpen+=this.isLidOpen?t:-t,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*ap),t=rp+this.lidOpen*(op-rp),this.svgGroup&&(this.svgGroup.style.opacity="".concat(t)),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),np/e))}},{key:"setLidAngle",value:function(e){var t,n=this.workspace.toolboxPosition===Kl.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;null==(t=this.svgLid)||t.setAttribute("transform","rotate("+(n?-e:e)+","+(n?4:Gf-4)+","+(Yf-2)+")")}},{key:"setMinOpenness",value:function(e){this.minOpenness=e,this.isLidOpen||this.setLidAngle(e*ap)}},{key:"closeLid",value:function(){this.setLidOpen(!1)}},{key:"click",value:function(){this.hasContents()&&!this.workspace.isDragging()&&this.openFlyout()}},{key:"fireUiEvent",value:function(e){e=new(Y(bs))(e,this.workspace.id),U(e)}},{key:"blockMouseDownWhenOpenable",value:function(e){!this.contentsIsOpen()&&this.hasContents()&&e.stopPropagation()}},{key:"mouseOver",value:function(){this.hasContents()&&this.setLidOpen(!0)}},{key:"mouseOut",value:function(){this.setLidOpen(!1)}},{key:"onDelete",value:function(e){if(!(0>=this.workspace.options.maxTrashcanContents||e.type!==Wa.DELETE$$module$build$src$core$events$utils||e.type!==Wa.DELETE$$module$build$src$core$events$utils||e.wasShadow)){if(!e.oldJson)throw Error("Encountered a delete event without proper oldJson");if(e=JSON.stringify(this.cleanBlockJson(e.oldJson)),-1===this.contents.indexOf(e)){for(this.contents.unshift(e);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(tp)}}}},{key:"cleanBlockJson",value:function(e){function t(e){if(e){if(delete e.id,delete e.x,delete e.y,delete e.enabled,e.icons&&e.icons.comment){var n=e.icons.comment;delete n.height,delete n.width,delete n.pinned}for(var i in n=e.inputs){var r=n[i],o=r.block;r=r.shadow,o&&t(o),r&&t(r)}e.next&&(e=(i=e.next).block,i=i.shadow,e&&t(e),i&&t(i))}}return t(e=JSON.parse(JSON.stringify(e))),Object.assign({},{kind:"BLOCK"},e)}}]),n}(Vf),Gf=47,Xf=44,Yf=16,Kf=20,qf=20,Jf=10,Qf=0,ep=32,tp=.1,np=80,ip=4,rp=.4,op=.8,ap=45,sp=function(){"use strict";function e(){d(this,e),this.shortcuts=new Map,this.keyMap=new Map,this.reset()}return f(e,[{key:"reset",value:function(){this.shortcuts.clear(),this.keyMap.clear()}},{key:"register",value:function(e,t){if(this.shortcuts.get(e.name)&&!t)throw Error('Shortcut named "'.concat(e.name,'" already exists.'));if(this.shortcuts.set(e.name,e),(t=e.keyCodes)&&0<t.length)for(var n=0;n<t.length;n++)this.addKeyMapping(t[n],e.name,!!e.allowCollision)}},{key:"unregister",value:function(e){return this.shortcuts.get(e)?(this.removeAllKeyMappings(e),this.shortcuts.delete(e),!0):(console.warn('Keyboard shortcut named "'.concat(e,'" not found.')),!1)}},{key:"addKeyMapping",value:function(e,t,n){e="".concat(e);var i=this.keyMap.get(e);if(i&&!n)throw Error('Shortcut named "'.concat(t,'" collides with shortcuts "').concat(i,'"'));i&&n?i.unshift(t):this.keyMap.set(e,[t])}},{key:"removeKeyMapping",value:function(e,t,n){var i=this.keyMap.get(e);if(!i)return n||console.warn('No keyboard shortcut named "'.concat(t,'" registered with key code "').concat(e,'"')),!1;var r=i.indexOf(t);return-1<r?(i.splice(r,1),0===i.length&&this.keyMap.delete(e),!0):(n||console.warn('No keyboard shortcut named "'.concat(t,'" registered with key code "').concat(e,'"')),!1)}},{key:"removeAllKeyMappings",value:function(e){var t,n=g(this.keyMap.keys());try{for(n.s();!(t=n.n()).done;){var i=t.value;this.removeKeyMapping(i,e,!0)}}catch(r){n.e(r)}finally{n.f()}}},{key:"setKeyMap",value:function(e){for(var t in this.keyMap.clear(),e)this.keyMap.set(t,e[t])}},{key:"getKeyMap",value:function(){var e,t=Object.create(null),n=g(this.keyMap);try{for(n.s();!(e=n.n()).done;){var i=p(e.value,2),r=i[0],o=i[1];t[r]=o}}catch(a){n.e(a)}finally{n.f()}return t}},{key:"getRegistry",value:function(){var e,t=Object.create(null),n=g(this.shortcuts);try{for(n.s();!(e=n.n()).done;){var i=p(e.value,2),r=i[0],o=i[1];t[r]=o}}catch(a){n.e(a)}finally{n.f()}return Sr(Object.create(null),t)}},{key:"onKeyDown",value:function(e,t){var n=this.serializeKeyEvent_(t);if(!(n=this.getShortcutNamesByKeyCode(n)))return!1;for(var i,r=0;i=n[r];r++){var o=this.shortcuts.get(i),a=void 0,s=void 0;if(null==(a=o)||!a.preconditionFn||null!=(s=o)&&s.preconditionFn(e)){var l=void 0,u=void 0;if(null!=(l=o)&&l.callback&&null!=(u=o)&&u.callback(e,t,o))return!0}}return!1}},{key:"getShortcutNamesByKeyCode",value:function(e){return this.keyMap.get(e)||[]}},{key:"getKeyCodesByShortcutName",value:function(e){var t,n=[],i=g(this.keyMap);try{for(i.s();!(t=i.n()).done;){var r=p(t.value,2),o=r[0];-1<r[1].indexOf(e)&&n.push(o)}}catch(a){i.e(a)}finally{i.f()}return n}},{key:"serializeKeyEvent_",value:function(e){var t="";for(var n in sp.modifierKeys)e.getModifierState(n)&&(""!==t&&(t+="+"),t+=n);return""!==t&&e.keyCode?t=t+"+"+e.keyCode:e.keyCode&&(t=String(e.keyCode)),t}},{key:"checkModifiers_",value:function(e){for(var t,n=0;t=e[n];n++)if(!(t in sp.modifierKeys))throw Error(t+" is not a valid modifier key.")}},{key:"createSerializedKey",value:function(e,t){var n="";if(t)for(var i in this.checkModifiers_(t),sp.modifierKeys)-1<t.indexOf(sp.modifierKeys[i])&&(""!==n&&(n+="+"),n+=i);return""!==n&&e?n=n+"+"+e:e&&(n="".concat(e)),n}}]),e}();sp.registry=new sp,function(e){(e=e.modifierKeys||(e.modifierKeys={}))[e.Shift=16]="Shift",e[e.Control=17]="Control",e[e.Alt=18]="Alt",e[e.Meta=91]="Meta"}(sp||(sp={})),function(e){e.ESCAPE="escape",e.DELETE="delete",e.COPY="copy",e.CUT="cut",e.PASTE="paste",e.UNDO="undo",e.REDO="redo"}(Hf||(Hf={}));var lp=null,up=null;na();var cp={};cp.names=Hf,cp.registerCopy=qo,cp.registerCut=Jo,cp.registerDefaultShortcuts=na,cp.registerDelete=Ko,cp.registerEscape=Yo,cp.registerPaste=Qo,cp.registerRedo=ta,cp.registerUndo=ea;var hp=function(){"use strict";function e(t,n){d(this,e),this.procedureModelClass=t,this.parameterModelClass=n,this.priority=Wu}return f(e,[{key:"save",value:function(e){return(e=e.getProcedureMap().getProcedures().map((function(e){return ia(e)}))).length?e:null}},{key:"load",value:function(e,t){var n,i=t.getProcedureMap(),r=g(e);try{for(r.s();!(n=r.n()).done;){var o=n.value;i.add(oa(this.procedureModelClass,this.parameterModelClass,o,t))}}catch(a){r.e(a)}finally{r.f()}}},{key:"clear",value:function(e){e.getProcedureMap().clear()}}]),e}(),dp={};dp.ProcedureSerializer=hp,dp.loadParameter=aa,dp.loadProcedure=oa,dp.saveParameter=ra,dp.saveProcedure=ia;var fp=function(){"use strict";function e(){d(this,e),this.priority=Vu}return f(e,[{key:"save",value:function(e){var t,n=[],i=g(e.getAllVariables());try{for(i.s();!(t=i.n()).done;){var r=t.value;e={name:r.name,id:r.getId()},r.type&&(e.type=r.type),n.push(e)}}catch(o){i.e(o)}finally{i.f()}return n.length?n:null}},{key:"load",value:function(e,t){var n,i=g(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;t.createVariable(r.name,r.type,r.id)}}catch(o){i.e(o)}finally{i.f()}}},{key:"clear",value:function(e){e.getVariableMap().clear()}}]),e}();vn("variables",new fp);var pp={};pp.VariableSerializer=fp;var vp={};vp.load=la,vp.save=sa;var gp={blocks:qu,exceptions:zu,priorities:Xu,procedures:dp,registry:Yu,variables:pp,workspaces:vp},mp=function(){"use strict";function e(t,n,i,r,o){d(this,e),this.workspace=t,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,i=void 0===i||i;var a=(n=void 0===n||n)&&i;n&&(this.hScroll=new jl(t,!0,a,r,o)),i&&(this.vScroll=new jl(t,!1,a,r,o)),a&&(this.corner_=pe(Ll.RECT,{height:jl.scrollbarThickness,width:jl.scrollbarThickness,class:"blocklyScrollbarBackground"}),be(this.corner_,t.getBubbleCanvas()))}return f(e,[{key:"dispose",value:function(){_e(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}},{key:"resize",value:function(){var e=this.workspace.getMetrics();if(e){var t,n,i=!1,r=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===e.scrollWidth&&this.oldHostMetrics_.viewLeft===e.viewLeft&&this.oldHostMetrics_.scrollLeft===e.scrollLeft||(i=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===e.scrollHeight&&this.oldHostMetrics_.viewTop===e.viewTop&&this.oldHostMetrics_.scrollTop===e.scrollTop||(r=!0)):r=i=!0,i||r){try{Wa.disable$$module$build$src$core$events$utils(),this.hScroll&&i&&this.hScroll.resize(e),this.vScroll&&r&&this.vScroll.resize(e)}finally{Wa.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll)this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===e.viewWidth&&this.oldHostMetrics_.absoluteLeft===e.absoluteLeft||null==(t=this.corner_)||t.setAttribute("x",String(this.vScroll.position.x)),this.oldHostMetrics_&&this.oldHostMetrics_.viewHeight===e.viewHeight&&this.oldHostMetrics_.absoluteTop===e.absoluteTop||null==(n=this.corner_)||n.setAttribute("y",String(this.hScroll.position.y));this.oldHostMetrics_=e}}},{key:"canScrollHorizontally",value:function(){return!!this.hScroll}},{key:"canScrollVertically",value:function(){return!!this.vScroll}},{key:"setOrigin",value:function(e,t){this.hScroll&&this.hScroll.setOrigin(e,t),this.vScroll&&this.vScroll.setOrigin(e,t)}},{key:"set",value:function(e,t,n){this.hScroll&&this.hScroll.set(e,!1),this.vScroll&&this.vScroll.set(t,!1),(n||void 0===n)&&(e={},this.hScroll&&(e.x=this.hScroll.getRatio_()),this.vScroll&&(e.y=this.vScroll.getRatio_()),this.workspace.setMetrics(e))}},{key:"setX",value:function(e){this.hScroll&&this.hScroll.set(e,!0)}},{key:"setY",value:function(e){this.vScroll&&this.vScroll.set(e,!0)}},{key:"setContainerVisible",value:function(e){this.hScroll&&this.hScroll.setContainerVisible(e),this.vScroll&&this.vScroll.setContainerVisible(e)}},{key:"isVisible",value:function(){var e=!1;return this.hScroll&&(e=this.hScroll.isVisible()),this.vScroll&&(e=e||this.vScroll.isVisible()),e}},{key:"setVisible",value:function(e){this.hScroll&&this.hScroll.setVisibleInternal(e),this.vScroll&&this.vScroll.setVisibleInternal(e)}},{key:"resizeContent",value:function(e){this.hScroll&&this.hScroll.resizeContentHorizontal(e),this.vScroll&&this.vScroll.resizeContentVertical(e)}},{key:"resizeView",value:function(e){this.hScroll&&this.hScroll.resizeViewHorizontal(e),this.vScroll&&this.vScroll.resizeViewVertical(e)}}]),e}(),yp=function(){"use strict";function e(t){d(this,e),this.workspace_=t}return f(e,[{key:"getDimensionsPx_",value:function(e){var t=0,n=0;return e&&(t=e.getWidth(),n=e.getHeight()),new $l(t,n)}},{key:"getFlyoutMetrics",value:function(e){return{width:(e=this.getDimensionsPx_(this.workspace_.getFlyout(e))).width,height:e.height,position:this.workspace_.toolboxPosition}}},{key:"getToolboxMetrics",value:function(){var e=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:e.width,height:e.height,position:this.workspace_.toolboxPosition}}},{key:"getSvgMetrics",value:function(){return this.workspace_.getCachedParentSvgSize()}},{key:"getAbsoluteMetrics",value:function(){var e,t=0,n=0,i=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),o=!!this.workspace_.getToolbox(),a=!(null!=(e=this.workspace_.getFlyout())&&e.autoClose),s=(e=o?i.position:r.position)===Kl.TOP;return e===Kl.LEFT&&(o&&(t+=i.width),a&&(t+=r.width)),s&&(o&&(n+=i.height),a&&(n+=r.height)),{top:n,left:t}}},{key:"getViewMetrics",value:function(e){e=e?this.workspace_.scale:1;var t,n=this.getSvgMetrics(),i=this.getToolboxMetrics(),r=this.getFlyoutMetrics(),o=!!this.workspace_.getToolbox(),a=!(null!=(t=this.workspace_.getFlyout())&&t.autoClose),s=(t=o?i.position:r.position)===Kl.LEFT||t===Kl.RIGHT;return t!==Kl.TOP&&t!==Kl.BOTTOM||(o&&(n.height-=i.height),a&&(n.height-=r.height)),s&&(o&&(n.width-=i.width),a&&(n.width-=r.width)),{height:n.height/e,width:n.width/e,top:-this.workspace_.scrollY/e,left:-this.workspace_.scrollX/e}}},{key:"getContentMetrics",value:function(e){e=e?1:this.workspace_.scale;var t=this.workspace_.getBlocksBoundingBox();return{height:(t.bottom-t.top)*e,width:(t.right-t.left)*e,top:t.top*e,left:t.left*e}}},{key:"hasFixedEdges",value:function(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}},{key:"getComputedFixedEdges_",value:function(e){if(!this.hasFixedEdges())return{};var t=this.workspace_.isMovableHorizontally(),n=this.workspace_.isMovableVertically();e=e||this.getViewMetrics(!1);var i={};return n||(i.top=e.top,i.bottom=e.top+e.height),t||(i.left=e.left,i.right=e.left+e.width),i}},{key:"getPaddedContent_",value:function(e,t){var n=t.top+t.height,i=t.left+t.width,r=e.width,o=r/2,a=(e=e.height)/2;return{top:Math.min(t.top-a,n-e),bottom:Math.max(n+a,t.top+e),left:Math.min(t.left-o,i-r),right:Math.max(i+o,t.left+r)}}},{key:"getScrollMetrics",value:function(e,t,n){e=e?this.workspace_.scale:1,t=t||this.getViewMetrics(!1);var i=n||this.getContentMetrics();n=this.getComputedFixedEdges_(t),t=this.getPaddedContent_(t,i),i=void 0!==n.top?n.top:t.top;var r=void 0!==n.left?n.left:t.left;return{top:i/e,left:r/e,width:((void 0!==n.right?n.right:t.right)-r)/e,height:((void 0!==n.bottom?n.bottom:t.bottom)-i)/e}}},{key:"getUiMetrics",value:function(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}},{key:"getMetrics",value:function(){var e=this.getToolboxMetrics(),t=this.getFlyoutMetrics(!0),n=this.getSvgMetrics(),i=this.getAbsoluteMetrics(),r=this.getViewMetrics(),o=this.getContentMetrics(),a=this.getScrollMetrics(!1,r,o);return{contentHeight:o.height,contentWidth:o.width,contentTop:o.top,contentLeft:o.left,scrollHeight:a.height,scrollWidth:a.width,scrollTop:a.top,scrollLeft:a.left,viewHeight:r.height,viewWidth:r.width,viewTop:r.top,viewLeft:r.left,absoluteTop:i.top,absoluteLeft:i.left,svgHeight:n.height,svgWidth:n.width,toolboxWidth:e.width,toolboxHeight:e.height,toolboxPosition:e.position,flyoutWidth:t.width,flyoutHeight:t.height}}}]),e}();e(qa.METRICS_MANAGER,Ka,yp);var _p=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).isBlank=!0,i.recordUndo=!1,i.type=Is,i.isBlank=!!e,e&&(i.workspaceId=e.id),i}return f(n)}(Fs);e(qa.EVENT,Is,_p);var bp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e?e.workspace.id:void 0)).type=vs,e&&(o.blockId=e.id,o.isStart=i,o.blocks=r),o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.isStart)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(void 0===this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return e.isStart=this.isStart,e.blockId=this.blockId,e.blocks=this.blocks,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).isStart=e.isStart,t.blockId=e.blockId,t.blocks=e.blocks,t}}]),n}(Us);e(qa.EVENT,vs,bp);var kp={};kp.bumpIntoBounds=ua,kp.bumpIntoBoundsHandler=ca,kp.bumpTopObjectsIntoBounds=da;var Tp=function(){"use strict";function e(t,n){d(this,e),this.connectionCandidate=this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.dragIconData_=[],this.draggingBlock_=t,this.workspace_=n,this.connectionPreviewer=new(b(qa.CONNECTION_PREVIEWER,this.workspace_.options))(t),this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=fa(t,this.startXY_)}return f(e,[{key:"dispose",value:function(){this.dragIconData_.length=0,this.connectionPreviewer.dispose()}},{key:"startDrag",value:function(e,t){var n;Wa.getGroup$$module$build$src$core$events$utils()||Wa.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent_(),this.draggingBlock_.bringToFront(!0),Ee(),this.workspace_.setResizesEnabled(!1),qi(),this.shouldDisconnect_(t)&&this.disconnectBlock_(t,e),this.draggingBlock_.setDragging(!0),null==(n=this.workspace_.getLayerManager())||n.moveToDragLayer(this.draggingBlock_)}},{key:"shouldDisconnect_",value:function(e){return!!(this.draggingBlock_.getParent()||e&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}},{key:"disconnectBlock_",value:function(e,t){this.draggingBlock_.unplug(e),e=this.pixelsToWorkspaceUnits_(t),e=Tl.sum(this.startXY_,e),this.draggingBlock_.translate(e.x,e.y),Yi(this.draggingBlock_)}},{key:"fireDragStartEvent_",value:function(){var e=new(Y(vs))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));U(e)}},{key:"drag",value:function(e,t){var n=this.draggingBlock_;this.moveBlock(n,t),this.updateDragTargets(e,n),this.wouldDeleteBlock_=this.wouldDeleteBlock(e,n,t),this.updateCursorDuringBlockDrag_(),this.updateConnectionPreview(n,t)}},{key:"moveBlock",value:function(e,t){t=this.pixelsToWorkspaceUnits_(t),t=Tl.sum(this.startXY_,t),e.moveDuringDrag(t)}},{key:"updateDragTargets",value:function(e,t){var n;e=this.workspace_.getDragTarget(e),this.dragTarget_!==e&&(null==(n=this.dragTarget_)||n.onDragExit(t),null==e||e.onDragEnter(t)),null==e||e.onDragOver(t),this.dragTarget_=e}},{key:"wouldDeleteBlock",value:function(e,t,n){return!(!(e=this.workspace_.getDragTarget(e))||!this.workspace_.getComponentManager().hasCapability(e.id,yl.Capability.DELETE_AREA))&&e.wouldDelete(t,!!this.getConnectionCandidate(t,n))}},{key:"updateConnectionPreview",value:function(e,t){t=this.pixelsToWorkspaceUnits_(t);var n=this.connectionCandidate,i=this.getConnectionCandidate(e,t);if(i){this.connectionCandidate=t=n&&this.currCandidateIsBetter(n,t,i)?n:i;var r=t,o=r.local,a=r.neighbour;o.type!==ic.OUTPUT_VALUE&&o.type!==ic.PREVIOUS_STATEMENT||!a.isConnected()||a.targetBlock().isInsertionMarker()||this.orphanCanConnectAtEnd(e,a.targetBlock(),o.type)?this.connectionPreviewer.previewConnection(o,a):this.connectionPreviewer.previewReplacement(o,a,a.targetBlock())}else this.connectionPreviewer.hidePreview(),this.connectionCandidate=null}},{key:"orphanCanConnectAtEnd",value:function(e,t,n){return!!sf.getConnectionForOrphanedConnection(e,n===ic.OUTPUT_VALUE?t.outputConnection:t.previousConnection)}},{key:"currCandidateIsBetter",value:function(e,t,n){var i=e,r=i.local,o=i.neighbour;e=new Tl(r.x,r.y);var a=new Tl(o.x,o.y);return t=Tl.distance(Tl.sum(e,t),a),n.distance>t-Wa.config$$module$build$src$core$config.currentConnectionPreference}},{key:"getConnectionCandidate",value:function(e,t){e=this.getLocalConnections(e);var n,i=this.connectionCandidate?Wa.config$$module$build$src$core$config.connectingSnapRadius:Wa.config$$module$build$src$core$config.snapRadius,r=null,o=g(e);try{for(o.s();!(n=o.n()).done;){var a=n.value,s=a.closest(i,t),l=s.connection,u=s.radius;l&&(r={local:a,neighbour:l,distance:u},i=u)}}catch(c){o.e(c)}finally{o.f()}return r}},{key:"getLocalConnections",value:function(e){var t=e.getConnections_(!1),n=e.lastConnectionInStack(!0);return n&&n!==e.nextConnection&&t.push(n),t}},{key:"endDrag",value:function(e,t){var n;this.drag(e,t),this.fireDragEndEvent_(),xe(),qi(),this.connectionPreviewer.hidePreview(),e=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(e=this.getNewLocationAfterDrag_(t).delta),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(null==(n=this.workspace_.getLayerManager())||n.moveOffDragLayer(this.draggingBlock_,eh),this.draggingBlock_.setDragging(!1),e?this.updateBlockAfterMove_():ua(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.connectionPreviewer.dispose(),this.workspace_.setResizesEnabled(!0),Wa.setGroup$$module$build$src$core$events$utils(!1)}},{key:"getNewLocationAfterDrag_",value:function(e){return{delta:e=this.pixelsToWorkspaceUnits_(e),newLocation:Tl.sum(this.startXY_,e)}}},{key:"maybeDeleteBlock_",value:function(){return!!this.wouldDeleteBlock_&&(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),rs.length=0,!0)}},{key:"updateBlockAfterMove_",value:function(){this.fireMoveEvent_(),this.connectionCandidate?this.applyConnections(this.connectionCandidate):this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}},{key:"applyConnections",value:function(e){var t=e.local,n=e.neighbour;if(t.connect(n),this.draggingBlock_.rendered){var i=t.isSuperior()?n:t,r=this.draggingBlock_.getRootBlock();Nt().then((function(){Xi(i.getSourceBlock()),setTimeout((function(){r.bringToFront()}),0)}))}}},{key:"fireDragEndEvent_",value:function(){var e=new(Y(vs))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));U(e)}},{key:"updateToolboxStyle_",value:function(e){var t=this.workspace_.getToolbox();if(t){var n=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";e&&"function"===typeof t.removeStyle?t.removeStyle(n):e||"function"!==typeof t.addStyle||t.addStyle(n)}}},{key:"fireMoveEvent_",value:function(){if(!this.draggingBlock_.isDeadOrDying()){var e=new(Y(Wa.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);e.setReason(["drag"]),e.oldCoordinate=this.startXY_,e.recordNew(),U(e)}}},{key:"updateCursorDuringBlockDrag_",value:function(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}},{key:"pixelsToWorkspaceUnits_",value:function(e){return e=new Tl(e.x/this.workspace_.scale,e.y/this.workspace_.scale),this.workspace_.isMutator&&e.scale(1/this.workspace_.options.parentWorkspace.scale),e}},{key:"dragIcons_",value:function(){fe("Blockly.BlockDragger.prototype.dragIcons_","v10","v11")}},{key:"getInsertionMarkers",value:function(){return this.workspace_.getAllBlocks().filter((function(e){return e.isInsertionMarker()}))}}]),e}();e(qa.BLOCK_DRAGGER,Ka,Tp);var Ep={};Ep.Bubble=Jh,Ep.MiniWorkspaceBubble=td,Ep.TextBubble=ud,Ep.TextInputBubble=cd;var xp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o){var a;return d(this,n),(a=t.call(this,e)).type=cs,a.recordUndo=!1,e&&(a.name=i,a.oldValue=r,a.newValue=o),a}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return e.name=this.name,e.oldValue=this.oldValue,e.newValue=this.newValue,e}},{key:"isNull",value:function(){return this.oldValue===this.newValue}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(!(t=t.getBlockById(this.blockId)))throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");e=e?this.newValue:this.oldValue,(t=t.getField(this.name))?t.setValue(e):console.warn("Can't set non-existent field: "+this.name)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).name=e.name,t.oldValue=e.oldValue,t.newValue=e.newValue,t}}]),n}(Ju);e(qa.EVENT,cs,xp);var wp=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=Wa.MOVE$$module$build$src$core$events$utils,e&&(e.isShadow()&&(i.recordUndo=!1),e=i.currentLocation_(),i.oldParentId=e.parentId,i.oldInputName=e.inputName,i.oldCoordinate=e.coordinate),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);return e.oldParentId=this.oldParentId,e.oldInputName=this.oldInputName,this.oldCoordinate&&(e.oldCoordinate="".concat(Math.round(this.oldCoordinate.x),", ")+"".concat(Math.round(this.oldCoordinate.y))),e.newParentId=this.newParentId,e.newInputName=this.newInputName,this.newCoordinate&&(e.newCoordinate="".concat(Math.round(this.newCoordinate.x),", ")+"".concat(Math.round(this.newCoordinate.y))),this.reason&&(e.reason=this.reason),this.recordUndo||(e.recordUndo=this.recordUndo),e}},{key:"recordNew",value:function(){var e=this.currentLocation_();this.newParentId=e.parentId,this.newInputName=e.inputName,this.newCoordinate=e.coordinate}},{key:"setReason",value:function(e){this.reason=e}},{key:"currentLocation_",value:function(){var e=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var t=e.getBlockById(this.blockId);if(!t)throw Error("The block associated with the block move event could not be found");e={};var n=t.getParent();return n?(e.parentId=n.id,(t=n.getInputWithBlock(t))&&(e.inputName=t.name)):e.coordinate=t.getRelativeToSurfaceXY(),e}},{key:"isNull",value:function(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Tl.equals(this.oldCoordinate,this.newCoordinate)}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var n=t.getBlockById(this.blockId);if(n){var i,r,o=e?this.newParentId:this.oldParentId,a=e?this.newInputName:this.oldInputName;if(e=e?this.newCoordinate:this.oldCoordinate,o){var s=t.getBlockById(o);if(!s)return void console.warn("Can't connect to non-existent block: "+o)}n.getParent()&&n.unplug(),e?(a=n.getRelativeToSurfaceXY(),n.moveBy(e.x-a.x,e.y-a.y,this.reason)):((!(t=n.outputConnection)||n.previousConnection&&n.previousConnection.isConnected())&&(t=n.previousConnection),n=null==(r=t)?void 0:r.type,a?(n=s.getInput(a))&&(i=n.connection):n===ic.PREVIOUS_STATEMENT&&(i=s.nextConnection),i&&t?t.connect(i):console.warn("Can't connect to non-existent input: "+a))}else console.warn("Can't move non-existent block: "+this.blockId)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldParentId=e.oldParentId,t.oldInputName=e.oldInputName,e.oldCoordinate&&(i=e.oldCoordinate.split(","),t.oldCoordinate=new Tl(Number(i[0]),Number(i[1]))),t.newParentId=e.newParentId,t.newInputName=e.newInputName,e.newCoordinate&&(i=e.newCoordinate.split(","),t.newCoordinate=new Tl(Number(i[0]),Number(i[1]))),void 0!==e.reason&&(t.reason=e.reason),void 0!==e.recordUndo&&(t.recordUndo=e.recordUndo),t}}]),n}(Ju);e(qa.EVENT,Wa.MOVE$$module$build$src$core$events$utils,wp);var Sp,Cp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e?e.workspace.id:void 0)).type=_s,e&&(o.blockId=e.id,o.isOpen=i,o.bubbleType=r),o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(void 0===this.isOpen)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return e.isOpen=this.isOpen,e.bubbleType=this.bubbleType,e.blockId=this.blockId||"",e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).isOpen=e.isOpen,t.bubbleType=e.bubbleType,t.blockId=e.blockId,t}}]),n}(Us);(function(e){e.MUTATOR="mutator",e.COMMENT="comment",e.WARNING="warning"})(Sp||(Sp={})),e(qa.EVENT,_s,Cp);var Ip={};Ip.BubbleOpen=Cp,Ip.BubbleType=Sp;var Rp=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).isBlank=!e,e&&(i.commentId=e.id,i.workspaceId=e.workspace.id,i.group=Wa.getGroup$$module$build$src$core$events$utils(),i.recordUndo=F()),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return e.commentId=this.commentId,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).commentId=e.commentId,t}},{key:"CommentCreateDeleteHelper",value:function(e,t){var n=e.getEventWorkspace_();if(t){if(t=Wa.createElement$$module$build$src$core$utils$xml("xml"),!e.xml)throw Error("Ecountered a comment event without proper xml");t.appendChild(e.xml),Wa.domToWorkspace$$module$build$src$core$xml(t,n)}else{if(!e.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(n=n.getCommentById(e.commentId))?n.dispose():console.warn("Can't uncreate non-existent comment: "+e.commentId)}}}]),n}(Fs),Op=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e)).type=Ss,e&&(o.oldContents_="undefined"===typeof i?"":i,o.newContents_="undefined"===typeof r?"":r),o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return e.oldContents=this.oldContents_,e.newContents=this.newContents_,e}},{key:"isNull",value:function(){return this.oldContents_===this.newContents_}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){var n=e?this.newContents_:this.oldContents_;if(!n){if(e)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson")}t.setContent(n)}else console.warn("Can't change non-existent comment: "+this.commentId)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldContents_=e.oldContents,t.newContents_=e.newContents,t}}]),n}(Rp);e(qa.EVENT,Ss,Op);var Ap=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=xs,e&&(i.xml=e.toXmlWithXY()),i}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Yt(this.xml),e}},{key:"run",value:function(e){Rp.CommentCreateDeleteHelper(this,e)}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).xml=Wa.textToDom$$module$build$src$core$utils$xml(e.xml),t}}]),n}(Rp);e(qa.EVENT,xs,Ap);var Mp=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=ws,e&&(i.xml=e.toXmlWithXY()),i}return f(n,[{key:"run",value:function(e){Rp.CommentCreateDeleteHelper(this,!e)}},{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return e.xml=Yt(this.xml),e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).xml=Wa.textToDom$$module$build$src$core$utils$xml(e.xml),t}}]),n}(Rp);e(qa.EVENT,ws,Mp);var Lp=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).type=Cs,e&&(i.comment_=e,i.oldCoordinate_=e.getRelativeToSurfaceXY()),i}return f(n,[{key:"recordNew",value:function(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}},{key:"setOldCoordinate",value:function(e){this.oldCoordinate_=e}},{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return e.oldCoordinate="".concat(Math.round(this.oldCoordinate_.x),", ")+"".concat(Math.round(this.oldCoordinate_.y)),e.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),e}},{key:"isNull",value:function(){return Tl.equals(this.oldCoordinate_,this.newCoordinate_)}},{key:"run",value:function(e){var t=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(t=t.getCommentById(this.commentId)){if(!(e=e?this.newCoordinate_:this.oldCoordinate_))throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var n=t.getRelativeToSurfaceXY();t.moveBy(e.x-n.x,e.y-n.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}}],[{key:"fromJson",value:function(e,t,i){return t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n),i=e.oldCoordinate.split(","),t.oldCoordinate_=new Tl(Number(i[0]),Number(i[1])),i=e.newCoordinate.split(","),t.newCoordinate_=new Tl(Number(i[0]),Number(i[1])),t}}]),n}(Rp);e(qa.EVENT,Cs,Lp);var Np=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,r)).type=ks,o.oldItem=null!=e?e:void 0,o.newItem=null!=i?i:void 0,o}return f(n,[{key:"toJson",value:function(){var e=l(u(n.prototype),"toJson",this).call(this);return e.oldItem=this.oldItem,e.newItem=this.newItem,e}}],[{key:"fromJson",value:function(e,t,i){return(t=l(u(n),"fromJson",this).call(this,e,t,null!=i?i:new n)).oldItem=e.oldItem,t.newItem=e.newItem,t}}]),n}(Us);e(qa.EVENT,ks,Np),Wa.CHANGE$$module$build$src$core$events$utils,Wa.CREATE$$module$build$src$core$events$utils,Wa.DELETE$$module$build$src$core$events$utils,Wa.MOVE$$module$build$src$core$events$utils,Wa.CHANGE$$module$build$src$core$events$utils,Wa.CREATE$$module$build$src$core$events$utils,Wa.DELETE$$module$build$src$core$events$utils,Wa.MOVE$$module$build$src$core$events$utils,Wa.disable$$module$build$src$core$events$utils,Wa.enable$$module$build$src$core$events$utils,Wa.getGroup$$module$build$src$core$events$utils,Wa.setGroup$$module$build$src$core$events$utils;var $p={};$p.Abstract=Fs,$p.BLOCK_CHANGE=Wa.CHANGE$$module$build$src$core$events$utils,$p.BLOCK_CREATE=Wa.CREATE$$module$build$src$core$events$utils,$p.BLOCK_DELETE=Wa.DELETE$$module$build$src$core$events$utils,$p.BLOCK_DRAG=vs,$p.BLOCK_FIELD_INTERMEDIATE_CHANGE=cs,$p.BLOCK_MOVE=Wa.MOVE$$module$build$src$core$events$utils,$p.BUBBLE_OPEN=_s,$p.BUMP_EVENTS=Rs,$p.BlockBase=Ju,$p.BlockChange=Ph,$p.BlockCreate=Qu,$p.BlockDelete=Mf,$p.BlockDrag=bp,$p.BlockFieldIntermediateChange=xp,$p.BlockMove=wp,$p.BubbleOpen=Cp,$p.BubbleType=Sp,$p.CHANGE=Wa.CHANGE$$module$build$src$core$events$utils,$p.CLICK=ms,$p.COMMENT_CHANGE=Ss,$p.COMMENT_CREATE=xs,$p.COMMENT_DELETE=ws,$p.COMMENT_MOVE=Cs,$p.CREATE=Wa.CREATE$$module$build$src$core$events$utils,$p.Click=js,$p.ClickTarget=Ds,$p.CommentBase=Rp,$p.CommentChange=Op,$p.CommentCreate=Ap,$p.CommentDelete=Mp,$p.CommentMove=Lp,$p.DELETE=Wa.DELETE$$module$build$src$core$events$utils,$p.FINISHED_LOADING=Is,$p.FinishedLoading=_p,$p.MARKER_MOVE=ys,$p.MOVE=Wa.MOVE$$module$build$src$core$events$utils,$p.MarkerMove=ef,$p.SELECTED=gs,$p.Selected=xu,$p.THEME_CHANGE=Ts,$p.TOOLBOX_ITEM_SELECT=ks,$p.TRASHCAN_OPEN=bs,$p.ThemeChange=tc,$p.ToolboxItemSelect=Np,$p.TrashcanOpen=Af,$p.UI=ps,$p.UiBase=Us,$p.VAR_CREATE=hs,$p.VAR_DELETE=ds,$p.VAR_RENAME=fs,$p.VIEWPORT_CHANGE=Es,$p.VarBase=gu,$p.VarCreate=mu,$p.VarDelete=kf,$p.VarRename=Tf,$p.ViewportChange=rc,$p.clearPendingUndo=z,$p.disable=Wa.disable$$module$build$src$core$events$utils,$p.disableOrphans=K,$p.enable=Wa.enable$$module$build$src$core$events$utils,$p.filter=H,$p.fire=U,$p.fromJson=X,$p.get=Y,$p.getDescendantIds=G,$p.getGroup=Wa.getGroup$$module$build$src$core$events$utils,$p.getRecordUndo=F,$p.isEnabled=V,$p.setGroup=Wa.setGroup$$module$build$src$core$events$utils,$p.setRecordUndo=B;var Pp=function(e){"use strict";c(n,e);var t=h(n);function n(){var e;return d(this,n),(e=t.call(this)).GRID_UNIT=4,e.CURSOR_COLOUR="#ffa200",e.CURSOR_RADIUS=5,e.JAGGED_TEETH_WIDTH=e.JAGGED_TEETH_HEIGHT=0,e.START_HAT_HEIGHT=22,e.START_HAT_WIDTH=96,e.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},e.SHAPE_IN_SHAPE_PADDING={1:{0:5*e.GRID_UNIT,1:2*e.GRID_UNIT,2:5*e.GRID_UNIT,3:5*e.GRID_UNIT},2:{0:3*e.GRID_UNIT,1:3*e.GRID_UNIT,2:1*e.GRID_UNIT,3:2*e.GRID_UNIT},3:{0:2*e.GRID_UNIT,1:2*e.GRID_UNIT,2:2*e.GRID_UNIT,3:2*e.GRID_UNIT}},e.FULL_BLOCK_FIELDS=!0,e.FIELD_TEXT_FONTWEIGHT="bold",e.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',e.FIELD_COLOUR_FULL_BLOCK=e.FIELD_TEXTINPUT_BOX_SHADOW=e.FIELD_DROPDOWN_SVG_ARROW=e.FIELD_DROPDOWN_COLOURED_DIV=e.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,e.SELECTED_GLOW_COLOUR="#fff200",e.SELECTED_GLOW_SIZE=.5,e.REPLACEMENT_GLOW_COLOUR="#fff200",e.REPLACEMENT_GLOW_SIZE=2,e.selectedGlowFilterId="",e.selectedGlowFilter=null,e.replacementGlowFilterId="",e.SQUARED=e.ROUNDED=e.HEXAGONAL=e.replacementGlowFilter=null,e.SMALL_PADDING=e.GRID_UNIT,e.MEDIUM_PADDING=2*e.GRID_UNIT,e.MEDIUM_LARGE_PADDING=3*e.GRID_UNIT,e.LARGE_PADDING=4*e.GRID_UNIT,e.CORNER_RADIUS=1*e.GRID_UNIT,e.NOTCH_WIDTH=9*e.GRID_UNIT,e.NOTCH_HEIGHT=2*e.GRID_UNIT,e.STATEMENT_INPUT_NOTCH_OFFSET=e.NOTCH_OFFSET_LEFT=3*e.GRID_UNIT,e.MIN_BLOCK_WIDTH=2*e.GRID_UNIT,e.MIN_BLOCK_HEIGHT=12*e.GRID_UNIT,e.EMPTY_STATEMENT_INPUT_HEIGHT=6*e.GRID_UNIT,e.TOP_ROW_MIN_HEIGHT=e.CORNER_RADIUS,e.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=e.LARGE_PADDING,e.BOTTOM_ROW_MIN_HEIGHT=e.CORNER_RADIUS,e.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*e.GRID_UNIT,e.STATEMENT_BOTTOM_SPACER=-e.NOTCH_HEIGHT,e.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*e.GRID_UNIT,e.STATEMENT_INPUT_PADDING_LEFT=4*e.GRID_UNIT,e.EMPTY_INLINE_INPUT_PADDING=4*e.GRID_UNIT,e.EMPTY_INLINE_INPUT_HEIGHT=8*e.GRID_UNIT,e.DUMMY_INPUT_MIN_HEIGHT=8*e.GRID_UNIT,e.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*e.GRID_UNIT,e.CURSOR_WS_WIDTH=20*e.GRID_UNIT,e.FIELD_TEXT_FONTSIZE=3*e.GRID_UNIT,e.FIELD_BORDER_RECT_RADIUS=e.CORNER_RADIUS,e.FIELD_BORDER_RECT_X_PADDING=2*e.GRID_UNIT,e.FIELD_BORDER_RECT_Y_PADDING=1.625*e.GRID_UNIT,e.FIELD_BORDER_RECT_HEIGHT=8*e.GRID_UNIT,e.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*e.GRID_UNIT,e.FIELD_DROPDOWN_SVG_ARROW_PADDING=e.FIELD_BORDER_RECT_X_PADDING,e.FIELD_COLOUR_DEFAULT_WIDTH=6*e.GRID_UNIT,e.FIELD_COLOUR_DEFAULT_HEIGHT=8*e.GRID_UNIT,e.FIELD_CHECKBOX_X_OFFSET=1*e.GRID_UNIT,e.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*e.GRID_UNIT,e}return f(n,[{key:"setFontConstants_",value:function(e){l(u(n.prototype),"setFontConstants_",this).call(this,e),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}},{key:"init",value:function(){l(u(n.prototype),"init",this).call(this),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}},{key:"setDynamicProperties_",value:function(e){l(u(n.prototype),"setDynamicProperties_",this).call(this,e),this.SELECTED_GLOW_COLOUR=e.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;var t=Number(e.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=t&&!isNaN(t)?t:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=e.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(e=Number(e.getComponentStyle("replacementGlowSize")))&&!isNaN(e)?e:this.REPLACEMENT_GLOW_SIZE}},{key:"dispose",value:function(){l(u(n.prototype),"dispose",this).call(this),this.selectedGlowFilter&&_e(this.selectedGlowFilter),this.replacementGlowFilter&&_e(this.replacementGlowFilter)}},{key:"makeStartHat",value:function(){var e=this.START_HAT_HEIGHT,t=this.START_HAT_WIDTH;return{height:e,width:t,path:fo("c",[ho(25,-e),ho(71,-e),ho(t,0)])}}},{key:"makeHexagonal",value:function(){function e(e,n,i){var r=e/2;return go(-(i=i?-1:1)*(r=r>t?t:r),e=(n?-1:1)*e/2)+go(i*r,e)}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width:function(e){return(e/=2)>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}}},{key:"makeRounded",value:function(){function e(e,t,i){var r=e>n?e-n:0,o=i===t?"0":"1";return _o("a","0 0,"+o,e=(e>n?n:e)/2,ho((i?1:-1)*e,(t?-1:1)*e))+yo("v",(t?-1:1)*r)+_o("a","0 0,"+o,e,ho((i?-1:1)*e,(t?-1:1)*e))}var t=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,n=2*t;return{type:this.SHAPES.ROUND,isDynamic:!0,width:function(e){return(e/=2)>t?t:e},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}}},{key:"makeSquared",value:function(){function e(e,n,i){e-=2*t;var r=i===n?"0":"1";return _o("a","0 0,"+r,t,ho((i?1:-1)*t,(n?-1:1)*t))+yo("v",(n?-1:1)*e)+_o("a","0 0,"+r,t,ho((i?-1:1)*t,(n?-1:1)*t))}var t=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width:function(e){return t},height:function(e){return e},connectionOffsetY:function(e){return e/2},connectionOffsetX:function(e){return-e},pathDown:function(t){return e(t,!1,!1)},pathUp:function(t){return e(t,!0,!1)},pathRightDown:function(t){return e(t,!1,!0)},pathRightUp:function(t){return e(t,!1,!0)}}}},{key:"shapeFor",value:function(e){var t=e.getCheck();switch(!t&&e.targetConnection&&(t=e.targetConnection.getCheck()),e.type){case ic.INPUT_VALUE:case ic.OUTPUT_VALUE:if(null!==(e=e.getSourceBlock().getOutputShape()))switch(e){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return t&&-1!==t.indexOf("Boolean")?this.HEXAGONAL:(t&&-1!==t.indexOf("Number")||t&&t.indexOf("String"),this.ROUNDED);case ic.PREVIOUS_STATEMENT:case ic.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}},{key:"makeNotch",value:function(){function e(e){return fo("c",[ho(e*r/2,0),ho(e*r*3/4,a/2),ho(e*r,a)])+mo([ho(e*r,o)])+fo("c",[ho(e*r/4,a/2),ho(e*r/2,a),ho(e*r,a)])+yo("h",e*i)+fo("c",[ho(e*r/2,0),ho(e*r*3/4,-a/2),ho(e*r,-a)])+mo([ho(e*r,-o)])+fo("c",[ho(e*r/4,-a/2),ho(e*r/2,-a),ho(e*r,-a)])}var t=this.NOTCH_WIDTH,n=this.NOTCH_HEIGHT,i=t/3,r=i/3,o=n/2,a=o/2,s=e(1),l=e(-1);return{type:this.SHAPES.NOTCH,width:t,height:n,pathLeft:s,pathRight:l}}},{key:"makeInsideCorners",value:function(){var e=this.CORNER_RADIUS,t=_o("a","0 0,0",e,ho(-e,e)),n=_o("a","0 0,1",e,ho(-e,e));return{width:e,height:e,pathTop:t,pathBottom:_o("a","0 0,0",e,ho(e,e)),rightWidth:e,rightHeight:e,pathTopRight:n,pathBottomRight:_o("a","0 0,1",e,ho(e,e))}}},{key:"generateSecondaryColour_",value:function(e){return Pr("#000",e,.15)||e}},{key:"generateTertiaryColour_",value:function(e){return Pr("#000",e,.25)||e}},{key:"createDom",value:function(e,t,i){l(u(n.prototype),"createDom",this).call(this,e,t,i),e=pe(Ll.DEFS,{},e),t=pe(Ll.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),pe(Ll.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},t),i=pe(Ll.FECOMPONENTTRANSFER,{result:"outBlur"},t),pe(Ll.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},i),pe(Ll.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),pe(Ll.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.selectedGlowFilterId=t.id,this.selectedGlowFilter=t,e=pe(Ll.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},e),pe(Ll.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},e),t=pe(Ll.FECOMPONENTTRANSFER,{result:"outBlur"},e),pe(Ll.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},t),pe(Ll.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},e),pe(Ll.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},e),pe(Ll.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},e),this.replacementGlowFilterId=e.id,this.replacementGlowFilter=e}},{key:"getCSS_",value:function(e){return["".concat(e," .blocklyText,"),"".concat(e," .blocklyFlyoutLabelText {"),"font: ".concat(this.FIELD_TEXT_FONTWEIGHT," ").concat(this.FIELD_TEXT_FONTSIZE)+"pt ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e," .blocklyText {"),"fill: #fff;","}","".concat(e," .blocklyNonEditableText>rect:not(.blocklyDropdownRect),"),"".concat(e," .blocklyEditableText>rect:not(.blocklyDropdownRect) {"),"fill: ".concat(this.FIELD_BORDER_RECT_COLOUR,";"),"}","".concat(e," .blocklyNonEditableText>text,"),"".concat(e," .blocklyEditableText>text,"),"".concat(e," .blocklyNonEditableText>g>text,"),"".concat(e," .blocklyEditableText>g>text {"),"fill: #575E75;","}","".concat(e," .blocklyFlyoutLabelText {"),"fill: #575E75;","}","".concat(e," .blocklyText.blocklyBubbleText {"),"fill: #575E75;","}","".concat(e," .blocklyDraggable:not(.blocklyDisabled)")," .blocklyEditableText:not(.editing):hover>rect,","".concat(e," .blocklyDraggable:not(.blocklyDisabled)")," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}","".concat(e," .blocklyHtmlInput {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"font-weight: ".concat(this.FIELD_TEXT_FONTWEIGHT,";"),"color: #575E75;","}","".concat(e," .blocklyDropdownText {"),"fill: #fff !important;","}","".concat(e,".blocklyWidgetDiv .goog-menuitem,"),"".concat(e,".blocklyDropDownDiv .goog-menuitem {"),"font-family: ".concat(this.FIELD_TEXT_FONTFAMILY,";"),"}","".concat(e,".blocklyDropDownDiv .goog-menuitem-content {"),"color: #fff;","}","".concat(e," .blocklyHighlightedConnectionPath {"),"stroke: ".concat(this.SELECTED_GLOW_COLOUR,";"),"}","".concat(e," .blocklyDisabled > .blocklyOutlinePath {"),"fill: url(#blocklyDisabledPattern".concat(this.randomIdentifier,")"),"}","".concat(e," .blocklyInsertionMarker>.blocklyPath {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}"]}}]),n}(zd),Dp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){return d(this,n),t.call(this,e,i)}return f(n,[{key:"draw",value:function(){var e=this.block_.pathObject;e.beginDrawing(),this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights(),e.setPath(this.outlinePath_+"\n"+this.inlinePath_),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(e.outputShapeType=this.info_.outputConnection.shape.type),e.endDrawing()}},{key:"drawOutline_",value:function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):l(u(n.prototype),"drawOutline_",this).call(this)}},{key:"drawLeft_",value:function(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():l(u(n.prototype),"drawLeft_",this).call(this)}},{key:"drawRightSideRow_",value:function(e){if(!(0>=e.height)){if(Td.isSpacer(e)){var t=e.precedesStatement,n=e.followsStatement;if(t||n){var i=this.constants_.INSIDE_CORNERS,r=i.rightHeight;return r=e.height-(t?r:0),n=n?i.pathBottomRight:"",e=0<r?yo("V",e.yPos+r):"",void(this.outlinePath_+=n+e+(t?i.pathTopRight:""))}}this.outlinePath_+=yo("V",e.yPos+e.height)}}},{key:"drawRightDynamicConnection_",value:function(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}},{key:"drawLeftDynamicConnection_",value:function(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}},{key:"drawFlatTop_",value:function(){var e=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=vo(e.xPos,this.info_.startY),this.outlinePath_+=yo("h",e.width)}},{key:"drawFlatBottom_",value:function(){var e=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=yo("V",e.baseline),this.outlinePath_+=yo("h",-e.width)}},{key:"drawInlineInput_",value:function(e){this.positionInlineInputConnection_(e);var t=e.input.name;e.connectedBlock||this.info_.isInsertionMarker||(e=po(e.xPos+e.connectionWidth,e.centerline-e.height/2)+this.getInlineInputPath(e),this.block_.pathObject.setOutlinePath(t,e))}},{key:"getInlineInputPath",value:function(e){var t=e.width-2*e.connectionWidth,n=e.height;return yo("h",t)+e.shape.pathRightDown(n)+yo("h",-t)+e.shape.pathUp(n)+"z"}},{key:"drawStatementInput_",value:function(e){var t=e.getLastInput(),n=t.xPos+t.notchOffset+t.shape.width,i=this.constants_.INSIDE_CORNERS,r=t.shape.pathRight+yo("h",-(t.notchOffset-i.width))+i.pathTop,o=e.height-2*i.height;t=i.pathBottom+yo("h",t.notchOffset-i.width)+(t.connectedBottomNextConnection?"":t.shape.pathLeft),this.outlinePath_+=yo("H",n)+r+yo("v",o)+t+yo("H",e.xPos+e.width),this.positionStatementInputConnection_(e)}},{key:"drawConnectionHighlightPath",value:function(e){var t=e.connectionModel;if(t.type===ic.NEXT_STATEMENT||t.type===ic.PREVIOUS_STATEMENT||t.type===ic.OUTPUT_VALUE&&!e.isDynamicShape)l(u(n.prototype),"drawConnectionHighlightPath",this).call(this,e);else{e=t.type===ic.INPUT_VALUE?po(e.connectionWidth,-e.height/2)+this.getInlineInputPath(e):po(e.width,-e.height/2)+e.shape.pathDown(e.height);var i,r,o=t.getSourceBlock();null==(r=(i=o.pathObject).addConnectionHighlight)||r.call(i,t,e,t.getOffsetInBlock(),o.RTL)}}}]),n}(Wd),Bp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a,s,l){var u;if(d(this,n),(u=t.call(this,Zh.SKIP_SETUP)).imageElement=u.clickHandler=null,u.flipRtl=u.isDirty_=u.EDITABLE=!1,u.altText="",r=Number(Ur(r)),i=Number(Ur(i)),isNaN(r)||isNaN(i))throw Error("Height and width values of an image field must cast to numbers.");if(0>=r||0>=i)throw Error("Height and width values of an image field must be greater than 0.");return u.size_=new $l(i,r+n.Y_PADDING),u.imageHeight=r,"function"===typeof a&&(u.clickHandler=a),e!==Zh.SKIP_SETUP&&(l?u.configure_(l):(u.flipRtl=!!s,u.altText=Ur(o)||""),u.setValue(Ur(e))),u}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),e.flipRtl&&(this.flipRtl=e.flipRtl),e.alt&&(this.altText=Ur(e.alt))}},{key:"initView",value:function(){this.imageElement=pe(Ll.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(Il,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}},{key:"updateSize_",value:function(){}},{key:"doClassValidation_",value:function(e){return"string"!==typeof e?null:e}},{key:"doValueUpdate_",value:function(e){this.value_=e,this.imageElement&&this.imageElement.setAttributeNS(Il,"xlink:href",this.value_)}},{key:"getFlipRtl",value:function(){return this.flipRtl}},{key:"setAlt",value:function(e){e!==this.altText&&(this.altText=e||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}},{key:"showEditor_",value:function(){this.clickHandler&&this.clickHandler(this)}},{key:"setOnClickHandler",value:function(e){this.clickHandler=e}},{key:"getText_",value:function(){return this.altText}}],[{key:"fromJson",value:function(e){if(!e.src||!e.width||!e.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(e.src,e.width,e.height,void 0,void 0,void 0,e)}}]),n}(Zh);Bp.Y_PADDING=1,Vr("field_image",Bp),Bp.prototype.DEFAULT_VALUE="";var Fp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).spellcheck_=!0,o.htmlInput_=null,o.isTextValid_=o.isBeingEdited_=!1,o.onKeyInputWrapper_=o.onKeyDownWrapper_=o.valueWhenEditorWasOpened_=null,o.fullBlockClickTarget_=!1,o.workspace_=null,o.SERIALIZABLE=!0,o.CURSOR="text",e!==Zh.SKIP_SETUP&&(r&&o.configure_(r),o.setValue(e),i&&o.setValidator(i)),o}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),void 0!==e.spellcheck&&(this.spellcheck_=e.spellcheck)}},{key:"initView",value:function(){if(!this.getSourceBlock())throw new Hh;l(u(n.prototype),"initView",this).call(this),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}},{key:"isFullBlockField",value:function(){var e,t=this.getSourceBlock();if(!t)throw new Hh;return this.fullBlockClickTarget_=!(null==(e=this.getConstants())||!e.FULL_BLOCK_FIELDS)&&t.isSimpleReporter()}},{key:"doValueInvalid_",value:function(e){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,e=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&V()&&U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,e,this.value_)))}},{key:"doValueUpdate_",value:function(e){this.isTextValid_=this.isDirty_=!0,this.value_=e}},{key:"applyColour",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;this.getConstants().FULL_BLOCK_FIELDS&&this.fieldGroup_&&(!this.isFullBlockField()&&this.borderRect_?(this.borderRect_.style.display="block",this.borderRect_.setAttribute("stroke",e.style.colourTertiary)):(this.borderRect_.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)))}},{key:"getSize",value:function(){var e;return null!=(e=this.getConstants())&&e.FULL_BLOCK_FIELDS&&(this.render_(),this.isDirty_=!1),l(u(n.prototype),"getSize",this).call(this)}},{key:"onLocationChange",value:function(){this.isBeingEdited_&&this.resizeEditor_()}},{key:"render_",value:function(){if(l(u(n.prototype),"render_",this).call(this),this.isBeingEdited_){var e=this.htmlInput_;this.isTextValid_?(me(e,"blocklyInvalidInput"),Yn(e,fc.INVALID,!1)):(ve(e,"blocklyInvalidInput"),Yn(e,fc.INVALID,!0))}if(!(e=this.getSourceBlock()))throw new Hh;this.getConstants().FULL_BLOCK_FIELDS&&e.applyColour()}},{key:"setSpellcheck",value:function(e){e!==this.spellcheck_&&(this.spellcheck_=e,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}},{key:"showEditor_",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.workspace_=this.sourceBlock_.workspace,!t&&this.workspace_.options.modalInputs&&(hl||sl||ll)?this.showPromptEditor_():this.showInlineEditor_(t)}},{key:"showPromptEditor_",value:function(){var e=this;ht(Wa.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),(function(t){null!==t&&e.setValue(e.getValueFromEditorText_(t)),e.onFinishEditing_(e.value_)}))}},{key:"showInlineEditor_",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;Qn(this,t.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,e||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}},{key:"widgetCreate_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;Wa.setGroup$$module$build$src$core$events$utils(!0);var t=Kn(),i=this.getClickTarget_();if(!i)throw Error("A click target has not been set.");ve(i,"editing"),(i=document.createElement("input")).className="blocklyHtmlInput",i.setAttribute("spellcheck",this.spellcheck_);var r=this.workspace_.getScale(),o=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";return t.style.fontSize=o,i.style.fontSize=o,o=n.BORDERRADIUS*r+"px",this.isFullBlockField()&&(o=((o=this.getScaledBBox()).bottom-o.top)/2+"px",e=e.getParent()?e.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,i.style.border=1*r+"px solid "+e,t.style.borderRadius=o,t.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(t.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*r+"px")),i.style.borderRadius=o,t.appendChild(i),i.value=i.defaultValue=this.getEditorText_(this.value_),i.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(i),i}},{key:"widgetDispose_",value:function(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&V()&&null!==this.valueWhenEditorWasOpened_&&this.valueWhenEditorWasOpened_!==this.value_&&(U(new(Y(Wa.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),Wa.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var e=Kn().style;if(e.width="auto",e.height="auto",e.fontSize="",e.transition="",e.boxShadow="",this.htmlInput_=null,!(e=this.getClickTarget_()))throw Error("A click target has not been set.");me(e,"editing")}},{key:"onFinishEditing_",value:function(e){}},{key:"bindInputEvents_",value:function(e){this.onKeyDownWrapper_=ie(e,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=ie(e,"input",this,this.onHtmlInputChange_)}},{key:"unbindInputEvents_",value:function(){this.onKeyDownWrapper_&&(oe(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(oe(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}},{key:"onHtmlInputKeyDown_",value:function(e){"Enter"===e.key?(ei(),Hi()):"Escape"===e.key?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value"),!1),ei(),Hi()):"Tab"===e.key&&(ei(),Hi(),this.sourceBlock_.tab(this,!e.shiftKey),e.preventDefault())}},{key:"onHtmlInputChange_",value:function(e){e=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&V()&&this.value_!==e&&U(new(Y(cs))(this.sourceBlock_,this.name||null,e,this.value_))}},{key:"setEditorValue_",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(e)),this.setValue(e,t)}},{key:"resizeEditor_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;var t=Kn(),n=this.getScaledBBox();t.style.width=n.right-n.left+"px",t.style.height=n.bottom-n.top+"px",e=new Tl(e.RTL?n.right-t.offsetWidth:n.left,n.top),t.style.left=e.x+"px",t.style.top=e.y+"px"}},{key:"repositionForWindowResize",value:function(){var e=this.getSourceBlock();return e instanceof Zf&&(ua(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),e)||this.resizeEditor_(),!0)}},{key:"isTabNavigable",value:function(){return!0}},{key:"getText_",value:function(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}},{key:"getEditorText_",value:function(e){return"".concat(e)}},{key:"getValueFromEditorText_",value:function(e){return e}}]),n}(Zh);Fp.BORDERRADIUS=4;var Up=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){return d(this,n),t.call(this,e,i,r)}return f(n,[{key:"doClassValidation_",value:function(e){return void 0===e?null:"".concat(e)}}],[{key:"fromJson",value:function(e){return new this(Ur(e.text),void 0,e)}}]),n}(Fp);Vr("field_input",Up),Up.prototype.DEFAULT_VALUE="";var jp=function(e){"use strict";c(n,e);var t=h(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"endsWithElemSpacer",value:function(){return!1}},{key:"hasLeftSquareCorner",value:function(e){return!!e.outputConnection}},{key:"hasRightSquareCorner",value:function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}}]),n}(wd),Zp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;if(d(this,n),(r=t.call(this,e,i)).connectedBottomNextConnection=!1,r.connectedBlock){for(e=r.connectedBlock;i=e.getNextBlock();)e=i;e.nextConnection||(r.height=r.connectedBlockHeight,r.connectedBottomNextConnection=!0)}return r}return f(n)}(Nd),Hp=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).width=i.height=0,i.type|=Td.getType("RIGHT_CONNECTION"),i}return f(n)}(Ed),zp=function(e){"use strict";c(n,e);var t=h(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"endsWithElemSpacer",value:function(){return!1}},{key:"hasLeftSquareCorner",value:function(e){var t=(e.hat?"cap"===e.hat:this.constants_.ADD_START_HATS)&&!e.outputConnection&&!e.previousConnection;return!!e.outputConnection||t}},{key:"hasRightSquareCorner",value:function(e){return!!e.outputConnection&&!e.statementInputCount&&!e.nextConnection}}]),n}(Hd),Vp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).isInline=!0,r.renderer_=e,r.constants_=r.renderer_.getConstants(),r.topRow=new zp(r.constants_),r.bottomRow=new jp(r.constants_),r.isMultiRow=!i.getInputsInline()||i.isCollapsed(),r.hasStatementInput=0<i.statementInputCount,r.rightSide=r.outputConnection?new Hp(r.constants_):null,r.rightAlignedDummyInputs=new WeakMap,r}return f(n,[{key:"getRenderer",value:function(){return this.renderer_}},{key:"measure",value:function(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}},{key:"shouldStartNewRow_",value:function(e,t){return!!t&&(t instanceof Kd||e instanceof qd||t instanceof qd||(e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input||e instanceof Yd||e instanceof Kd)&&(!this.isInline||this.isMultiRow))}},{key:"getDesiredRowWidth_",value:function(e){return e.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):l(u(n.prototype),"getDesiredRowWidth_",this).call(this,e)}},{key:"getInRowSpacing_",value:function(e,t){return e&&t||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!e&&t&&Td.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:e&&Td.isLeftRoundedCorner(e)&&t&&(Td.isPreviousConnection(t)||Td.isNextConnection(t))?t.notchOffset-this.constants_.CORNER_RADIUS:e&&Td.isLeftSquareCorner(e)&&t&&Td.isHat(t)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}},{key:"getSpacerRowHeight_",value:function(e,t){if(Td.isTopRow(e)&&Td.isBottomRow(t))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;var n=Td.isInputRow(e)&&e.hasStatement,i=Td.isInputRow(t)&&t.hasStatement;return i||n?(e=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),i&&n?Math.max(e,this.constants_.DUMMY_INPUT_MIN_HEIGHT):e):Td.isTopRow(e)?e.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Td.isBottomRow(t)?this.outputConnection?!t.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}},{key:"getSpacerRowWidth_",value:function(e,t){var n=this.width-this.startX;return Td.isInputRow(e)&&e.hasStatement||Td.isInputRow(t)&&t.hasStatement?Math.max(n,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):n}},{key:"getElemCenterline_",value:function(e,t){if(e.hasStatement&&!Td.isSpacer(t)&&!Td.isStatementInput(t))return e.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Td.isInlineInput(t)&&t instanceof Cd){var i=t.connectedBlock;if(i&&i.outputConnection&&i.nextConnection)return e.yPos+i.height/2}return l(u(n.prototype),"getElemCenterline_",this).call(this,e,t)}},{key:"addInput_",value:function(e,t){if((e instanceof Yd||e instanceof Kd)&&t.hasDummyInput&&t.align===Wa.Align$$module$build$src$core$inputs$align.LEFT&&e.align===Wa.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(t,e);else if(e instanceof qd)return t.elements.push(new Zp(this.constants_,e)),t.hasStatement=!0,void(null===t.align&&(t.align=e.align));l(u(n.prototype),"addInput_",this).call(this,e,t)}},{key:"addAlignmentPadding_",value:function(e,t){if(this.rightAlignedDummyInputs.get(e)){for(var i,r=0;r<e.elements.length;r++){var o=e.elements[r];if(Td.isSpacer(o)&&(i=o),Td.isField(o)&&o instanceof Rd&&o.parentInput===this.rightAlignedDummyInputs.get(e))break}if(i)return i.width+=t,void(e.width+=t)}l(u(n.prototype),"addAlignmentPadding_",this).call(this,e,t)}},{key:"adjustXPosition_",value:function(){for(var e=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH,t=e,n=2;n<this.rows.length-1;n+=2){var i=this.rows[n-1],r=this.rows[n],o=this.rows[n+1];if(i=2===n?!!this.topRow.hasPreviousConnection:!!i.followsStatement,o=n+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!o.precedesStatement,Td.isInputRow(r)&&r.hasStatement){r.measure();var a=void 0,s=void 0;t=r.width-(null!=(s=null==(a=r.getLastInput())?void 0:a.width)?s:0)+e}else if(i&&(2===n||o)&&Td.isInputRow(r)&&!r.hasStatement){o=r.xPos,i=null;for(var l=0;l<r.elements.length;l++){var u=r.elements[l];Td.isSpacer(u)&&(i=u),i&&(Td.isField(u)||Td.isInput(u))&&o<t&&!(Td.isField(u)&&u instanceof Rd&&(u.field instanceof Gd||u.field instanceof Bp))&&(i.width+=t-o),o+=u.width}}}}},{key:"finalizeOutputConnection_",value:function(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var e=this.outputConnection.shape;if("isDynamic"in e&&e.isDynamic){for(var t=0,n=0;n<this.rows.length;n++){var i=this.rows[n];i.yPos=t,t+=i.height}this.height=t,n=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,t=e.height(n),n=e.width(n),this.outputConnection.height=t,this.outputConnection.width=n,this.outputConnection.startX=n,this.outputConnection.connectionOffsetY=e.connectionOffsetY(t),this.outputConnection.connectionOffsetX=e.connectionOffsetX(n),e=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(e=n,this.rightSide.height=t,this.rightSide.width=e,this.rightSide.centerline=t/2,this.rightSide.xPos=this.width+e),this.startX=n,this.width+=n+e,this.widthWithChildren+=n+e}}}},{key:"finalizeHorizontalAlignment_",value:function(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var e=0,t=0;t<this.rows.length;t++){var n=this.rows[t];if(Td.isInputRow(n)){e=n.elements[n.elements.length-2];var i=this.getNegativeSpacing_(n.elements[1]),r=this.getNegativeSpacing_(e);e=i+r;var o=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-e<o&&(i=(e=this.width-o)/2,r=e/2),n.elements.unshift(new Md(this.constants_,-i)),n.elements.push(new Md(this.constants_,-r))}}if(e)for(this.width-=e,this.widthWithChildren-=e,this.rightSide.xPos-=e,t=0;t<this.rows.length;t++)n=this.rows[t],Td.isTopOrBottomRow(n)&&(n.elements[1].width-=e),n.width-=e,n.widthWithConnectedBlocks-=e}}},{key:"getNegativeSpacing_",value:function(e){if(!e||!this.outputConnection)return 0;var t=this.outputConnection.width,n=this.outputConnection.shape.type,i=this.constants_;if(1<this.inputRows.length)return n===i.SHAPES.ROUND?(n=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,t-(n=this.height/2>n?n:this.height/2)*(1-Math.sin(Math.acos((n-this.constants_.SMALL_PADDING)/n)))):0;if(Td.isInlineInput(e)&&e instanceof Cd){var r=e.connectedBlock;return null==(e=r?r.pathObject.outputShapeType:e.shape.type)||r&&r.outputConnection&&(r.statementInputCount||r.nextConnection)||n===i.SHAPES.HEXAGONAL&&n!==e?0:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][e]}return Td.isField(e)&&e instanceof Rd?n===i.SHAPES.ROUND&&e.field instanceof Up?t-2.75*i.GRID_UNIT:t-this.constants_.SHAPE_IN_SHAPE_PADDING[n][0]:Td.isIcon(e)?this.constants_.SMALL_PADDING:0}},{key:"finalizeVerticalAlignment_",value:function(){if(!this.outputConnection)for(var e=2;e<this.rows.length-1;e+=2){var t=this.rows[e-1],n=this.rows[e],i=this.rows[e+1],r=2===e,o=e+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!i.precedesStatement;if(r?this.topRow.hasPreviousConnection:t.followsStatement){var a=n.elements[1];if(a=3===n.elements.length&&a instanceof Rd&&(a.field instanceof Gd||a.field instanceof Bp),!r&&a)t.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING,n.height-=this.constants_.MEDIUM_PADDING;else if(r||o){if(o){for(r=!1,o=0;o<n.elements.length;o++)if((a=n.elements[o])instanceof Cd&&Td.isInlineInput(a)&&a.connectedBlock&&!a.connectedBlock.isShadow()&&40<=a.connectedBlock.getHeightWidth().height){r=!0;break}r&&(t.height-=this.constants_.SMALL_PADDING,i.height-=this.constants_.SMALL_PADDING)}}else t.height+=this.constants_.SMALL_PADDING}}}},{key:"finalize_",value:function(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),l(u(n.prototype),"finalize_",this).call(this),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}}]),n}(Jd),Wp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).markerCircle=null,o}return f(n,[{key:"showWithInputOutput",value:function(e){var t=e.getSourceBlock();e=e.getLocation().getOffsetInBlock(),this.positionCircle(e.x,e.y),this.setParent_(t),this.showCurrent_()}},{key:"showWithOutput_",value:function(e){this.showWithInputOutput(e)}},{key:"showWithInput_",value:function(e){this.showWithInputOutput(e)}},{key:"showWithBlock_",value:function(e){var t=(e=e.getLocation()).getHeightWidth();this.positionRect_(0,0,t.width,t.height),this.setParent_(e),this.showCurrent_()}},{key:"positionCircle",value:function(e,t){var n,i;null==(n=this.markerCircle)||n.setAttribute("cx","".concat(e)),null==(i=this.markerCircle)||i.setAttribute("cy","".concat(t)),this.currentMarkerSvg=this.markerCircle}},{key:"hide",value:function(){l(u(n.prototype),"hide",this).call(this),this.markerCircle&&(this.markerCircle.style.display="none")}},{key:"createDomInternal_",value:function(){if(l(u(n.prototype),"createDomInternal_",this).call(this),this.markerCircle=pe(Ll.CIRCLE,{r:this.constants_.CURSOR_RADIUS,"stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.hide(),this.isCursor()){var e=this.getBlinkProperties_();pe(Ll.ANIMATE,e,this.markerCircle)}return this.markerSvg_}},{key:"applyColour_",value:function(e){var t,i,r;l(u(n.prototype),"applyColour_",this).call(this,e),null==(t=this.markerCircle)||t.setAttribute("fill",this.colour_),null==(i=this.markerCircle)||i.setAttribute("stroke",this.colour_),this.isCursor()&&(e=this.colour_+";transparent;transparent;",null==(r=this.markerCircle)||r.firstElementChild.setAttribute("values",e))}}]),n}(of),Gp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).svgPathSelected=null,o.outlines=new Map,o.remainingOutlines=new Set,o.outputShapeType=null,o.constants=r,o}return f(n,[{key:"setPath",value:function(e){l(u(n.prototype),"setPath",this).call(this,e),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",e)}},{key:"applyColour",value:function(e){l(u(n.prototype),"applyColour",this).call(this,e);var t=e.getParent();e.isShadow()&&t&&this.svgPath.setAttribute("stroke",t.style.colourTertiary);var i,r=g(this.outlines.values());try{for(r.s();!(i=r.n()).done;)i.value.setAttribute("fill",this.style.colourTertiary)}catch(o){r.e(o)}finally{r.f()}}},{key:"flipRTL",value:function(){l(u(n.prototype),"flipRTL",this).call(this);var e,t=g(this.outlines.values());try{for(t.s();!(e=t.n()).done;)e.value.setAttribute("transform","scale(-1 1)")}catch(i){t.e(i)}finally{t.f()}}},{key:"updateSelected",value:function(e){this.setClass_("blocklySelected",e),e?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}},{key:"updateReplacementFade",value:function(e){this.setClass_("blocklyReplaceable",e),e?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}},{key:"updateShapeForInputHighlight",value:function(e,t){e=e.getParentInput().name,(e=this.getOutlinePath(e))&&(t?e.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):e.removeAttribute("filter"))}},{key:"beginDrawing",value:function(){this.remainingOutlines.clear();var e,t=g(this.outlines.keys());try{for(t.s();!(e=t.n()).done;){var n=e.value;this.remainingOutlines.add(n)}}catch(i){t.e(i)}finally{t.f()}}},{key:"endDrawing",value:function(){if(this.remainingOutlines.size){var e,t=g(this.remainingOutlines);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.removeOutlinePath(n)}}catch(i){t.e(i)}finally{t.f()}}this.remainingOutlines.clear()}},{key:"setOutlinePath",value:function(e,t){(e=this.getOutlinePath(e)).setAttribute("d",t),e.setAttribute("fill",this.style.colourTertiary)}},{key:"getOutlinePath",value:function(e){return this.outlines.has(e)||this.outlines.set(e,pe(Ll.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(e),this.outlines.get(e)}},{key:"removeOutlinePath",value:function(e){var t,n;null==(t=this.outlines.get(e))||null==(n=t.parentNode)||n.removeChild(this.outlines.get(e)),this.outlines.delete(e)}}]),n}(af),Xp=function(e){"use strict";c(n,e);var t=h(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"makeConstants_",value:function(){return new Pp}},{key:"makeRenderInfo_",value:function(e){return new Vp(this,e)}},{key:"makeDrawer_",value:function(e,t){return new Dp(e,t)}},{key:"makeMarkerDrawer",value:function(e,t){return new Wp(e,this.getConstants(),t)}},{key:"makePathObject",value:function(e,t){return new Gp(e,t,this.getConstants())}},{key:"getConstants",value:function(){return this.constants_}},{key:"getConnectionPreviewMethod",value:function(e,t,i){return fe("getConnectionPreviewMethod","v10","v12","an IConnectionPreviewer, if it fulfills your use case."),t.type===ic.OUTPUT_VALUE?e.isConnected()?df.PREVIEW_TYPE.REPLACEMENT_FADE:df.PREVIEW_TYPE.INPUT_OUTLINE:l(u(n.prototype),"getConnectionPreviewMethod",this).call(this,e,t,i)}}]),n}(vf);Fo("zelos",Xp);var Yp={};Yp.BottomRow=jp,Yp.ConstantProvider=Pp,Yp.Drawer=Dp,Yp.MarkerSvg=Wp,Yp.PathObject=Gp,Yp.RenderInfo=Vp,Yp.Renderer=Xp,Yp.RightConnectionShape=Hp,Yp.StatementInput=Zp,Yp.TopRow=zp,La();var Kp={};Kp.registerCleanup=ga,Kp.registerCollapse=ya,Kp.registerCollapseExpandBlock=Ia,Kp.registerComment=Sa,Kp.registerDefaultOptions=La,Kp.registerDelete=Oa,Kp.registerDeleteAll=Ea,Kp.registerDisable=Ra,Kp.registerDuplicate=wa,Kp.registerExpand=_a,Kp.registerHelp=Aa,Kp.registerInline=Ca,Kp.registerRedo=va,Kp.registerUndo=pa;var qp,Jp=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).clockwise=n.CLOCKWISE,o.offset=n.OFFSET,o.wrap=n.WRAP,o.round=n.ROUND,o.boundEvents=[],o.symbol_=o.gauge=o.line=null,e!==Zh.SKIP_SETUP&&(r&&o.configure_(r),o.setValue(e),i&&o.setValidator(i)),o}return f(n,[{key:"configure_",value:function(e){switch(l(u(n.prototype),"configure_",this).call(this,e),e.mode){case qp.COMPASS:this.clockwise=!0,this.offset=90;break;case qp.PROTRACTOR:this.clockwise=!1,this.offset=0}e.clockwise&&(this.clockwise=e.clockwise),e.offset&&(this.offset=e.offset),e.wrap&&(this.wrap=e.wrap),e.round&&(this.round=e.round)}},{key:"initView",value:function(){l(u(n.prototype),"initView",this).call(this),this.symbol_=pe(Ll.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("\xb0")),this.getTextElement().appendChild(this.symbol_)}},{key:"render_",value:function(){l(u(n.prototype),"render_",this).call(this),this.updateGraph()}},{key:"showEditor_",value:function(e){l(u(n.prototype),"showEditor_",this).call(this,e,hl||sl||ll),e=this.dropdownCreate(),Ci().appendChild(e),this.sourceBlock_ instanceof Zf&&Ri(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),Ai(this,this.dropdownDispose.bind(this)),this.updateGraph()}},{key:"dropdownCreate",value:function(){var e=pe(Ll.SVG,{xmlns:Sl,"xmlns:html":Cl,"xmlns:xlink":Il,version:"1.1",height:2*n.HALF+"px",width:2*n.HALF+"px"});e.style.touchAction="none";var t=pe(Ll.CIRCLE,{cx:n.HALF,cy:n.HALF,r:n.RADIUS,class:"blocklyAngleCircle"},e);this.gauge=pe(Ll.PATH,{class:"blocklyAngleGauge"},e),this.line=pe(Ll.LINE,{x1:n.HALF,y1:n.HALF,class:"blocklyAngleLine"},e);for(var i=0;360>i;i+=15)pe(Ll.LINE,{x1:n.HALF+n.RADIUS,y1:n.HALF,x2:n.HALF+n.RADIUS-(0===i%45?10:5),y2:n.HALF,class:"blocklyAngleMarks",transform:"rotate("+i+","+n.HALF+","+n.HALF+")"},e);return this.boundEvents.push(ie(e,"click",this,this.hide)),this.boundEvents.push(ie(t,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(ie(t,"pointermove",this,this.onMouseMove_,!0)),e}},{key:"dropdownDispose",value:function(){var e,t=g(this.boundEvents);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.boundEvents.length=0,this.line=this.gauge=null}},{key:"hide",value:function(){ji(this),ei()}},{key:"onMouseMove_",value:function(e){var t=this.gauge.ownerSVGElement.getBoundingClientRect(),i=e.clientX-t.left-n.HALF;e=e.clientY-t.top-n.HALF,t=Math.atan(-e/i),isNaN(t)||(t=Ti(t),0>i?t+=180:0<e&&(t+=360),t=this.clockwise?this.offset+360-t:360-(this.offset-t),this.displayMouseOrKeyboardValue(t))}},{key:"displayMouseOrKeyboardValue",value:function(e){if(this.round&&(e=Math.round(e/this.round)*this.round),(e=this.wrapValue(e))!==this.value_){var t=this.value_;this.setEditorValue_(e,!1),this.sourceBlock_&&V()&&this.value_!==t&&U(new(Y(cs))(this.sourceBlock_,this.name||null,t,this.value_))}}},{key:"updateGraph",value:function(){if(this.gauge&&this.line){var e=Number(this.getText())+this.offset,t=ki(e%360);e=["M ",n.HALF,",",n.HALF];var i=n.HALF,r=n.HALF;if(!isNaN(t)){var o=Number(this.clockwise),a=ki(this.offset),s=Math.cos(a)*n.RADIUS,l=Math.sin(a)*-n.RADIUS;o&&(t=2*a-t),i+=Math.cos(t)*n.RADIUS,r-=Math.sin(t)*n.RADIUS,t=Math.abs(Math.floor((t-a)/Math.PI)%2),o&&(t=1-t),e.push(" l ",s,",",l," A ",n.RADIUS,",",n.RADIUS," 0 ",t," ",o," ",i,",",r," z")}this.gauge.setAttribute("d",e.join("")),this.line.setAttribute("x2","".concat(i)),this.line.setAttribute("y2","".concat(r))}}},{key:"onHtmlInputKeyDown_",value:function(e){l(u(n.prototype),"onHtmlInputKeyDown_",this).call(this,e);var t=this.getSourceBlock();if(!t)throw new Hh;var i=0;switch(e.key){case"ArrowLeft":i=t.RTL?1:-1;break;case"ArrowRight":i=t.RTL?-1:1;break;case"ArrowDown":i=-1;break;case"ArrowUp":i=1}i&&(t=this.getValue(),this.displayMouseOrKeyboardValue(t+i*this.round),e.preventDefault(),e.stopPropagation())}},{key:"doClassValidation_",value:function(e){return e=Number(e),isNaN(e)||!isFinite(e)?null:this.wrapValue(e)}},{key:"wrapValue",value:function(e){return 0>(e%=360)&&(e+=360),e>this.wrap&&(e-=360),e}}],[{key:"fromJson",value:function(e){return new this(e.angle,void 0,e)}}]),n}(Fp);Jp.HALF=50,Jp.RADIUS=Jp.HALF-1,Jp.CLOCKWISE=!1,Jp.OFFSET=0,Jp.WRAP=360,Jp.ROUND=15,Vr("field_angle",Jp),Jp.prototype.DEFAULT_VALUE=0,he("\n.blocklyAngleCircle {\n  stroke: #444;\n  stroke-width: 1;\n  fill: #ddd;\n  fill-opacity: 0.8;\n}\n\n.blocklyAngleMarks {\n  stroke: #444;\n  stroke-width: 1;\n}\n\n.blocklyAngleGauge {\n  fill: #f88;\n  fill-opacity: 0.8;\n  pointer-events: none;\n}\n\n.blocklyAngleLine {\n  stroke: #f00;\n  stroke-width: 2;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n"),function(e){e.COMPASS="compass",e.PROTRACTOR="protractor"}(qp||(qp={}));var Qp={};Qp.FieldAngle=Jp,Qp.Mode=qp;var ev=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).SERIALIZABLE=!0,o.CURSOR="default",o.value_=o.value_,o.checkChar=n.CHECK_CHAR,e!==Zh.SKIP_SETUP&&(r&&o.configure_(r),o.setValue(e),i&&o.setValidator(i)),o}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),e.checkCharacter&&(this.checkChar=e.checkCharacter)}},{key:"saveState",value:function(){var e=this.saveLegacyState(n);return null!==e?e:this.getValueBoolean()}},{key:"initView",value:function(){l(u(n.prototype),"initView",this).call(this);var e=this.getTextElement();ve(e,"blocklyCheckbox"),e.style.display=this.value_?"block":"none"}},{key:"render_",value:function(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}},{key:"getDisplayText_",value:function(){return this.checkChar}},{key:"setCheckCharacter",value:function(e){this.checkChar=e||n.CHECK_CHAR,this.forceRerender()}},{key:"showEditor_",value:function(){this.setValue(!this.value_)}},{key:"doClassValidation_",value:function(e){return!0===e||"TRUE"===e?"TRUE":!1===e||"FALSE"===e?"FALSE":null}},{key:"doValueUpdate_",value:function(e){this.value_=this.convertValueToBool_(e),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}},{key:"getValue",value:function(){return this.value_?"TRUE":"FALSE"}},{key:"getValueBoolean",value:function(){return this.value_}},{key:"getText",value:function(){return String(this.convertValueToBool_(this.value_))}},{key:"convertValueToBool_",value:function(e){return"string"===typeof e?"TRUE"===e:!!e}}],[{key:"fromJson",value:function(e){return new this(e.checked,void 0,e)}}]),n}(Zh);ev.CHECK_CHAR="\u2713",Vr("field_checkbox",ev),ev.prototype.DEFAULT_VALUE=!1;var tv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).highlightedIndex=o.picker=null,o.boundEvents=[],o.SERIALIZABLE=!0,o.CURSOR="default",o.isDirty_=!1,o.titles=o.colours=null,o.columns=0,e!==Zh.SKIP_SETUP&&(r&&o.configure_(r),o.setValue(e),i&&o.setValidator(i)),o}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),e.colourOptions&&(this.colours=e.colourOptions),e.colourTitles&&(this.titles=e.colourTitles),e.columns&&(this.columns=e.columns)}},{key:"initView",value:function(){this.size_=new $l(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1",this.getBorderRect().setAttribute("stroke","#fff"),this.isFullBlockField()&&(this.clickTarget_=this.sourceBlock_.getSvgRoot())}},{key:"isFullBlockField",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;var t=this.getConstants();return e.isSimpleReporter()&&!(null==t||!t.FIELD_COLOUR_FULL_BLOCK)}},{key:"applyColour",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;if(this.fieldGroup_){var t=this.borderRect_;if(!t)throw Error("The border rect has not been initialized");this.isFullBlockField()?(t.style.display="none",e.pathObject.svgPath.setAttribute("fill",this.getValue()),e.pathObject.svgPath.setAttribute("stroke","#fff")):(t.style.display="block",t.style.fill=this.getValue())}}},{key:"getSize",value:function(){var e;return null!=(e=this.getConstants())&&e.FIELD_COLOUR_FULL_BLOCK&&(this.render_(),this.isDirty_=!1),l(u(n.prototype),"getSize",this).call(this)}},{key:"render_",value:function(){l(u(n.prototype),"render_",this).call(this);var e=this.getSourceBlock();if(!e)throw new Hh;e.applyColour()}},{key:"updateSize_",value:function(e){var t=this.getConstants();this.isFullBlockField()?(e=2*(null!=e?e:0),t=t.FIELD_TEXT_HEIGHT):(e=t.FIELD_COLOUR_DEFAULT_WIDTH,t=t.FIELD_COLOUR_DEFAULT_HEIGHT),this.size_.height=t,this.size_.width=e,this.positionBorderRect_()}},{key:"doClassValidation_",value:function(e){return"string"!==typeof e?null:Mr(e)}},{key:"getText",value:function(){var e=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(e)&&(e="#"+e[1]+e[3]+e[5]),e}},{key:"setColours",value:function(e,t){return this.colours=e,t&&(this.titles=t),this}},{key:"setColumns",value:function(e){return this.columns=e,this}},{key:"showEditor_",value:function(){this.dropdownCreate(),Ci().appendChild(this.picker),Ai(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}},{key:"onClick",value:function(e){null!==(e=(e=e.target)&&e.getAttribute("data-colour"))&&(this.setValue(e),ji(this))}},{key:"onKeyDown",value:function(e){var t,n=!0;switch(e.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(t=this.getHighlighted())&&null!==(t=t.getAttribute("data-colour"))&&this.setValue(t),Hi();break;default:n=!1}n&&e.stopPropagation()}},{key:"moveHighlightBy",value:function(e,t){if(this.highlightedIndex){var i=this.colours||n.COLOURS,r=this.columns||n.COLUMNS,o=this.highlightedIndex%r,a=Math.floor(this.highlightedIndex/r);o+=e,a+=t,0>e?0>o&&0<a?(o=r-1,a--):0>o&&(o=0):0<e?o>r-1&&a<Math.floor(i.length/r)-1?(o=0,a++):o>r-1&&o--:0>t?0>a&&(a=0):0<t&&a>Math.floor(i.length/r)-1&&(a=Math.floor(i.length/r)-1),this.setHighlightedCell(this.picker.childNodes[a].childNodes[o],a*r+o)}}},{key:"onMouseMove",value:function(e){var t=(e=e.target)&&Number(e.getAttribute("data-index"));null!==t&&t!==this.highlightedIndex&&this.setHighlightedCell(e,t)}},{key:"onMouseEnter",value:function(){var e;null==(e=this.picker)||e.focus({preventScroll:!0})}},{key:"onMouseLeave",value:function(){var e;null==(e=this.picker)||e.blur(),(e=this.getHighlighted())&&me(e,"blocklyColourHighlighted")}},{key:"getHighlighted",value:function(){if(!this.highlightedIndex)return null;var e=this.columns||n.COLUMNS,t=this.picker.childNodes[Math.floor(this.highlightedIndex/e)];return t?t.childNodes[this.highlightedIndex%e]:null}},{key:"setHighlightedCell",value:function(e,t){var n=this.getHighlighted();n&&me(n,"blocklyColourHighlighted"),ve(e,"blocklyColourHighlighted"),this.highlightedIndex=t,(e=e.getAttribute("id"))&&this.picker&&Yn(this.picker,fc.ACTIVEDESCENDANT,e)}},{key:"dropdownCreate",value:function(){var e,t=this.columns||n.COLUMNS,i=this.colours||n.COLOURS,r=this.titles||n.TITLES,o=this.getValue(),a=document.createElement("table");a.className="blocklyColourTable",a.tabIndex=0,a.dir="ltr",Xn(a,dc.GRID),Yn(a,fc.EXPANDED,!0),Yn(a,fc.ROWCOUNT,Math.floor(i.length/t)),Yn(a,fc.COLCOUNT,t);for(var s=0;s<i.length;s++){0===s%t&&(e=document.createElement("tr"),Xn(e,dc.ROW),a.appendChild(e));var l=document.createElement("td");e.appendChild(l),l.setAttribute("data-colour",i[s]),l.title=r[s]||i[s],l.id=P(),l.setAttribute("data-index","".concat(s)),Xn(l,dc.GRIDCELL),Yn(l,fc.LABEL,i[s]),Yn(l,fc.SELECTED,i[s]===o),l.style.backgroundColor=i[s],i[s]===o&&(l.className="blocklyColourSelected",this.highlightedIndex=s)}this.boundEvents.push(ie(a,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(ie(a,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(ie(a,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(ie(a,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(ie(a,"keydown",this,this.onKeyDown,!1)),this.picker=a}},{key:"dropdownDispose",value:function(){var e,t=g(this.boundEvents);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.boundEvents.length=0,this.highlightedIndex=this.picker=null}}],[{key:"fromJson",value:function(e){return new this(e.colour,void 0,e)}}]),n}(Zh);tv.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),tv.TITLES=[],tv.COLUMNS=7,tv.prototype.DEFAULT_VALUE=tv.COLOURS[0],Vr("field_colour",tv),he("\n.blocklyColourTable {\n  border-collapse: collapse;\n  display: block;\n  outline: none;\n  padding: 1px;\n}\n\n.blocklyColourTable>tr>td {\n  border: 0.5px solid #888;\n  box-sizing: border-box;\n  cursor: pointer;\n  display: inline-block;\n  height: 20px;\n  padding: 0;\n  width: 20px;\n}\n\n.blocklyColourTable>tr>td.blocklyColourHighlighted {\n  border-color: #eee;\n  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);\n  position: relative;\n}\n\n.blocklyColourSelected, .blocklyColourSelected:hover {\n  border-color: #eee !important;\n  outline: 1px solid #333;\n  position: relative;\n}\n");var nv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,String(null!=e?e:""),i,r)).EDITABLE=!1,o.SERIALIZABLE=!0,o}return f(n,null,[{key:"fromJson",value:function(e){return new this(Ur(e.text),void 0,e)}}]),n}(Gd);Vr("field_label_serializable",nv);var iv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,Zh.SKIP_SETUP)).textGroup=null,o.maxLines_=1/0,o.isOverflowedY_=!1,e!==Zh.SKIP_SETUP&&(r&&o.configure_(r),o.setValue(e),i&&o.setValidator(i)),o}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),e.maxLines&&this.setMaxLines(e.maxLines)}},{key:"toXml",value:function(e){return e.textContent=this.getValue().replace(/\n/g,"&#10;"),e}},{key:"fromXml",value:function(e){this.setValue(e.textContent.replace(/&#10;/g,"\n"))}},{key:"saveState",value:function(){var e=this.saveLegacyState(n);return null!==e?e:this.getValue()}},{key:"loadState",value:function(e){this.loadLegacyState(Zh,e)||this.setValue(e)}},{key:"initView",value:function(){this.createBorderRect_(),this.textGroup=pe(Ll.G,{class:"blocklyEditableText"},this.fieldGroup_)}},{key:"getDisplayText_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;var t=this.getText();if(!t)return Zh.NBSP;var n=t.split("\n");t="";for(var i=this.isOverflowedY_?this.maxLines_:n.length,r=0;r<i;r++){var o=n[r];o.length>this.maxDisplayLength?o=o.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&r===i-1&&(o=o.substring(0,o.length-3)+"..."),t+=o=o.replace(/\s/g,Zh.NBSP),r!==i-1&&(t+="\n")}return e.RTL&&(t+="\u200f"),t}},{key:"doValueUpdate_",value:function(e){l(u(n.prototype),"doValueUpdate_",this).call(this,e),null!==this.value_&&(this.isOverflowedY_=this.value_.split("\n").length>this.maxLines_)}},{key:"render_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;for(var t,n=this.textGroup;t=n.firstChild;)n.removeChild(t);t=this.getDisplayText_().split("\n");for(var i=0,r=0;r<t.length;r++){var o=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;pe(Ll.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:i+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},n).appendChild(document.createTextNode(t[r])),i+=o}this.isBeingEdited_&&(n=this.htmlInput_,this.isOverflowedY_?ve(n,"blocklyHtmlTextAreaInputOverflowedY"):me(n,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(e.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),e=this.htmlInput_,this.isTextValid_?(me(e,"blocklyInvalidInput"),Yn(e,fc.INVALID,!1)):(ve(e,"blocklyInvalidInput"),Yn(e,fc.INVALID,!0)))}},{key:"updateSize_",value:function(){for(var e=this.textGroup.childNodes,t=this.getConstants().FIELD_TEXT_FONTSIZE,n=this.getConstants().FIELD_TEXT_FONTWEIGHT,i=this.getConstants().FIELD_TEXT_FONTFAMILY,r=0,o=0,a=0;a<e.length;a++){var s=Se(e[a],t,n,i);s>r&&(r=s),o+=this.getConstants().FIELD_TEXT_HEIGHT+(0<a?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(e=String(this.value_).split("\n"),a=pe(Ll.TEXT,{class:"blocklyText blocklyMultilineText"}),s=0;s<e.length;s++){e[s].length>this.maxDisplayLength&&(e[s]=e[s].substring(0,this.maxDisplayLength)),a.textContent=e[s];var l=Se(a,t,n,i);l>r&&(r=l)}r+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(o+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,r+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width","".concat(r)),this.borderRect_.setAttribute("height","".concat(o))),this.size_.width=r,this.size_.height=o,this.positionBorderRect_()}},{key:"showEditor_",value:function(e,t){l(u(n.prototype),"showEditor_",this).call(this,e,t),this.forceRerender()}},{key:"widgetCreate_",value:function(){var e=Kn(),t=this.workspace_.getScale(),n=document.createElement("textarea");n.className="blocklyHtmlInput blocklyHtmlTextAreaInput",n.setAttribute("spellcheck",String(this.spellcheck_));var i=this.getConstants().FIELD_TEXT_FONTSIZE*t+"pt";e.style.fontSize=i,n.style.fontSize=i,n.style.borderRadius=Up.BORDERRADIUS*t+"px",i=this.getConstants().FIELD_BORDER_RECT_X_PADDING*t;var r=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*t/2;return n.style.padding=r+"px "+i+"px "+r+"px "+i+"px",i=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,n.style.lineHeight=i*t+"px",e.appendChild(n),n.value=n.defaultValue=this.getEditorText_(this.value_),n.setAttribute("data-untyped-default-value",String(this.value_)),n.setAttribute("data-old-value",""),al?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(n),n}},{key:"setMaxLines",value:function(e){"number"===typeof e&&0<e&&e!==this.maxLines_&&(this.maxLines_=e,this.forceRerender())}},{key:"getMaxLines",value:function(){return this.maxLines_}},{key:"onHtmlInputKeyDown_",value:function(e){"Enter"!==e.key&&l(u(n.prototype),"onHtmlInputKeyDown_",this).call(this,e)}}],[{key:"fromJson",value:function(e){return new this(Ur(e.text),void 0,e)}}]),n}(Up);Vr("field_multilinetext",iv),he("\n.blocklyHtmlTextAreaInput {\n  font-family: monospace;\n  resize: none;\n  overflow: hidden;\n  height: 100%;\n  text-align: left;\n}\n\n.blocklyHtmlTextAreaInputOverflowedY {\n  overflow-y: scroll;\n}\n");var rv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a,s){var l;return d(this,n),(l=t.call(this,Zh.SKIP_SETUP)).min_=-1/0,l.max_=1/0,l.precision_=0,l.decimalPlaces=null,l.spellcheck_=!1,e!==Zh.SKIP_SETUP&&(s?l.configure_(s):l.setConstraints(i,r,o),l.setValue(e),a&&l.setValidator(a)),l}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),this.setMinInternal(e.min),this.setMaxInternal(e.max),this.setPrecisionInternal(e.precision)}},{key:"setConstraints",value:function(e,t,n){this.setMinInternal(e),this.setMaxInternal(t),this.setPrecisionInternal(n),this.setValue(this.getValue())}},{key:"setMin",value:function(e){this.setMinInternal(e),this.setValue(this.getValue())}},{key:"setMinInternal",value:function(e){null==e?this.min_=-1/0:(e=Number(e),isNaN(e)||(this.min_=e))}},{key:"getMin",value:function(){return this.min_}},{key:"setMax",value:function(e){this.setMaxInternal(e),this.setValue(this.getValue())}},{key:"setMaxInternal",value:function(e){null==e?this.max_=1/0:(e=Number(e),isNaN(e)||(this.max_=e))}},{key:"getMax",value:function(){return this.max_}},{key:"setPrecision",value:function(e){this.setPrecisionInternal(e),this.setValue(this.getValue())}},{key:"setPrecisionInternal",value:function(e){this.precision_=Number(e)||0;var t=String(this.precision_);-1!==t.indexOf("e")&&(t=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));var n=t.indexOf(".");this.decimalPlaces=-1===n?e?0:null:t.length-n-1}},{key:"getPrecision",value:function(){return this.precision_}},{key:"doClassValidation_",value:function(e){return null===e?null:(e=(e=(e="".concat(e).replace(/O/gi,"0")).replace(/,/g,"")).replace(/infinity/i,"Infinity"),e=Number(e||0),isNaN(e)?null:(e=Math.min(Math.max(e,this.min_),this.max_),this.precision_&&isFinite(e)&&(e=Math.round(e/this.precision_)*this.precision_),null!==this.decimalPlaces&&(e=Number(e.toFixed(this.decimalPlaces))),e))}},{key:"widgetCreate_",value:function(){var e=l(u(n.prototype),"widgetCreate_",this).call(this);return-1/0<this.min_&&(e.min="".concat(this.min_),Yn(e,fc.VALUEMIN,this.min_)),1/0>this.max_&&(e.max="".concat(this.max_),Yn(e,fc.VALUEMAX,this.max_)),e}}],[{key:"fromJson",value:function(e){return new this(e.value,void 0,void 0,void 0,void 0,e)}}]),n}(Fp);Vr("field_number",rv),rv.prototype.DEFAULT_VALUE=0;var ov=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r,o,a){var s;return d(this,n),(s=t.call(this,Zh.SKIP_SETUP)).defaultType="",s.variableTypes=[],s.variable=null,s.SERIALIZABLE=!0,s.menuGenerator_=n.dropdownCreate,s.defaultVariableName="string"===typeof e?e:"",s.size_=new $l(0,0),e!==Zh.SKIP_SETUP&&(a?s.configure_(a):s.setTypes(r,o),i&&s.setValidator(i)),s}return f(n,[{key:"configure_",value:function(e){l(u(n.prototype),"configure_",this).call(this,e),this.setTypes(e.variableTypes,e.defaultType)}},{key:"initModel",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;this.variable||(e=Wa.getOrCreateVariablePackage$$module$build$src$core$variables(e.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(e.getId()))}},{key:"shouldAddBorderRect_",value:function(){var e=this.getSourceBlock();if(!e)throw new Hh;return l(u(n.prototype),"shouldAddBorderRect_",this).call(this)&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||"variables_get"!==e.type)}},{key:"fromXml",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;var n=e.getAttribute("id"),i=e.textContent,r=e.getAttribute("variabletype")||e.getAttribute("variableType")||"";if(t=Wa.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,n,i,r),null!==r&&r!==t.type)throw Error("Serialized variable type with id '"+t.getId()+"' had type "+t.type+", and does not match variable field that references it: "+Yt(e)+".");this.setValue(t.getId())}},{key:"toXml",value:function(e){return this.initModel(),e.id=this.variable.getId(),e.textContent=this.variable.name,this.variable.type&&e.setAttribute("variabletype",this.variable.type),e}},{key:"saveState",value:function(e){var t=this.saveLegacyState(n);return null!==t||(this.initModel(),t={id:this.variable.getId()},e&&(t.name=this.variable.name,t.type=this.variable.type)),t}},{key:"loadState",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;this.loadLegacyState(n,e)||(e=Wa.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,e.id||null,e.name,e.type||""),this.setValue(e.getId()))}},{key:"setSourceBlock",value:function(e){if(e.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");l(u(n.prototype),"setSourceBlock",this).call(this,e)}},{key:"getValue",value:function(){return this.variable?this.variable.getId():null}},{key:"getText",value:function(){return this.variable?this.variable.name:""}},{key:"getVariable",value:function(){return this.variable}},{key:"getValidator",value:function(){return this.variable?this.validator_:null}},{key:"doClassValidation_",value:function(e){if(null===e)return null;var t=this.getSourceBlock();if(!t)throw new Hh;return(t=Wa.getVariable$$module$build$src$core$variables(t.workspace,e))?(t=t.type,this.typeIsAllowed(t)?e:(console.warn("Variable type doesn't match this field!  Type was "+t),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+e),null)}},{key:"doValueUpdate_",value:function(e){var t=this.getSourceBlock();if(!t)throw new Hh;this.variable=Wa.getVariable$$module$build$src$core$variables(t.workspace,e),l(u(n.prototype),"doValueUpdate_",this).call(this,e)}},{key:"typeIsAllowed",value:function(e){var t=this.getVariableTypes();if(!t)return!0;for(var n=0;n<t.length;n++)if(e===t[n])return!0;return!1}},{key:"getVariableTypes",value:function(){var e=this.variableTypes;if(null===e&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(0===(e=e||[""]).length)throw e=this.getText(),Error("'variableTypes' of field variable "+e+" was an empty list");return e}},{key:"setTypes",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(Array.isArray(e)){for(var n=!1,i=0;i<e.length;i++)e[i]===t&&(n=!0);if(!n)throw Error("Invalid default type '"+t+"' in the definition of a FieldVariable")}else if(null!==e)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=t,this.variableTypes=e}},{key:"refreshVariableName",value:function(){this.forceRerender()}},{key:"onItemSelected_",value:function(e,t){if(e=t.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(e===ah)return void Wa.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);if(e===sh)return void this.sourceBlock_.workspace.deleteVariableById(this.variable.getId())}this.setValue(e)}},{key:"referencesVariables",value:function(){return!0}}],[{key:"fromJson",value:function(e){return new this(Ur(e.variable),void 0,void 0,void 0,e)}},{key:"dropdownCreate",value:function(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var e=this.getText(),t=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var n=this.getVariableTypes(),i=0;i<n.length;i++){var r=this.sourceBlock_.workspace.getVariablesOfType(n[i]);t=t.concat(r)}for(t.sort(yu.compareByName),n=[],i=0;i<t.length;i++)n[i]=[t[i].name,t[i].getId()];return n.push([Wa.Msg$$module$build$src$core$msg.RENAME_VARIABLE,ah]),Wa.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&n.push([Wa.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",e),sh]),n}}]),n}(Yh);Vr("field_variable",ov);var av=function(){"use strict";function e(t,n,i,r){d(this,e),this.workspace=t,this.targetWorkspace=n,this.isLabel_=r,this.onMouseUpWrapper=null,this.height=this.width=0,this.svgText=this.svgGroup=null,this.text=i.text,this.position=new Tl(0,0),this.callbackKey=i.callbackKey||i.callbackkey,this.cssClass=i["web-class"]||null,this.info=i}return f(e,[{key:"createDom",value:function(){var t,n=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(n+=" "+this.cssClass),this.svgGroup=pe(Ll.G,{class:n},this.workspace.getCanvas()),this.isLabel_||(t=pe(Ll.RECT,{class:"blocklyFlyoutButtonShadow",rx:e.BORDER_RADIUS,ry:e.BORDER_RADIUS,x:1,y:1},this.svgGroup)),n=pe(Ll.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:e.BORDER_RADIUS,ry:e.BORDER_RADIUS},this.svgGroup);var i=pe(Ll.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup),r=Ur(this.text);this.workspace.RTL&&(r+="\u200f"),i.textContent=r,this.isLabel_&&(this.svgText=i,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));var o,a,s=Me(i,"fontSize"),l=Me(i,"fontWeight"),u=Me(i,"fontFamily");return this.width=Ce(i,s,l,u),r=Ie(r,s,l,u),this.height=r.height,this.isLabel_||(this.width+=2*e.TEXT_MARGIN_X,this.height+=2*e.TEXT_MARGIN_Y,null==(o=t)||o.setAttribute("width",String(this.width)),null==(a=t)||a.setAttribute("height",String(this.height))),n.setAttribute("width",String(this.width)),n.setAttribute("height",String(this.height)),i.setAttribute("x",String(this.width/2)),i.setAttribute("y",String(this.height/2-r.height/2+r.baseline)),this.updateTransform(),this.onMouseUpWrapper=ie(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}},{key:"show",value:function(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}},{key:"updateTransform",value:function(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}},{key:"moveTo",value:function(e,t){this.position.x=e,this.position.y=t,this.updateTransform()}},{key:"isLabel",value:function(){return this.isLabel_}},{key:"getPosition",value:function(){return this.position}},{key:"getButtonText",value:function(){return this.text}},{key:"getTargetWorkspace",value:function(){return this.targetWorkspace}},{key:"dispose",value:function(){this.onMouseUpWrapper&&oe(this.onMouseUpWrapper),this.svgGroup&&_e(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}},{key:"onMouseUp",value:function(e){(e=this.targetWorkspace.getGesture(e))&&e.cancel(),this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(e=this.targetWorkspace.getButtonCallback(this.callbackKey))&&e(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}}]),e}();av.TEXT_MARGIN_X=5,av.TEXT_MARGIN_Y=2,av.BORDER_RADIUS=4,he("\n.blocklyFlyoutButton {\n  fill: #888;\n  cursor: default;\n}\n\n.blocklyFlyoutButtonShadow {\n  fill: #666;\n}\n\n.blocklyFlyoutButton:hover {\n  fill: #aaa;\n}\n\n.blocklyFlyoutLabel {\n  cursor: default;\n}\n\n.blocklyFlyoutLabelBackground {\n  opacity: 0;\n}\n");var sv,lv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e)).flyout_=i,r}return f(n,[{key:"getBoundingBox_",value:function(){var e;try{e=this.workspace_.getCanvas().getBBox()}catch(t){e={height:0,y:0,width:0,x:0}}return e}},{key:"getContentMetrics",value:function(e){var t=this.getBoundingBox_();return e=e?1:this.workspace_.scale,{height:t.height*e,width:t.width*e,top:t.y*e,left:t.x*e}}},{key:"getScrollMetrics",value:function(e,t,n){return t=n||this.getContentMetrics(),n=this.flyout_.MARGIN*this.workspace_.scale,e=e?this.workspace_.scale:1,{height:(t.height+2*n)/e,width:(t.width+t.left+n)/e,top:0,left:0}}}]),n}(yp);!function(e){e.BLOCK="block",e.BUTTON="button"}(sv||(sv={}));var uv=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).horizontalLayout=!1,i.boundEvents=[],i.filterWrapper=i.reflowWrapper=null,i.mats=[],i.buttons_=[],i.listeners=[],i.permanentlyDisabled=[],i.recycledBlocks=[],i.autoClose=!0,i.isVisible_=!1,i.containerVisible=!0,i.CORNER_RADIUS=8,i.SCROLLBAR_MARGIN=2.5,i.height_=i.width_=0,i.dragAngleRange_=70,i.svgGroup_=i.svgBackground_=null,e.setMetrics=i.setMetrics_.bind(a(i)),i.workspace_=new Rf(e),i.workspace_.setMetricsManager(new lv(i.workspace_,a(i))),i.workspace_.internalIsFlyout=!0,i.workspace_.setVisible(i.isVisible_),i.id=D(),i.RTL=!!e.RTL,i.toolboxPosition_=e.toolboxPosition,i.tabWidth_=i.workspace_.getRenderer().getConstants().TAB_WIDTH,i.rectMap_=new WeakMap,i.MARGIN=i.CORNER_RADIUS,i.GAP_X=3*i.MARGIN,i.GAP_Y=3*i.MARGIN,i}return f(n,[{key:"createDom",value:function(e){return this.svgGroup_=pe(e,{class:"blocklyFlyout"}),this.svgGroup_.style.display="none",this.svgBackground_=pe(Ll.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}},{key:"init",value:function(e){this.targetWorkspace=e,this.workspace_.targetWorkspace=e,this.workspace_.scrollbar=new mp(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(ie(this.svgGroup_,"wheel",this,this.wheel_)),this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper),this.boundEvents.push(ie(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),e.getComponentManager().addComponent({component:this,weight:1,capabilities:[yl.Capability.AUTOHIDEABLE,yl.Capability.DELETE_AREA,yl.Capability.DRAG_TARGET]})}},{key:"dispose",value:function(){this.hide(),this.targetWorkspace.getComponentManager().removeComponent(this.id);var e,t=g(this.boundEvents);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&_e(this.svgGroup_)}},{key:"getWidth",value:function(){return this.width_}},{key:"getHeight",value:function(){return this.height_}},{key:"getFlyoutScale",value:function(){return this.targetWorkspace.scale}},{key:"getWorkspace",value:function(){return this.workspace_}},{key:"setAutoClose",value:function(e){this.autoClose=e,this.targetWorkspace.recordDragTargets(),this.targetWorkspace.resizeContents()}},{key:"autoHide",value:function(e){!e&&this.targetWorkspace.getFlyout(!0)===this&&this.autoClose&&this.hide()}},{key:"isVisible",value:function(){return this.isVisible_}},{key:"setVisible",value:function(e){var t=e!==this.isVisible();this.isVisible_=e,t&&(this.autoClose||this.targetWorkspace.recordDragTargets(),this.updateDisplay())}},{key:"setContainerVisible",value:function(e){var t=e!==this.containerVisible;this.containerVisible=e,t&&this.updateDisplay()}},{key:"updateDisplay",value:function(){var e,t;e=!!this.containerVisible&&this.isVisible(),this.svgGroup_&&(this.svgGroup_.style.display=e?"block":"none"),null==(t=this.workspace_.scrollbar)||t.setContainerVisible(e)}},{key:"positionAt_",value:function(e,t,n,i){var r,o;null==(r=this.svgGroup_)||r.setAttribute("width","".concat(e)),null==(o=this.svgGroup_)||o.setAttribute("height","".concat(t)),this.workspace_.setCachedParentSvgSize(e,t),this.svgGroup_&&Te(this.svgGroup_,"translate("+n+"px,"+i+"px)"),(e=this.workspace_.scrollbar)&&(e.setOrigin(n,i),e.resize(),e.hScroll&&e.hScroll.setPosition(e.hScroll.position.x,e.hScroll.position.y),e.vScroll&&e.vScroll.setPosition(e.vScroll.position.x,e.vScroll.position.y))}},{key:"hide",value:function(){if(this.isVisible()){this.setVisible(!1);var e,t=g(this.listeners);try{for(t.s();!(e=t.n()).done;){var n=e.value;oe(n)}}catch(i){t.e(i)}finally{t.f()}this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}},{key:"show",value:function(e){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),"string"===typeof e&&(e=this.getDynamicCategoryContents(e)),this.setVisible(!0),e=Ye(e),e=this.createFlyoutInfo(e),$t(this.workspace_),this.layout_(e.contents,e.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}},{key:"createFlyoutInfo",value:function(e){var t=[],n=[];this.permanentlyDisabled.length=0;var i,r=this.horizontalLayout?this.GAP_X:this.GAP_Y,o=g(e);try{for(o.s();!(i=o.n()).done;){var a=i.value;if("custom"in a){e=this.getDynamicCategoryContents(a.custom),e=Ye(e);var s=this.createFlyoutInfo(e),l=s.contents,u=s.gaps;t.push.apply(t,v(l)),n.push.apply(n,v(u))}switch(a.kind.toUpperCase()){case"BLOCK":e=a;var c=this.createFlyoutBlock(e);t.push({type:sv.BLOCK,block:c}),this.addBlockGap(e,n,r);break;case"SEP":this.addSeparatorGap(a,n,r);break;case"LABEL":e=this.createButton(a,!0),t.push({type:sv.BUTTON,button:e}),n.push(r);break;case"BUTTON":e=this.createButton(a,!1),t.push({type:sv.BUTTON,button:e}),n.push(r)}}}catch(h){o.e(h)}finally{o.f()}return{contents:t,gaps:n}}},{key:"getDynamicCategoryContents",value:function(e){if("function"!==typeof(e=this.workspace_.targetWorkspace.getToolboxCategoryCallback(e)))throw TypeError("Couldn't find a callback function when opening a toolbox category.");return e(this.workspace_.targetWorkspace)}},{key:"createButton",value:function(e,t){return new av(this.workspace_,this.targetWorkspace,e,t)}},{key:"createFlyoutBlock",value:function(e){var t;return e.blockxml?(e="string"===typeof e.blockxml?Wa.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,(t=this.getRecycledBlock(e.getAttribute("type")))||(t=Qt(e,this.workspace_))):(t=this.getRecycledBlock(e.type))||(void 0===e.enabled&&(e.enabled="true"!==e.disabled&&!0!==e.disabled),t=Cn(e,this.workspace_)),t.isEnabled()||this.permanentlyDisabled.push(t),t}},{key:"getRecycledBlock",value:function(e){for(var t=-1,n=0;n<this.recycledBlocks.length;n++)if(this.recycledBlocks[n].type===e){t=n;break}return-1===t?void 0:this.recycledBlocks.splice(t,1)[0]}},{key:"addBlockGap",value:function(e,t,n){var i;e.gap?i=parseInt(String(e.gap)):e.blockxml&&(e="string"===typeof e.blockxml?Wa.textToDom$$module$build$src$core$utils$xml(e.blockxml):e.blockxml,i=parseInt(e.getAttribute("gap"))),t.push(!i||isNaN(i)?n:i)}},{key:"addSeparatorGap",value:function(e,t,n){e=parseInt(String(e.gap)),!isNaN(e)&&0<t.length?t[t.length-1]=e:t.push(n)}},{key:"clearOldBlocks",value:function(){for(var e,t,n=this.workspace_.getTopBlocks(!1),i=0;e=n[i];i++)this.blockIsRecyclable_(e)?this.recycleBlock(e):e.dispose(!1,!1);for(n=0;n<this.mats.length;n++){var r=this.mats[n];r&&(pr(r),_e(r))}this.mats.length=0;for(var o,a=0;o=this.buttons_[a];a++)o.dispose();this.buttons_.length=0,null==(t=this.workspace_.getPotentialVariableMap())||t.clear()}},{key:"emptyRecycledBlocks",value:function(){for(var e=0;e<this.recycledBlocks.length;e++)this.recycledBlocks[e].dispose();this.recycledBlocks=[]}},{key:"blockIsRecyclable_",value:function(e){return!1}},{key:"recycleBlock",value:function(e){var t=e.getRelativeToSurfaceXY();e.moveBy(-t.x,-t.y),this.recycledBlocks.push(e)}},{key:"addBlockListeners_",value:function(e,t,n){var i=this;this.listeners.push(ie(e,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(ie(n,"pointerdown",null,this.blockMouseDown(t))),this.listeners.push(re(e,"pointerenter",t,(function(){i.targetWorkspace.isDragging()||t.addSelect()}))),this.listeners.push(re(e,"pointerleave",t,(function(){i.targetWorkspace.isDragging()||t.removeSelect()}))),this.listeners.push(re(n,"pointerenter",t,(function(){i.targetWorkspace.isDragging()||t.addSelect()}))),this.listeners.push(re(n,"pointerleave",t,(function(){i.targetWorkspace.isDragging()||t.removeSelect()})))}},{key:"blockMouseDown",value:function(e){var t=this;return function(n){var i=t.targetWorkspace.getGesture(n);i&&(i.setStartBlock(e),i.handleFlyoutStart(n,t))}}},{key:"onMouseDown",value:function(e){var t=this.targetWorkspace.getGesture(e);t&&t.handleFlyoutStart(e,this)}},{key:"isBlockCreatable",value:function(e){return e.isEnabled()}},{key:"createBlock",value:function(e){var t=null;Wa.disable$$module$build$src$core$events$utils();var n=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{t=this.placeNewBlock(e)}finally{Wa.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),e=Ot(this.targetWorkspace,n),V()){for(Wa.setGroup$$module$build$src$core$events$utils(!0),n=0;n<e.length;n++){var i=e[n];U(new(Y(hs))(i))}U(new(Y(Wa.CREATE$$module$build$src$core$events$utils))(t))}return this.autoClose?this.hide():this.filterForCapacity(),t}},{key:"initFlyoutButton_",value:function(e,t,n){var i=e.createDom();e.moveTo(t,n),e.show(),this.listeners.push(ie(i,"pointerdown",this,this.onMouseDown)),this.buttons_.push(e)}},{key:"createRect_",value:function(e,t,n,i,r){return(t=pe(Ll.RECT,{"fill-opacity":0,x:t,y:n,height:i.height,width:i.width})).tooltip=e,fr(t),this.workspace_.getCanvas().insertBefore(t,e.getSvgRoot()),this.rectMap_.set(e,t),this.mats[r]=t}},{key:"moveRectToBlock_",value:function(e,t){var n=t.getHeightWidth();e.setAttribute("width",String(n.width)),e.setAttribute("height",String(n.height)),t=t.getRelativeToSurfaceXY(),e.setAttribute("y",String(t.y)),e.setAttribute("x",String(this.RTL?t.x-n.width:t.x))}},{key:"filterForCapacity",value:function(){for(var e,t=this.workspace_.getTopBlocks(!1),n=0;e=t[n];n++)if(-1===this.permanentlyDisabled.indexOf(e))for(var i=this.targetWorkspace.isCapacityAvailable(M(e));e;)e.setEnabled(i),e=e.getNextBlock()}},{key:"reflow",value:function(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}},{key:"isScrollable",value:function(){return!!this.workspace_.scrollbar&&this.workspace_.scrollbar.isVisible()}},{key:"placeNewBlock",value:function(e){var t=this.targetWorkspace;if(!e.getSvgRoot())throw Error("oldBlock is not rendered");var n=mn(e);return t.setResizesEnabled(!1),t=Sn(n,t),this.positionNewBlock(e,t),t}},{key:"positionNewBlock",value:function(e,t){var n=this.targetWorkspace,i=n.getOriginOffsetInPixels(),r=this.workspace_.getOriginOffsetInPixels();(e=e.getRelativeToSurfaceXY()).scale(this.workspace_.scale),r=Tl.sum(r,e),(i=Tl.difference(r,i)).scale(1/n.scale),t.moveTo(new Tl(i.x,i.y))}}]),n}(Vf);uv.FlyoutItemType=sv;var cv=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).horizontalLayout=!0,i}return f(n,[{key:"setMetrics_",value:function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),i=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.x&&(this.workspace_.scrollX=-(n.left+(n.width-i.width)*e.x)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}},{key:"getX",value:function(){return 0}},{key:"getY",value:function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),t=e.getAbsoluteMetrics(),n=e.getViewMetrics();e=e.getToolboxMetrics();var i=this.toolboxPosition_===Kl.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?i?e.height:n.height-this.height_:i?0:n.height:i?0:n.height+t.top-this.height_}},{key:"position",value:function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=e.width,this.setBackgroundPath(e.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}},{key:"setBackgroundPath",value:function(e,t){var n=this.toolboxPosition_===Kl.TOP,i=["M 0,"+(n?0:this.CORNER_RADIUS)];n?(i.push("h",e+2*this.CORNER_RADIUS),i.push("v",t),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",-e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),i.push("h",e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",t),i.push("h",-e-2*this.CORNER_RADIUS)),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))}},{key:"scrollToStart",value:function(){var e;null==(e=this.workspace_.scrollbar)||e.setX(this.RTL?1/0:0)}},{key:"wheel_",value:function(e){var t=ue(e);if(t=t.x||t.y){var n,i=this.workspace_.getMetricsManager(),r=i.getScrollMetrics();t=i.getViewMetrics().left-r.left+t,null==(n=this.workspace_.scrollbar)||n.setX(t),ei(),Hi()}e.preventDefault(),e.stopPropagation()}},{key:"layout_",value:function(e,t){this.workspace_.scale=this.targetWorkspace.scale;var n=this.MARGIN,i=n+this.tabWidth_;this.RTL&&(e=e.reverse());for(var r,o=0;r=e[o];o++)if("block"===r.type){for(var a,s=r.block,l=s.getDescendants(!1),u=0;a=l[u];u++)a.isInFlyout=!0;l=s.getSvgRoot();var c=s.getHeightWidth(),h=s.outputConnection?this.tabWidth_:0;h=this.RTL?i+c.width:i-h,s.moveBy(h,n),h=this.createRect_(s,h,n,c,o),i+=c.width+t[o],this.addBlockListeners_(l,s,h)}else"button"===r.type&&(s=r.button,this.initFlyoutButton_(s,i,n),i+=s.width+t[o])}},{key:"isDragTowardWorkspace",value:function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<90+t&&e>90-t||e>-90-t&&e<-90+t}},{key:"getClientRect",value:function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.top;return this.toolboxPosition_===Kl.TOP?new Nl(-1e9,t+e.height,-1e9,1e9):new Nl(t,1e9,-1e9,1e9)}},{key:"reflowInternal_",value:function(){this.workspace_.scale=this.getFlyoutScale();for(var e,t=0,n=this.workspace_.getTopBlocks(!1),i=0;e=n[i];i++)t=Math.max(t,e.getHeightWidth().height);for(var r,o=this.buttons_,a=0;r=o[a];a++)t=Math.max(t,r.height);if(t+=1.5*this.MARGIN,t*=this.workspace_.scale,t+=jl.scrollbarThickness,this.height_!==t){for(var s,l=0;s=n[l];l++)this.rectMap_.has(s)&&this.moveRectToBlock_(this.rectMap_.get(s),s);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Kl.TOP||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+t),this.height_=t,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}}]),n}(uv);e(qa.FLYOUTS_HORIZONTAL_TOOLBOX,Ka,cv);var hv=function(e){"use strict";c(n,e);var t=h(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"setMetrics_",value:function(e){if(this.isVisible()){var t=this.workspace_.getMetricsManager(),n=t.getScrollMetrics(),i=t.getViewMetrics();t=t.getAbsoluteMetrics(),"number"===typeof e.y&&(this.workspace_.scrollY=-(n.top+(n.height-i.height)*e.y)),this.workspace_.translate(this.workspace_.scrollX+t.left,this.workspace_.scrollY+t.top)}}},{key:"getX",value:function(){if(!this.isVisible())return 0;var e=this.targetWorkspace.getMetricsManager(),t=e.getAbsoluteMetrics(),n=e.getViewMetrics();return e=e.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===Kl.LEFT?e.width:n.width-this.width_:this.toolboxPosition_===Kl.LEFT?0:n.width:this.toolboxPosition_===Kl.LEFT?0:n.width+t.left-this.width_}},{key:"getY",value:function(){return 0}},{key:"position",value:function(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var e=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=e.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,e.height-2*this.CORNER_RADIUS),e=this.getX();var t=this.getY();this.positionAt_(this.width_,this.height_,e,t)}}},{key:"setBackgroundPath",value:function(e,t){var n=this.toolboxPosition_===Kl.RIGHT,i=e+this.CORNER_RADIUS;(i=["M "+(n?i:0)+",0"]).push("h",n?-e:e),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("v",Math.max(0,t)),i.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,n?0:1,n?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),i.push("h",n?e:-e),i.push("z"),this.svgBackground_.setAttribute("d",i.join(" "))}},{key:"scrollToStart",value:function(){var e;null==(e=this.workspace_.scrollbar)||e.setY(0)}},{key:"wheel_",value:function(e){var t=ue(e);if(t.y){var n,i=this.workspace_.getMetricsManager(),r=i.getScrollMetrics();t=i.getViewMetrics().top-r.top+t.y,null==(n=this.workspace_.scrollbar)||n.setY(t),ei(),Hi()}e.preventDefault(),e.stopPropagation()}},{key:"layout_",value:function(e,t){this.workspace_.scale=this.targetWorkspace.scale;for(var n,i=this.MARGIN,r=this.RTL?i:i+this.tabWidth_,o=0;n=e[o];o++)if("block"===n.type){for(var a,s=n.block,l=s.getDescendants(!1),u=0;a=l[u];u++)a.isInFlyout=!0;l=s.getSvgRoot();var c=s.getHeightWidth(),h=s.outputConnection?r-this.tabWidth_:r;s.moveBy(h,i),h=this.createRect_(s,this.RTL?h-c.width:h,i,c,o),this.addBlockListeners_(l,s,h),i+=c.height+t[o]}else"button"===n.type&&(s=n.button,this.initFlyoutButton_(s,r,i),i+=s.height+t[o])}},{key:"isDragTowardWorkspace",value:function(e){e=Math.atan2(e.y,e.x)/Math.PI*180;var t=this.dragAngleRange_;return e<t&&e>-t||e<-180+t||e>180-t}},{key:"getClientRect",value:function(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;var e=this.svgGroup_.getBoundingClientRect(),t=e.left;return this.toolboxPosition_===Kl.LEFT?new Nl(-1e9,1e9,-1e9,t+e.width):new Nl(-1e9,1e9,t,1e9)}},{key:"reflowInternal_",value:function(){this.workspace_.scale=this.getFlyoutScale();for(var e,t=0,n=this.workspace_.getTopBlocks(!1),i=0;e=n[i];i++){var r=e.getHeightWidth().width;e.outputConnection&&(r-=this.tabWidth_),t=Math.max(t,r)}for(var o,a=0;o=this.buttons_[a];a++)t=Math.max(t,o.width);if(t+=1.5*this.MARGIN+this.tabWidth_,t*=this.workspace_.scale,t+=jl.scrollbarThickness,this.width_!==t){for(var s,l=0;s=n[l];l++){if(this.RTL){r=s.getRelativeToSurfaceXY().x;var u=t/this.workspace_.scale-this.MARGIN;s.outputConnection||(u-=this.tabWidth_),s.moveBy(u-r,0)}this.rectMap_.has(s)&&this.moveRectToBlock_(this.rectMap_.get(s),s)}if(this.RTL)for(var c,h=0;c=this.buttons_[h];h++)n=c.getPosition().y,c.moveTo(t/this.workspace_.scale-c.width-this.MARGIN-this.tabWidth_,n);this.targetWorkspace.scrollbar||this.autoClose||this.targetWorkspace.getFlyout()!==this||this.toolboxPosition_!==Kl.LEFT||this.targetWorkspace.translate(this.targetWorkspace.scrollX+t,this.targetWorkspace.scrollY),this.width_=t,this.position(),this.targetWorkspace.resizeContents(),this.targetWorkspace.recordDragTargets()}}}]),n}(uv);hv.registryName="verticalFlyout",e(qa.FLYOUTS_VERTICAL_TOOLBOX,Ka,hv),Wa.CodeGenerator$$module$build$src$core$generator=function(){"use strict";function e(t){d(this,e),this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}return f(e,[{key:"workspaceToCode",value:function(e){e||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),e=w());var t=[];this.init(e),e=e.getTopBlocks(!0);for(var n,i=0;n=e[i];i++){var r=this.blockToCode(n);Array.isArray(r)&&(r=r[0]),r&&(n.outputConnection&&(r=this.scrubNakedValue(r),this.STATEMENT_PREFIX&&!n.suppressPrefixSuffix&&(r=this.injectId(this.STATEMENT_PREFIX,n)+r),this.STATEMENT_SUFFIX&&!n.suppressPrefixSuffix&&(r+=this.injectId(this.STATEMENT_SUFFIX,n))),t.push(r))}return t=t.join("\n"),(t=(t=(t=this.finish(t)).replace(/^\s+\n/,"")).replace(/\n\s+$/,"\n")).replace(/[ \t]+\n/g,"\n")}},{key:"prefixLines",value:function(e,t){return t+e.replace(/(?!\n$)\n/g,"\n"+t)}},{key:"allNestedComments",value:function(e){var t=[];e=e.getDescendants(!0);for(var n=0;n<e.length;n++){var i=e[n].getCommentText();i&&t.push(i)}return t.length&&t.push(""),t.join("\n")}},{key:"blockToCode",value:function(e,t){if(!1===this.isInitialized&&console.warn("CodeGenerator init was not called before blockToCode was called."),!e)return"";if(!e.isEnabled())return t?"":this.blockToCode(e.getNextBlock());if(e.isInsertionMarker())return t?"":this.blockToCode(e.getChildren(!1)[0]);var n=this.forBlock[e.type];if(!n&&this[e.type]&&(fe("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),n=this[e.type]),"function"!==typeof n)throw Error("".concat(this.name_," generator does not know how to generate code ")+'for block type "'.concat(e.type,'".'));if(n=n.call(e,e,this),Array.isArray(n)){if(!e.outputConnection)throw TypeError("Expecting string from statement block: "+e.type);return[this.scrub_(e,n[0],t),n[1]]}if("string"===typeof n)return this.STATEMENT_PREFIX&&!e.suppressPrefixSuffix&&(n=this.injectId(this.STATEMENT_PREFIX,e)+n),this.STATEMENT_SUFFIX&&!e.suppressPrefixSuffix&&(n+=this.injectId(this.STATEMENT_SUFFIX,e)),this.scrub_(e,n,t);if(null===n)return"";throw SyntaxError("Invalid code generated: "+n)}},{key:"valueToCode",value:function(e,t,n){if(isNaN(n))throw TypeError("Expecting valid order from block: "+e.type);var i=e.getInputTargetBlock(t);if(!i)return"";if(""===(t=this.blockToCode(i)))return"";if(!Array.isArray(t))throw TypeError("Expecting tuple from value block: ".concat(i.type," See ")+"developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information");if(e=t[0],t=t[1],isNaN(t))throw TypeError("Expecting valid order from value block: "+i.type);if(!e)return"";i=!1;var r=Math.floor(n),o=Math.floor(t);if(r<=o&&(r!==o||0!==r&&99!==r))for(i=!0,r=0;r<this.ORDER_OVERRIDES.length;r++)if(this.ORDER_OVERRIDES[r][0]===n&&this.ORDER_OVERRIDES[r][1]===t){i=!1;break}return i&&(e="("+e+")"),e}},{key:"statementToCode",value:function(e,t){if(e=e.getInputTargetBlock(t),"string"!==typeof(t=this.blockToCode(e)))throw TypeError("Expecting code from statement block: "+(e&&e.type));return t&&(t=this.prefixLines(t,this.INDENT)),t}},{key:"addLoopTrap",value:function(e,t){return this.INFINITE_LOOP_TRAP&&(e=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,t),this.INDENT)+e),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(e=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,t),this.INDENT)+e),this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(e+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,t),this.INDENT)),e}},{key:"injectId",value:function(e,t){return t=t.id.replace(/\$/g,"$$$$"),e.replace(/%1/g,"'"+t+"'")}},{key:"addReservedWords",value:function(e){this.RESERVED_WORDS_+=e+","}},{key:"provideFunction_",value:function(e,t){if(!this.definitions_[e]){var n,i=this.nameDB_.getDistinctName(e,Wa.NameType$$module$build$src$core$names.PROCEDURE);for(this.functionNames_[e]=i,Array.isArray(t)&&(t=t.join("\n")),t=t.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,i);n!==t;)n=t,t=t.replace(/^(( {2})*) {2}/gm,"$1\0");t=t.replace(/\0/g,this.INDENT),this.definitions_[e]=t}return this.functionNames_[e]}},{key:"getVariableName",value:function(e){return this.getName(e,Wa.NameType$$module$build$src$core$names.VARIABLE)}},{key:"getProcedureName",value:function(e){return this.getName(e,Wa.NameType$$module$build$src$core$names.PROCEDURE)}},{key:"getName",value:function(e,t){if(!this.nameDB_)throw Error("Name database is not defined. You must initialize `nameDB_` in your generator class and call `init` first.");return this.nameDB_.getName(e,t)}},{key:"init",value:function(e){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}},{key:"scrub_",value:function(e,t,n){return t}},{key:"finish",value:function(e){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),e}},{key:"scrubNakedValue",value:function(e){return e}}]),e}(),Wa.CodeGenerator$$module$build$src$core$generator;var dv=!1,fv={};fv.Align=Wa.Align$$module$build$src$core$inputs$align,fv.DummyInput=Yd,fv.EndRowInput=Kd,fv.Input=Xd,fv.StatementInput=qd,fv.ValueInput=Wa.ValueInput$$module$build$src$core$inputs$value_input,fv.inputTypes=Wa.inputTypes$$module$build$src$core$inputs$input_types;var pv="The insertion marker previewer tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",vv=function(){"use strict";function e(t){d(this,e),this.staticConn=this.draggedConn=this.markerConn=this.fadedBlock=null,this.workspace=t.workspace}return f(e,[{key:"previewReplacement",value:function(e,t,n){Wa.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.fadedBlock=n,n.fadeForReplacement(!0),this.workspace.getRenderer().shouldHighlightConnection(t)&&(t.highlight(),this.staticConn=t)}finally{Wa.enable$$module$build$src$core$events$utils()}}},{key:"previewConnection",value:function(e,t){if(e!==this.draggedConn||t!==this.staticConn){Wa.disable$$module$build$src$core$events$utils();try{this.hidePreview(),this.shouldUseMarkerPreview(e,t)&&(this.markerConn=this.previewMarker(e,t)),this.workspace.getRenderer().shouldHighlightConnection(t)&&t.highlight(),this.draggedConn=e,this.staticConn=t}finally{Wa.enable$$module$build$src$core$events$utils()}}}},{key:"shouldUseMarkerPreview",value:function(e,t){return t.type===ic.PREVIOUS_STATEMENT||t.type===ic.NEXT_STATEMENT||!(this.workspace.getRenderer()instanceof Xp)}},{key:"previewMarker",value:function(e,t){var n=e.getSourceBlock(),i=this.createInsertionMarker(n),r=this.getMatchingConnection(n,i,e);if(!r)throw Error("Could not create insertion marker to preview connection");i.queueRender(),$t(),r.connect(t);var o={x:t.x-r.x,y:t.y-r.y},a=r.getOffsetInBlock().clone();return Nt().then((function(){null==i||i.positionNearConnection(r,o,a),null==i||i.getSvgRoot().setAttribute("visibility","visible")})),r}},{key:"createInsertionMarker",value:function(e){var t=this.workspace.newBlock(e.type);if(t.setInsertionMarker(!0),e.saveExtraState){var n=e.saveExtraState(!0);n&&t.loadExtraState&&t.loadExtraState(n)}else e.mutationToDom&&(n=e.mutationToDom())&&t.domToMutation&&t.domToMutation(n);for(n=0;n<e.inputList.length;n++){var i=e.inputList[n];if(i.name!==lf){var r=t.inputList[n];if(!r)throw Error(pv.replace("%1","an input"));for(var o=0;o<i.fieldRow.length;o++){var a=i.fieldRow[o],s=r.fieldRow[o];if(!s)throw Error(pv.replace("%1","a field"));s.setValue(a.getValue())}}}var l,u=g(t.getDescendants(!1));try{for(u.s();!(l=u.n()).done;)l.value.setInsertionMarker(!0)}catch(c){u.e(c)}finally{u.f()}return t.setCollapsed(e.isCollapsed()),t.setInputsInline(e.getInputsInline()),t.initSvg(),t.getSvgRoot().setAttribute("visibility","hidden"),t}},{key:"getMatchingConnection",value:function(e,t,n){if(e=e.getConnections_(!0),t=t.getConnections_(!0),e.length!==t.length)return null;for(var i=0;i<e.length;i++)if(e[i]===n)return t[i];return null}},{key:"hidePreview",value:function(){Wa.disable$$module$build$src$core$events$utils();try{this.staticConn&&(this.staticConn.unhighlight(),this.staticConn=null),this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null),this.markerConn&&(this.hideInsertionMarker(this.markerConn),this.draggedConn=this.markerConn=null)}finally{Wa.enable$$module$build$src$core$events$utils()}}},{key:"hideInsertionMarker",value:function(e){var t,n,i=e.getSourceBlock(),r=i.outputConnection;null!=(t=i.previousConnection)&&t.targetConnection||null!=r&&r.targetConnection?i.unplug(!0):null==(n=e.targetBlock())||n.unplug(!1),i.dispose()}},{key:"dispose",value:function(){this.hidePreview()}}]),e}();e(qa.CONNECTION_PREVIEWER,Ka,vv);var gv=function(e){"use strict";c(n,e);var t=h(n);function n(){var e;return d(this,n),(e=t.call(this)).FIELD_TEXT_BASELINE_CENTER=!1,e.DARK_PATH_OFFSET=1,e.MAX_BOTTOM_WIDTH=30,e.STATEMENT_BOTTOM_SPACER=-e.NOTCH_HEIGHT/2,e}return f(n,[{key:"getCSS_",value:function(e){return l(u(n.prototype),"getCSS_",this).call(this,e).concat(["".concat(e," .blocklyInsertionMarker>.blocklyPathLight,"),"".concat(e," .blocklyInsertionMarker>.blocklyPathDark {"),"fill-opacity: ".concat(this.INSERTION_MARKER_OPACITY,";"),"stroke: none;","}"])}}]),n}(zd),mv=function(){"use strict";function e(t){d(this,e),this.inlineSteps_=this.steps_="",this.info_=t,this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}return f(e,[{key:"getPath",value:function(){return this.steps_+"\n"+this.inlineSteps_}},{key:"drawTopCorner",value:function(e){this.steps_+=vo(e.xPos,this.info_.startY);for(var t,n=0;t=e.elements[n];n++)Td.isLeftSquareCorner(t)?this.steps_+=this.highlightConstants_.START_POINT:Td.isLeftRoundedCorner(t)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Td.isPreviousConnection(t)?this.steps_+=this.notchPaths_.pathLeft:Td.isHat(t)?this.steps_+=this.startPaths_.path(this.RTL_):Td.isSpacer(t)&&0!==t.width&&(this.steps_+=yo("H",t.xPos+t.width-this.highlightOffset));this.steps_+=yo("H",e.xPos+e.width-this.highlightOffset)}},{key:"drawJaggedEdge_",value:function(e){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+yo("v",e.height-this.jaggedTeethPaths_.height-this.highlightOffset))}},{key:"drawValueInput",value:function(e){var t=e.getLastInput();if(this.RTL_){var n=e.height-t.connectionHeight;this.steps_+=po(t.xPos+t.width-this.highlightOffset,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+yo("v",n)}else this.steps_+=po(t.xPos+t.width,e.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}},{key:"drawStatementInput",value:function(e){var t=e.getLastInput();if(t)if(this.RTL_){var n=e.height-2*this.insideCornerPaths_.height;this.steps_+=po(t.xPos,e.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+yo("v",n)+this.insideCornerPaths_.pathBottom(this.RTL_)+go(e.width-t.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=po(t.xPos,e.yPos+e.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+go(e.width-t.xPos-this.insideCornerPaths_.width,0)}},{key:"drawRightSideRow",value:function(e){var t=e.xPos+e.width-this.highlightOffset;e instanceof jd&&e.followsStatement&&(this.steps_+=yo("H",t)),this.RTL_&&(this.steps_+=yo("H",t),e.height>this.highlightOffset&&(this.steps_+=yo("V",e.yPos+e.height-this.highlightOffset)))}},{key:"drawBottomRow",value:function(e){if(this.RTL_)this.steps_+=yo("V",e.baseline-this.highlightOffset);else{var t=this.info_.bottomRow.elements[0];Td.isLeftSquareCorner(t)?this.steps_+=po(e.xPos+this.highlightOffset,e.baseline-this.highlightOffset):Td.isLeftRoundedCorner(t)&&(this.steps_+=po(e.xPos,e.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}},{key:"drawLeft",value:function(){var e=this.info_.outputConnection;e&&(e=e.connectionOffsetY+e.height,this.RTL_?this.steps_+=po(this.info_.startX,e):(this.steps_+=po(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=yo("V",e)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(e=this.info_.topRow,Td.isLeftRoundedCorner(e.elements[0])?this.steps_+=yo("V",this.outsideCornerPaths_.height):this.steps_+=yo("V",e.capline+this.highlightOffset))}},{key:"drawInlineInput",value:function(e){var t=this.highlightOffset,n=e.xPos+e.connectionWidth,i=e.centerline-e.height/2,r=e.width-e.connectionWidth,o=i+t;this.RTL_?(i=e.connectionOffsetY-t,e=e.height-(e.connectionOffsetY+e.connectionHeight)+t,this.inlineSteps_+=po(n-t,o)+yo("v",i)+this.puzzleTabPaths_.pathDown(this.RTL_)+yo("v",e)+yo("h",r)):this.inlineSteps_+=po(e.xPos+e.width+t,o)+yo("v",e.height)+yo("h",-r)+po(n,i+e.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}}]),e}(),yv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).highlighter_=new mv(i),r}return f(n,[{key:"draw",value:function(){this.drawOutline_(),this.drawInternals_(),this.updateConnectionHighlights();var e=this.block_.pathObject;e.setPath(this.outlinePath_+"\n"+this.inlinePath_),e.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&e.flipRTL(),this.recordSizeOnBlock_()}},{key:"drawTop_",value:function(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),l(u(n.prototype),"drawTop_",this).call(this)}},{key:"drawJaggedEdge_",value:function(e){this.highlighter_.drawJaggedEdge_(e),l(u(n.prototype),"drawJaggedEdge_",this).call(this,e)}},{key:"drawValueInput_",value:function(e){this.highlighter_.drawValueInput(e),l(u(n.prototype),"drawValueInput_",this).call(this,e)}},{key:"drawStatementInput_",value:function(e){this.highlighter_.drawStatementInput(e),l(u(n.prototype),"drawStatementInput_",this).call(this,e)}},{key:"drawRightSideRow_",value:function(e){this.highlighter_.drawRightSideRow(e),this.outlinePath_+=yo("H",e.xPos+e.width)+yo("V",e.yPos+e.height)}},{key:"drawBottom_",value:function(){this.highlighter_.drawBottomRow(this.info_.bottomRow),l(u(n.prototype),"drawBottom_",this).call(this)}},{key:"drawLeft_",value:function(){this.highlighter_.drawLeft(),l(u(n.prototype),"drawLeft_",this).call(this)}},{key:"drawInlineInput_",value:function(e){this.highlighter_.drawInlineInput(e),l(u(n.prototype),"drawInlineInput_",this).call(this,e)}},{key:"positionInlineInputConnection_",value:function(e){var t=e.centerline-e.height/2;if(e.connectionModel){var n=e.xPos+e.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),e.connectionModel.setOffsetInBlock(n,t+e.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}},{key:"positionStatementInputConnection_",value:function(e){var t=e.getLastInput();if(null!=t&&t.connectionModel){var n=e.xPos+e.statementEdge+t.notchOffset;n=this.info_.RTL?-1*n:n+this.constants_.DARK_PATH_OFFSET,t.connectionModel.setOffsetInBlock(n,e.yPos+this.constants_.DARK_PATH_OFFSET)}}},{key:"positionExternalValueConnection_",value:function(e){var t=e.getLastInput();if(t&&t.connectionModel){var n=e.xPos+e.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(n*=-1),t.connectionModel.setOffsetInBlock(n,e.yPos)}}},{key:"positionNextConnection_",value:function(){var e=this.info_.bottomRow;if(e.connection){var t=e.connection,n=t.xPos;t.connectionModel.setOffsetInBlock((this.info_.RTL?-n:n)+this.constants_.DARK_PATH_OFFSET/2,e.baseline+this.constants_.DARK_PATH_OFFSET)}}}]),n}(Wd),_v=function(){"use strict";function e(t){d(this,e),this.OFFSET=.5,this.constantProvider=t,this.START_POINT=vo(this.OFFSET,this.OFFSET)}return f(e,[{key:"init",value:function(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}},{key:"makeInsideCorner",value:function(){var e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e+t)-t,i=vo(n,n)+_o("a","0 0,0",e,ho(-n-t,e-n)),r=_o("a","0 0,0",e+t,ho(e+t,e+t)),o=vo(n,-n)+_o("a","0 0,0",e+t,ho(e-n,n+t));return{width:e+t,height:e,pathTop:function(e){return e?i:""},pathBottom:function(e){return e?r:o}}}},{key:"makeOutsideCorner",value:function(){var e=this.constantProvider.CORNER_RADIUS,t=this.OFFSET,n=(1-Math.SQRT1_2)*(e-t)+t,i=vo(n,n)+_o("a","0 0,1",e-t,ho(e-n,-n+t)),r=vo(t,e)+_o("a","0 0,1",e-t,ho(e,-e+t)),o=-n,a=vo(n,o)+_o("a","0 0,1",e-t,ho(-n+t,-o-e));return{height:e,topLeft:function(e){return e?i:r},bottomLeft:function(){return a}}}},{key:"makePuzzleTab",value:function(){var e=this.constantProvider.TAB_WIDTH,t=this.constantProvider.TAB_HEIGHT,n=vo(-2,3.4-t)+go(-.45*e,-2.1),i=yo("v",2.5)+vo(.97*-e,2.5)+fo("q",[ho(.05*-e,10),ho(.3*e,9.5)])+vo(.67*e,-1.9)+yo("v",2.5),r=yo("v",-1.5)+vo(-.92*e,-.5)+fo("q",[ho(-.19*e,-5.5),ho(0,-11)])+vo(.92*e,1),o=vo(-5,t-.7)+go(.46*e,-2.1);return{width:e,height:t,pathUp:function(e){return e?n:r},pathDown:function(e){return e?i:o}}}},{key:"makeNotch",value:function(){return{pathLeft:yo("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}},{key:"makeJaggedTeeth",value:function(){return{pathLeft:go(5.1,2.6)+vo(-10.2,6.8)+go(5.1,2.6),height:12,width:10.2}}},{key:"makeStartHat",value:function(){var e=this.constantProvider.START_HAT.height,t=vo(25,-8.7)+fo("c",[ho(29.7,-6.2),ho(57.2,-.5),ho(75,8.7)]),n=fo("c",[ho(17.8,-9.2),ho(45.3,-14.9),ho(75,-8.7)])+po(100.5,e+.5);return{path:function(e){return e?t:n}}}}]),e}(),bv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).constants_=e,r.connectedBlock&&(r.width+=r.constants_.DARK_PATH_OFFSET,r.height+=r.constants_.DARK_PATH_OFFSET),r}return f(n)}(Ld),kv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).constants_=e,r.connectedBlock&&(r.height+=r.constants_.DARK_PATH_OFFSET),r}return f(n)}(Nd),Tv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).renderer_=e,r}return f(n,[{key:"getRenderer",value:function(){return this.renderer_}},{key:"populateBottomRow_",value:function(){l(u(n.prototype),"populateBottomRow_",this).call(this),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof qd||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}},{key:"addInput_",value:function(e,t){this.isInline&&e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new bv(this.constants_,e)),t.hasInlineInput=!0):e instanceof qd?(t.elements.push(new kv(this.constants_,e)),t.hasStatement=!0):e instanceof Wa.ValueInput$$module$build$src$core$inputs$value_input?(t.elements.push(new Id(this.constants_,e)),t.hasExternalInput=!0):(e instanceof Yd||e instanceof Kd)&&(t.minHeight=Math.max(t.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),t.hasDummyInput=!0),this.isInline||null!==t.align||(t.align=e.align)}},{key:"addElemSpacing_",value:function(){for(var e,t=!1,n=0;e=this.rows[n];n++)e.hasExternalInput&&(t=!0);for(var i,r=0;i=this.rows[r];r++){var o=i.elements;if(i.elements=[],i.startsWithElemSpacer()&&i.elements.push(new Md(this.constants_,this.getInRowSpacing_(null,o[0]))),o.length){for(var a=0;a<o.length-1;a++){i.elements.push(o[a]);var s=this.getInRowSpacing_(o[a],o[a+1]);i.elements.push(new Md(this.constants_,s))}i.elements.push(o[o.length-1]),i.endsWithElemSpacer()&&(o=this.getInRowSpacing_(o[o.length-1],null),t&&i.hasDummyInput&&(o+=this.constants_.TAB_WIDTH),i.elements.push(new Md(this.constants_,o)))}}}},{key:"getInRowSpacing_",value:function(e,t){if(!e)return t&&Td.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Td.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Td.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Td.isInput(e)&&(!t||Td.isStatementInput(t)))return Td.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Td.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Td.isHat(e)?this.constants_.NO_PADDING:Td.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Td.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Td.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Td.isInput(e)&&!t){if(Td.isExternalInput(e))return this.constants_.NO_PADDING;if(Td.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Td.isStatementInput(e))return this.constants_.NO_PADDING}if(!Td.isInput(e)&&t&&Td.isInput(t)){if(Td.isField(e)&&e.isEditable){if(Td.isInlineInput(t)||Td.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Td.isInlineInput(t)||Td.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Td.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Td.isIcon(e)&&t&&!Td.isInput(t))return this.constants_.LARGE_PADDING;if(Td.isInlineInput(e)&&t&&Td.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Td.isLeftSquareCorner(e)&&t){if(Td.isHat(t))return this.constants_.NO_PADDING;if(Td.isPreviousConnection(t))return t.notchOffset;if(Td.isNextConnection(t))return t.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Td.isLeftRoundedCorner(e)&&t){if(Td.isPreviousConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS;if(Td.isNextConnection(t))return t.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Td.isField(e)&&t&&Td.isField(t)&&e.isEditable===t.isEditable||t&&Td.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}},{key:"getSpacerRowHeight_",value:function(e,t){return Td.isTopRow(e)&&Td.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Td.isTopRow(e)||Td.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||!e.hasStatement&&t.hasDummyInput||e.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}},{key:"getElemCenterline_",value:function(e,t){if(Td.isSpacer(t))return e.yPos+t.height/2;if(Td.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Td.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Td.isTopRow(e))return Td.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var n=e.yPos;return Td.isField(t)||Td.isIcon(t)?(n+=t.height/2,(e.hasInlineInput||e.hasStatement)&&t.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=e.height&&(n+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):n=Td.isInlineInput(t)?n+t.height/2:n+e.height/2,n}},{key:"alignRowElements_",value:function(){if(this.isInline){for(var e,t=0,i=new WeakMap,r=null,o=this.rows.length-1;e=this.rows[o];o--)i.set(e,t),Td.isInputRow(e)&&(e.hasStatement&&this.alignStatementRow_(e),r&&r.hasStatement&&e.width<r.width?i.set(e,r.width):t=e.hasStatement?e.width:Math.max(t,e.width),r=e);t=0;for(var a,s=0;a=this.rows[s];s++)a.hasStatement?t=this.getDesiredRowWidth_(a):Td.isSpacer(a)?a.width=Math.max(t,i.get(a)):(r=a.width,0<(t=Math.max(t,i.get(a))-r)&&this.addAlignmentPadding_(a,t),t=a.width)}else l(u(n.prototype),"alignRowElements_",this).call(this)}},{key:"getDesiredRowWidth_",value:function(e){return this.isInline&&e.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:l(u(n.prototype),"getDesiredRowWidth_",this).call(this,e)}},{key:"finalize_",value:function(){for(var e,t=0,n=0,i=0;e=this.rows[i];i++){e.yPos=n,e.xPos=this.startX,n+=e.height,t=Math.max(t,e.widthWithConnectedBlocks);var r=n-this.topRow.ascenderHeight;e===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,n+=r),this.recordElemPositions_(e)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(r=this.block_.nextConnection.targetBlock())&&(t=Math.max(t,r.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=n-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=n+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}}]),n}(Jd),Ev=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).constants=r,o.colourDark="#000000",o.svgPathDark=pe(Ll.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),o.svgRoot.insertBefore(o.svgPathDark,o.svgPath),o.svgPathLight=pe(Ll.PATH,{class:"blocklyPathLight"},o.svgRoot),o}return f(n,[{key:"setPath",value:function(e){this.svgPath.setAttribute("d",e),this.svgPathDark.setAttribute("d",e)}},{key:"setHighlightPath",value:function(e){this.svgPathLight.setAttribute("d",e)}},{key:"flipRTL",value:function(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}},{key:"applyColour",value:function(e){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),l(u(n.prototype),"applyColour",this).call(this,e),this.svgPath.setAttribute("stroke","none")}},{key:"setStyle",value:function(e){this.style=e,this.colourDark=Pr("#000",this.style.colourPrimary,.2)||this.colourDark}},{key:"updateHighlighted",value:function(e){e?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}},{key:"updateShadow_",value:function(e){if(e){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}},{key:"updateDisabled_",value:function(e){l(u(n.prototype),"updateDisabled_",this).call(this,e),e&&this.svgPath.setAttribute("stroke","none")}}]),n}(af),xv=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this,e)).highlightConstants=null,i}return f(n,[{key:"init",value:function(e,t){l(u(n.prototype),"init",this).call(this,e,t),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}},{key:"refreshDom",value:function(e,t){l(u(n.prototype),"refreshDom",this).call(this,e,t),this.getHighlightConstants().init()}},{key:"makeConstants_",value:function(){return new gv}},{key:"makeRenderInfo_",value:function(e){return new Tv(this,e)}},{key:"makeDrawer_",value:function(e,t){return new yv(e,t)}},{key:"makePathObject",value:function(e,t){return new Ev(e,t,this.getConstants())}},{key:"makeHighlightConstants_",value:function(){return new _v(this.getConstants())}},{key:"getHighlightConstants",value:function(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}}]),n}(vf);Fo("geras",xv);var wv={};wv.ConstantProvider=gv,wv.Drawer=yv,wv.HighlightConstantProvider=_v,wv.Highlighter=mv,wv.InlineInput=bv,wv.PathObject=Ev,wv.RenderInfo=Tv,wv.Renderer=xv,wv.StatementInput=kv;var Sv=function(e){"use strict";c(n,e);var t=h(n);function n(){var e;return d(this,n),e=t.call(this),fe("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider"),e}return f(n)}(zd),Cv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),r=t.call(this,e,i),fe("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer"),r}return f(n)}(Wd),Iv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),r=t.call(this,e,i),fe("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo"),r}return f(n,[{key:"getRenderer",value:function(){return this.renderer_}}]),n}(Jd),Rv=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),i=t.call(this,e),fe("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer"),i}return f(n,[{key:"makeConstants_",value:function(){return new Sv}},{key:"makeRenderInfo_",value:function(e){return new Iv(this,e)}},{key:"makeDrawer_",value:function(e,t){return new Cv(e,t)}}]),n}(vf);Fo("minimalist",Rv);var Ov={};Ov.ConstantProvider=Sv,Ov.Drawer=Cv,Ov.RenderInfo=Iv,Ov.Renderer=Rv;var Av=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){return d(this,n),t.call(this,e,i)}return f(n,[{key:"getRenderer",value:function(){return this.renderer_}},{key:"addElemSpacing_",value:function(){for(var e=!1,t=0;t<this.rows.length;t++)if(this.rows[t].hasExternalInput){e=!0;break}for(t=0;t<this.rows.length;t++){var n=this.rows[t],i=n.elements;if(n.elements=[],n.startsWithElemSpacer()&&n.elements.push(new Md(this.constants_,this.getInRowSpacing_(null,i[0]))),i.length){for(var r=0;r<i.length-1;r++){n.elements.push(i[r]);var o=this.getInRowSpacing_(i[r],i[r+1]);n.elements.push(new Md(this.constants_,o))}n.elements.push(i[i.length-1]),n.endsWithElemSpacer()&&(i=this.getInRowSpacing_(i[i.length-1],null),e&&n.hasDummyInput&&(i+=this.constants_.TAB_WIDTH),n.elements.push(new Md(this.constants_,i)))}}}},{key:"getInRowSpacing_",value:function(e,t){if(!e)return t&&Td.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:t&&Td.isInlineInput(t)?this.constants_.MEDIUM_LARGE_PADDING:t&&Td.isStatementInput(t)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Td.isInput(e)&&!t)return Td.isField(e)&&e.isEditable?this.constants_.MEDIUM_PADDING:Td.isIcon(e)?2*this.constants_.LARGE_PADDING+1:Td.isHat(e)?this.constants_.NO_PADDING:Td.isPreviousOrNextConnection(e)?this.constants_.LARGE_PADDING:Td.isLeftRoundedCorner(e)?this.constants_.MIN_BLOCK_WIDTH:Td.isJaggedEdge(e)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Td.isInput(e)&&!t){if(Td.isExternalInput(e))return this.constants_.NO_PADDING;if(Td.isInlineInput(e))return this.constants_.LARGE_PADDING;if(Td.isStatementInput(e))return this.constants_.NO_PADDING}if(!Td.isInput(e)&&t&&Td.isInput(t)){if(Td.isField(e)&&e.isEditable){if(Td.isInlineInput(t)||Td.isExternalInput(t))return this.constants_.SMALL_PADDING}else{if(Td.isInlineInput(t)||Td.isExternalInput(t))return this.constants_.MEDIUM_LARGE_PADDING;if(Td.isStatementInput(t))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Td.isIcon(e)&&t&&!Td.isInput(t))return this.constants_.LARGE_PADDING;if(Td.isInlineInput(e)&&t&&Td.isField(t))return t.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Td.isLeftSquareCorner(e)&&t){if(Td.isHat(t))return this.constants_.NO_PADDING;if(Td.isPreviousConnection(t)||Td.isNextConnection(t))return t.notchOffset}return Td.isLeftRoundedCorner(e)&&t?t.notchOffset-this.constants_.CORNER_RADIUS:Td.isField(e)&&t&&Td.isField(t)&&e.isEditable===t.isEditable||t&&Td.isJaggedEdge(t)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}},{key:"getSpacerRowHeight_",value:function(e,t){return Td.isTopRow(e)&&Td.isBottomRow(t)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Td.isTopRow(e)||Td.isBottomRow(t)?this.constants_.NO_PADDING:e.hasExternalInput&&t.hasExternalInput?this.constants_.LARGE_PADDING:!e.hasStatement&&t.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:e.hasStatement&&t.hasStatement||e.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}},{key:"getElemCenterline_",value:function(e,t){if(Td.isSpacer(t))return e.yPos+t.height/2;if(Td.isBottomRow(e))return e=e.yPos+e.height-e.descenderHeight,Td.isNextConnection(t)?e+t.height/2:e-t.height/2;if(Td.isTopRow(e))return Td.isHat(t)?e.capline-t.height/2:e.capline+t.height/2;var n=e.yPos;return Td.isField(t)&&e.hasStatement?n+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+t.height/2):n+e.height/2}},{key:"finalize_",value:function(){for(var e=0,t=0,n=0;n<this.rows.length;n++){var i=this.rows[n];i.yPos=t,i.xPos=this.startX,t+=i.height,e=Math.max(e,i.widthWithConnectedBlocks);var r=t-this.topRow.ascenderHeight;i===this.bottomRow&&r<this.constants_.MIN_BLOCK_HEIGHT&&(r=this.constants_.MIN_BLOCK_HEIGHT-r,this.bottomRow.height+=r,t+=r),this.recordElemPositions_(i)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(n=this.block_.nextConnection.targetBlock())&&(e=Math.max(e,n.getHeightWidth().width)),this.bottomRow.baseline=t-this.bottomRow.descenderHeight,this.widthWithChildren=e+this.startX,this.height=t,this.startY=this.topRow.capline}}]),n}(Jd),Mv=function(e){"use strict";c(n,e);var t=h(n);function n(e){return d(this,n),t.call(this,e)}return f(n,[{key:"makeRenderInfo_",value:function(e){return new Av(this,e)}}]),n}(vf);Fo("thrasos",Mv);var Lv={};Lv.RenderInfo=Av,Lv.Renderer=Mv;var Nv=new Lh("zelos",{colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},{colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}}),$v={Classic:Nh,Zelos:Nv},Pv=function(){"use strict";function e(t,n,i){d(this,e),this.id_=t.toolboxitemid||P(),this.level_=(this.parent_=i||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=t,this.parentToolbox_=n,this.workspace_=this.parentToolbox_.getWorkspace()}return f(e,[{key:"init",value:function(){}},{key:"getDiv",value:function(){return null}},{key:"getClickTarget",value:function(){return null}},{key:"getId",value:function(){return this.id_}},{key:"getParent",value:function(){return null}},{key:"getLevel",value:function(){return this.level_}},{key:"isSelectable",value:function(){return!1}},{key:"isCollapsible",value:function(){return!1}},{key:"dispose",value:function(){}},{key:"setVisible_",value:function(e){}}]),e}(),Dv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).colour_=o.name_="",o.labelDom_=o.iconDom_=o.rowContents_=o.rowDiv_=o.htmlDiv_=null,o.isDisabled_=o.isHidden_=!1,o.flyoutItems_=[],o.cssConfig_=o.makeDefaultCssConfig_(),o}return f(n,[{key:"init",value:function(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),"true"===this.toolboxItemDef_.hidden&&this.hide()}},{key:"makeDefaultCssConfig_",value:function(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}},{key:"parseContents_",value:function(e){if("custom"in e)this.flyoutItems_=e.custom;else if(e=e.contents)for(var t=0;t<e.length;t++){var n=e[t];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(n)}}},{key:"parseCategoryDef_",value:function(e){this.name_="name"in e?Ur(e.name):"",this.colour_=this.getColour_(e),Object.assign(this.cssConfig_,e.cssconfig||e.cssConfig)}},{key:"createDom_",value:function(){this.htmlDiv_=this.createContainer_(),Xn(this.htmlDiv_,dc.TREEITEM),Yn(this.htmlDiv_,fc.SELECTED,!1),Yn(this.htmlDiv_,fc.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),Xn(this.iconDom_,dc.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);var e=this.labelDom_.getAttribute("id");return e&&Yn(this.htmlDiv_,fc.LABELLEDBY,e),this.addColourBorder_(this.colour_),this.htmlDiv_}},{key:"createContainer_",value:function(){var e=document.createElement("div"),t=this.cssConfig_.container;return t&&ve(e,t),e}},{key:"createRowContainer_",value:function(){var e=document.createElement("div"),t=this.cssConfig_.row;return t&&ve(e,t),t="".concat(n.nestedPadding*this.getLevel(),"px"),this.workspace_.RTL?e.style.paddingRight=t:e.style.paddingLeft=t,e}},{key:"createRowContentsContainer_",value:function(){var e=document.createElement("div"),t=this.cssConfig_.rowcontentcontainer;return t&&ve(e,t),e}},{key:"createIconDom_",value:function(){var e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){var t=this.cssConfig_.icon;t&&ve(e,t)}return e.style.display="inline-block",e}},{key:"createLabelDom_",value:function(e){var t=document.createElement("span");return t.setAttribute("id",this.getId()+".label"),t.textContent=e,(e=this.cssConfig_.label)&&ve(t,e),t}},{key:"refreshTheme",value:function(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}},{key:"addColourBorder_",value:function(e){e&&(e=n.borderWidth+"px solid "+(e||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=e:this.rowDiv_.style.borderLeft=e)}},{key:"getColour_",value:function(e){var t=e.categorystyle||e.categoryStyle;if((e=e.colour)&&t)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(t)return this.getColourfromStyle_(t);if(e)return this.parseColour_(e)}return""}},{key:"getColourfromStyle_",value:function(e){var t=this.workspace_.getTheme();if(e&&t){if((t=t.categoryStyles[e])&&t.colour)return this.parseColour_(t.colour);console.warn('Style "'+e+'" must exist and contain a colour value')}return""}},{key:"getClickTarget",value:function(){return this.rowDiv_}},{key:"parseColour_",value:function(e){if(null==(e=Ur(e))||""===e)return"";var t=Number(e);return isNaN(t)?(t=Mr(e))?t:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+e),""):Dr(t)}},{key:"openIcon_",value:function(e){if(e){var t=this.cssConfig_.closedicon;t&&ge(e,t),(t=this.cssConfig_.openicon)&&ve(e,t)}}},{key:"closeIcon_",value:function(e){if(e){var t=this.cssConfig_.openicon;t&&ge(e,t),(t=this.cssConfig_.closedicon)&&ve(e,t)}}},{key:"setVisible_",value:function(e){this.htmlDiv_.style.display=e?"block":"none",this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}},{key:"hide",value:function(){this.setVisible_(!1)}},{key:"show",value:function(){this.setVisible_(!0)}},{key:"isVisible",value:function(){return!this.isHidden_&&this.allAncestorsExpanded_()}},{key:"allAncestorsExpanded_",value:function(){for(var e=this;e.getParent();)if(!(e=e.getParent()).isExpanded())return!1;return!0}},{key:"isSelectable",value:function(){return this.isVisible()&&!this.isDisabled_}},{key:"onClick",value:function(e){}},{key:"setSelected",value:function(e){if(this.rowDiv_){var t=this.cssConfig_.selected;if(e){var i=this.parseColour_(n.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||i,t&&ve(this.rowDiv_,t)}else this.rowDiv_.style.backgroundColor="",t&&me(this.rowDiv_,t);Yn(this.htmlDiv_,fc.SELECTED,e)}}},{key:"setDisabled",value:function(e){this.isDisabled_=e,this.getDiv().setAttribute("disabled","".concat(e)),e?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}},{key:"getName",value:function(){return this.name_}},{key:"getParent",value:function(){return this.parent_}},{key:"getDiv",value:function(){return this.htmlDiv_}},{key:"getContents",value:function(){return this.flyoutItems_}},{key:"updateFlyoutContents",value:function(e){this.flyoutItems_=[],this.toolboxItemDef_="string"===typeof e?{kind:this.toolboxItemDef_.kind,custom:e,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Ye(e),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}},{key:"dispose",value:function(){_e(this.htmlDiv_)}}]),n}(Pv);Dv.registrationName="category",Dv.nestedPadding=19,Dv.borderWidth=8,Dv.defaultBackgroundColour="#57e",he('\n.blocklyTreeRow:not(.blocklyTreeSelected):hover {\n  background-color: rgba(255, 255, 255, .2);\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {\n  margin: 1px 5px 1px 0;\n}\n\n.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {\n  margin: 1px 0 1px 5px;\n}\n\n.blocklyTreeRow {\n  height: 22px;\n  line-height: 22px;\n  margin-bottom: 3px;\n  padding-right: 8px;\n  white-space: nowrap;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {\n  margin-left: 8px;\n  padding-right: 0;\n}\n\n.blocklyTreeIcon {\n  background-image: url(<<<PATH>>>/sprites.png);\n  height: 16px;\n  vertical-align: middle;\n  visibility: hidden;\n  width: 16px;\n}\n\n.blocklyTreeIconClosed {\n  background-position: -32px -1px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {\n  background-position: 0 -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: -32px -17px;\n}\n\n.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {\n  background-position: 0 -17px;\n}\n\n.blocklyTreeIconOpen {\n  background-position: -16px -1px;\n}\n\n.blocklyTreeSelected>.blocklyTreeIconOpen {\n  background-position: -16px -17px;\n}\n\n.blocklyTreeLabel {\n  cursor: default;\n  font: 16px sans-serif;\n  padding: 0 3px;\n  vertical-align: middle;\n}\n\n.blocklyToolboxDelete .blocklyTreeLabel {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyTreeSelected .blocklyTreeLabel {\n  color: #fff;\n}\n'),e(qa.TOOLBOX_ITEM,Dv.registrationName,Dv);var Bv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i){var r;return d(this,n),(r=t.call(this,e,i)).cssConfig_={container:"blocklyTreeSeparator"},r.htmlDiv_=null,Object.assign(r.cssConfig_,e.cssconfig||e.cssConfig),r}return f(n,[{key:"init",value:function(){this.createDom_()}},{key:"createDom_",value:function(){var e=document.createElement("div"),t=this.cssConfig_.container;return t&&ve(e,t),this.htmlDiv_=e}},{key:"getDiv",value:function(){return this.htmlDiv_}},{key:"dispose",value:function(){_e(this.htmlDiv_)}}]),n}(Pv);Bv.registrationName="sep",he('\n.blocklyTreeSeparator {\n  border-bottom: solid #e5e5e5 1px;\n  height: 0;\n  margin: 5px 0;\n}\n\n.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {\n  border-right: solid #e5e5e5 1px;\n  border-bottom: none;\n  height: auto;\n  margin: 0 5px 0 5px;\n  padding: 5px 0;\n  width: 0;\n}\n'),e(qa.TOOLBOX_ITEM,Bv.registrationName,Bv);var Fv=function(e){"use strict";c(n,e);var t=h(n);function n(e,i,r){var o;return d(this,n),(o=t.call(this,e,i,r)).subcategoriesDiv_=null,o.expanded_=!1,o.toolboxItems_=[],o}return f(n,[{key:"makeDefaultCssConfig_",value:function(){var e=l(u(n.prototype),"makeDefaultCssConfig_",this).call(this);return e.contents="blocklyToolboxContents",e}},{key:"parseContents_",value:function(e){if("custom"in e)this.flyoutItems_=e.custom;else{var t=e.contents;if(t){this.flyoutItems_=[],e=!0;for(var n=0;n<t.length;n++){var i=t[n];!o(qa.TOOLBOX_ITEM,i.kind)||i.kind.toLowerCase()===Bv.registrationName&&e?(this.flyoutItems_.push(i),e=!0):(this.createToolboxItem_(i),e=!1)}}}}},{key:"createToolboxItem_",value:function(e){var t=e.kind;"CATEGORY"===t.toUpperCase()&&Je(e)&&(t=n.registrationName),e=new(m(qa.TOOLBOX_ITEM,t))(e,this.parentToolbox_,this),this.toolboxItems_.push(e)}},{key:"init",value:function(){l(u(n.prototype),"init",this).call(this),this.setExpanded("true"===this.toolboxItemDef_.expanded||!0===this.toolboxItemDef_.expanded)}},{key:"createDom_",value:function(){l(u(n.prototype),"createDom_",this).call(this);var e=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(e),Xn(this.subcategoriesDiv_,dc.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),Yn(this.htmlDiv_,fc.EXPANDED,!1),this.htmlDiv_}},{key:"createIconDom_",value:function(){var e=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){var t=this.cssConfig_.icon;t&&ve(e,t),e.style.visibility="visible"}return e.style.display="inline-block",e}},{key:"createSubCategoriesDom_",value:function(e){var t=document.createElement("div");t.style.display="none";var n=this.cssConfig_.contents;for(n&&ve(t,n),n=0;n<e.length;n++){var i=e[n];i.init();var r=i.getDiv();if(t.appendChild(r),i.getClickTarget){var o=void 0;null==(o=i.getClickTarget())||o.setAttribute("id",i.getId())}}return t}},{key:"setExpanded",value:function(e){var t;this.expanded_!==e&&((this.expanded_=e)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(null==(t=this.parentToolbox_.getFlyout())||t.setVisible(!1),this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),Yn(this.htmlDiv_,fc.EXPANDED,e),this.parentToolbox_.handleToolboxItemResize())}},{key:"setVisible_",value:function(e){this.htmlDiv_.style.display=e?"block":"none";for(var t=this.getChildToolboxItems(),n=0;n<t.length;n++)t[n].setVisible_(e);this.isHidden_=!e,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}},{key:"isExpanded",value:function(){return this.expanded_}},{key:"isCollapsible",value:function(){return!0}},{key:"onClick",value:function(e){this.toggleExpanded()}},{key:"toggleExpanded",value:function(){this.setExpanded(!this.expanded_)}},{key:"getDiv",value:function(){return this.htmlDiv_}},{key:"getChildToolboxItems",value:function(){return this.toolboxItems_}}]),n}(Dv);Fv.registrationName="collapsibleCategory",e(qa.TOOLBOX_ITEM,Fv.registrationName,Fv);var Uv=function(e){"use strict";c(n,e);var t=h(n);function n(e){var i;return d(this,n),(i=t.call(this)).id="toolbox",i.contentsDiv_=i.HtmlDiv=null,i.isVisible_=!1,i.contents_=[],i.height_=i.width_=0,i.previouslySelectedItem_=i.selectedItem_=i.flyout_=null,i.boundEvents_=[],i.workspace_=e,i.toolboxDef_=e.options.languageTree||{contents:[]},i.horizontalLayout_=e.options.horizontalLayout,i.RTL=e.options.RTL,i.contentMap_=Object.create(null),i.toolboxPosition=e.options.toolboxPosition,i}return f(n,[{key:"onShortcut",value:function(e){return!1}},{key:"init",value:function(){var e=this.workspace_,t=e.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),be(this.flyout_.createDom("svg"),t),this.setVisible(!0),this.flyout_.init(e),this.render(this.toolboxDef_),(e=e.getThemeManager()).subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),e.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[yl.Capability.AUTOHIDEABLE,yl.Capability.DELETE_AREA,yl.Capability.DRAG_TARGET]})}},{key:"createDom_",value:function(e){e=e.getParentSvg();var t=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,Xn(this.contentsDiv_,dc.TREE),t.appendChild(this.contentsDiv_),e.parentNode.insertBefore(t,e),this.attachEvents_(t,this.contentsDiv_),t}},{key:"createContainer_",value:function(){var e=document.createElement("div");return e.setAttribute("layout",this.isHorizontal()?"h":"v"),ve(e,"blocklyToolboxDiv"),ve(e,"blocklyNonSelectable"),e.setAttribute("dir",this.RTL?"RTL":"LTR"),e}},{key:"createContentsContainer_",value:function(){var e=document.createElement("div");return ve(e,"blocklyToolboxContents"),this.isHorizontal()&&(e.style.flexDirection="row"),e}},{key:"attachEvents_",value:function(e,t){e=ie(e,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(e),t=ie(t,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(t)}},{key:"onClick_",value:function(e){if(se(e)||e.target===this.HtmlDiv)w().hideChaff(!1);else{var t=e.target.getAttribute("id");t&&(t=this.getToolboxItemById(t)).isSelectable()&&(this.setSelectedItem(t),t.onClick(e)),w().hideChaff(!0)}Q()}},{key:"onKeyDown_",value:function(e){var t=!1;switch(e.key){case"ArrowDown":t=this.selectNext_();break;case"ArrowUp":t=this.selectPrevious_();break;case"ArrowLeft":t=this.selectParent_();break;case"ArrowRight":t=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),t=!0);break;default:t=!1}!t&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(t=this.selectedItem_.onKeyDown(e)),t&&e.preventDefault()}},{key:"createFlyout_",value:function(){var e=this.workspace_,t=new $h({parentWorkspace:e,rtl:e.RTL,oneBasedIndex:e.options.oneBasedIndex,horizontalLayout:e.horizontalLayout,renderer:e.options.renderer,rendererOverrides:e.options.rendererOverrides,move:{scrollbars:!0}});return t.toolboxPosition=e.options.toolboxPosition,new(e.horizontalLayout?b(qa.FLYOUTS_HORIZONTAL_TOOLBOX,e.options,!0):b(qa.FLYOUTS_VERTICAL_TOOLBOX,e.options,!0))(t)}},{key:"render",value:function(e){this.toolboxDef_=e;for(var t=0;t<this.contents_.length;t++){var n=this.contents_[t];n&&n.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(e.contents),this.position(),this.handleToolboxItemResize()}},{key:"renderContents_",value:function(e){for(var t=document.createDocumentFragment(),n=0;n<e.length;n++)this.createToolboxItem_(e[n],t);this.contentsDiv_.appendChild(t)}},{key:"createToolboxItem_",value:function(e,t){var n=e.kind;"CATEGORY"===n.toUpperCase()&&Je(e)&&(n=Fv.registrationName),(n=m(qa.TOOLBOX_ITEM,n.toLowerCase()))&&((e=new n(e,this)).init(),this.addToolboxItem_(e),(n=e.getDiv())&&t.appendChild(n),e.getClickTarget()&&e.getClickTarget().setAttribute("id",e.getId()))}},{key:"addToolboxItem_",value:function(e){if(this.contents_.push(e),this.contentMap_[e.getId()]=e,e.isCollapsible()){e=e.getChildToolboxItems();for(var t=0;t<e.length;t++)this.addToolboxItem_(e[t])}}},{key:"getToolboxItems",value:function(){return this.contents_}},{key:"addStyle",value:function(e){e&&this.HtmlDiv&&ve(this.HtmlDiv,e)}},{key:"removeStyle",value:function(e){e&&this.HtmlDiv&&me(this.HtmlDiv,e)}},{key:"getClientRect",value:function(){if(!this.HtmlDiv||!this.isVisible_)return null;var e=this.HtmlDiv.getBoundingClientRect(),t=e.top,n=t+e.height,i=e.left;return e=i+e.width,this.toolboxPosition===Kl.TOP?new Nl(-1e7,n,-1e7,1e7):this.toolboxPosition===Kl.BOTTOM?new Nl(t,1e7,-1e7,1e7):this.toolboxPosition===Kl.LEFT?new Nl(-1e7,1e7,-1e7,e):new Nl(-1e7,1e7,i,1e7)}},{key:"wouldDelete",value:function(e,t){return e instanceof Zf?this.updateWouldDelete_(!e.getParent()&&e.isDeletable()):this.updateWouldDelete_(e.isDeletable()),this.wouldDelete_}},{key:"onDragEnter",value:function(e){this.updateCursorDeleteStyle_(!0)}},{key:"onDragExit",value:function(e){this.updateCursorDeleteStyle_(!1)}},{key:"onDrop",value:function(e){this.updateCursorDeleteStyle_(!1)}},{key:"updateWouldDelete_",value:function(e){e!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=e,this.updateCursorDeleteStyle_(!0))}},{key:"updateCursorDeleteStyle_",value:function(e){var t=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";e?this.addStyle(t):this.removeStyle(t)}},{key:"getToolboxItemById",value:function(e){return this.contentMap_[e]||null}},{key:"getWidth",value:function(){return this.width_}},{key:"getHeight",value:function(){return this.height_}},{key:"getFlyout",value:function(){return this.flyout_}},{key:"getWorkspace",value:function(){return this.workspace_}},{key:"getSelectedItem",value:function(){return this.selectedItem_}},{key:"getPreviouslySelectedItem",value:function(){return this.previouslySelectedItem_}},{key:"isHorizontal",value:function(){return this.horizontalLayout_}},{key:"position",value:function(){var e=this.workspace_.getMetrics(),t=this.HtmlDiv;t&&(this.horizontalLayout_?(t.style.left="0",t.style.height="auto",t.style.width="100%",this.height_=t.offsetHeight,this.width_=e.viewWidth,this.toolboxPosition===Kl.TOP?t.style.top="0":t.style.bottom="0"):(this.toolboxPosition===Kl.RIGHT?t.style.right="0":t.style.left="0",t.style.height="100%",this.width_=t.offsetWidth,this.height_=e.viewHeight),this.flyout_.position())}},{key:"handleToolboxItemResize",value:function(){var e=this.workspace_,t=this.HtmlDiv.getBoundingClientRect();e.translate(this.toolboxPosition===Kl.LEFT?e.scrollX+t.width:e.scrollX,this.toolboxPosition===Kl.TOP?e.scrollY+t.height:e.scrollY),A(e)}},{key:"clearSelection",value:function(){this.setSelectedItem(null)}},{key:"refreshTheme",value:function(){for(var e=0;e<this.contents_.length;e++){var t=this.contents_[e];t.refreshTheme&&t.refreshTheme()}}},{key:"refreshSelection",value:function(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}},{key:"setVisible",value:function(e){this.isVisible_!==e&&(this.HtmlDiv.style.display=e?"block":"none",this.isVisible_=e,this.workspace_.recordDragTargets())}},{key:"autoHide",value:function(e){!e&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}},{key:"setSelectedItem",value:function(e){var t=this.selectedItem_;!e&&!t||e&&!Ha(e)||(this.shouldDeselectItem_(t,e)&&null!==t&&this.deselectItem_(t),this.shouldSelectItem_(t,e)&&null!==e&&this.selectItem_(t,e),this.updateFlyout_(t,e),this.fireSelectEvent_(t,e))}},{key:"shouldDeselectItem_",value:function(e,t){return null!==e&&(!e.isCollapsible()||e!==t)}},{key:"shouldSelectItem_",value:function(e,t){return null!==t&&t!==e}},{key:"deselectItem_",value:function(e){this.selectedItem_=null,this.previouslySelectedItem_=e,e.setSelected(!1),Yn(this.contentsDiv_,fc.ACTIVEDESCENDANT,"")}},{key:"selectItem_",value:function(e,t){this.selectedItem_=t,this.previouslySelectedItem_=e,t.setSelected(!0),Yn(this.contentsDiv_,fc.ACTIVEDESCENDANT,t.getId())}},{key:"selectItemByPosition",value:function(e){-1<e&&e<this.contents_.length&&(e=this.contents_[e]).isSelectable()&&this.setSelectedItem(e)}},{key:"updateFlyout_",value:function(e,t){t&&(e!==t||t.isCollapsible())&&t.getContents().length?(this.flyout_.show(t.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}},{key:"fireSelectEvent_",value:function(e,t){var n=e&&e.getName(),i=t&&t.getName();e===t&&(i=null),e=new(Y(ks))(n,i,this.workspace_.id),U(e)}},{key:"selectParent_",value:function(){return!!this.selectedItem_&&(this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):!(!this.selectedItem_.getParent()||!this.selectedItem_.getParent().isSelectable())&&(this.setSelectedItem(this.selectedItem_.getParent()),!0))}},{key:"selectChild_",value:function(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;var e=this.selectedItem_;return e.isExpanded()?this.selectNext_():e.toggleExpanded(),!0}},{key:"selectNext_",value:function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)+1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[++e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}},{key:"selectPrevious_",value:function(){if(!this.selectedItem_)return!1;var e=this.contents_.indexOf(this.selectedItem_)-1;if(-1<e&&e<this.contents_.length){for(var t=this.contents_[e];t&&!t.isSelectable();)t=this.contents_[--e];if(t&&t.isSelectable())return this.setSelectedItem(t),!0}return!1}},{key:"dispose",value:function(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var e=0;e<this.contents_.length;e++)this.contents_[e].dispose();for(e=0;e<this.boundEvents_.length;e++)oe(this.boundEvents_[e]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),_e(this.HtmlDiv))}}]),n}(Vf);he('\n.blocklyToolboxDelete {\n  cursor: url("<<<PATH>>>/handdelete.cur"), auto;\n}\n\n.blocklyToolboxGrab {\n  cursor: url("<<<PATH>>>/handclosed.cur"), auto;\n  cursor: grabbing;\n  cursor: -webkit-grabbing;\n}\n\n/* Category tree in Toolbox. */\n.blocklyToolboxDiv {\n  background-color: #ddd;\n  overflow-x: visible;\n  overflow-y: auto;\n  padding: 4px 0 4px 0;\n  position: absolute;\n  z-index: 70;  /* so blocks go under toolbox when dragging */\n  -webkit-tap-highlight-color: transparent;  /* issue #1345 */\n}\n\n.blocklyToolboxContents {\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n}\n\n.blocklyToolboxContents:focus {\n  outline: none;\n}\n'),e(qa.TOOLBOX,Ka,Uv);var jv="10.4.3",Zv=Wa.Align$$module$build$src$core$inputs$align.LEFT,Hv=Wa.Align$$module$build$src$core$inputs$align.CENTRE,zv=Wa.Align$$module$build$src$core$inputs$align.RIGHT,Vv=ic.INPUT_VALUE,Wv=ic.OUTPUT_VALUE,Gv=ic.NEXT_STATEMENT,Xv=ic.PREVIOUS_STATEMENT,Yv=Wa.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,Kv=Kl.TOP,qv=Kl.BOTTOM,Jv=Kl.LEFT,Qv=Kl.RIGHT;xf.prototype.newBlock=function(e,t){return new Lf(this,e,t)},Rf.prototype.newBlock=function(e,t){return new Zf(this,e,t)},Rf.newTrashcan=function(e){return new Wf(e)},Ou.prototype.showContextMenu=function(e){if(!this.workspace.options.readOnly){var t=[];this.isDeletable()&&this.isMovable()&&(t.push(_i(this)),t.push(yi(this))),hi(e,t,this.RTL)}},td.prototype.newWorkspaceSvg=function(e){return new Rf(e)},Wa.Names$$module$build$src$core$names.prototype.populateProcedures=function(e){e=(e=To(e))[0].concat(e[1]);for(var t=0;t<e.length;t++)this.getName(e[t][0],Wa.Names$$module$build$src$core$names.NameType.PROCEDURE)};var eg=ic,tg={ALIGN_CENTRE:Hv,ALIGN_LEFT:Zv,ALIGN_RIGHT:zv};return tg.ASTNode=Qd,tg.BasicCursor=Pf,tg.Block=Lf,tg.BlockDragger=Tp,tg.BlockSvg=Zf,tg.Blocks=ts,tg.Bubble=Jh,tg.BubbleDragger=nh,tg.COLLAPSED_FIELD_NAME=uf,tg.COLLAPSED_INPUT_NAME=lf,tg.COLLAPSE_CHARS=ih,tg.CodeGenerator=Wa.CodeGenerator$$module$build$src$core$generator,tg.CollapsibleToolboxCategory=Fv,tg.ComponentManager=yl,tg.Connection=sf,tg.ConnectionChecker=bf,tg.ConnectionDB=oc,tg.ConnectionType=ic,tg.ContextMenu=Rc,tg.ContextMenuItems=Kp,tg.ContextMenuRegistry=Oc,tg.Css=kl,tg.Cursor=$f,tg.DELETE_VARIABLE_ID=sh,tg.DRAG_STACK=rh,tg.DUMMY_INPUT=Yv,tg.DeleteArea=Vf,tg.DragTarget=zf,tg.DropDownDiv=Kc,tg.Events=$p,tg.Extensions=od,tg.Field=Zh,tg.FieldAngle=Jp,tg.FieldCheckbox=ev,tg.FieldColour=tv,tg.FieldDropdown=Yh,tg.FieldImage=Bp,tg.FieldLabel=Gd,tg.FieldLabelSerializable=nv,tg.FieldMultilineInput=iv,tg.FieldNumber=rv,tg.FieldTextInput=Up,tg.FieldVariable=ov,tg.Flyout=uv,tg.FlyoutButton=av,tg.FlyoutMetricsManager=lv,tg.Generator=Wa.CodeGenerator$$module$build$src$core$generator,tg.Gesture=Rh,tg.Grid=Oh,tg.HorizontalFlyout=cv,tg.INPUT_VALUE=Vv,tg.Input=Xd,tg.InsertionMarkerManager=df,tg.InsertionMarkerPreviewer=vv,tg.Marker=Nf,tg.MarkerManager=Ah,tg.Menu=yc,tg.MenuItem=_c,tg.MetricsManager=yp,tg.Msg=Wa.Msg$$module$build$src$core$msg,tg.NEXT_STATEMENT=Gv,tg.Names=Wa.Names$$module$build$src$core$names,tg.OPPOSITE_TYPE=oh,tg.OUTPUT_VALUE=Wv,tg.Options=$h,tg.PREVIOUS_STATEMENT=Xv,tg.PROCEDURE_CATEGORY_NAME=_d,tg.Procedures=bd,tg.RENAME_VARIABLE_ID=ah,tg.RenderedConnection=Ff,tg.Scrollbar=jl,tg.ScrollbarPair=mp,tg.ShortcutItems=cp,tg.ShortcutRegistry=sp,tg.TOOLBOX_AT_BOTTOM=qv,tg.TOOLBOX_AT_LEFT=Jv,tg.TOOLBOX_AT_RIGHT=Qv,tg.TOOLBOX_AT_TOP=Kv,tg.TabNavigateCursor=Df,tg.Theme=Lh,tg.ThemeManager=mf,tg.Themes=$v,tg.Toolbox=Uv,tg.ToolboxCategory=Dv,tg.ToolboxItem=Pv,tg.ToolboxSeparator=Bv,tg.Tooltip=wh,tg.Touch=rl,tg.Trashcan=Wf,tg.UnattachedFieldError=Hh,tg.VARIABLE_CATEGORY_NAME=_u,tg.VARIABLE_DYNAMIC_CATEGORY_NAME=yf,tg.VERSION=jv,tg.VariableMap=Ef,tg.VariableModel=yu,tg.Variables=Tu,tg.VariablesDynamic=_f,tg.VerticalFlyout=hv,tg.WidgetDiv=wc,tg.Workspace=xf,tg.WorkspaceAudio=Sf,tg.WorkspaceComment=Eu,tg.WorkspaceCommentSvg=Ou,tg.WorkspaceDragger=Sh,tg.WorkspaceSvg=Rf,tg.Xml=Du,tg.ZoomControls=au,tg.blockAnimations=Qc,tg.blockRendering=gf,tg.browserEvents=vl,tg.bubbles=Ep,tg.bumpObjects=kp,tg.clipboard=hc,tg.common=as,tg.config=Wa.config$$module$build$src$core$config,tg.connectionTypes=eg,tg.constants=cf,tg.defineBlocksWithJsonArray=N,tg.dialog=pu,tg.fieldRegistry=Xh,tg.geras=wv,tg.getMainWorkspace=w,tg.getSelected=C,tg.hasBubble=Cr,tg.hideChaff=za,tg.icons=kd,tg.inject=Na,tg.inputTypes=Wa.inputTypes$$module$build$src$core$inputs$input_types,tg.inputs=fv,tg.isCopyable=Xo,tg.isIcon=ja,tg.isObservable=zr,tg.isPaster=Za,tg.isSerializable=pn,tg.isVariableBackedParameterModel=ft,tg.minimalist=Ov,tg.procedures=bd,tg.registry=Ja,tg.renderManagement=Pu,tg.serialization=gp,tg.setLocale=lu,tg.setParentContainer=O,tg.svgResize=A,tg.thrasos=Lv,tg.uiPosition=ru,tg.utils=sd,tg.zelos=Yp,Object.defineProperties(tg,{HSV_SATURATION:{get:function(){return fe("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.getHsvSaturation()"),Ir()},set:function(e){fe("Blockly.HSV_SATURATION","version 10","version 11","Blockly.utils.colour.setHsvSaturation()"),Rr(e)}},HSV_VALUE:{get:function(){return fe("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.getHsvValue()"),Or()},set:function(e){fe("Blockly.HSV_VALUE","version 10","version 11","Blockly.utils.colour.setHsvValue()"),Ar(e)}}}),"Blockly"in globalThis||(globalThis.Blockly={Msg:uu}),tg.__namespace__=Wa,tg},void 0===(o="function"===typeof i?i.apply(t,r):i)||(e.exports=o)},3720:function(e,t,n){var i,r,o;r=[n(2657)],void 0===(o="function"===typeof(i=function(e){return e})?i.apply(t,r):i)||(e.exports=o)},2657:function(e,t,n){var i,r,o;r=[n(2363)],void 0===(o="function"===typeof(i=function(e){var t=e.__namespace__,n=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),i={customContextMenu:function(e){if(this.isInFlyout)"variables_get_dynamic"!==this.type&&"variables_get_reporter_dynamic"!==this.type||(i={text:t.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:r(this)},a=this.getField("VAR").getText(),a={text:t.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",a),enabled:!0,callback:o(this)},e.unshift(i),e.unshift(a));else{if("variables_get_dynamic"===this.type)var n="variables_set_dynamic",i=t.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else n="variables_get_dynamic",i=t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var a=this.getField("VAR");n={type:n,fields:{VAR:a.saveState(!0)}},e.push({enabled:0<this.workspace.remainingCapacity(),text:i.replace("%1",a.getText()),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,n)})}},onchange:function(e){e=this.getFieldValue("VAR"),e=t.getVariable$$module$build$src$core$variables(this.workspace,e),"variables_get_dynamic"===this.type?this.outputConnection.setCheck(e.type):this.getInput("VALUE").connection.setCheck(e.type)}},r=function(e){return function(){var n=e.workspace,i=e.getField("VAR").getVariable();t.renameVariable$$module$build$src$core$variables(n,i)}},o=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",i),t.defineBlocks$$module$build$src$core$common(n);var a={blocks:n},s=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),l={customContextMenu:function(e){if(this.isInFlyout)"variables_get"!==this.type&&"variables_get_reporter"!==this.type||(i={text:t.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:u(this)},r=this.getField("VAR").getText(),r={text:t.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",r),enabled:!0,callback:c(this)},e.unshift(i),e.unshift(r));else{if("variables_get"===this.type)var n="variables_set",i=t.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else n="variables_get",i=t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;var r=this.getField("VAR");n={type:n,fields:{VAR:r.saveState(!0)}},e.push({enabled:0<this.workspace.remainingCapacity(),text:i.replace("%1",r.getText()),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,n)})}}},u=function(e){return function(){var n=e.workspace,i=e.getField("VAR").getVariable();t.renameVariable$$module$build$src$core$variables(n,i)}},c=function(e){return function(){var t=e.workspace,n=e.getField("VAR").getVariable();t.deleteVariableById(n.getId()),t.refreshToolboxSelection()}};t.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",l),t.defineBlocks$$module$build$src$core$common(s);var h={blocks:s},d=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"\xb6"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),f={init:function(){this.WHERE_OPTIONS_1=[[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation"),n=this.getInput("AT1")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at1","".concat(n)),n=this.getInput("AT2")instanceof t.ValueInput$$module$build$src$core$inputs$value_input,e.setAttribute("at2","".concat(n)),e},domToMutation:function(e){var t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e),2===e&&t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));var i=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+e]});i.setValidator((function(t){var i="FROM_START"===t||"FROM_END"===t;if(i!==n){var r=this.getSourceBlock();return r.updateAt_(e,i),r.setFieldValue(t,"WHERE"+e),null}})),this.getInput("AT"+e).appendField(i,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};d.text_getSubstring=f,d.text_changeCase={init:function(){var e=[[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},d.text_trim={init:function(){var e=[[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[t.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:e}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(t.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},d.text_print={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var p={updateType_:function(e){this.outputConnection.setCheck("NUMBER"===e?"Number":"String")},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("type",this.getFieldValue("TYPE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("type"))}};d.text_prompt_ext=Object.assign({},p,{init:function(){var e=this,n=[[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),(n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n})).setValidator((function(t){e.updateType_(t)})),this.appendValueInput("TEXT").appendField(n,"TYPE"),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===e.getFieldValue("TYPE")?t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}});var v=Object.assign({},p,{init:function(){var e=this;this.mixin(g);var n=[[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(t.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),(n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n})).setValidator((function(t){e.updateType_(t)})),this.appendDummyInput().appendField(n,"TYPE").appendField(this.newQuote_(!0)).appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip((function(){return"TEXT"===e.getFieldValue("TYPE")?t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:t.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER}))}});d.text_prompt=v,d.text_count={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},d.text_replace={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},d.text_reverse={init:function(){this.jsonInit({message0:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:t.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var g={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(e){for(var t,n=0;t=this.inputList[n];n++)for(var i,r=0;i=t.fieldRow[r];r++)if(e===i.name)return t.insertFieldAt(r,this.newQuote_(!0)),void t.insertFieldAt(r+2,this.newQuote_(!1));console.warn('field named "'+e+'" not found in '+this.toDevString())},newQuote_:function(e){return e=this.RTL?!e:e,t.fromJson$$module$build$src$core$field_registry({type:"field_image",src:e?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:e?"\u201c":"\u201d"})}},m=function(){this.mixin(g),this.quoteField_("TEXT")},y={itemCount_:0,mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("items","".concat(this.itemCount_)),e},domToMutation:function(e){this.itemCount_=parseInt(e.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){var t=e.newBlock("text_create_join_container");t.initSvg();for(var n=t.getInput("STACK").connection,i=0;i<this.itemCount_;i++){var r=e.newBlock("text_create_join_item");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)t.isInsertionMarker()||e.push(t.valueConnection_),t=t.getNextBlock();for(t=0;t<this.itemCount_;t++){var n=this.getInput("ADD"+t).connection.targetConnection;n&&-1===e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++){var i=void 0;null==(i=e[t])||i.reconnect(this,"ADD"+t)}},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;)if(e.isInsertionMarker())e=e.getNextBlock();else{var n=this.getInput("ADD"+t);e.valueConnection_=n&&n.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT);0===e&&n.appendField(t.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}},_=function(){this.mixin(g),this.itemCount_=2,this.updateShape_(),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};t.register$$module$build$src$core$extensions("text_append_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var b=function(){var e=this;this.setTooltip((function(){return t.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))},k={isAt_:!1,mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("at","".concat(this.isAt_)),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},updateAt_:function(e){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),e&&(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=e}},T=function(){var e=this;this.getField("WHERE").setValidator((function(e){e="FROM_START"===e||"FROM_END"===e;var t=this.getSourceBlock();e!==t.isAt_&&t.updateAt_(e)})),this.updateAt_(!0),this.setTooltip((function(){var n=e.getFieldValue("WHERE"),i=t.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return("FROM_START"===n||"FROM_END"===n)&&(n="FROM_START"===n?t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(i+="  "+n.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),i}))};t.register$$module$build$src$core$extensions("text_indexOf_tooltip",b),t.register$$module$build$src$core$extensions("text_quotes",m),t.registerMixin$$module$build$src$core$extensions("quote_image_mixin",g),t.registerMutator$$module$build$src$core$extensions("text_join_mutator",y,_),t.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",k,T),t.defineBlocks$$module$build$src$core$common(d);var E={blocks:d},x={},w={setStatements_:function(e){this.hasStatements_!==e&&(e?(this.appendStatementInput("STACK").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=e)},updateParams_:function(){var e="";this.arguments_.length&&(e=t.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),t.disable$$module$build$src$core$events$utils();try{this.setFieldValue(e,"PARAMS")}finally{t.enable$$module$build$src$core$events$utils()}},mutationToDom:function(e){var n=t.createElement$$module$build$src$core$utils$xml("mutation");e&&n.setAttribute("name",this.getFieldValue("NAME"));for(var i=0;i<this.argumentVarModels_.length;i++){var r=t.createElement$$module$build$src$core$utils$xml("arg"),o=this.argumentVarModels_[i];r.setAttribute("name",o.name),r.setAttribute("varid",o.getId()),e&&this.paramIds_&&r.setAttribute("paramId",this.paramIds_[i]),n.appendChild(r)}return this.hasStatements_||n.setAttribute("statements","false"),n},domToMutation:function(e){this.arguments_=[],this.argumentVarModels_=[];for(var n,i=0;n=e.childNodes[i];i++)if("arg"===n.nodeName.toLowerCase()){var r=n,o=r.getAttribute("name");r=r.getAttribute("varid")||r.getAttribute("varId"),this.arguments_.push(o),null!==(r=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,r,o,""))?this.argumentVarModels_.push(r):console.log('Failed to create a variable named "'.concat(o,'", ignoring.'))}this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_("false"!==e.getAttribute("statements"))},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;var e=Object.create(null);if(this.argumentVarModels_.length){e.params=[];for(var t=0;t<this.argumentVarModels_.length;t++)e.params.push({name:this.argumentVarModels_[t].name,id:this.argumentVarModels_[t].getId()})}return this.hasStatements_||(e.hasStatements=!1),e},loadExtraState:function(e){if(this.arguments_=[],this.argumentVarModels_=[],e.params)for(var n=0;n<e.params.length;n++){var i=e.params[n];i=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,i.id,i.name,""),this.arguments_.push(i.name),this.argumentVarModels_.push(i)}this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(!1!==e.hasStatements)},decompose:function(e){var n=t.createElement$$module$build$src$core$utils$xml("block");n.setAttribute("type","procedures_mutatorcontainer");var i=t.createElement$$module$build$src$core$utils$xml("statement");i.setAttribute("name","STACK"),n.appendChild(i);for(var r=0;r<this.arguments_.length;r++){var o=t.createElement$$module$build$src$core$utils$xml("block");o.setAttribute("type","procedures_mutatorarg");var a=t.createElement$$module$build$src$core$utils$xml("field");a.setAttribute("name","NAME");var s=t.createTextNode$$module$build$src$core$utils$xml(this.arguments_[r]);a.appendChild(s),o.appendChild(a),a=t.createElement$$module$build$src$core$utils$xml("next"),o.appendChild(a),i.appendChild(o),i=a}return e=t.domToBlock$$module$build$src$core$xml(n,e),"procedures_defreturn"===this.type?e.setFieldValue(this.hasStatements_,"STATEMENTS"):e.removeInput("STATEMENT_INPUT"),t.mutateCallers$$module$build$src$core$procedures(this),e},compose:function(e){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];for(var n=e.getInputTargetBlock("STACK");n&&!n.isInsertionMarker();){var i=n.getFieldValue("NAME");this.arguments_.push(i),i=this.workspace.getVariable(i,""),this.argumentVarModels_.push(i),this.paramIds_.push(n.id),n=n.nextConnection&&n.nextConnection.targetBlock()}if(this.updateParams_(),t.mutateCallers$$module$build$src$core$procedures(this),null!==(e=e.getFieldValue("STATEMENTS"))&&(e="TRUE"===e,this.hasStatements_!==e))if(e){var r;this.setStatements_(!0),null==(r=this.statementConnection_)||r.reconnect(this,"STACK"),this.statementConnection_=null}else r=this.getInput("STACK").connection,(this.statementConnection_=r.targetConnection)&&((r=r.targetBlock()).unplug(),r.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(e,n){var i=this.workspace.getVariableById(e);if(""===i.type){i=i.name,n=this.workspace.getVariableById(n);for(var r=!1,o=0;o<this.argumentVarModels_.length;o++)this.argumentVarModels_[o].getId()===e&&(this.arguments_[o]=n.name,this.argumentVarModels_[o]=n,r=!0);r&&(this.displayRenamedVar_(i,n.name),t.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(e){for(var n,i=e.name,r=!1,o=0;o<this.argumentVarModels_.length;o++)this.argumentVarModels_[o].getId()===e.getId()&&(n=this.arguments_[o],this.arguments_[o]=i,r=!0);r&&(this.displayRenamedVar_(n,i),t.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(e,n){this.updateParams_();var i=this.getIcon(t.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(i&&i.bubbleIsVisible()){i=i.getWorkspace().getAllBlocks(!1);for(var r,o=0;r=i[o];o++)"procedures_mutatorarg"===r.type&&t.Names$$module$build$src$core$names.equals(e,r.getFieldValue("NAME"))&&r.setFieldValue(n,"NAME")}},customContextMenu:function(e){if(!this.isInFlyout){var n=this.getFieldValue("NAME"),i={type:this.callType_,extraState:{name:n,params:this.arguments_}};if(e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",n),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,i)}),!this.isCollapsed())for(n=0;n<this.argumentVarModels_.length;n++){var r={type:"variables_get",fields:{VAR:{name:(i=this.argumentVarModels_[n]).name,id:i.getId(),type:i.type}}};e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",i.name),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,r)})}}}};x.procedures_defnoreturn=Object.assign({},w,{init:function(){var e=t.findLegalName$$module$build$src$core$procedures("",this);(e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e})).setValidator(t.rename$$module$build$src$core$procedures),e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),x.procedures_defreturn=Object.assign({},w,{init:function(){var e=t.findLegalName$$module$build$src$core$procedures("",this);(e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:e})).setValidator(t.rename$$module$build$src$core$procedures),e.setSpellcheck(!1),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(e,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(t.Align$$module$build$src$core$inputs$input.RIGHT).appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var S={init:function(){this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(t.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};x.procedures_mutatorcontainer=S;var C={init:function(){var e=t.fromJson$$module$build$src$core$field_registry({type:"field_input",text:t.DEFAULT_ARG$$module$build$src$core$procedures});e.setValidator(this.validator_),e.oldShowEditorFn_=e.showEditor_,e.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(e,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,e.onFinishEditing_=this.deleteIntermediateVars_,e.createdVariables_=[],e.onFinishEditing_("x")},validator_:function(e){var t=this.getSourceBlock(),n=t.workspace.getRootWorkspace();if(!(e=e.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,"")))return null;for(var i=(t.workspace.targetWorkspace||t.workspace).getAllBlocks(!1),r=e.toLowerCase(),o=0;o<i.length;o++)if(i[o].id!==this.getSourceBlock().id){var a=i[o].getFieldValue("NAME");if(a&&a.toLowerCase()===r)return null}return t.isInFlyout||((t=n.getVariable(e,""))&&t.name!==e&&n.renameVariableById(t.getId(),e),t||(t=n.createVariable(e,""))&&this.createdVariables_&&this.createdVariables_.push(t)),e},deleteIntermediateVars_:function(e){var t=this.getSourceBlock().workspace.getRootWorkspace();if(t)for(var n=0;n<this.createdVariables_.length;n++){var i=this.createdVariables_[n];i.name!==e&&t.deleteVariableById(i.getId())}}};x.procedures_mutatorarg=C;var I={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(e,n){t.Names$$module$build$src$core$names.equals(e,this.getProcedureCall())&&(this.setFieldValue(n,"NAME"),this.setTooltip((this.outputConnection?t.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:t.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",n)))},setProcedureParameters_:function(e,n){var i=t.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((i=(i=i&&i.getIcon(t.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&i.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),e.join("\n")===this.arguments_.join("\n"))this.quarkIds_=n;else{if(n.length!==e.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(var r=0;r<this.arguments_.length;r++){var o=this.getInput("ARG"+r);o&&(o=o.connection.targetConnection,this.quarkConnections_[this.quarkIds_[r]]=o,i&&o&&-1===n.indexOf(this.quarkIds_[r])&&(o.disconnect(),o.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(e),this.argumentVarModels_=[],e=0;e<this.arguments_.length;e++)i=t.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[e],""),this.argumentVarModels_.push(i);if(this.updateShape_(),this.quarkIds_=n)for(n=0;n<this.arguments_.length;n++)if((e=this.quarkIds_[n])in this.quarkConnections_){var a=void 0;null!=(a=this.quarkConnections_[e])&&a.reconnect(this,"ARG"+n)||delete this.quarkConnections_[e]}}},updateShape_:function(){for(var e=0;e<this.arguments_.length;e++){var n=this.getField("ARGNAME"+e);if(n){t.disable$$module$build$src$core$events$utils();try{n.setValue(this.arguments_[e])}finally{t.enable$$module$build$src$core$events$utils()}}else n=t.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[e]}),this.appendValueInput("ARG"+e).setAlign(t.Align$$module$build$src$core$inputs$input.RIGHT).appendField(n,"ARGNAME"+e).init()}for(e=this.arguments_.length;this.getInput("ARG"+e);e++)this.removeInput("ARG"+e);(e=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(e.appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),e.init()):this.getField("WITH")&&e.removeField("WITH"))},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");e.setAttribute("name",this.getProcedureCall());for(var n=0;n<this.arguments_.length;n++){var i=t.createElement$$module$build$src$core$utils$xml("arg");i.setAttribute("name",this.arguments_[n]),e.appendChild(i)}return e},domToMutation:function(e){var t=e.getAttribute("name");this.renameProcedure(this.getProcedureCall(),t),t=[];for(var n,i=[],r=0;n=e.childNodes[r];r++)"arg"===n.nodeName.toLowerCase()&&(t.push(n.getAttribute("name")),i.push(n.getAttribute("paramId")));this.setProcedureParameters_(t,i)},saveExtraState:function(){var e=Object.create(null);return e.name=this.getProcedureCall(),this.arguments_.length&&(e.params=this.arguments_),e},loadExtraState:function(e){if(this.renameProcedure(this.getProcedureCall(),e.name),e=e.params){var t=[];t.length=e.length,t.fill(null),this.setProcedureParameters_(e,t)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(e){if(this.workspace&&!this.workspace.isFlyout&&e.recordUndo)if(e.type===t.CREATE$$module$build$src$core$events$utils&&-1!==e.ids.indexOf(this.id)){var n=this.getProcedureCall();if(!(n=t.getDefinition$$module$build$src$core$procedures(n,this.workspace))||n.type===this.defType_&&JSON.stringify(n.getVars())===JSON.stringify(this.arguments_)||(n=null),!n){t.setGroup$$module$build$src$core$events$utils(e.group),e=t.createElement$$module$build$src$core$utils$xml("xml"),(n=t.createElement$$module$build$src$core$utils$xml("block")).setAttribute("type",this.defType_);var i=this.getRelativeToSurfaceXY(),r=i.y+2*t.config$$module$build$src$core$config.snapRadius;n.setAttribute("x","".concat(i.x+t.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1))),n.setAttribute("y","".concat(r)),i=this.mutationToDom(),n.appendChild(i),(i=t.createElement$$module$build$src$core$utils$xml("field")).setAttribute("name","NAME"),r=this.getProcedureCall();var o=t.findLegalName$$module$build$src$core$procedures(r,this);r!==o&&this.renameProcedure(r,o),i.appendChild(t.createTextNode$$module$build$src$core$utils$xml(r)),n.appendChild(i),e.appendChild(n),t.domToWorkspace$$module$build$src$core$xml(e,this.workspace),t.setGroup$$module$build$src$core$events$utils(!1)}}else e.type===t.DELETE$$module$build$src$core$events$utils?(n=this.getProcedureCall(),t.getDefinition$$module$build$src$core$procedures(n,this.workspace)||(t.setGroup$$module$build$src$core$events$utils(e.group),this.dispose(!0),t.setGroup$$module$build$src$core$events$utils(!1))):e.type===t.CHANGE$$module$build$src$core$events$utils&&"disabled"===e.element&&(n=this.getProcedureCall(),(n=t.getDefinition$$module$build$src$core$procedures(n,this.workspace))&&n.id===e.blockId&&((n=t.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),t.setGroup$$module$build$src$core$events$utils(e.group),e.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),t.setGroup$$module$build$src$core$events$utils(n)))},customContextMenu:function(e){if(this.workspace.isMovable()){var n=this.getProcedureCall(),i=this.workspace;e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){var e=t.getDefinition$$module$build$src$core$procedures(n,i);e&&(i.centerOnBlock(e.id),e.select())}})}}};x.procedures_callnoreturn=Object.assign({},I,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),x.procedures_callreturn=Object.assign({},I,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"});var R={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("value",String(Number(this.hasReturnValue_))),e},domToMutation:function(e){this.hasReturnValue_="1"===e.getAttribute("value"),this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(e){if(!(this.workspace.isDragging&&this.workspace.isDragging()||e.type!==t.MOVE$$module$build$src$core$events$utils)){var n=!1,i=this;do{if(-1!==this.FUNCTION_TYPES.indexOf(i.type)){n=!0;break}i=i.getSurroundParent()}while(i);n?("procedures_defnoreturn"===i.type&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):"procedures_defreturn"!==i.type||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(t.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(t.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(i=t.getGroup$$module$build$src$core$events$utils(),t.setGroup$$module$build$src$core$events$utils(e.group),this.setEnabled(n),t.setGroup$$module$build$src$core$events$utils(i))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};x.procedures_ifreturn=R,t.defineBlocks$$module$build$src$core$common(x);var O={blocks:x},A=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),M={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};t.register$$module$build$src$core$extensions("math_op_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("OP",M));var L={mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation"),n="DIVISIBLE_BY"===this.getFieldValue("PROPERTY");return e.setAttribute("divisor_input",String(n)),e},domToMutation:function(e){e="true"===e.getAttribute("divisor_input"),this.updateShape_(e)},updateShape_:function(e){var t=this.getInput("DIVISOR");e?t||this.appendValueInput("DIVISOR").setCheck("Number"):t&&this.removeInput("DIVISOR")}},N=function(){this.getField("PROPERTY").setValidator((function(e){e="DIVISIBLE_BY"===e,this.getSourceBlock().updateShape_(e)}))};t.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",L,N),t.register$$module$build$src$core$extensions("math_change_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var $={updateType_:function(e){"MODE"===e?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("op",this.getFieldValue("OP")),e},domToMutation:function(e){if(null===(e=e.getAttribute("op")))throw new TypeError("xmlElement had no op attribute");this.updateType_(e)}},P=function(){this.getField("OP").setValidator(function(e){this.updateType_(e)}.bind(this))};t.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",$,P),t.defineBlocks$$module$build$src$core$common(A);var D={blocks:A},B=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),F={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};t.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",F));var U={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};t.register$$module$build$src$core$extensions("controls_flow_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",U));var j={customContextMenu:function(e){if(!this.isInFlyout){var n=this.getField("VAR"),i=n.getVariable().name;this.isCollapsed()||null===i||(n={type:"variables_get",fields:{VAR:n.saveState(!0)}},e.push({enabled:!0,text:t.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",i),callback:t.callbackFactory$$module$build$src$core$contextmenu(this,n)}))}}};t.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",j),t.register$$module$build$src$core$extensions("controls_for_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),t.register$$module$build$src$core$extensions("controls_forEach_tooltip",t.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var Z=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),H={getSurroundLoop:function(){var e=this;do{if(Z.has(e.type))return e;e=e.getSurroundParent()}while(e);return null},onchange:function(e){var n=this.workspace;if(n.isDragging&&!n.isDragging()&&e.type===t.MOVE$$module$build$src$core$events$utils&&(n=!!this.getSurroundLoop(),this.setWarningText(n?null:t.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout)){var i=t.getGroup$$module$build$src$core$events$utils();t.setGroup$$module$build$src$core$events$utils(e.group),this.setEnabled(n),t.setGroup$$module$build$src$core$events$utils(i)}}};t.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",H),t.defineBlocks$$module$build$src$core$common(B);var z={blocks:B,loopTypes:Z},V=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),W={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};t.register$$module$build$src$core$extensions("logic_op_tooltip",t.buildTooltipForDropdown$$module$build$src$core$extensions("OP",W));var G={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=t.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&e.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&e.setAttribute("else","1"),e},domToMutation:function(e){this.elseifCount_=parseInt(e.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(e.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;var e=Object.create(null);return this.elseifCount_&&(e.elseIfCount=this.elseifCount_),this.elseCount_&&(e.hasElse=!0),e},loadExtraState:function(e){this.elseifCount_=e.elseIfCount||0,this.elseCount_=e.hasElse?1:0,this.updateShape_()},decompose:function(e){var t=e.newBlock("controls_if_if");t.initSvg();for(var n=t.nextConnection,i=1;i<=this.elseifCount_;i++){var r=e.newBlock("controls_if_elseif");r.initSvg(),n.connect(r.previousConnection),n=r.nextConnection}return this.elseCount_&&((e=e.newBlock("controls_if_else")).initSvg(),n.connect(e.previousConnection)),t},compose:function(e){e=e.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;for(var t=[null],n=[null],i=null;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":this.elseifCount_++,t.push(e.valueConnection_),n.push(e.statementConnection_);break;case"controls_if_else":this.elseCount_++,i=e.statementConnection_;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(t,n,i)},saveConnections:function(e){e=e.nextConnection.targetBlock();for(var t=1;e;){if(!e.isInsertionMarker())switch(e.type){case"controls_if_elseif":var n=this.getInput("IF"+t),i=this.getInput("DO"+t);e.valueConnection_=n&&n.connection.targetConnection,e.statementConnection_=i&&i.connection.targetConnection,t++;break;case"controls_if_else":n=this.getInput("ELSE"),e.statementConnection_=n&&n.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+e.type)}e=e.getNextBlock()}},rebuildShape_:function(){var e=[null],t=[null],n=null;this.getInput("ELSE")&&(n=this.getInput("ELSE").connection.targetConnection);for(var i=1;this.getInput("IF"+i);i++){var r=this.getInput("IF"+i),o=this.getInput("DO"+i);e.push(r.connection.targetConnection),t.push(o.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(e,t,n)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var e=1;this.getInput("IF"+e);e++)this.removeInput("IF"+e),this.removeInput("DO"+e);for(e=1;e<=this.elseifCount_;e++)this.appendValueInput("IF"+e).setCheck("Boolean").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+e).appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(t.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(e,t,n){for(var i=1;i<=this.elseifCount_;i++){var r=void 0;null==(r=e[i])||r.reconnect(this,"IF"+i);var o=void 0;null==(o=t[i])||o.reconnect(this,"DO"+i)}null==n||n.reconnect(this,"ELSE")}};t.registerMutator$$module$build$src$core$extensions("controls_if_mutator",G,null,["controls_if_elseif","controls_if_else"]);var X=function(){this.setTooltip(function(){return this.elseifCount_||this.elseCount_?!this.elseifCount_&&this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2:this.elseifCount_&&!this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3:this.elseifCount_&&this.elseCount_?t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4:"":t.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1}.bind(this))};t.register$$module$build$src$core$extensions("controls_if_tooltip",X);var Y={onchange:function(e){this.prevBlocks_||(this.prevBlocks_=[null,null]);var n=this.getInputTargetBlock("A"),i=this.getInputTargetBlock("B");n&&i&&!this.workspace.connectionChecker.doTypeChecks(n.outputConnection,i.outputConnection)&&(t.setGroup$$module$build$src$core$events$utils(e.group),(e=this.prevBlocks_[0])!==n&&(n.unplug(),!e||e.isDisposed()||e.isShadow()||this.getInput("A").connection.connect(e.outputConnection)),(n=this.prevBlocks_[1])!==i&&(i.unplug(),!n||n.isDisposed()||n.isShadow()||this.getInput("B").connection.connect(n.outputConnection)),this.bumpNeighbours(),t.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},K=function(){this.mixin(Y)};t.register$$module$build$src$core$extensions("logic_compare",K);var q={prevParentConnection_:null,onchange:function(e){var n=this.getInputTargetBlock("THEN"),i=this.getInputTargetBlock("ELSE"),r=this.outputConnection.targetConnection;if((n||i)&&r)for(var o=0;2>o;o++){var a=1===o?n:i;a&&!a.workspace.connectionChecker.doTypeChecks(a.outputConnection,r)&&(t.setGroup$$module$build$src$core$events$utils(e.group),r===this.prevParentConnection_?(this.unplug(),r.getSourceBlock().bumpNeighbours()):(a.unplug(),a.bumpNeighbours()),t.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=r}};t.registerMixin$$module$build$src$core$extensions("logic_ternary",q),t.defineBlocks$$module$build$src$core$common(V);var J=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),Q={init:function(){this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new t.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("items",String(this.itemCount_)),e},domToMutation:function(e){if(!(e=e.getAttribute("items")))throw new TypeError("element did not have items");this.itemCount_=parseInt(e,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(e){this.itemCount_=e.itemCount,this.updateShape_()},decompose:function(e){var t=e.newBlock("lists_create_with_container");t.initSvg();for(var n=t.getInput("STACK").connection,i=0;i<this.itemCount_;i++){var r=e.newBlock("lists_create_with_item");if(r.initSvg(),!r.previousConnection)throw Error("itemBlock has no previousConnection");n.connect(r.previousConnection),n=r.nextConnection}return t},compose:function(e){var t=e.getInputTargetBlock("STACK");for(e=[];t;)t.isInsertionMarker()||e.push(t.valueConnection_),t=t.getNextBlock();for(t=0;t<this.itemCount_;t++){var n=this.getInput("ADD"+t).connection.targetConnection;n&&-1===e.indexOf(n)&&n.disconnect()}for(this.itemCount_=e.length,this.updateShape_(),t=0;t<this.itemCount_;t++){var i=void 0;null==(i=e[t])||i.reconnect(this,"ADD"+t)}},saveConnections:function(e){e=e.getInputTargetBlock("STACK");for(var t=0;e;)if(e.isInsertionMarker())e=e.getNextBlock();else{var n=this.getInput("ADD"+t),i=void 0;e.valueConnection_=null==(i=n)?void 0:i.connection.targetConnection,e=e.getNextBlock(),t++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var e=0;e<this.itemCount_;e++)if(!this.getInput("ADD"+e)){var n=this.appendValueInput("ADD"+e).setAlign(t.Align$$module$build$src$core$inputs$align.RIGHT);0===e&&n.appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(e=this.itemCount_;this.getInput("ADD"+e);e++)this.removeInput("ADD"+e)}};J.lists_create_with=Q;var ee={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};J.lists_create_with_container=ee;var te={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};J.lists_create_with_item=te;var ne={init:function(){var e=this,n=[[t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),!(n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n})))throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(n,"END"),this.setInputsInline(!0),this.setTooltip((function(){return t.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"0":"-1")}))}};J.lists_indexOf=ne;var ie={init:function(){var e=this,n=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),(n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n})).setValidator((function(e){e="REMOVE"===e,this.getSourceBlock().updateStatement_(e)})),this.appendValueInput("VALUE").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip((function(){var n=e.getFieldValue("MODE"),i=e.getFieldValue("WHERE"),r="";switch(n+" "+i){case"GET FROM_START":case"GET FROM_END":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":r=t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return"FROM_START"!==i&&"FROM_END"!==i||(r+="  "+("FROM_START"===i?t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");e.setAttribute("statement",String(!this.outputConnection));var n=this.getInput("AT")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at",String(n)),e},domToMutation:function(e){var t="true"===e.getAttribute("statement");this.updateStatement_(t),e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(e){e.isStatement?this.updateStatement_(!0):"string"===typeof e&&this.domToMutation(t.textToDom$$module$build$src$core$utils$xml(e))},updateStatement_:function(e){e!==!this.outputConnection&&(this.unplug(!0,!0),e?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});n.setValidator((function(t){var n="FROM_START"===t||"FROM_END"===t;if(n!==e){var i=this.getSourceBlock();return i.updateAt_(n),i.setFieldValue(t,"WHERE"),null}})),this.getInput("AT").appendField(n,"WHERE"),t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};J.lists_getIndex=ie;var re={init:function(){var e=this,n=[[t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[t.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:n}),this.appendDummyInput().appendField(n,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip((function(){var n=e.getFieldValue("MODE"),i=e.getFieldValue("WHERE"),r="";switch(n+" "+i){case"SET FROM_START":case"SET FROM_END":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":r=t.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return"FROM_START"!==i&&"FROM_END"!==i||(r+="  "+t.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",e.workspace.options.oneBasedIndex?"#1":"#0")),r}))},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation"),n=this.getInput("AT")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at",String(n)),e},domToMutation:function(e){e="false"!==e.getAttribute("at"),this.updateAt_(e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e){this.removeInput("AT"),this.removeInput("ORDINAL",!0),e?(this.appendValueInput("AT").setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");var n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});n.setValidator((function(t){var n="FROM_START"===t||"FROM_END"===t;if(n!==e){var i=this.getSourceBlock();return i.updateAt_(n),i.setFieldValue(t,"WHERE"),null}})),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(n,"WHERE")}};J.lists_setIndex=re;var oe={init:function(){this.WHERE_OPTIONS_1=[[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation"),n=this.getInput("AT1")instanceof t.ValueInput$$module$build$src$core$inputs$value_input;return e.setAttribute("at1",String(n)),n=this.getInput("AT2")instanceof t.ValueInput$$module$build$src$core$inputs$value_input,e.setAttribute("at2",String(n)),e},domToMutation:function(e){var t="true"===e.getAttribute("at1");e="true"===e.getAttribute("at2"),this.updateAt_(1,t),this.updateAt_(2,e)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(e,n){this.removeInput("AT"+e),this.removeInput("ORDINAL"+e,!0),n?(this.appendValueInput("AT"+e).setCheck("Number"),t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+e).appendField(t.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+e);var i=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+e]});i.setValidator((function(t){var i="FROM_START"===t||"FROM_END"===t;if(i!==n){var r=this.getSourceBlock();return r.updateAt_(e,i),r.setFieldValue(t,"WHERE"+e),null}})),this.getInput("AT"+e).appendField(i,"WHERE"+e),1===e&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),t.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};J.lists_getSublist=oe,J.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},J.lists_split={init:function(){var e=this,n=t.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[t.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!n)throw Error("field_dropdown not found");n.setValidator((function(t){e.updateType_(t)})),this.setHelpUrl(t.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(n,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(t.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip((function(){var n=e.getFieldValue("MODE");if("SPLIT"===n)return t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if("JOIN"===n)return t.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+n)}))},updateType_:function(e){if(this.getFieldValue("MODE")!==e){var t=this.getInput("INPUT").connection;t.setShadowDom(null);var n=t.targetBlock();n&&(t.disconnect(),n.isShadow()?n.dispose(!1):this.bumpNeighbours())}"SPLIT"===e?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){var e=t.createElement$$module$build$src$core$utils$xml("mutation");return e.setAttribute("mode",this.getFieldValue("MODE")),e},domToMutation:function(e){this.updateType_(e.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},t.defineBlocks$$module$build$src$core$common(J);var ae={blocks:J},se=t.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);t.defineBlocks$$module$build$src$core$common(se);var le={blocks:se},ue={blocks:Object.assign({},se,J,V,B,A,x,s,n),colour:le,lists:ae,loops:z,math:D,procedures:O,texts:E,variables:h,variablesDynamic:a};return ue.__namespace__=t,ue})?i.apply(t,r):i)||(e.exports=o)},285:function(e,t,n){var i,r,o;r=[n(1030),n(9130),n(3720),n(2505)],void 0===(o="function"===typeof(i=function(e,t,n,i){"use strict";return e.setLocale(t),e})?i.apply(t,r):i)||(e.exports=o)},1030:function(e,t,n){var i,r,o;r=[n(478)],void 0===(o="function"===typeof(i=function(e){"use strict";return e})?i.apply(t,r):i)||(e.exports=o)},9271:function(e,t,n){var i,r,o;r=[n(285)],void 0===(o="function"===typeof(i=function(e){return e})?i.apply(t,r):i)||(e.exports=o)},2505:function(e,t,n){var i,r,o;r=[n(1030),n(6952)],void 0===(o="function"===typeof(i=function(e,t){return t})?i.apply(t,r):i)||(e.exports=o)},6952:function(e,t,n){var i,r,o,a=n(6690).default,s=n(9728).default,l=n(1588).default,u=n(3808).default,c=n(1655).default,h=n(6389).default,d=n(7424).default;r=[n(2363)],i=function(e){var t,n=e.__namespace__,i=function(e,n){return[n.quote_(e.getFieldValue("COLOUR")),t.ATOMIC]},r=function(e,n){return[n.provideFunction_("colourRandom","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"() {\n  var num = Math.floor(Math.random() * Math.pow(2, 24));\n  return '#' + ('00000' + num.toString(16)).substr(-6);\n}\n"))+"()",t.FUNCTION_CALL]},o=function(e,n){var i=n.valueToCode(e,"RED",t.NONE)||0,r=n.valueToCode(e,"GREEN",t.NONE)||0;return e=n.valueToCode(e,"BLUE",t.NONE)||0,[n.provideFunction_("colourRgb","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(r, g, b) {\n  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;\n  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;\n  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;\n  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);\n  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);\n  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n"))+"("+i+", "+r+", "+e+")",t.FUNCTION_CALL]},f=function(e,n){var i=n.valueToCode(e,"COLOUR1",t.NONE)||"'#000000'",r=n.valueToCode(e,"COLOUR2",t.NONE)||"'#000000'";return e=n.valueToCode(e,"RATIO",t.NONE)||.5,[n.provideFunction_("colourBlend","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(c1, c2, ratio) {\n  ratio = Math.max(Math.min(Number(ratio), 1), 0);\n  var r1 = parseInt(c1.substring(1, 3), 16);\n  var g1 = parseInt(c1.substring(3, 5), 16);\n  var b1 = parseInt(c1.substring(5, 7), 16);\n  var r2 = parseInt(c2.substring(1, 3), 16);\n  var g2 = parseInt(c2.substring(3, 5), 16);\n  var b2 = parseInt(c2.substring(5, 7), 16);\n  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);\n  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);\n  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);\n  r = ('0' + (r || 0).toString(16)).slice(-2);\n  g = ('0' + (g || 0).toString(16)).slice(-2);\n  b = ('0' + (b || 0).toString(16)).slice(-2);\n  return '#' + r + g + b;\n}\n"))+"("+i+", "+r+", "+e+")",t.FUNCTION_CALL]},p=function(e,n){return["[]",t.ATOMIC]},v=function(e,n){for(var i=Array(e.itemCount_),r=0;r<e.itemCount_;r++)i[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"null";return["["+i.join(", ")+"]",t.ATOMIC]},g=function(e,n){return[n.provideFunction_("listsRepeat","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(value, n) {\n  var array = [];\n  for (var i = 0; i < n; i++) {\n    array[i] = value;\n  }\n  return array;\n}\n"))+"("+(n.valueToCode(e,"ITEM",t.NONE)||"null")+", "+(e=n.valueToCode(e,"NUM",t.NONE)||"0")+")",t.FUNCTION_CALL]},m=function(e,n){return[(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+".length",t.MEMBER]},y=function(e,n){return["!"+(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+".length",t.LOGICAL_NOT]},_=function(e,n){var i="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",r=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"[]")+"."+i+"("+r+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITION]:[n,t.FUNCTION_CALL]},b=function(e,n){var i=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START",o=n.valueToCode(e,"VALUE","RANDOM"===r?t.NONE:t.MEMBER)||"[]";switch(r){case"FIRST":if("GET"===i)return[o+"[0]",t.MEMBER];if("GET_REMOVE"===i)return[o+".shift()",t.MEMBER];if("REMOVE"===i)return o+".shift();\n";break;case"LAST":if("GET"===i)return[o+".slice(-1)[0]",t.MEMBER];if("GET_REMOVE"===i)return[o+".pop()",t.MEMBER];if("REMOVE"===i)return o+".pop();\n";break;case"FROM_START":if(e=n.getAdjusted(e,"AT"),"GET"===i)return[o+"["+e+"]",t.MEMBER];if("GET_REMOVE"===i)return[o+".splice("+e+", 1)[0]",t.FUNCTION_CALL];if("REMOVE"===i)return o+".splice("+e+", 1);\n";break;case"FROM_END":if(e=n.getAdjusted(e,"AT",1,!0),"GET"===i)return[o+".slice("+e+")[0]",t.FUNCTION_CALL];if("GET_REMOVE"===i)return[o+".splice("+e+", 1)[0]",t.FUNCTION_CALL];if("REMOVE"===i)return o+".splice("+e+", 1);";break;case"RANDOM":if(o=n.provideFunction_("listsGetRandomItem","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(list, remove) {\n  var x = Math.floor(Math.random() * list.length);\n  if (remove) {\n    return list.splice(x, 1)[0];\n  } else {\n    return list[x];\n  }\n}\n"))+"("+o+", "+("GET"!==i)+")","GET"===i||"GET_REMOVE"===i)return[o,t.FUNCTION_CALL];if("REMOVE"===i)return o+";\n"}throw Error("Unhandled combination (lists_getIndex).")},k=function(e,i){function r(){if(o.match(/^\w+$/))return"";var e=i.nameDB_.getDistinctName("tmpList",n.NameType$$module$build$src$core$names.VARIABLE),t="var "+e+" = "+o+";\n";return o=e,t}var o=i.valueToCode(e,"LIST",t.MEMBER)||"[]",a=e.getFieldValue("MODE")||"GET",s=e.getFieldValue("WHERE")||"FROM_START",l=i.valueToCode(e,"TO",t.ASSIGNMENT)||"null";switch(s){case"FIRST":if("SET"===a)return o+"[0] = "+l+";\n";if("INSERT"===a)return o+".unshift("+l+");\n";break;case"LAST":if("SET"===a)return r()+(o+"[")+o+".length - 1] = "+l+";\n";if("INSERT"===a)return o+".push("+l+");\n";break;case"FROM_START":if(e=i.getAdjusted(e,"AT"),"SET"===a)return o+"["+e+"] = "+l+";\n";if("INSERT"===a)return o+".splice("+e+", 0, "+l+");\n";break;case"FROM_END":if(e=i.getAdjusted(e,"AT",1,!1,t.SUBTRACTION),s=r(),"SET"===a)return s+(o+"[")+o+".length - "+e+"] = "+l+";\n";if("INSERT"===a)return s+(o+".splice(")+o+".length - "+e+", 0, "+l+");\n";break;case"RANDOM":if(e=r(),e+="var "+(s=i.nameDB_.getDistinctName("tmpX",n.NameType$$module$build$src$core$names.VARIABLE))+" = Math.floor(Math.random() * "+o+".length);\n","SET"===a)return e+(o+"[")+s+"] = "+l+";\n";if("INSERT"===a)return e+(o+".splice(")+s+", 0, "+l+");\n"}throw Error("Unhandled combination (lists_setIndex).")},T=function(e,n){var i={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},r=n.valueToCode(e,"LIST",t.MEMBER)||"[]",o=e.getFieldValue("WHERE1"),a=e.getFieldValue("WHERE2");if("FIRST"===o&&"LAST"===a)r+=".slice(0)";else if(r.match(/^\w+$/)||"FROM_END"!==o&&"FROM_START"===a){switch(o){case"FROM_START":i=n.getAdjusted(e,"AT1");break;case"FROM_END":i=r+".length - "+(i=n.getAdjusted(e,"AT1",1,!1,t.SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(a){case"FROM_START":n=n.getAdjusted(e,"AT2",1);break;case"FROM_END":n=r+".length - "+(n=n.getAdjusted(e,"AT2",0,!1,t.SUBTRACTION));break;case"LAST":n=r+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}r=r+".slice("+i+", "+n+")"}else{var s=n.getAdjusted(e,"AT1");e=n.getAdjusted(e,"AT2"),r=n.provideFunction_("subsequence"+i[o]+i[a],"\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(sequence").concat("FROM_END"===o||"FROM_START"===o?", at1":"").concat("FROM_END"===a||"FROM_START"===a?", at2":"",") {\n  var start = ").concat(ke("sequence",o,"at1"),";\n  var end = ").concat(ke("sequence",a,"at2")," + 1;\n  return sequence.slice(start, end);\n}\n"))+"("+r+("FROM_END"===o||"FROM_START"===o?", "+s:"")+("FROM_END"===a||"FROM_START"===a?", "+e:"")+")"}return[r,t.FUNCTION_CALL]},E=function(e,n){var i=n.valueToCode(e,"LIST",t.FUNCTION_CALL)||"[]",r="1"===e.getFieldValue("DIRECTION")?1:-1;return e=e.getFieldValue("TYPE"),[i+".slice().sort("+(n=n.provideFunction_("listsGetSortCompare","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(type, direction) {\n  var compareFuncs = {\n    'NUMERIC': function(a, b) {\n        return Number(a) - Number(b); },\n    'TEXT': function(a, b) {\n        return String(a) > String(b) ? 1 : -1; },\n    'IGNORE_CASE': function(a, b) {\n        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },\n  };\n  var compare = compareFuncs[type];\n  return function(a, b) { return compare(a, b) * direction; };\n}\n      ")))+'("'+e+'", '+r+"))",t.FUNCTION_CALL]},x=function(e,n){var i=n.valueToCode(e,"INPUT",t.MEMBER);if(n=n.valueToCode(e,"DELIM",t.NONE)||"''","SPLIT"===(e=e.getFieldValue("MODE")))i||(i="''"),e="split";else{if("JOIN"!==e)throw Error("Unknown mode: "+e);i||(i="[]"),e="join"}return[i+"."+e+"("+n+")",t.FUNCTION_CALL]},w=function(e,n){return[(n.valueToCode(e,"LIST",t.FUNCTION_CALL)||"[]")+".slice().reverse()",t.FUNCTION_CALL]},S=function(e,n){var i=0,r="";n.STATEMENT_PREFIX&&(r+=n.injectId(n.STATEMENT_PREFIX,e));do{var o=n.valueToCode(e,"IF"+i,t.NONE)||"false",a=n.statementToCode(e,"DO"+i);n.STATEMENT_SUFFIX&&(a=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+a),r+=(0<i?" else ":"")+"if ("+o+") {\n"+a+"}",i++}while(e.getInput("IF"+i));return(e.getInput("ELSE")||n.STATEMENT_SUFFIX)&&(i=n.statementToCode(e,"ELSE"),n.STATEMENT_SUFFIX&&(i=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+i),r+=" else {\n"+i+"}"),r+"\n"},C=function(e,n){var i={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r="=="===i||"!="===i?t.EQUALITY:t.RELATIONAL;return[(n.valueToCode(e,"A",r)||"0")+" "+i+" "+(e=n.valueToCode(e,"B",r)||"0"),r]},I=function(e,n){var i="AND"===e.getFieldValue("OP")?"&&":"||",r="&&"===i?t.LOGICAL_AND:t.LOGICAL_OR,o=n.valueToCode(e,"A",r);return e=n.valueToCode(e,"B",r),o||e?(n="&&"===i?"true":"false",o||(o=n),e||(e=n)):e=o="false",[o+" "+i+" "+e,r]},R=function(e,n){var i=t.LOGICAL_NOT;return["!"+(n.valueToCode(e,"BOOL",i)||"true"),i]},O=function(e,n){return["TRUE"===e.getFieldValue("BOOL")?"true":"false",t.ATOMIC]},A=function(e,n){return["null",t.ATOMIC]},M=function(e,n){return[(n.valueToCode(e,"IF",t.CONDITIONAL)||"false")+" ? "+(n.valueToCode(e,"THEN",t.CONDITIONAL)||"null")+" : "+(e=n.valueToCode(e,"ELSE",t.CONDITIONAL)||"null"),t.CONDITIONAL]},L=function(e,i){var r;r=e.getField("TIMES")?String(Number(e.getFieldValue("TIMES"))):i.valueToCode(e,"TIMES",t.ASSIGNMENT)||"0";var o=i.statementToCode(e,"DO");o=i.addLoopTrap(o,e),e="";var a=i.nameDB_.getDistinctName("count",n.NameType$$module$build$src$core$names.VARIABLE),s=r;return r.match(/^\w+$/)||n.isNumber$$module$build$src$core$utils$string(r)||(e+="var "+(s=i.nameDB_.getDistinctName("repeat_end",n.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+";\n"),e+"for (var "+a+" = 0; "+a+" < "+s+"; "+a+"++) {\n"+o+"}\n"},N=function(e,n){var i="UNTIL"===e.getFieldValue("MODE"),r=n.valueToCode(e,"BOOL",i?t.LOGICAL_NOT:t.NONE)||"false",o=n.statementToCode(e,"DO");return i&&(r="!"+r),"while ("+r+") {\n"+(o=n.addLoopTrap(o,e))+"}\n"},$=function(e,i){var r=i.getVariableName(e.getFieldValue("VAR")),o=i.valueToCode(e,"FROM",t.ASSIGNMENT)||"0",a=i.valueToCode(e,"TO",t.ASSIGNMENT)||"0",s=i.valueToCode(e,"BY",t.ASSIGNMENT)||"1",l=i.statementToCode(e,"DO");if(l=i.addLoopTrap(l,e),n.isNumber$$module$build$src$core$utils$string(o)&&n.isNumber$$module$build$src$core$utils$string(a)&&n.isNumber$$module$build$src$core$utils$string(s))e="for ("+r+" = "+o+"; "+r+((i=Number(o)<=Number(a))?" <= ":" >= ")+a+"; "+r,e=1===(r=Math.abs(Number(s)))?e+(i?"++":"--"):e+(i?" += ":" -= ")+r,e+=") {\n"+l+"}\n";else{e="";var u=o;o.match(/^\w+$/)||n.isNumber$$module$build$src$core$utils$string(o)||(e+="var "+(u=i.nameDB_.getDistinctName(r+"_start",n.NameType$$module$build$src$core$names.VARIABLE))+" = "+o+";\n"),o=a,a.match(/^\w+$/)||n.isNumber$$module$build$src$core$utils$string(a)||(e+="var "+(o=i.nameDB_.getDistinctName(r+"_end",n.NameType$$module$build$src$core$names.VARIABLE))+" = "+a+";\n"),e+="var "+(a=i.nameDB_.getDistinctName(r+"_inc",n.NameType$$module$build$src$core$names.VARIABLE))+" = ",e=n.isNumber$$module$build$src$core$utils$string(s)?e+(Math.abs(Number(s))+";\n"):e+"Math.abs("+s+");\n",e+="if ("+u+" > "+o+") {\n",e=(e+=i.INDENT+a+" = -"+a+";\n")+"}\nfor ("+r+" = "+u+"; "+a+" >= 0 ? "+r+" <= "+o+" : "+r+" >= "+o+"; "+r+" += "+a+") {\n"+l+"}\n"}return e},P=function(e,i){var r=i.getVariableName(e.getFieldValue("VAR")),o=i.valueToCode(e,"LIST",t.ASSIGNMENT)||"[]",a=i.statementToCode(e,"DO");a=i.addLoopTrap(a,e),e="";var s=o;return o.match(/^\w+$/)||(e+="var "+(s=i.nameDB_.getDistinctName(r+"_list",n.NameType$$module$build$src$core$names.VARIABLE))+" = "+o+";\n"),e+"for (var "+(o=i.nameDB_.getDistinctName(r+"_index",n.NameType$$module$build$src$core$names.VARIABLE))+" in "+s+") {\n"+(a=i.INDENT+r+" = "+s+"["+o+"];\n"+a)+"}\n"},D=function(e,t){var n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){var i=e.getSurroundLoop();i&&!i.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,i))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break;\n";case"CONTINUE":return n+"continue;\n"}throw Error("Unknown flow statement.")},B=function(e,n){return e=Number(e.getFieldValue("NUM")),[String(e),0<=e?t.ATOMIC:t.UNARY_NEGATION]},F=function(e,n){var i={ADD:[" + ",t.ADDITION],MINUS:[" - ",t.SUBTRACTION],MULTIPLY:[" * ",t.MULTIPLICATION],DIVIDE:[" / ",t.DIVISION],POWER:[null,t.NONE]}[e.getFieldValue("OP")],r=i[0];i=i[1];var o=n.valueToCode(e,"A",i)||"0";return e=n.valueToCode(e,"B",i)||"0",r?[o+r+e,i]:["Math.pow("+o+", "+e+")",t.FUNCTION_CALL]},U=function(e,n){var i,r=e.getFieldValue("OP");if("NEG"===r)return"-"===(e=n.valueToCode(e,"NUM",t.UNARY_NEGATION)||"0")[0]&&(e=" "+e),["-"+e,t.UNARY_NEGATION];switch(e="SIN"===r||"COS"===r||"TAN"===r?n.valueToCode(e,"NUM",t.DIVISION)||"0":n.valueToCode(e,"NUM",t.NONE)||"0",r){case"ABS":i="Math.abs("+e+")";break;case"ROOT":i="Math.sqrt("+e+")";break;case"LN":i="Math.log("+e+")";break;case"EXP":i="Math.exp("+e+")";break;case"POW10":i="Math.pow(10,"+e+")";break;case"ROUND":i="Math.round("+e+")";break;case"ROUNDUP":i="Math.ceil("+e+")";break;case"ROUNDDOWN":i="Math.floor("+e+")";break;case"SIN":i="Math.sin("+e+" / 180 * Math.PI)";break;case"COS":i="Math.cos("+e+" / 180 * Math.PI)";break;case"TAN":i="Math.tan("+e+" / 180 * Math.PI)"}if(i)return[i,t.FUNCTION_CALL];switch(r){case"LOG10":i="Math.log("+e+") / Math.log(10)";break;case"ASIN":i="Math.asin("+e+") / Math.PI * 180";break;case"ACOS":i="Math.acos("+e+") / Math.PI * 180";break;case"ATAN":i="Math.atan("+e+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+r)}return[i,t.DIVISION]},j=function(e,n){return{PI:["Math.PI",t.MEMBER],E:["Math.E",t.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",t.DIVISION],SQRT2:["Math.SQRT2",t.MEMBER],SQRT1_2:["Math.SQRT1_2",t.MEMBER],INFINITY:["Infinity",t.ATOMIC]}[e.getFieldValue("CONSTANT")]},Z=function(e,n){var i={EVEN:[" % 2 === 0",t.MODULUS,t.EQUALITY],ODD:[" % 2 === 1",t.MODULUS,t.EQUALITY],WHOLE:[" % 1 === 0",t.MODULUS,t.EQUALITY],POSITIVE:[" > 0",t.RELATIONAL,t.RELATIONAL],NEGATIVE:[" < 0",t.RELATIONAL,t.RELATIONAL],DIVISIBLE_BY:[null,t.MODULUS,t.EQUALITY],PRIME:[null,t.NONE,t.FUNCTION_CALL]},r=e.getFieldValue("PROPERTY"),o=d(i[r],3),a=o[0],s=o[1],l=o[2];return i=n.valueToCode(e,"NUMBER_TO_CHECK",s)||"0",[e="PRIME"===r?n.provideFunction_("mathIsPrime","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(n) {\n  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  if (n == 2 || n == 3) {\n    return true;\n  }\n  // False if n is NaN, negative, is 1, or not whole.\n  // And false if n is divisible by 2 or 3.\n  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {\n    return false;\n  }\n  // Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {\n    if (n % (x - 1) === 0 || n % (x + 1) === 0) {\n      return false;\n    }\n  }\n  return true;\n}\n"))+"("+i+")":"DIVISIBLE_BY"===r?i+" % "+(e=n.valueToCode(e,"DIVISOR",t.MODULUS)||"0")+" === 0":i+a,l]},H=function(e,n){var i=n.valueToCode(e,"DELTA",t.ADDITION)||"0";return(e=n.getVariableName(e.getFieldValue("VAR")))+" = (typeof "+e+" === 'number' ? "+e+" : 0) + "+i+";\n"},z=function(e,n){var i=e.getFieldValue("OP");switch(i){case"SUM":e=n.valueToCode(e,"LIST",t.MEMBER)||"[]",e+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":e="Math.min.apply(null, "+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MAX":e="Math.max.apply(null, "+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"AVERAGE":e=(i=n.provideFunction_("mathMean","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(myList) {\n  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;\n}\n")))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MEDIAN":e=(i=n.provideFunction_("mathMedian","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(myList) {\n  var localList = myList.filter(function (x) {return typeof x === 'number';});\n  if (!localList.length) return null;\n  localList.sort(function(a, b) {return b - a;});\n  if (localList.length % 2 === 0) {\n    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;\n  } else {\n    return localList[(localList.length - 1) / 2];\n  }\n}\n")))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"MODE":e=(i=n.provideFunction_("mathModes","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(values) {\n  var modes = [];\n  var counts = [];\n  var maxCount = 0;\n  for (var i = 0; i < values.length; i++) {\n    var value = values[i];\n    var found = false;\n    var thisCount;\n    for (var j = 0; j < counts.length; j++) {\n      if (counts[j][0] === value) {\n        thisCount = ++counts[j][1];\n        found = true;\n        break;\n      }\n    }\n    if (!found) {\n      counts.push([value, 1]);\n      thisCount = 1;\n    }\n    maxCount = Math.max(thisCount, maxCount);\n  }\n  for (var j = 0; j < counts.length; j++) {\n    if (counts[j][1] === maxCount) {\n        modes.push(counts[j][0]);\n    }\n  }\n  return modes;\n}\n")))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"STD_DEV":e=(i=n.provideFunction_("mathStandardDeviation","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(numbers) {\n  var n = numbers.length;\n  if (!n) return null;\n  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;\n  var variance = 0;\n  for (var j = 0; j < n; j++) {\n    variance += Math.pow(numbers[j] - mean, 2);\n  }\n  variance = variance / n;\n  return Math.sqrt(variance);\n}\n")))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;case"RANDOM":e=(i=n.provideFunction_("mathRandomList","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(list) {\n  var x = Math.floor(Math.random() * list.length);\n  return list[x];\n}\n")))+"("+(e=n.valueToCode(e,"LIST",t.NONE)||"[]")+")";break;default:throw Error("Unknown operator: "+i)}return[e,t.FUNCTION_CALL]},V=function(e,n){return[(n.valueToCode(e,"DIVIDEND",t.MODULUS)||"0")+" % "+(e=n.valueToCode(e,"DIVISOR",t.MODULUS)||"0"),t.MODULUS]},W=function(e,n){return["Math.min(Math.max("+(n.valueToCode(e,"VALUE",t.NONE)||"0")+", "+(n.valueToCode(e,"LOW",t.NONE)||"0")+"), "+(e=n.valueToCode(e,"HIGH",t.NONE)||"Infinity")+")",t.FUNCTION_CALL]},G=function(e,n){var i=n.valueToCode(e,"FROM",t.NONE)||"0";return e=n.valueToCode(e,"TO",t.NONE)||"0",[n.provideFunction_("mathRandomInt","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(a, b) {\n  if (a > b) {\n    // Swap a and b to ensure a is smaller.\n    var c = a;\n    a = b;\n    b = c;\n  }\n  return Math.floor(Math.random() * (b - a + 1) + a);\n}\n"))+"("+i+", "+e+")",t.FUNCTION_CALL]},X=function(e,n){return["Math.random()",t.FUNCTION_CALL]},Y=function(e,n){var i=n.valueToCode(e,"X",t.NONE)||"0";return["Math.atan2("+(n.valueToCode(e,"Y",t.NONE)||"0")+", "+i+") / Math.PI * 180",t.DIVISION]},K=function(e,n){var i=n.getProcedureName(e.getFieldValue("NAME")),r="";n.STATEMENT_PREFIX&&(r+=n.injectId(n.STATEMENT_PREFIX,e)),n.STATEMENT_SUFFIX&&(r+=n.injectId(n.STATEMENT_SUFFIX,e)),r&&(r=n.prefixLines(r,n.INDENT));var o="";n.INFINITE_LOOP_TRAP&&(o=n.prefixLines(n.injectId(n.INFINITE_LOOP_TRAP,e),n.INDENT));var a=n.statementToCode(e,"STACK"),s=n.valueToCode(e,"RETURN",t.NONE)||"",l="";a&&s&&(l=r),s&&(s=n.INDENT+"return "+s+";\n");for(var u=[],c=e.getVars(),h=0;h<c.length;h++)u[h]=n.getVariableName(c[h]);return r="function "+i+"("+u.join(", ")+") {\n"+r+o+a+l+s+"}",r=n.scrub_(e,r),n.definitions_["%"+i]=r,null},q=function(e,n){for(var i=n.getProcedureName(e.getFieldValue("NAME")),r=[],o=e.getVars(),a=0;a<o.length;a++)r[a]=n.valueToCode(e,"ARG"+a,t.NONE)||"null";return[i+"("+r.join(", ")+")",t.FUNCTION_CALL]},J=function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+";\n"},Q=function(e,n){var i="if ("+(n.valueToCode(e,"CONDITION",t.NONE)||"false")+") {\n";return n.STATEMENT_SUFFIX&&(i+=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)),e.hasReturnValue_?(e=n.valueToCode(e,"VALUE",t.NONE)||"null",i+=n.INDENT+"return "+e+";\n"):i+=n.INDENT+"return;\n",i+"}\n"},ee=function(e,n){return[n.quote_(e.getFieldValue("TEXT")),t.ATOMIC]},te=function(e,n){return e=n.multiline_quote_(e.getFieldValue("TEXT")),n=-1!==e.indexOf("+")?t.ADDITION:t.ATOMIC,[e,n]},ne=function(e,n){switch(e.itemCount_){case 0:return["''",t.ATOMIC];case 1:return e=n.valueToCode(e,"ADD0",t.NONE)||"''",Ie(e);case 2:var i=n.valueToCode(e,"ADD0",t.NONE)||"''";return e=n.valueToCode(e,"ADD1",t.NONE)||"''",[Ie(i)[0]+" + "+Ie(e)[0],t.ADDITION];default:i=Array(e.itemCount_);for(var r=0;r<e.itemCount_;r++)i[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"''";return["["+i.join(",")+"].join('')",t.FUNCTION_CALL]}},ie=function(e,n){var i=n.getVariableName(e.getFieldValue("VAR"));return e=n.valueToCode(e,"TEXT",t.NONE)||"''",i+" += "+Ie(e)[0]+";\n"},re=function(e,n){return[(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+".length",t.MEMBER]},oe=function(e,n){return["!"+(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+".length",t.LOGICAL_NOT]},ae=function(e,n){var i="FIRST"===e.getFieldValue("END")?"indexOf":"lastIndexOf",r=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+"."+i+"("+r+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITION]:[n,t.FUNCTION_CALL]},se=function(e,n){var i=e.getFieldValue("WHERE")||"FROM_START",r=n.valueToCode(e,"VALUE","RANDOM"===i?t.NONE:t.MEMBER)||"''";switch(i){case"FIRST":return[r+".charAt(0)",t.FUNCTION_CALL];case"LAST":return[r+".slice(-1)",t.FUNCTION_CALL];case"FROM_START":return[r+".charAt("+(e=n.getAdjusted(e,"AT"))+")",t.FUNCTION_CALL];case"FROM_END":return[r+".slice("+(e=n.getAdjusted(e,"AT",1,!0))+").charAt(0)",t.FUNCTION_CALL];case"RANDOM":return[n.provideFunction_("textRandomLetter","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(text) {\n  var x = Math.floor(Math.random() * text.length);\n  return text[x];\n}\n"))+"("+r+")",t.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},le=function(e,n){var i={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"},r=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2"),a="FROM_END"!==r&&"LAST"!==r&&"FROM_END"!==o&&"LAST"!==o,s=n.valueToCode(e,"STRING",a?t.MEMBER:t.NONE)||"''";if("FIRST"===r&&"LAST"===o)return[s,t.NONE];if(s.match(/^'?\w+'?$/)||a){switch(r){case"FROM_START":i=n.getAdjusted(e,"AT1");break;case"FROM_END":i=s+".length - "+(i=n.getAdjusted(e,"AT1",1,!1,t.SUBTRACTION));break;case"FIRST":i="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(o){case"FROM_START":n=n.getAdjusted(e,"AT2",1);break;case"FROM_END":n=s+".length - "+(n=n.getAdjusted(e,"AT2",0,!1,t.SUBTRACTION));break;case"LAST":n=s+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}s=s+".slice("+i+", "+n+")"}else a=n.getAdjusted(e,"AT1"),e=n.getAdjusted(e,"AT2"),s=n.provideFunction_("subsequence"+i[r]+i[o],"\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(sequence").concat("FROM_END"===r||"FROM_START"===r?", at1":"").concat("FROM_END"===o||"FROM_START"===o?", at2":"",") {\n  var start = ").concat(Re("sequence",r,"at1"),";\n  var end = ").concat(Re("sequence",o,"at2")," + 1;\n  return sequence.slice(start, end);\n}\n"))+"("+s+("FROM_END"===r||"FROM_START"===r?", "+a:"")+("FROM_END"===o||"FROM_START"===o?", "+e:"")+")";return[s,t.FUNCTION_CALL]},ue=function(e,n){var i={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[e.getFieldValue("CASE")];return e=n.valueToCode(e,"TEXT",i?t.MEMBER:t.NONE)||"''",[i?e+i:n.provideFunction_("textToTitleCase","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(str) {\n  return str.replace(/\\S+/g,\n      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});\n}\n"))+"("+e+")",t.FUNCTION_CALL]},ce=function(e,n){var i={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[e.getFieldValue("MODE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+i,t.FUNCTION_CALL]},he=function(e,n){return"window.alert("+(n.valueToCode(e,"TEXT",t.NONE)||"''")+");\n"},de=function(e,n){return n="window.prompt("+(e.getField("TEXT")?n.quote_(e.getFieldValue("TEXT")):n.valueToCode(e,"TEXT",t.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(n="Number("+n+")"),[n,t.FUNCTION_CALL]},fe=function(e,n){var i=n.valueToCode(e,"TEXT",t.NONE)||"''";return e=n.valueToCode(e,"SUB",t.NONE)||"''",[n.provideFunction_("textCount","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(haystack, needle) {\n  if (needle.length === 0) {\n    return haystack.length + 1;\n  } else {\n    return haystack.split(needle).length - 1;\n  }\n}\n"))+"("+i+", "+e+")",t.FUNCTION_CALL]},pe=function(e,n){var i=n.valueToCode(e,"TEXT",t.NONE)||"''",r=n.valueToCode(e,"FROM",t.NONE)||"''";return e=n.valueToCode(e,"TO",t.NONE)||"''",[n.provideFunction_("textReplace","\nfunction ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(haystack, needle, replacement) {\n  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')\n                 .replace(/\\x08/g, '\\\\x08');\n  return haystack.replace(new RegExp(needle, 'g'), replacement);\n}\n"))+"("+i+", "+r+", "+e+")",t.FUNCTION_CALL]},ve=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".split('').reverse().join('')",t.FUNCTION_CALL]},ge=function(e,n){return[n.getVariableName(e.getFieldValue("VAR")),t.ATOMIC]},me=function(e,n){var i=n.valueToCode(e,"VALUE",t.ASSIGNMENT)||"0";return n.getVariableName(e.getFieldValue("VAR"))+" = "+i+";\n"};!function(e){e[e.ATOMIC=0]="ATOMIC",e[e.NEW=1.1]="NEW",e[e.MEMBER=1.2]="MEMBER",e[e.FUNCTION_CALL=2]="FUNCTION_CALL",e[e.INCREMENT=3]="INCREMENT",e[e.DECREMENT=3]="DECREMENT",e[e.BITWISE_NOT=4.1]="BITWISE_NOT",e[e.UNARY_PLUS=4.2]="UNARY_PLUS",e[e.UNARY_NEGATION=4.3]="UNARY_NEGATION",e[e.LOGICAL_NOT=4.4]="LOGICAL_NOT",e[e.TYPEOF=4.5]="TYPEOF",e[e.VOID=4.6]="VOID",e[e.DELETE=4.7]="DELETE",e[e.AWAIT=4.8]="AWAIT",e[e.EXPONENTIATION=5]="EXPONENTIATION",e[e.MULTIPLICATION=5.1]="MULTIPLICATION",e[e.DIVISION=5.2]="DIVISION",e[e.MODULUS=5.3]="MODULUS",e[e.SUBTRACTION=6.1]="SUBTRACTION",e[e.ADDITION=6.2]="ADDITION",e[e.BITWISE_SHIFT=7]="BITWISE_SHIFT",e[e.RELATIONAL=8]="RELATIONAL",e[e.IN=8]="IN",e[e.INSTANCEOF=8]="INSTANCEOF",e[e.EQUALITY=9]="EQUALITY",e[e.BITWISE_AND=10]="BITWISE_AND",e[e.BITWISE_XOR=11]="BITWISE_XOR",e[e.BITWISE_OR=12]="BITWISE_OR",e[e.LOGICAL_AND=13]="LOGICAL_AND",e[e.LOGICAL_OR=14]="LOGICAL_OR",e[e.CONDITIONAL=15]="CONDITIONAL",e[e.ASSIGNMENT=16]="ASSIGNMENT",e[e.YIELD=17]="YIELD",e[e.COMMA=18]="COMMA",e[e.NONE=99]="NONE"}(t||(t={}));var ye=function(e){"use strict";c(r,e);var i=h(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"JavaScript";for(var o in a(this,r),(e=i.call(this,n)).ORDER_OVERRIDES=[[t.FUNCTION_CALL,t.MEMBER],[t.FUNCTION_CALL,t.FUNCTION_CALL],[t.MEMBER,t.MEMBER],[t.MEMBER,t.FUNCTION_CALL],[t.LOGICAL_NOT,t.LOGICAL_NOT],[t.MULTIPLICATION,t.MULTIPLICATION],[t.ADDITION,t.ADDITION],[t.LOGICAL_AND,t.LOGICAL_AND],[t.LOGICAL_OR,t.LOGICAL_OR]],e.isInitialized=!1,t)"string"!==typeof(n=t[o])&&(e["ORDER_"+o]=n);return e.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(",")),e}return s(r,[{key:"init",value:function(e){l(u(r.prototype),"init",this).call(this,e),this.nameDB_?this.nameDB_.reset():this.nameDB_=new n.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);for(var t=[],i=n.allDeveloperVariables$$module$build$src$core$variables(e),o=0;o<i.length;o++)t.push(this.nameDB_.getName(i[o],n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(e=n.allUsedVarModels$$module$build$src$core$variables(e),i=0;i<e.length;i++)t.push(this.nameDB_.getName(e[i].getId(),n.NameType$$module$build$src$core$names.VARIABLE));t.length&&(this.definitions_.variables="var "+t.join(", ")+";"),this.isInitialized=!0}},{key:"finish",value:function(e){var t=Object.values(this.definitions_);return l(u(r.prototype),"finish",this).call(this,e),this.isInitialized=!1,this.nameDB_.reset(),t.join("\n\n")+"\n\n\n"+e}},{key:"scrubNakedValue",value:function(e){return e+";\n"}},{key:"quote_",value:function(e){return"'"+(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'"))+"'"}},{key:"multiline_quote_",value:function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' +\n")}},{key:"scrub_",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var o=e.getCommentText();o&&(o=n.wrap$$module$build$src$core$utils$string(o,this.COMMENT_WRAP-3),r+=this.prefixLines(o+"\n","// "));for(var a=0;a<e.inputList.length;a++)e.inputList[a].type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(o=e.inputList[a].connection.targetBlock())&&(o=this.allNestedComments(o))&&(r+=this.prefixLines(o,"// "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+t+(i=i?"":this.blockToCode(e))}},{key:"getAdjusted",value:function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.NONE;e.workspace.options.oneBasedIndex&&r--;var s=e.workspace.options.oneBasedIndex?"1":"0",l=a;return 0<r?l=t.ADDITION:0>r?l=t.SUBTRACTION:o&&(l=t.UNARY_NEGATION),e=this.valueToCode(e,i,l)||s,0!==r||o?n.isNumber$$module$build$src$core$utils$string(e)?(e=String(Number(e)+r),o&&(e=String(-Number(e))),e):(0<r?e="".concat(e," + ").concat(r):0>r&&(e="".concat(e," - ").concat(-r)),o&&(e=r?"-(".concat(e,")"):"-".concat(e)),Math.floor(a)>=Math.floor(l)&&(e="(".concat(e,")")),e):e}}]),r}(n.CodeGenerator$$module$build$src$core$generator),_e={};_e.JavascriptGenerator=ye,_e.Order=t;var be={};be.colour_blend=f,be.colour_picker=i,be.colour_random=r,be.colour_rgb=o;var ke=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},Te={};Te.lists_create_empty=p,Te.lists_create_with=v,Te.lists_getIndex=b,Te.lists_getSublist=T,Te.lists_indexOf=_,Te.lists_isEmpty=y,Te.lists_length=m,Te.lists_repeat=g,Te.lists_reverse=w,Te.lists_setIndex=k,Te.lists_sort=E,Te.lists_split=x;var Ee={};Ee.controls_if=S,Ee.controls_ifelse=S,Ee.logic_boolean=O,Ee.logic_compare=C,Ee.logic_negate=R,Ee.logic_null=A,Ee.logic_operation=I,Ee.logic_ternary=M;var xe={};xe.controls_flow_statements=D,xe.controls_for=$,xe.controls_forEach=P,xe.controls_repeat=L,xe.controls_repeat_ext=L,xe.controls_whileUntil=N;var we={};we.math_arithmetic=F,we.math_atan2=Y,we.math_change=H,we.math_constant=j,we.math_constrain=W,we.math_modulo=V,we.math_number=B,we.math_number_property=Z,we.math_on_list=z,we.math_random_float=X,we.math_random_int=G,we.math_round=U,we.math_single=U,we.math_trig=U;var Se={};Se.procedures_callnoreturn=J,Se.procedures_callreturn=q,Se.procedures_defnoreturn=K,Se.procedures_defreturn=K,Se.procedures_ifreturn=Q;var Ce=/^\s*'([^']|\\')*'\s*$/,Ie=function(e){return Ce.test(e)?[e,t.ATOMIC]:["String("+e+")",t.FUNCTION_CALL]},Re=function(e,t,n){return"FIRST"===t?"0":"FROM_END"===t?e+".length - 1 - "+n:"LAST"===t?e+".length - 1":n},Oe={};Oe.text=ee,Oe.text_append=ie,Oe.text_changeCase=ue,Oe.text_charAt=se,Oe.text_count=fe,Oe.text_getSubstring=le,Oe.text_indexOf=ae,Oe.text_isEmpty=oe,Oe.text_join=ne,Oe.text_length=re,Oe.text_multiline=te,Oe.text_print=he,Oe.text_prompt=de,Oe.text_prompt_ext=de,Oe.text_replace=pe,Oe.text_reverse=ve,Oe.text_trim=ce;var Ae={};Ae.variables_get=ge,Ae.variables_set=me;var Me={};Me.variables_get_dynamic=ge,Me.variables_set_dynamic=me;var Le=new ye,Ne=Object.assign({},be,Te,Ee,xe,we,Se,Oe,Ae,Me);for(var $e in Ne)Le.forBlock[$e]=Ne[$e];var Pe={};return Pe.JavascriptGenerator=ye,Pe.Order=t,Pe.javascriptGenerator=Le,Pe.__namespace__=n,Pe},void 0===(o="function"===typeof i?i.apply(t,r):i)||(e.exports=o)},9130:function(e,t){var n,i,r;i=[],void 0===(r="function"===typeof(n=function(){"use strict";var e=e||{Msg:Object.create(null)};return e.Msg.ADD_COMMENT="Add Comment",e.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",e.Msg.CHANGE_VALUE_TITLE="Change value:",e.Msg.CLEAN_UP="Clean up Blocks",e.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",e.Msg.COLLAPSE_ALL="Collapse Blocks",e.Msg.COLLAPSE_BLOCK="Collapse Block",e.Msg.COLOUR_BLEND_COLOUR1="colour 1",e.Msg.COLOUR_BLEND_COLOUR2="colour 2",e.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",e.Msg.COLOUR_BLEND_RATIO="ratio",e.Msg.COLOUR_BLEND_TITLE="blend",e.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",e.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",e.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",e.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",e.Msg.COLOUR_RANDOM_TITLE="random colour",e.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",e.Msg.COLOUR_RGB_BLUE="blue",e.Msg.COLOUR_RGB_GREEN="green",e.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",e.Msg.COLOUR_RGB_RED="red",e.Msg.COLOUR_RGB_TITLE="colour with",e.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",e.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",e.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",e.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",e.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",e.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",e.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",e.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",e.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",e.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",e.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",e.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",e.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",e.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",e.Msg.CONTROLS_IF_MSG_ELSE="else",e.Msg.CONTROLS_IF_MSG_ELSEIF="else if",e.Msg.CONTROLS_IF_MSG_IF="if",e.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",e.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",e.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",e.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",e.Msg.CONTROLS_REPEAT_INPUT_DO="do",e.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",e.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",e.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",e.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",e.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",e.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",e.Msg.DELETE_BLOCK="Delete Block",e.Msg.DELETE_VARIABLE="Delete the '%1' variable",e.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",e.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",e.Msg.DIALOG_CANCEL="Cancel",e.Msg.DIALOG_OK="OK",e.Msg.DISABLE_BLOCK="Disable Block",e.Msg.DUPLICATE_BLOCK="Duplicate",e.Msg.DUPLICATE_COMMENT="Duplicate Comment",e.Msg.ENABLE_BLOCK="Enable Block",e.Msg.EXPAND_ALL="Expand Blocks",e.Msg.EXPAND_BLOCK="Expand Block",e.Msg.EXTERNAL_INPUTS="External Inputs",e.Msg.HELP="Help",e.Msg.INLINE_INPUTS="Inline Inputs",e.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",e.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",e.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",e.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",e.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",e.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",e.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",e.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",e.Msg.LISTS_GET_INDEX_FIRST="first",e.Msg.LISTS_GET_INDEX_FROM_END="# from end",e.Msg.LISTS_GET_INDEX_FROM_START="#",e.Msg.LISTS_GET_INDEX_GET="get",e.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",e.Msg.LISTS_GET_INDEX_LAST="last",e.Msg.LISTS_GET_INDEX_RANDOM="random",e.Msg.LISTS_GET_INDEX_REMOVE="remove",e.Msg.LISTS_GET_INDEX_TAIL="",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",e.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",e.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",e.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",e.Msg.LISTS_GET_SUBLIST_END_LAST="to last",e.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",e.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",e.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",e.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",e.Msg.LISTS_GET_SUBLIST_TAIL="",e.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",e.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",e.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",e.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",e.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",e.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",e.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",e.Msg.LISTS_INLIST="in list",e.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",e.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",e.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",e.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",e.Msg.LISTS_LENGTH_TITLE="length of %1",e.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",e.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",e.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",e.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",e.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",e.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",e.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",e.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",e.Msg.LISTS_SET_INDEX_INPUT_TO="as",e.Msg.LISTS_SET_INDEX_INSERT="insert at",e.Msg.LISTS_SET_INDEX_SET="set",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",e.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",e.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",e.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",e.Msg.LISTS_SORT_ORDER_DESCENDING="descending",e.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",e.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",e.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",e.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",e.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",e.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",e.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",e.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",e.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",e.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",e.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",e.Msg.LOGIC_BOOLEAN_FALSE="false",e.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",e.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",e.Msg.LOGIC_BOOLEAN_TRUE="true",e.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",e.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",e.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",e.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",e.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",e.Msg.LOGIC_NEGATE_TITLE="not %1",e.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",e.Msg.LOGIC_NULL="null",e.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",e.Msg.LOGIC_NULL_TOOLTIP="Returns null.",e.Msg.LOGIC_OPERATION_AND="and",e.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",e.Msg.LOGIC_OPERATION_OR="or",e.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",e.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",e.Msg.LOGIC_TERNARY_CONDITION="test",e.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",e.Msg.LOGIC_TERNARY_IF_FALSE="if false",e.Msg.LOGIC_TERNARY_IF_TRUE="if true",e.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",e.Msg.MATH_ADDITION_SYMBOL="+",e.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",e.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",e.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",e.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",e.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",e.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",e.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",e.Msg.MATH_CHANGE_TITLE="change %1 by %2",e.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",e.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",e.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\xbd) (0.707\u2026), or \u221e (infinity).",e.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",e.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",e.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",e.Msg.MATH_DIVISION_SYMBOL="\xf7",e.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",e.Msg.MATH_IS_EVEN="is even",e.Msg.MATH_IS_NEGATIVE="is negative",e.Msg.MATH_IS_ODD="is odd",e.Msg.MATH_IS_POSITIVE="is positive",e.Msg.MATH_IS_PRIME="is prime",e.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",e.Msg.MATH_IS_WHOLE="is whole",e.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",e.Msg.MATH_MODULO_TITLE="remainder of %1 \xf7 %2",e.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",e.Msg.MATH_MULTIPLICATION_SYMBOL="\xd7",e.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",e.Msg.MATH_NUMBER_TOOLTIP="A number.",e.Msg.MATH_ONLIST_HELPURL="",e.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",e.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",e.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",e.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",e.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",e.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",e.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",e.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",e.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",e.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",e.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",e.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",e.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",e.Msg.MATH_POWER_SYMBOL="^",e.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",e.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",e.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",e.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",e.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",e.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",e.Msg.MATH_ROUND_OPERATOR_ROUND="round",e.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",e.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",e.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",e.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",e.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",e.Msg.MATH_SINGLE_OP_ROOT="square root",e.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",e.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",e.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",e.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",e.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",e.Msg.MATH_SUBTRACTION_SYMBOL="-",e.Msg.MATH_TRIG_ACOS="acos",e.Msg.MATH_TRIG_ASIN="asin",e.Msg.MATH_TRIG_ATAN="atan",e.Msg.MATH_TRIG_COS="cos",e.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",e.Msg.MATH_TRIG_SIN="sin",e.Msg.MATH_TRIG_TAN="tan",e.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",e.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",e.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",e.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",e.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",e.Msg.NEW_NUMBER_VARIABLE="Create number variable...",e.Msg.NEW_STRING_VARIABLE="Create string variable...",e.Msg.NEW_VARIABLE="Create variable...",e.Msg.NEW_VARIABLE_TITLE="New variable name:",e.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",e.Msg.ORDINAL_NUMBER_SUFFIX="",e.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",e.Msg.PROCEDURES_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",e.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",e.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",e.Msg.PROCEDURES_CREATE_DO="Create '%1'",e.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",e.Msg.PROCEDURES_DEFNORETURN_DO="",e.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",e.Msg.PROCEDURES_DEFNORETURN_TITLE="to",e.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",e.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",e.Msg.PROCEDURES_DEFRETURN_RETURN="return",e.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",e.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",e.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",e.Msg.PROCEDURES_IFRETURN_HELPURL="https://c2.com/cgi/wiki?GuardClause",e.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",e.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",e.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",e.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",e.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",e.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",e.Msg.REDO="Redo",e.Msg.REMOVE_COMMENT="Remove Comment",e.Msg.RENAME_VARIABLE="Rename variable...",e.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",e.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_APPEND_TITLE="to %1 append text %2",e.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",e.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",e.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",e.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",e.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",e.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",e.Msg.TEXT_CHARAT_FIRST="get first letter",e.Msg.TEXT_CHARAT_FROM_END="get letter # from end",e.Msg.TEXT_CHARAT_FROM_START="get letter #",e.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",e.Msg.TEXT_CHARAT_LAST="get last letter",e.Msg.TEXT_CHARAT_RANDOM="get random letter",e.Msg.TEXT_CHARAT_TAIL="",e.Msg.TEXT_CHARAT_TITLE="in text %1 %2",e.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",e.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",e.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",e.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",e.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",e.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",e.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",e.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",e.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",e.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",e.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",e.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",e.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",e.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",e.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",e.Msg.TEXT_GET_SUBSTRING_TAIL="",e.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",e.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",e.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",e.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",e.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",e.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",e.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",e.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",e.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",e.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",e.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",e.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",e.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",e.Msg.TEXT_LENGTH_TITLE="length of %1",e.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",e.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",e.Msg.TEXT_PRINT_TITLE="print %1",e.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",e.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",e.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",e.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",e.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",e.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",e.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",e.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",e.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",e.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",e.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",e.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",e.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",e.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",e.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",e.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",e.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",e.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",e.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",e.Msg.TODAY="Today",e.Msg.UNDO="Undo",e.Msg.UNNAMED_KEY="unnamed",e.Msg.VARIABLES_DEFAULT_NAME="item",e.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",e.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",e.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",e.Msg.VARIABLES_SET="set %1 to %2",e.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",e.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",e.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",e.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",e.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",e.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",e.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",e.Msg.CONTROLS_FOREACH_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_FOR_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=e.Msg.CONTROLS_IF_MSG_ELSEIF,e.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=e.Msg.CONTROLS_IF_MSG_ELSE,e.Msg.CONTROLS_IF_IF_TITLE_IF=e.Msg.CONTROLS_IF_MSG_IF,e.Msg.CONTROLS_IF_MSG_THEN=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=e.Msg.CONTROLS_REPEAT_INPUT_DO,e.Msg.LISTS_CREATE_WITH_ITEM_TITLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.LISTS_GET_INDEX_HELPURL=e.Msg.LISTS_INDEX_OF_HELPURL,e.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=e.Msg.LISTS_INLIST,e.Msg.MATH_CHANGE_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.PROCEDURES_DEFRETURN_COMMENT=e.Msg.PROCEDURES_DEFNORETURN_COMMENT,e.Msg.PROCEDURES_DEFRETURN_DO=e.Msg.PROCEDURES_DEFNORETURN_DO,e.Msg.PROCEDURES_DEFRETURN_PROCEDURE=e.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,e.Msg.PROCEDURES_DEFRETURN_TITLE=e.Msg.PROCEDURES_DEFNORETURN_TITLE,e.Msg.TEXT_APPEND_VARIABLE=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=e.Msg.VARIABLES_DEFAULT_NAME,e.Msg.MATH_HUE="230",e.Msg.LOOPS_HUE="120",e.Msg.LISTS_HUE="260",e.Msg.LOGIC_HUE="210",e.Msg.VARIABLES_HUE="330",e.Msg.TEXTS_HUE="160",e.Msg.PROCEDURES_HUE="290",e.Msg.COLOUR_HUE="20",e.Msg.VARIABLES_DYNAMIC_HUE="310",e.Msg})?n.apply(t,i):n)||(e.exports=r)},7138:function(e,t,n){var i,r,o;r=[n(1030),n(2724)],void 0===(o="function"===typeof(i=function(e,t){return t})?i.apply(t,r):i)||(e.exports=o)},2724:function(e,t,n){var i,r,o,a=n(6690).default,s=n(9728).default,l=n(1588).default,u=n(3808).default,c=n(1655).default,h=n(6389).default,d=n(4704).default,f=n(7424).default;r=[n(2363)],i=function(e){var t,n=e.__namespace__,i=function(e,n){return[n.quote_(e.getFieldValue("COLOUR")),t.ATOMIC]},r=function(e,n){return n.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",t.FUNCTION_CALL]},o=function(e,n){return[n.provideFunction_("colour_rgb","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(r, g, b):\n  r = round(min(100, max(0, r)) * 2.55)\n  g = round(min(100, max(0, g)) * 2.55)\n  b = round(min(100, max(0, b)) * 2.55)\n  return '#%02x%02x%02x' % (r, g, b)\n"))+"("+(n.valueToCode(e,"RED",t.NONE)||0)+", "+(n.valueToCode(e,"GREEN",t.NONE)||0)+", "+(e=n.valueToCode(e,"BLUE",t.NONE)||0)+")",t.FUNCTION_CALL]},p=function(e,n){return[n.provideFunction_("colour_blend","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(colour1, colour2, ratio):\n  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)\n  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)\n  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)\n  ratio = min(1, max(0, ratio))\n  r = round(r1 * (1 - ratio) + r2 * ratio)\n  g = round(g1 * (1 - ratio) + g2 * ratio)\n  b = round(b1 * (1 - ratio) + b2 * ratio)\n  return '#%02x%02x%02x' % (r, g, b)\n"))+"("+(n.valueToCode(e,"COLOUR1",t.NONE)||"'#000000'")+", "+(n.valueToCode(e,"COLOUR2",t.NONE)||"'#000000'")+", "+(e=n.valueToCode(e,"RATIO",t.NONE)||0)+")",t.FUNCTION_CALL]},v=function(e,n){return["[]",t.ATOMIC]},g=function(e,n){for(var i=Array(e.itemCount_),r=0;r<e.itemCount_;r++)i[r]=n.valueToCode(e,"ADD"+r,t.NONE)||"None";return["["+i.join(", ")+"]",t.ATOMIC]},m=function(e,n){return["["+(n.valueToCode(e,"ITEM",t.NONE)||"None")+"] * "+(e=n.valueToCode(e,"NUM",t.MULTIPLICATIVE)||"0"),t.MULTIPLICATIVE]},y=function(e,n){return["len("+(n.valueToCode(e,"VALUE",t.NONE)||"[]")+")",t.FUNCTION_CALL]},_=function(e,n){return["not len("+(n.valueToCode(e,"VALUE",t.NONE)||"[]")+")",t.LOGICAL_NOT]},b=function(e,n){var i=n.valueToCode(e,"FIND",t.NONE)||"[]",r=n.valueToCode(e,"VALUE",t.NONE)||"''",o=" -1",a="",s=" - 1";return e.workspace.options.oneBasedIndex&&(o=" 0",a=" + 1",s=""),[("FIRST"===e.getFieldValue("END")?n.provideFunction_("first_index","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(my_list, elem):\n  try: index = my_list.index(elem)").concat(a,"\n  except: index =").concat(o,"\n  return index\n")):n.provideFunction_("last_index","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(my_list, elem):\n  try: index = len(my_list) - my_list[::-1].index(elem)").concat(s,"\n  except: index =").concat(o,"\n  return index\n")))+"("+r+", "+i+")",t.FUNCTION_CALL]},k=function(e,n){var i=e.getFieldValue("MODE")||"GET",r=e.getFieldValue("WHERE")||"FROM_START",o=n.valueToCode(e,"VALUE","RANDOM"===r?t.NONE:t.MEMBER)||"[]";switch(r){case"FIRST":if("GET"===i)return[o+"[0]",t.MEMBER];if("GET_REMOVE"===i)return[o+".pop(0)",t.FUNCTION_CALL];if("REMOVE"===i)return o+".pop(0)\n";break;case"LAST":if("GET"===i)return[o+"[-1]",t.MEMBER];if("GET_REMOVE"===i)return[o+".pop()",t.FUNCTION_CALL];if("REMOVE"===i)return o+".pop()\n";break;case"FROM_START":if(e=n.getAdjustedInt(e,"AT"),"GET"===i)return[o+"["+e+"]",t.MEMBER];if("GET_REMOVE"===i)return[o+".pop("+e+")",t.FUNCTION_CALL];if("REMOVE"===i)return o+".pop("+e+")\n";break;case"FROM_END":if(e=n.getAdjustedInt(e,"AT",1,!0),"GET"===i)return[o+"["+e+"]",t.MEMBER];if("GET_REMOVE"===i)return[o+".pop("+e+")",t.FUNCTION_CALL];if("REMOVE"===i)return o+".pop("+e+")\n";break;case"RANDOM":if(n.definitions_.import_random="import random","GET"===i)return["random.choice("+o+")",t.FUNCTION_CALL];if(o=n.provideFunction_("lists_remove_random_item","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(myList):\n  x = int(random.random() * len(myList))\n  return myList.pop(x)\n"))+"("+o+")","GET_REMOVE"===i)return[o,t.FUNCTION_CALL];if("REMOVE"===i)return o+"\n"}throw Error("Unhandled combination (lists_getIndex).")},T=function(e,i){var r=i.valueToCode(e,"LIST",t.MEMBER)||"[]",o=e.getFieldValue("MODE")||"GET",a=e.getFieldValue("WHERE")||"FROM_START",s=i.valueToCode(e,"TO",t.NONE)||"None";switch(a){case"FIRST":if("SET"===o)return r+"[0] = "+s+"\n";if("INSERT"===o)return r+".insert(0, "+s+")\n";break;case"LAST":if("SET"===o)return r+"[-1] = "+s+"\n";if("INSERT"===o)return r+".append("+s+")\n";break;case"FROM_START":if(i=i.getAdjustedInt(e,"AT"),"SET"===o)return r+"["+i+"] = "+s+"\n";if("INSERT"===o)return r+".insert("+i+", "+s+")\n";break;case"FROM_END":if(i=i.getAdjustedInt(e,"AT",1,!0),"SET"===o)return r+"["+i+"] = "+s+"\n";if("INSERT"===o)return r+".insert("+i+", "+s+")\n";break;case"RANDOM":if(i.definitions_.import_random="import random",r.match(/^\w+$/)?e="":(a=(e=i.nameDB_.getDistinctName("tmp_list",n.NameType$$module$build$src$core$names.VARIABLE))+" = "+r+"\n",r=e,e=a),e+=(i=i.nameDB_.getDistinctName("tmp_x",n.NameType$$module$build$src$core$names.VARIABLE))+" = int(random.random() * len("+r+"))\n","SET"===o)return e+(r+"[")+i+"] = "+s+"\n";if("INSERT"===o)return e+(r+".insert(")+i+", "+s+")\n"}throw Error("Unhandled combination (lists_setIndex).")},E=function(e,i){var r=i.valueToCode(e,"LIST",t.MEMBER)||"[]",o=e.getFieldValue("WHERE1"),a=e.getFieldValue("WHERE2");switch(o){case"FROM_START":0===(o=i.getAdjustedInt(e,"AT1"))&&(o="");break;case"FROM_END":o=i.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":o="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(a){case"FROM_START":e=i.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=i.getAdjustedInt(e,"AT2",0,!0),n.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(i.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[r+"["+o+" : "+e+"]",t.MEMBER]},x=function(e,n){var i=n.valueToCode(e,"LIST",t.NONE)||"[]",r=e.getFieldValue("TYPE");return e="1"===e.getFieldValue("DIRECTION")?"False":"True",[n.provideFunction_("lists_sort","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,'(my_list, type, reverse):\n  def try_float(s):\n    try:\n      return float(s)\n    except:\n      return 0\n  key_funcs = {\n    "NUMERIC": try_float,\n    "TEXT": str,\n    "IGNORE_CASE": lambda s: str(s).lower()\n  }\n  key_func = key_funcs[type]\n  list_cpy = list(my_list)\n  return sorted(list_cpy, key=key_func, reverse=reverse)\n'))+"("+i+', "'+r+'", '+e+")",t.FUNCTION_CALL]},w=function(e,n){var i=e.getFieldValue("MODE");if("SPLIT"===i)e=(i=n.valueToCode(e,"INPUT",t.MEMBER)||"''")+".split("+(e=n.valueToCode(e,"DELIM",t.NONE))+")";else{if("JOIN"!==i)throw Error("Unknown mode: "+i);i=n.valueToCode(e,"INPUT",t.NONE)||"[]",e=(n.valueToCode(e,"DELIM",t.MEMBER)||"''")+".join("+i+")"}return[e,t.FUNCTION_CALL]},S=function(e,n){return["list(reversed("+(n.valueToCode(e,"LIST",t.NONE)||"[]")+"))",t.FUNCTION_CALL]},C=function(e,n){var i,r,o=0,a="";n.STATEMENT_PREFIX&&(a+=n.injectId(n.STATEMENT_PREFIX,e));do{r=n.valueToCode(e,"IF"+o,t.NONE)||"False",i=n.statementToCode(e,"DO"+o)||n.PASS,n.STATEMENT_SUFFIX&&(i=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+i),a+=(0===o?"if ":"elif ")+r+":\n"+i,o++}while(e.getInput("IF"+o));return(e.getInput("ELSE")||n.STATEMENT_SUFFIX)&&(i=n.statementToCode(e,"ELSE")||n.PASS,n.STATEMENT_SUFFIX&&(i=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)+i),a+="else:\n"+i),a},I=function(e,n){var i={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[e.getFieldValue("OP")],r=t.RELATIONAL;return[(n.valueToCode(e,"A",r)||"0")+" "+i+" "+(e=n.valueToCode(e,"B",r)||"0"),r]},R=function(e,n){var i="AND"===e.getFieldValue("OP")?"and":"or",r="and"===i?t.LOGICAL_AND:t.LOGICAL_OR,o=n.valueToCode(e,"A",r);return e=n.valueToCode(e,"B",r),o||e?(n="and"===i?"True":"False",o||(o=n),e||(e=n)):e=o="False",[o+" "+i+" "+e,r]},O=function(e,n){return["not "+(n.valueToCode(e,"BOOL",t.LOGICAL_NOT)||"True"),t.LOGICAL_NOT]},A=function(e,n){return["TRUE"===e.getFieldValue("BOOL")?"True":"False",t.ATOMIC]},M=function(e,n){return["None",t.ATOMIC]},L=function(e,n){var i=n.valueToCode(e,"IF",t.CONDITIONAL)||"False";return[(n.valueToCode(e,"THEN",t.CONDITIONAL)||"None")+" if "+i+" else "+(e=n.valueToCode(e,"ELSE",t.CONDITIONAL)||"None"),t.CONDITIONAL]},N=function(e,i){var r;r=e.getField("TIMES")?String(parseInt(e.getFieldValue("TIMES"),10)):i.valueToCode(e,"TIMES",t.NONE)||"0",r=n.isNumber$$module$build$src$core$utils$string(r)?parseInt(r,10):"int("+r+")";var o=i.statementToCode(e,"DO");return o=i.addLoopTrap(o,e)||i.PASS,"for "+i.nameDB_.getDistinctName("count",n.NameType$$module$build$src$core$names.VARIABLE)+" in range("+r+"):\n"+o},$=function(e,n){var i="UNTIL"===e.getFieldValue("MODE"),r=n.valueToCode(e,"BOOL",i?t.LOGICAL_NOT:t.NONE)||"False",o=n.statementToCode(e,"DO");return i&&(r="not "+r),"while "+r+":\n"+(o=n.addLoopTrap(o,e)||n.PASS)},P=function(e,i){var r=i.getVariableName(e.getFieldValue("VAR")),o=i.valueToCode(e,"FROM",t.NONE)||"0",a=i.valueToCode(e,"TO",t.NONE)||"0",s=i.valueToCode(e,"BY",t.NONE)||"1",l=i.statementToCode(e,"DO");l=i.addLoopTrap(l,e)||i.PASS;var u="";e=function(){return i.provideFunction_("upRange","\ndef ".concat(i.FUNCTION_NAME_PLACEHOLDER_,"(start, stop, step):\n  while start <= stop:\n    yield start\n    start += abs(step)\n"))};var c=function(){return i.provideFunction_("downRange","\ndef ".concat(i.FUNCTION_NAME_PLACEHOLDER_,"(start, stop, step):\n  while start >= stop:\n    yield start\n    start -= abs(step)\n"))};if(n.isNumber$$module$build$src$core$utils$string(o)&&n.isNumber$$module$build$src$core$utils$string(a)&&n.isNumber$$module$build$src$core$utils$string(s))o=Number(o),a=Number(a),s=Math.abs(Number(s)),0===o%1&&0===a%1&&0===s%1?(o<=a?(a++,e=0===o&&1===s?a:o+", "+a,1!==s&&(e+=", "+s)):e=o+", "+--a+", -"+s,e="range("+e+")"):(e=o<a?e():c(),e+="("+o+", "+a+", "+s+")");else{var h=function(e,t){return n.isNumber$$module$build$src$core$utils$string(e)?e=String(Number(e)):e.match(/^\w+$/)||(t=i.nameDB_.getDistinctName(r+t,n.NameType$$module$build$src$core$names.VARIABLE),u+=t+" = "+e+"\n",e=t),e};o=h(o,"_start"),a=h(a,"_end"),s=h(s,"_inc"),"number"===typeof o&&"number"===typeof a?(e=o<a?e():c(),e+="("+o+", "+a+", "+s+")"):e="("+o+" <= "+a+") and "+e()+"("+o+", "+a+", "+s+") or "+c()+"("+o+", "+a+", "+s+")"}return u+="for "+r+" in "+e+":\n"+l},D=function(e,n){var i=n.getVariableName(e.getFieldValue("VAR")),r=n.valueToCode(e,"LIST",t.RELATIONAL)||"[]",o=n.statementToCode(e,"DO");return"for "+i+" in "+r+":\n"+(o=n.addLoopTrap(o,e)||n.PASS)},B=function(e,t){var n="";if(t.STATEMENT_PREFIX&&(n+=t.injectId(t.STATEMENT_PREFIX,e)),t.STATEMENT_SUFFIX&&(n+=t.injectId(t.STATEMENT_SUFFIX,e)),t.STATEMENT_PREFIX){var i=e.getSurroundLoop();i&&!i.suppressPrefixSuffix&&(n+=t.injectId(t.STATEMENT_PREFIX,i))}switch(e.getFieldValue("FLOW")){case"BREAK":return n+"break\n";case"CONTINUE":return n+"continue\n"}throw Error("Unknown flow statement.")},F=function(e,n){return 1/0===(e=Number(e.getFieldValue("NUM")))?['float("inf")',t.FUNCTION_CALL]:-1/0===e?['-float("inf")',t.UNARY_SIGN]:[String(e),0>e?t.UNARY_SIGN:t.ATOMIC]},U=function(e,n){var i={ADD:[" + ",t.ADDITIVE],MINUS:[" - ",t.ADDITIVE],MULTIPLY:[" * ",t.MULTIPLICATIVE],DIVIDE:[" / ",t.MULTIPLICATIVE],POWER:[" ** ",t.EXPONENTIATION]}[e.getFieldValue("OP")],r=i[0];return i=i[1],[(n.valueToCode(e,"A",i)||"0")+r+(e=n.valueToCode(e,"B",i)||"0"),i]},j=function(e,n){var i,r=e.getFieldValue("OP");if("NEG"===r)return["-"+(i=n.valueToCode(e,"NUM",t.UNARY_SIGN)||"0"),t.UNARY_SIGN];switch(n.definitions_.import_math="import math",e="SIN"===r||"COS"===r||"TAN"===r?n.valueToCode(e,"NUM",t.MULTIPLICATIVE)||"0":n.valueToCode(e,"NUM",t.NONE)||"0",r){case"ABS":i="math.fabs("+e+")";break;case"ROOT":i="math.sqrt("+e+")";break;case"LN":i="math.log("+e+")";break;case"LOG10":i="math.log10("+e+")";break;case"EXP":i="math.exp("+e+")";break;case"POW10":i="math.pow(10,"+e+")";break;case"ROUND":i="round("+e+")";break;case"ROUNDUP":i="math.ceil("+e+")";break;case"ROUNDDOWN":i="math.floor("+e+")";break;case"SIN":i="math.sin("+e+" / 180.0 * math.pi)";break;case"COS":i="math.cos("+e+" / 180.0 * math.pi)";break;case"TAN":i="math.tan("+e+" / 180.0 * math.pi)"}if(i)return[i,t.FUNCTION_CALL];switch(r){case"ASIN":i="math.asin("+e+") / math.pi * 180";break;case"ACOS":i="math.acos("+e+") / math.pi * 180";break;case"ATAN":i="math.atan("+e+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+r)}return[i,t.MULTIPLICATIVE]},Z=function(e,n){var i={PI:["math.pi",t.MEMBER],E:["math.e",t.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",t.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",t.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",t.MEMBER],INFINITY:["float('inf')",t.ATOMIC]};return"INFINITY"!==(e=e.getFieldValue("CONSTANT"))&&(n.definitions_.import_math="import math"),i[e]},H=function(e,n){var i={EVEN:[" % 2 == 0",t.MULTIPLICATIVE,t.RELATIONAL],ODD:[" % 2 == 1",t.MULTIPLICATIVE,t.RELATIONAL],WHOLE:[" % 1 == 0",t.MULTIPLICATIVE,t.RELATIONAL],POSITIVE:[" > 0",t.RELATIONAL,t.RELATIONAL],NEGATIVE:[" < 0",t.RELATIONAL,t.RELATIONAL],DIVISIBLE_BY:[null,t.MULTIPLICATIVE,t.RELATIONAL],PRIME:[null,t.NONE,t.FUNCTION_CALL]},r=e.getFieldValue("PROPERTY"),o=f(i[r],3),a=o[0],s=o[1],l=o[2];if(i=n.valueToCode(e,"NUMBER_TO_CHECK",s)||"0","PRIME"===r)n.definitions_.import_math="import math",n.definitions_.from_numbers_import_Number="from numbers import Number",e=n.provideFunction_("math_isPrime","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(n):\n  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods\n  # If n is not a number but a string, try parsing it.\n  if not isinstance(n, Number):\n    try:\n      n = float(n)\n    except:\n      return False\n  if n == 2 or n == 3:\n    return True\n  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.\n  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:\n    return False\n  # Check all the numbers of form 6k +/- 1, up to sqrt(n).\n  for x in range(6, int(math.sqrt(n)) + 2, 6):\n    if n % (x - 1) == 0 or n % (x + 1) == 0:\n      return False\n  return True\n"))+"("+i+")";else if("DIVISIBLE_BY"===r){if("0"===(e=n.valueToCode(e,"DIVISOR",t.MULTIPLICATIVE)||"0"))return["False",t.ATOMIC];e=i+" % "+e+" == 0"}else e=i+a;return[e,l]},z=function(e,n){n.definitions_.from_numbers_import_Number="from numbers import Number";var i=n.valueToCode(e,"DELTA",t.ADDITIVE)||"0";return(e=n.getVariableName(e.getFieldValue("VAR")))+" = ("+e+" if isinstance("+e+", Number) else 0) + "+i+"\n"},V=function(e,n){var i=e.getFieldValue("OP");switch(e=n.valueToCode(e,"LIST",t.NONE)||"[]",i){case"SUM":n="sum("+e+")";break;case"MIN":n="min("+e+")";break;case"MAX":n="max("+e+")";break;case"AVERAGE":n.definitions_.from_numbers_import_Number="from numbers import Number",n=n.provideFunction_("math_mean","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(myList):\n  localList = [e for e in myList if isinstance(e, Number)]\n  if not localList: return\n  return float(sum(localList)) / len(localList)\n"))+"("+e+")";break;case"MEDIAN":n.definitions_.from_numbers_import_Number="from numbers import Number",n=n.provideFunction_("math_median","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(myList):\n  localList = sorted([e for e in myList if isinstance(e, Number)])\n  if not localList: return\n  if len(localList) % 2 == 0:\n    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0\n  else:\n    return localList[(len(localList) - 1) // 2]\n"))+"("+e+")";break;case"MODE":n=n.provideFunction_("math_modes","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,'(some_list):\n  modes = []\n  # Using a lists of [item, count] to keep count rather than dict\n  # to avoid "unhashable" errors when the counted item is itself a list or dict.\n  counts = []\n  maxCount = 1\n  for item in some_list:\n    found = False\n    for count in counts:\n      if count[0] == item:\n        count[1] += 1\n        maxCount = max(maxCount, count[1])\n        found = True\n    if not found:\n      counts.append([item, 1])\n  for counted_item, item_count in counts:\n    if item_count == maxCount:\n      modes.append(counted_item)\n  return modes\n'))+"("+e+")";break;case"STD_DEV":n.definitions_.import_math="import math",n=n.provideFunction_("math_standard_deviation","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(numbers):\n  n = len(numbers)\n  if n == 0: return\n  mean = float(sum(numbers)) / n\n  variance = sum((x - mean) ** 2 for x in numbers) / n\n  return math.sqrt(variance)\n"))+"("+e+")";break;case"RANDOM":n.definitions_.import_random="import random",n="random.choice("+e+")";break;default:throw Error("Unknown operator: "+i)}return[n,t.FUNCTION_CALL]},W=function(e,n){return[(n.valueToCode(e,"DIVIDEND",t.MULTIPLICATIVE)||"0")+" % "+(e=n.valueToCode(e,"DIVISOR",t.MULTIPLICATIVE)||"0"),t.MULTIPLICATIVE]},G=function(e,n){return["min(max("+(n.valueToCode(e,"VALUE",t.NONE)||"0")+", "+(n.valueToCode(e,"LOW",t.NONE)||"0")+"), "+(e=n.valueToCode(e,"HIGH",t.NONE)||"float('inf')")+")",t.FUNCTION_CALL]},X=function(e,n){return n.definitions_.import_random="import random",["random.randint("+(n.valueToCode(e,"FROM",t.NONE)||"0")+", "+(e=n.valueToCode(e,"TO",t.NONE)||"0")+")",t.FUNCTION_CALL]},Y=function(e,n){return n.definitions_.import_random="import random",["random.random()",t.FUNCTION_CALL]},K=function(e,n){n.definitions_.import_math="import math";var i=n.valueToCode(e,"X",t.NONE)||"0";return["math.atan2("+(n.valueToCode(e,"Y",t.NONE)||"0")+", "+i+") / math.pi * 180",t.MULTIPLICATIVE]},q=function(e,i){var r,o=[],a=e.workspace,s=n.allUsedVarModels$$module$build$src$core$variables(a)||[],l=d(s);try{for(l.s();!(r=l.n()).done;){var u=r.value;s=u.name,-1===e.getVars().indexOf(s)&&o.push(i.getVariableName(s))}}catch(m){l.e(m)}finally{l.f()}for(a=n.allDeveloperVariables$$module$build$src$core$variables(a),u=0;u<a.length;u++)o.push(i.nameDB_.getName(a[u],n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));a=o.length?i.INDENT+"global "+o.join(", ")+"\n":"",o=i.getProcedureName(e.getFieldValue("NAME")),u="",i.STATEMENT_PREFIX&&(u+=i.injectId(i.STATEMENT_PREFIX,e)),i.STATEMENT_SUFFIX&&(u+=i.injectId(i.STATEMENT_SUFFIX,e)),u&&(u=i.prefixLines(u,i.INDENT)),s="",i.INFINITE_LOOP_TRAP&&(s=i.prefixLines(i.injectId(i.INFINITE_LOOP_TRAP,e),i.INDENT));var c=i.statementToCode(e,"STACK"),h=i.valueToCode(e,"RETURN",t.NONE)||"",f="";c&&h&&(f=u),h?h=i.INDENT+"return "+h+"\n":c||(c=i.PASS);for(var p=[],v=e.getVars(),g=0;g<v.length;g++)p[g]=i.getVariableName(v[g]);return a="def "+o+"("+p.join(", ")+"):\n"+a+u+s+c+f+h,a=i.scrub_(e,a),i.definitions_["%"+o]=a,null},J=function(e,n){for(var i=n.getProcedureName(e.getFieldValue("NAME")),r=[],o=e.getVars(),a=0;a<o.length;a++)r[a]=n.valueToCode(e,"ARG"+a,t.NONE)||"None";return[i+"("+r.join(", ")+")",t.FUNCTION_CALL]},Q=function(e,t){return t.forBlock.procedures_callreturn(e,t)[0]+"\n"},ee=function(e,n){var i="if "+(n.valueToCode(e,"CONDITION",t.NONE)||"False")+":\n";return n.STATEMENT_SUFFIX&&(i+=n.prefixLines(n.injectId(n.STATEMENT_SUFFIX,e),n.INDENT)),e.hasReturnValue_?(e=n.valueToCode(e,"VALUE",t.NONE)||"None",i+=n.INDENT+"return "+e+"\n"):i+=n.INDENT+"return\n",i},te=function(e,n){return[n.quote_(e.getFieldValue("TEXT")),t.ATOMIC]},ne=function(e,n){return e=n.multiline_quote_(e.getFieldValue("TEXT")),n=-1!==e.indexOf("+")?t.ADDITIVE:t.ATOMIC,[e,n]},ie=function(e,i){switch(e.itemCount_){case 0:return["''",t.ATOMIC];case 1:return e=i.valueToCode(e,"ADD0",t.NONE)||"''",Ie(e);case 2:var r=i.valueToCode(e,"ADD0",t.NONE)||"''";return e=i.valueToCode(e,"ADD1",t.NONE)||"''",[Ie(r)[0]+" + "+Ie(e)[0],t.ADDITIVE];default:r=[];for(var o=0;o<e.itemCount_;o++)r[o]=i.valueToCode(e,"ADD"+o,t.NONE)||"''";return["''.join([str("+(e=i.nameDB_.getDistinctName("x",n.NameType$$module$build$src$core$names.VARIABLE))+") for "+e+" in ["+r.join(", ")+"]])",t.FUNCTION_CALL]}},re=function(e,n){var i=n.getVariableName(e.getFieldValue("VAR"));return e=n.valueToCode(e,"TEXT",t.NONE)||"''",i+" = str("+i+") + "+Ie(e)[0]+"\n"},oe=function(e,n){return["len("+(n.valueToCode(e,"VALUE",t.NONE)||"''")+")",t.FUNCTION_CALL]},ae=function(e,n){return["not len("+(n.valueToCode(e,"VALUE",t.NONE)||"''")+")",t.LOGICAL_NOT]},se=function(e,n){var i="FIRST"===e.getFieldValue("END")?"find":"rfind",r=n.valueToCode(e,"FIND",t.NONE)||"''";return n=(n.valueToCode(e,"VALUE",t.MEMBER)||"''")+"."+i+"("+r+")",e.workspace.options.oneBasedIndex?[n+" + 1",t.ADDITIVE]:[n,t.FUNCTION_CALL]},le=function(e,n){var i=e.getFieldValue("WHERE")||"FROM_START",r=n.valueToCode(e,"VALUE","RANDOM"===i?t.NONE:t.MEMBER)||"''";switch(i){case"FIRST":return[r+"[0]",t.MEMBER];case"LAST":return[r+"[-1]",t.MEMBER];case"FROM_START":return[r+"["+(e=n.getAdjustedInt(e,"AT"))+"]",t.MEMBER];case"FROM_END":return[r+"["+(e=n.getAdjustedInt(e,"AT",1,!0))+"]",t.MEMBER];case"RANDOM":return n.definitions_.import_random="import random",[n.provideFunction_("text_random_letter","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(text):\n  x = int(random.random() * len(text))\n  return text[x]\n"))+"("+r+")",t.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},ue=function(e,i){var r=e.getFieldValue("WHERE1"),o=e.getFieldValue("WHERE2"),a=i.valueToCode(e,"STRING",t.MEMBER)||"''";switch(r){case"FROM_START":0===(r=i.getAdjustedInt(e,"AT1"))&&(r="");break;case"FROM_END":r=i.getAdjustedInt(e,"AT1",1,!0);break;case"FIRST":r="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(o){case"FROM_START":e=i.getAdjustedInt(e,"AT2",1);break;case"FROM_END":e=i.getAdjustedInt(e,"AT2",0,!0),n.isNumber$$module$build$src$core$utils$string(String(e))?0===e&&(e=""):(i.definitions_.import_sys="import sys",e+=" or sys.maxsize");break;case"LAST":e="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[a+"["+r+" : "+e+"]",t.MEMBER]},ce=function(e,n){var i={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[e.getFieldValue("CASE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+i,t.FUNCTION_CALL]},he=function(e,n){var i={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[e.getFieldValue("MODE")];return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+i,t.FUNCTION_CALL]},de=function(e,n){return"print("+(n.valueToCode(e,"TEXT",t.NONE)||"''")+")\n"},fe=function(e,n){var i=n.provideFunction_("text_prompt","\ndef ".concat(n.FUNCTION_NAME_PLACEHOLDER_,"(msg):\n  try:\n    return raw_input(msg)\n  except NameError:\n    return input(msg)\n"));return i=i+"("+(n=e.getField("TEXT")?n.quote_(e.getFieldValue("TEXT")):n.valueToCode(e,"TEXT",t.NONE)||"''")+")","NUMBER"===e.getFieldValue("TYPE")&&(i="float("+i+")"),[i,t.FUNCTION_CALL]},pe=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".count("+(e=n.valueToCode(e,"SUB",t.NONE)||"''")+")",t.FUNCTION_CALL]},ve=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+".replace("+(n.valueToCode(e,"FROM",t.NONE)||"''")+", "+(e=n.valueToCode(e,"TO",t.NONE)||"''")+")",t.MEMBER]},ge=function(e,n){return[(n.valueToCode(e,"TEXT",t.MEMBER)||"''")+"[::-1]",t.MEMBER]},me=function(e,n){return[n.getVariableName(e.getFieldValue("VAR")),t.ATOMIC]},ye=function(e,n){var i=n.valueToCode(e,"VALUE",t.NONE)||"0";return n.getVariableName(e.getFieldValue("VAR"))+" = "+i+"\n"};!function(e){e[e.ATOMIC=0]="ATOMIC",e[e.COLLECTION=1]="COLLECTION",e[e.STRING_CONVERSION=1]="STRING_CONVERSION",e[e.MEMBER=2.1]="MEMBER",e[e.FUNCTION_CALL=2.2]="FUNCTION_CALL",e[e.EXPONENTIATION=3]="EXPONENTIATION",e[e.UNARY_SIGN=4]="UNARY_SIGN",e[e.BITWISE_NOT=4]="BITWISE_NOT",e[e.MULTIPLICATIVE=5]="MULTIPLICATIVE",e[e.ADDITIVE=6]="ADDITIVE",e[e.BITWISE_SHIFT=7]="BITWISE_SHIFT",e[e.BITWISE_AND=8]="BITWISE_AND",e[e.BITWISE_XOR=9]="BITWISE_XOR",e[e.BITWISE_OR=10]="BITWISE_OR",e[e.RELATIONAL=11]="RELATIONAL",e[e.LOGICAL_NOT=12]="LOGICAL_NOT",e[e.LOGICAL_AND=13]="LOGICAL_AND",e[e.LOGICAL_OR=14]="LOGICAL_OR",e[e.CONDITIONAL=15]="CONDITIONAL",e[e.LAMBDA=16]="LAMBDA",e[e.NONE=99]="NONE"}(t||(t={}));var _e=function(e){"use strict";c(r,e);var i=h(r);function r(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Python";for(var o in a(this,r),(e=i.call(this,n)).ORDER_OVERRIDES=[[t.FUNCTION_CALL,t.MEMBER],[t.FUNCTION_CALL,t.FUNCTION_CALL],[t.MEMBER,t.MEMBER],[t.MEMBER,t.FUNCTION_CALL],[t.LOGICAL_NOT,t.LOGICAL_NOT],[t.LOGICAL_AND,t.LOGICAL_AND],[t.LOGICAL_OR,t.LOGICAL_OR]],e.PASS="",e.isInitialized=!1,t)"string"!==typeof(n=t[o])&&(e["ORDER_"+o]=n);return e.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip"),e}return s(r,[{key:"init",value:function(e){l(u(r.prototype),"init",this).call(this,e),this.PASS=this.INDENT+"pass\n",this.nameDB_?this.nameDB_.reset():this.nameDB_=new n.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(e.getVariableMap()),this.nameDB_.populateVariables(e),this.nameDB_.populateProcedures(e);for(var t=[],i=n.allDeveloperVariables$$module$build$src$core$variables(e),o=0;o<i.length;o++)t.push(this.nameDB_.getName(i[o],n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(e=n.allUsedVarModels$$module$build$src$core$variables(e),i=0;i<e.length;i++)t.push(this.getVariableName(e[i].getId())+" = None");this.definitions_.variables=t.join("\n"),this.isInitialized=!0}},{key:"finish",value:function(e){var t=[],n=[];for(var i in this.definitions_){var o=this.definitions_[i];o.match(/^(from\s+\S+\s+)?import\s+\S+/)?t.push(o):n.push(o)}return e=l(u(r.prototype),"finish",this).call(this,e),this.isInitialized=!1,this.nameDB_.reset(),(t.join("\n")+"\n\n"+n.join("\n\n")).replace(/\n\n+/g,"\n\n").replace(/\n*$/,"\n\n\n")+e}},{key:"scrubNakedValue",value:function(e){return e+"\n"}},{key:"quote_",value:function(e){var t="'";return-1!==(e=e.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n")).indexOf("'")&&(-1===e.indexOf('"')?t='"':e=e.replace(/'/g,"\\'")),t+e+t}},{key:"multiline_quote_",value:function(e){return e.split(/\n/g).map(this.quote_).join(" + '\\n' + \n")}},{key:"scrub_",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r="";if(!e.outputConnection||!e.outputConnection.targetConnection){var o=e.getCommentText();o&&(o=n.wrap$$module$build$src$core$utils$string(o,this.COMMENT_WRAP-3),r+=this.prefixLines(o+"\n","# "));for(var a=0;a<e.inputList.length;a++)e.inputList[a].type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(o=e.inputList[a].connection.targetBlock())&&(o=this.allNestedComments(o))&&(r+=this.prefixLines(o,"# "))}return e=e.nextConnection&&e.nextConnection.targetBlock(),r+t+(i=i?"":this.blockToCode(e))}},{key:"getAdjustedInt",value:function(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];e.workspace.options.oneBasedIndex&&r--;var a=e.workspace.options.oneBasedIndex?"1":"0";return e=this.valueToCode(e,i,r?t.ADDITIVE:t.NONE)||a,n.isNumber$$module$build$src$core$utils$string(e)?(e=parseInt(e,10)+r,o&&(e=-e)):(e=0<r?"int("+e+" + "+r+")":0>r?"int("+e+" - "+-r+")":"int("+e+")",o&&(e="-"+e)),e}}]),r}(n.CodeGenerator$$module$build$src$core$generator),be={};be.Order=t,be.PythonGenerator=_e;var ke={};ke.colour_blend=p,ke.colour_picker=i,ke.colour_random=r,ke.colour_rgb=o;var Te={};Te.lists_create_empty=v,Te.lists_create_with=g,Te.lists_getIndex=k,Te.lists_getSublist=E,Te.lists_indexOf=b,Te.lists_isEmpty=_,Te.lists_length=y,Te.lists_repeat=m,Te.lists_reverse=S,Te.lists_setIndex=T,Te.lists_sort=x,Te.lists_split=w;var Ee={};Ee.controls_if=C,Ee.controls_ifelse=C,Ee.logic_boolean=A,Ee.logic_compare=I,Ee.logic_negate=O,Ee.logic_null=M,Ee.logic_operation=R,Ee.logic_ternary=L;var xe={};xe.controls_flow_statements=B,xe.controls_for=P,xe.controls_forEach=D,xe.controls_repeat=N,xe.controls_repeat_ext=N,xe.controls_whileUntil=$;var we={};we.math_arithmetic=U,we.math_atan2=K,we.math_change=z,we.math_constant=Z,we.math_constrain=G,we.math_modulo=W,we.math_number=F,we.math_number_property=H,we.math_on_list=V,we.math_random_float=Y,we.math_random_int=X,we.math_round=j,we.math_single=j,we.math_trig=j;var Se={};Se.procedures_callnoreturn=Q,Se.procedures_callreturn=J,Se.procedures_defnoreturn=q,Se.procedures_defreturn=q,Se.procedures_ifreturn=ee;var Ce=/^\s*'([^']|\\')*'\s*$/,Ie=function(e){return Ce.test(e)?[e,t.ATOMIC]:["str("+e+")",t.FUNCTION_CALL]},Re={};Re.text=te,Re.text_append=re,Re.text_changeCase=ce,Re.text_charAt=le,Re.text_count=pe,Re.text_getSubstring=ue,Re.text_indexOf=se,Re.text_isEmpty=ae,Re.text_join=ie,Re.text_length=oe,Re.text_multiline=ne,Re.text_print=de,Re.text_prompt=fe,Re.text_prompt_ext=fe,Re.text_replace=ve,Re.text_reverse=ge,Re.text_trim=he;var Oe={};Oe.variables_get=me,Oe.variables_set=ye;var Ae={};Ae.variables_get_dynamic=me,Ae.variables_set_dynamic=ye;var Me=new _e;Me.addReservedWords("math,random,Number");var Le=Object.assign({},ke,Te,Ee,xe,we,Se,Re,Oe,Ae);for(var Ne in Le)Me.forBlock[Ne]=Le[Ne];var $e={};return $e.Order=t,$e.PythonGenerator=_e,$e.pythonGenerator=Me,$e.__namespace__=n,$e},void 0===(o="function"===typeof i?i.apply(t,r):i)||(e.exports=o)},2110:function(e,t,n){"use strict";var i=n(8309),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return i.isMemo(e)?a:s[e.$$typeof]||r}s[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[i.Memo]=a;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,i){if("string"!==typeof n){if(p){var r=f(n);r&&r!==p&&e(t,r,i)}var a=c(n);h&&(a=a.concat(h(n)));for(var s=l(t),v=l(n),g=0;g<a.length;++g){var m=a[g];if(!o[m]&&(!i||!i[m])&&(!v||!v[m])&&(!s||!s[m])){var y=d(n,m);try{u(t,m,y)}catch(_){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,f=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function k(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case h:case o:case s:case a:case f:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case v:case l:return e;default:return t}}case r:return t}}}function T(e){return k(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=i,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=r,t.Profiler=s,t.StrictMode=a,t.Suspense=f,t.isAsyncMode=function(e){return T(e)||k(e)===c},t.isConcurrentMode=T,t.isContextConsumer=function(e){return k(e)===u},t.isContextProvider=function(e){return k(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return k(e)===d},t.isFragment=function(e){return k(e)===o},t.isLazy=function(e){return k(e)===g},t.isMemo=function(e){return k(e)===v},t.isPortal=function(e){return k(e)===r},t.isProfiler=function(e){return k(e)===s},t.isStrictMode=function(e){return k(e)===a},t.isSuspense=function(e){return k(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===y||e.$$typeof===_||e.$$typeof===b||e.$$typeof===m)},t.typeOf=k},8309:function(e,t,n){"use strict";e.exports=n(746)},888:function(e,t,n){"use strict";var i=n(9047);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},4553:function(e,t,n){var i;e.exports=(i=n(2791),function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=4)}([function(e,t,n){e.exports=n(2)()},function(e,t){e.exports=i},function(e,t,n){"use strict";var i=n(3);function r(){}function o(){}o.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var i=n(1),r=n.n(i),o=n(0),a=n.n(o),s=function(e){return 0!==e};function l(){return(l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function h(e,t){return(h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,i=v(e);if(t){var r=v(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return f(this,n)}}function f(e,t){if(t&&("object"===u(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return p(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){return(v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h(e,t)}(a,e);var t,n,i,o=d(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),g(p(t=o.call(this,e)),"continueOpenCollapsible",(function(){var e=p(t).innerRef;t.setState({height:e.scrollHeight,transition:"height ".concat(t.props.transitionTime,"ms ").concat(t.props.easing),isClosed:!1,hasBeenOpened:!0,inTransition:s(e.scrollHeight),shouldOpenOnNextCycle:!1})})),g(p(t),"handleTriggerClick",(function(e){t.props.triggerDisabled||t.state.inTransition||(e.preventDefault(),t.props.handleTriggerClick?t.props.handleTriggerClick(t.props.accordionPosition):!0===t.state.isClosed?(t.openCollapsible(),t.props.onOpening(),t.props.onTriggerOpening()):(t.closeCollapsible(),t.props.onClosing(),t.props.onTriggerClosing()))})),g(p(t),"handleTransitionEnd",(function(e){e.target===t.innerRef&&(t.state.isClosed?(t.setState({inTransition:!1}),t.props.onClose()):(t.setState({height:"auto",overflow:t.props.overflowWhenOpen,inTransition:!1}),t.props.onOpen()))})),g(p(t),"setInnerRef",(function(e){return t.innerRef=e})),t.timeout=void 0,t.contentId=e.contentElementId||"collapsible-content-".concat(Date.now()),t.triggerId=e.triggerElementProps.id||"collapsible-trigger-".concat(Date.now()),e.open?t.state={isClosed:!1,shouldSwitchAutoOnNextCycle:!1,height:"auto",transition:"none",hasBeenOpened:!0,overflow:e.overflowWhenOpen,inTransition:!1}:t.state={isClosed:!0,shouldSwitchAutoOnNextCycle:!1,height:0,transition:"height ".concat(e.transitionTime,"ms ").concat(e.easing),hasBeenOpened:!1,overflow:"hidden",inTransition:!1},t}return t=a,(n=[{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.shouldOpenOnNextCycle&&this.continueOpenCollapsible(),"auto"!==t.height&&0!==t.height||!0!==this.state.shouldSwitchAutoOnNextCycle||(window.clearTimeout(this.timeout),this.timeout=window.setTimeout((function(){n.setState({height:0,overflow:"hidden",isClosed:!0,shouldSwitchAutoOnNextCycle:!1})}),50)),e.open!==this.props.open&&(!0===this.props.open?(this.openCollapsible(),this.props.onOpening()):(this.closeCollapsible(),this.props.onClosing()))}},{key:"componentWillUnmount",value:function(){window.clearTimeout(this.timeout)}},{key:"closeCollapsible",value:function(){var e=this.innerRef;this.setState({shouldSwitchAutoOnNextCycle:!0,height:e.scrollHeight,transition:"height ".concat(this.props.transitionCloseTime?this.props.transitionCloseTime:this.props.transitionTime,"ms ").concat(this.props.easing),inTransition:s(e.scrollHeight)})}},{key:"openCollapsible",value:function(){this.setState({inTransition:s(this.innerRef.scrollHeight),shouldOpenOnNextCycle:!0})}},{key:"renderNonClickableTriggerElement",value:function(){var e=this.props,t=e.triggerSibling,n=e.classParentString;if(!t)return null;switch(u(t)){case"string":return r.a.createElement("span",{className:"".concat(n,"__trigger-sibling")},t);case"function":return t();case"object":return t;default:return null}}},{key:"render",value:function(){var e=this,t={height:this.state.height,WebkitTransition:this.state.transition,msTransition:this.state.transition,transition:this.state.transition,overflow:this.state.overflow},n=this.state.isClosed?"is-closed":"is-open",i=this.props.triggerDisabled?"is-disabled":"",o=!1===this.state.isClosed&&void 0!==this.props.triggerWhenOpen?this.props.triggerWhenOpen:this.props.trigger,a=this.props.contentContainerTagName,s=this.props.triggerTagName,u=this.props.lazyRender&&!this.state.hasBeenOpened&&this.state.isClosed&&!this.state.inTransition?null:this.props.children,c=this.props,h=c.classParentString,d=c.contentOuterClassName,f=c.contentInnerClassName,p="".concat(h,"__trigger ").concat(n," ").concat(i," ").concat(this.state.isClosed?this.props.triggerClassName:this.props.triggerOpenedClassName),v="".concat(h," ").concat(this.state.isClosed?this.props.className:this.props.openedClassName),g="".concat(h,"__contentOuter ").concat(d),m="".concat(h,"__contentInner ").concat(f);return r.a.createElement(a,l({className:v.trim()},this.props.containerElementProps),r.a.createElement(s,l({id:this.triggerId,className:p.trim(),onClick:this.handleTriggerClick,style:this.props.triggerStyle&&this.props.triggerStyle,onKeyPress:function(t){var n=t.key;(" "===n&&"button"!==e.props.triggerTagName.toLowerCase()||"Enter"===n)&&e.handleTriggerClick(t)},tabIndex:this.props.tabIndex&&this.props.tabIndex,"aria-expanded":!this.state.isClosed,"aria-disabled":this.props.triggerDisabled,"aria-controls":this.contentId,role:"button"},this.props.triggerElementProps),o),this.renderNonClickableTriggerElement(),r.a.createElement("div",{id:this.contentId,className:g.trim(),style:t,onTransitionEnd:this.handleTransitionEnd,ref:this.setInnerRef,hidden:this.props.contentHiddenWhenClosed&&this.state.isClosed&&!this.state.inTransition,role:"region","aria-labelledby":this.triggerId},r.a.createElement("div",{className:m.trim()},u)))}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.Component);m.propTypes={transitionTime:a.a.number,transitionCloseTime:a.a.number,triggerTagName:a.a.string,easing:a.a.string,open:a.a.bool,containerElementProps:a.a.object,triggerElementProps:a.a.object,contentElementId:a.a.string,classParentString:a.a.string,className:a.a.string,openedClassName:a.a.string,triggerStyle:a.a.object,triggerClassName:a.a.string,triggerOpenedClassName:a.a.string,contentOuterClassName:a.a.string,contentInnerClassName:a.a.string,accordionPosition:a.a.oneOfType([a.a.string,a.a.number]),handleTriggerClick:a.a.func,onOpen:a.a.func,onClose:a.a.func,onOpening:a.a.func,onClosing:a.a.func,onTriggerOpening:a.a.func,onTriggerClosing:a.a.func,trigger:a.a.oneOfType([a.a.string,a.a.element]),triggerWhenOpen:a.a.oneOfType([a.a.string,a.a.element]),triggerDisabled:a.a.bool,lazyRender:a.a.bool,overflowWhenOpen:a.a.oneOf(["hidden","visible","auto","scroll","inherit","initial","unset"]),contentHiddenWhenClosed:a.a.bool,triggerSibling:a.a.oneOfType([a.a.string,a.a.element,a.a.func]),tabIndex:a.a.number,contentContainerTagName:a.a.string,children:a.a.oneOfType([a.a.string,a.a.element])},m.defaultProps={transitionTime:400,transitionCloseTime:null,triggerTagName:"span",easing:"linear",open:!1,classParentString:"Collapsible",triggerDisabled:!1,lazyRender:!1,overflowWhenOpen:"hidden",contentHiddenWhenClosed:!1,openedClassName:"",triggerStyle:null,triggerClassName:"",triggerOpenedClassName:"",contentOuterClassName:"",contentInnerClassName:"",className:"",triggerSibling:null,onOpen:function(){},onClose:function(){},onOpening:function(){},onClosing:function(){},onTriggerOpening:function(){},onTriggerClosing:function(){},tabIndex:null,contentContainerTagName:"div",triggerElementProps:{}},t.default=m}]))},4463:function(e,t,n){"use strict";var i=n(2791),r=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function v(e,t,n,i,r,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,i){var r=g.hasOwnProperty(t)?g[t]:null;(null!==r?0!==r.type:i||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,i){if(null===t||"undefined"===typeof t||function(e,t,n,i){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!i&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,i))return!0;if(i)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,i)&&(n=null),i||null===r?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,i=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,k=Symbol.for("react.element"),T=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),x=Symbol.for("react.strict_mode"),w=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),C=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function $(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P,D=Object.assign;function B(e){if(void 0===P)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);P=t&&t[1]||""}return"\n"+P+e}var F=!1;function U(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var i=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){i=u}e.call(t.prototype)}else{try{throw Error()}catch(u){i=u}e()}}catch(u){if(u&&i&&"string"===typeof u.stack){for(var r=u.stack.split("\n"),o=i.stack.split("\n"),a=r.length-1,s=o.length-1;1<=a&&0<=s&&r[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(r[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||r[a]!==o[s]){var l="\n"+r[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=s);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?B(e):""}function j(e){switch(e.tag){case 5:return B(e.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function Z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case T:return"Portal";case w:return"Profiler";case x:return"StrictMode";case R:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case S:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:Z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return Z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(t);case 8:return t===x?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=V(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function K(e,t){var n=null==t.defaultValue?"":t.defaultValue,i=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function q(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function J(e,t){q(e,t);var n=z(t.value),i=t.type;if(null!=n)"number"===i?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===i||"reset"===i)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!("submit"!==i&&"reset"!==i||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ie(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),i=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=i&&(e.defaultValue=""+i)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,i){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var i=0===n.indexOf("--"),r=ve(n,t[n],i);"float"===n&&(n="cssFloat"),i?e.setProperty(n,r):e[n]=r}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var me=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function ke(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Te=null,Ee=null,xe=null;function we(e){if(e=_r(e)){if("function"!==typeof Te)throw Error(o(280));var t=e.stateNode;t&&(t=kr(t),Te(e.stateNode,e.type,t))}}function Se(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,we(e),t)for(e=0;e<t.length;e++)we(t[e])}}function Ie(e,t){return e(t)}function Re(){}var Oe=!1;function Ae(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ie(e,t,n)}finally{Oe=!1,(null!==Ee||null!==xe)&&(Re(),Ce())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var i=kr(n);if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Le=!1}function $e(e,t,n,i,r,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Pe=!1,De=null,Be=!1,Fe=null,Ue={onError:function(e){Pe=!0,De=e}};function je(e,t,n,i,r,o,a,s,l){Pe=!1,De=null,$e.apply(Ue,arguments)}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ze(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var a=r.alternate;if(null===a){if(null!==(i=r.return)){n=i;continue}break}if(r.child===a.child){for(a=r.child;a;){if(a===n)return ze(r),e;if(a===i)return ze(r),t;a=a.sibling}throw Error(o(188))}if(n.return!==i.return)n=r,i=a;else{for(var s=!1,l=r.child;l;){if(l===n){s=!0,n=r,i=a;break}if(l===i){s=!0,i=r,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,i=r;break}if(l===i){s=!0,i=a,n=r;break}l=l.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==i)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=r.unstable_scheduleCallback,Xe=r.unstable_cancelCallback,Ye=r.unstable_shouldYield,Ke=r.unstable_requestPaint,qe=r.unstable_now,Je=r.unstable_getCurrentPriorityLevel,Qe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,it=r.unstable_IdlePriority,rt=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/lt|0)|0},st=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var i=0,r=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~r;0!==s?i=ht(s):0!==(o&=a)&&(i=ht(o))}else 0!==(a=n&~r)?i=ht(a):0!==o&&(i=ht(o));if(0===i)return 0;if(0!==t&&t!==i&&0===(t&r)&&((r=i&-i)>=(o=t&-t)||16===r&&0!==(4194240&o)))return t;if(0!==(4&i)&&(i|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=i;0<t;)r=1<<(n=31-at(t)),i|=e[n],t&=~r;return i}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-at(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var kt,Tt,Et,xt,wt,St=!1,Ct=[],It=null,Rt=null,Ot=null,At=new Map,Mt=new Map,Lt=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Pt(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=_r(t))&&Tt(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function Dt(e){var t=yr(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void wt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Bt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_r(n))&&Tt(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);be=i,n.target.dispatchEvent(i),be=null,t.shift()}return!0}function Ft(e,t,n){Bt(e)&&n.delete(t)}function Ut(){St=!1,null!==It&&Bt(It)&&(It=null),null!==Rt&&Bt(Rt)&&(Rt=null),null!==Ot&&Bt(Ot)&&(Ot=null),At.forEach(Ft),Mt.forEach(Ft)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,St||(St=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ut)))}function Zt(e){function t(t){return jt(t,e)}if(0<Ct.length){jt(Ct[0],e);for(var n=1;n<Ct.length;n++){var i=Ct[n];i.blockedOn===e&&(i.blockedOn=null)}}for(null!==It&&jt(It,e),null!==Rt&&jt(Rt,e),null!==Ot&&jt(Ot,e),At.forEach(t),Mt.forEach(t),n=0;n<Lt.length;n++)(i=Lt[n]).blockedOn===e&&(i.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Lt.shift()}var Ht=b.ReactCurrentBatchConfig,zt=!0;function Vt(e,t,n,i){var r=_t,o=Ht.transition;Ht.transition=null;try{_t=1,Gt(e,t,n,i)}finally{_t=r,Ht.transition=o}}function Wt(e,t,n,i){var r=_t,o=Ht.transition;Ht.transition=null;try{_t=4,Gt(e,t,n,i)}finally{_t=r,Ht.transition=o}}function Gt(e,t,n,i){if(zt){var r=Yt(e,t,n,i);if(null===r)zi(e,t,i,Xt,n),$t(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return It=Pt(It,e,t,n,i,r),!0;case"dragenter":return Rt=Pt(Rt,e,t,n,i,r),!0;case"mouseover":return Ot=Pt(Ot,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return At.set(o,Pt(At.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,Mt.set(o,Pt(Mt.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if($t(e,i),4&t&&-1<Nt.indexOf(e)){for(;null!==r;){var o=_r(r);if(null!==o&&kt(o),null===(o=Yt(e,t,n,i))&&zi(e,t,i,Xt,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else zi(e,t,i,null,n)}}var Xt=null;function Yt(e,t,n,i){if(Xt=null,null!==(e=yr(e=ke(i))))if(null===(t=Ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Kt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case it:return 536870912;default:return 16}default:return 16}}var qt=null,Jt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Jt,i=n.length,r="value"in qt?qt.value:qt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var a=i-e;for(t=1;t<=a&&n[i-t]===r[o-t];t++);return Qt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,i,r,o){for(var a in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(r):r[a]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),hn=D({},un,{view:0,detail:0}),dn=on(hn),fn=D({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,sn=e.screenY-ln.screenY):sn=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(fn),vn=on(D({},fn,{dataTransfer:0})),gn=on(D({},hn,{relatedTarget:0})),mn=on(D({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=D({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=on(yn),bn=on(D({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Tn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function wn(){return xn}var Sn=D({},hn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Tn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=on(Sn),In=on(D({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Rn=on(D({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wn})),On=on(D({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=D({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=on(An),Ln=[9,13,27,32],Nn=c&&"CompositionEvent"in window,$n=null;c&&"documentMode"in document&&($n=document.documentMode);var Pn=c&&"TextEvent"in window&&!$n,Dn=c&&(!Nn||$n&&8<$n&&11>=$n),Bn=String.fromCharCode(32),Fn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Vn(e,t,n,i){Se(i),0<(t=Wi(t,"onChange")).length&&(n=new cn("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Xn(e){Bi(e,0)}function Yn(e){if(G(br(e)))return e}function Kn(e,t){if("change"===e)return t}var qn=!1;if(c){var Jn;if(c){var Qn="oninput"in document;if(!Qn){var ei=document.createElement("div");ei.setAttribute("oninput","return;"),Qn="function"===typeof ei.oninput}Jn=Qn}else Jn=!1;qn=Jn&&(!document.documentMode||9<document.documentMode)}function ti(){Wn&&(Wn.detachEvent("onpropertychange",ni),Gn=Wn=null)}function ni(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Vn(t,Gn,e,ke(e)),Ae(Xn,t)}}function ii(e,t,n){"focusin"===e?(ti(),Gn=n,(Wn=t).attachEvent("onpropertychange",ni)):"focusout"===e&&ti()}function ri(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function oi(e,t){if("click"===e)return Yn(t)}function ai(e,t){if("input"===e||"change"===e)return Yn(t)}var si="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function li(e,t){if(si(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!h.call(t,r)||!si(e[r],t[r]))return!1}return!0}function ui(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ci(e,t){var n,i=ui(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=ui(i)}}function hi(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hi(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function di(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function fi(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pi(e){var t=di(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hi(n.ownerDocument.documentElement,n)){if(null!==i&&fi(n))if(t=i.start,void 0===(e=i.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,o=Math.min(i.start,r);i=void 0===i.end?o:Math.min(i.end,r),!e.extend&&o>i&&(r=i,i=o,o=r),r=ci(n,o);var a=ci(n,i);r&&a&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),o>i?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vi=c&&"documentMode"in document&&11>=document.documentMode,gi=null,mi=null,yi=null,_i=!1;function bi(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_i||null==gi||gi!==X(i)||("selectionStart"in(i=gi)&&fi(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},yi&&li(yi,i)||(yi=i,0<(i=Wi(mi,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=gi)))}function ki(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Ti={animationend:ki("Animation","AnimationEnd"),animationiteration:ki("Animation","AnimationIteration"),animationstart:ki("Animation","AnimationStart"),transitionend:ki("Transition","TransitionEnd")},Ei={},xi={};function wi(e){if(Ei[e])return Ei[e];if(!Ti[e])return e;var t,n=Ti[e];for(t in n)if(n.hasOwnProperty(t)&&t in xi)return Ei[e]=n[t];return e}c&&(xi=document.createElement("div").style,"AnimationEvent"in window||(delete Ti.animationend.animation,delete Ti.animationiteration.animation,delete Ti.animationstart.animation),"TransitionEvent"in window||delete Ti.transitionend.transition);var Si=wi("animationend"),Ci=wi("animationiteration"),Ii=wi("animationstart"),Ri=wi("transitionend"),Oi=new Map,Ai="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mi(e,t){Oi.set(e,t),l(t,[e])}for(var Li=0;Li<Ai.length;Li++){var Ni=Ai[Li];Mi(Ni.toLowerCase(),"on"+(Ni[0].toUpperCase()+Ni.slice(1)))}Mi(Si,"onAnimationEnd"),Mi(Ci,"onAnimationIteration"),Mi(Ii,"onAnimationStart"),Mi("dblclick","onDoubleClick"),Mi("focusin","onFocus"),Mi("focusout","onBlur"),Mi(Ri,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $i="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pi=new Set("cancel close invalid load scroll toggle".split(" ").concat($i));function Di(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,i,r,a,s,l,u){if(je.apply(this,arguments),Pe){if(!Pe)throw Error(o(198));var c=De;Pe=!1,De=null,Be||(Be=!0,Fe=c)}}(i,t,void 0,e),e.currentTarget=null}function Bi(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var a=i.length-1;0<=a;a--){var s=i[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&r.isPropagationStopped())break e;Di(r,s,u),o=l}else for(a=0;a<i.length;a++){if(l=(s=i[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&r.isPropagationStopped())break e;Di(r,s,u),o=l}}}if(Be)throw e=Fe,Be=!1,Fe=null,e}function Fi(e,t){var n=t[vr];void 0===n&&(n=t[vr]=new Set);var i=e+"__bubble";n.has(i)||(Hi(t,e,2,!1),n.add(i))}function Ui(e,t,n){var i=0;t&&(i|=4),Hi(n,e,i,t)}var ji="_reactListening"+Math.random().toString(36).slice(2);function Zi(e){if(!e[ji]){e[ji]=!0,a.forEach((function(t){"selectionchange"!==t&&(Pi.has(t)||Ui(t,!1,e),Ui(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[ji]||(t[ji]=!0,Ui("selectionchange",!1,t))}}function Hi(e,t,n,i){switch(Kt(t)){case 1:var r=Vt;break;case 4:r=Wt;break;default:r=Gt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zi(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var a=i.tag;if(3===a||4===a){var s=i.stateNode.containerInfo;if(s===r||8===s.nodeType&&s.parentNode===r)break;if(4===a)for(a=i.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===r||8===l.nodeType&&l.parentNode===r))return;a=a.return}for(;null!==s;){if(null===(a=yr(s)))return;if(5===(l=a.tag)||6===l){i=o=a;continue e}s=s.parentNode}}i=i.return}Ae((function(){var i=o,r=ke(n),a=[];e:{var s=Oi.get(e);if(void 0!==s){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Rn;break;case Si:case Ci:case Ii:l=mn;break;case Ri:l=On;break;case"scroll":l=dn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var f,p=i;null!==p;){var v=(f=p).stateNode;if(5===f.tag&&null!==v&&(f=v,null!==d&&(null!=(v=Me(p,d))&&c.push(Vi(p,v,f)))),h)break;p=p.return}0<c.length&&(s=new l(s,u,null,n,r),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yr(u)&&!u[pr])&&(l||s)&&(s=r.window===r?r:(s=r.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=i,null!==(u=(u=n.relatedTarget||n.toElement)?yr(u):null)&&(u!==(h=Ze(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=i),l!==u)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=In,v="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?s:br(l),f=null==u?s:br(u),(s=new c(v,p+"leave",l,n,r)).target=h,s.relatedTarget=f,v=null,yr(r)===i&&((c=new c(d,p+"enter",u,n,r)).target=f,c.relatedTarget=h,v=c),h=v,l&&u)e:{for(d=u,p=0,f=c=l;f;f=Gi(f))p++;for(f=0,v=d;v;v=Gi(v))f++;for(;0<p-f;)c=Gi(c),p--;for(;0<f-p;)d=Gi(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=Gi(c),d=Gi(d)}c=null}else c=null;null!==l&&Xi(a,s,l,c,!1),null!==u&&null!==h&&Xi(a,h,u,c,!0)}if("select"===(l=(s=i?br(i):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var g=Kn;else if(zn(s))if(qn)g=ai;else{g=ri;var m=ii}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=oi);switch(g&&(g=g(e,i))?Vn(a,g,n,r):(m&&m(e,s,i),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=i?br(i):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(gi=m,mi=i,yi=null);break;case"focusout":yi=mi=gi=null;break;case"mousedown":_i=!0;break;case"contextmenu":case"mouseup":case"dragend":_i=!1,bi(a,n,r);break;case"selectionchange":if(vi)break;case"keydown":case"keyup":bi(a,n,r)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Zn?Un(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(Dn&&"ko"!==n.locale&&(Zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Zn&&(y=en()):(Jt="value"in(qt=r)?qt.value:qt.textContent,Zn=!0)),0<(m=Wi(i,_)).length&&(_=new bn(_,e,null,n,r),a.push({event:_,listeners:m}),y?_.data=y:null!==(y=jn(n))&&(_.data=y))),(y=Pn?function(e,t){switch(e){case"compositionend":return jn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Bn);case"textInput":return(e=t.data)===Bn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(Zn)return"compositionend"===e||!Nn&&Un(e,t)?(e=en(),Qt=Jt=qt=null,Zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(i=Wi(i,"onBeforeInput")).length&&(r=new bn("onBeforeInput","beforeinput",null,n,r),a.push({event:r,listeners:i}),r.data=y))}Bi(a,t)}))}function Vi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wi(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;5===r.tag&&null!==o&&(r=o,null!=(o=Me(e,n))&&i.unshift(Vi(e,o,r)),null!=(o=Me(e,t))&&i.push(Vi(e,o,r))),e=e.return}return i}function Gi(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xi(e,t,n,i,r){for(var o=t._reactName,a=[];null!==n&&n!==i;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===i)break;5===s.tag&&null!==u&&(s=u,r?null!=(l=Me(n,o))&&a.unshift(Vi(n,l,s)):r||null!=(l=Me(n,o))&&a.push(Vi(n,l,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Yi=/\r\n?/g,Ki=/\u0000|\uFFFD/g;function qi(e){return("string"===typeof e?e:""+e).replace(Yi,"\n").replace(Ki,"")}function Ji(e,t,n){if(t=qi(t),qi(e)!==t&&n)throw Error(o(425))}function Qi(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ir="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,or="function"===typeof Promise?Promise:void 0,ar="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof or?function(e){return or.resolve(null).then(e).catch(sr)}:ir;function sr(e){setTimeout((function(){throw e}))}function lr(e,t){var n=t,i=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===i)return e.removeChild(r),void Zt(t);i--}else"$"!==n&&"$?"!==n&&"$!"!==n||i++;n=r}while(n);Zt(t)}function ur(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function cr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hr=Math.random().toString(36).slice(2),dr="__reactFiber$"+hr,fr="__reactProps$"+hr,pr="__reactContainer$"+hr,vr="__reactEvents$"+hr,gr="__reactListeners$"+hr,mr="__reactHandles$"+hr;function yr(e){var t=e[dr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pr]||n[dr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=cr(e);null!==e;){if(n=e[dr])return n;e=cr(e)}return t}n=(e=n).parentNode}return null}function _r(e){return!(e=e[dr]||e[pr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function br(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function kr(e){return e[fr]||null}var Tr=[],Er=-1;function xr(e){return{current:e}}function wr(e){0>Er||(e.current=Tr[Er],Tr[Er]=null,Er--)}function Sr(e,t){Er++,Tr[Er]=e.current,e.current=t}var Cr={},Ir=xr(Cr),Rr=xr(!1),Or=Cr;function Ar(e,t){var n=e.type.contextTypes;if(!n)return Cr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var r,o={};for(r in n)o[r]=t[r];return i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Mr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){wr(Rr),wr(Ir)}function Nr(e,t,n){if(Ir.current!==Cr)throw Error(o(168));Sr(Ir,t),Sr(Rr,n)}function $r(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,"function"!==typeof i.getChildContext)return n;for(var r in i=i.getChildContext())if(!(r in t))throw Error(o(108,H(e)||"Unknown",r));return D({},n,i)}function Pr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Cr,Or=Ir.current,Sr(Ir,e),Sr(Rr,Rr.current),!0}function Dr(e,t,n){var i=e.stateNode;if(!i)throw Error(o(169));n?(e=$r(e,t,Or),i.__reactInternalMemoizedMergedChildContext=e,wr(Rr),wr(Ir),Sr(Ir,e)):wr(Rr),Sr(Rr,n)}var Br=null,Fr=!1,Ur=!1;function jr(e){null===Br?Br=[e]:Br.push(e)}function Zr(){if(!Ur&&null!==Br){Ur=!0;var e=0,t=_t;try{var n=Br;for(_t=1;e<n.length;e++){var i=n[e];do{i=i(!0)}while(null!==i)}Br=null,Fr=!1}catch(r){throw null!==Br&&(Br=Br.slice(e+1)),Ge(Qe,Zr),r}finally{_t=t,Ur=!1}}return null}var Hr=[],zr=0,Vr=null,Wr=0,Gr=[],Xr=0,Yr=null,Kr=1,qr="";function Jr(e,t){Hr[zr++]=Wr,Hr[zr++]=Vr,Vr=e,Wr=t}function Qr(e,t,n){Gr[Xr++]=Kr,Gr[Xr++]=qr,Gr[Xr++]=Yr,Yr=e;var i=Kr;e=qr;var r=32-at(i)-1;i&=~(1<<r),n+=1;var o=32-at(t)+r;if(30<o){var a=r-r%5;o=(i&(1<<a)-1).toString(32),i>>=a,r-=a,Kr=1<<32-at(t)+r|n<<r|i,qr=o+e}else Kr=1<<o|n<<r|i,qr=e}function eo(e){null!==e.return&&(Jr(e,1),Qr(e,1,0))}function to(e){for(;e===Vr;)Vr=Hr[--zr],Hr[zr]=null,Wr=Hr[--zr],Hr[zr]=null;for(;e===Yr;)Yr=Gr[--Xr],Gr[Xr]=null,qr=Gr[--Xr],Gr[Xr]=null,Kr=Gr[--Xr],Gr[Xr]=null}var no=null,io=null,ro=!1,oo=null;function ao(e,t){var n=Au(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,io=ur(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,io=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yr?{id:Kr,overflow:qr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Au(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,io=null,!0);default:return!1}}function lo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function uo(e){if(ro){var t=io;if(t){var n=t;if(!so(e,t)){if(lo(e))throw Error(o(418));t=ur(n.nextSibling);var i=no;t&&so(e,t)?ao(i,n):(e.flags=-4097&e.flags|2,ro=!1,no=e)}}else{if(lo(e))throw Error(o(418));e.flags=-4097&e.flags|2,ro=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function ho(e){if(e!==no)return!1;if(!ro)return co(e),ro=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=io)){if(lo(e))throw fo(),Error(o(418));for(;t;)ao(e,t),t=ur(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){io=ur(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}io=null}}else io=no?ur(e.stateNode.nextSibling):null;return!0}function fo(){for(var e=io;e;)e=ur(e.nextSibling)}function po(){io=no=null,ro=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=b.ReactCurrentBatchConfig;function mo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var i=n.stateNode}if(!i)throw Error(o(147,e));var r=i,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=r.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function _o(e){return(0,e._init)(e._payload)}function bo(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lu(e,t)).index=0,e.sibling=null,e}function a(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=2,n):i:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=Du(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function u(e,t,n,i){var o=n.type;return o===E?h(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===M&&_o(o)===t.type)?((i=r(t,n.props)).ref=mo(e,t,n),i.return=e,i):((i=Nu(n.type,n.key,n.props,null,e.mode,i)).ref=mo(e,t,n),i.return=e,i)}function c(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bu(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function h(e,t,n,i,o){return null===t||7!==t.tag?((t=$u(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Du(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case k:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=mo(e,null,t),n.return=e,n;case T:return(t=Bu(t,e.mode,n)).return=e,t;case M:return d(e,(0,t._init)(t._payload),n)}if(te(t)||$(t))return(t=$u(t,e.mode,n,null)).return=e,t;yo(e,t)}return null}function f(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case k:return n.key===r?u(e,t,n,i):null;case T:return n.key===r?c(e,t,n,i):null;case M:return f(e,t,(r=n._init)(n._payload),i)}if(te(n)||$(n))return null!==r?null:h(e,t,n,i,null);yo(e,n)}return null}function p(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case k:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case T:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case M:return p(e,t,n,(0,i._init)(i._payload),r)}if(te(i)||$(i))return h(t,e=e.get(n)||null,i,r,null);yo(t,i)}return null}function v(r,o,s,l){for(var u=null,c=null,h=o,v=o=0,g=null;null!==h&&v<s.length;v++){h.index>v?(g=h,h=null):g=h.sibling;var m=f(r,h,s[v],l);if(null===m){null===h&&(h=g);break}e&&h&&null===m.alternate&&t(r,h),o=a(m,o,v),null===c?u=m:c.sibling=m,c=m,h=g}if(v===s.length)return n(r,h),ro&&Jr(r,v),u;if(null===h){for(;v<s.length;v++)null!==(h=d(r,s[v],l))&&(o=a(h,o,v),null===c?u=h:c.sibling=h,c=h);return ro&&Jr(r,v),u}for(h=i(r,h);v<s.length;v++)null!==(g=p(h,r,v,s[v],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(r,e)})),ro&&Jr(r,v),u}function g(r,s,l,u){var c=$(l);if("function"!==typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,v=s,g=s=0,m=null,y=l.next();null!==v&&!y.done;g++,y=l.next()){v.index>g?(m=v,v=null):m=v.sibling;var _=f(r,v,y.value,u);if(null===_){null===v&&(v=m);break}e&&v&&null===_.alternate&&t(r,v),s=a(_,s,g),null===h?c=_:h.sibling=_,h=_,v=m}if(y.done)return n(r,v),ro&&Jr(r,g),c;if(null===v){for(;!y.done;g++,y=l.next())null!==(y=d(r,y.value,u))&&(s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return ro&&Jr(r,g),c}for(v=i(r,v);!y.done;g++,y=l.next())null!==(y=p(v,r,g,y.value,u))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===h?c=y:h.sibling=y,h=y);return e&&v.forEach((function(e){return t(r,e)})),ro&&Jr(r,g),c}return function e(i,o,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case k:e:{for(var u=a.key,c=o;null!==c;){if(c.key===u){if((u=a.type)===E){if(7===c.tag){n(i,c.sibling),(o=r(c,a.props.children)).return=i,i=o;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&_o(u)===c.type){n(i,c.sibling),(o=r(c,a.props)).ref=mo(i,c,a),o.return=i,i=o;break e}n(i,c);break}t(i,c),c=c.sibling}a.type===E?((o=$u(a.props.children,i.mode,l,a.key)).return=i,i=o):((l=Nu(a.type,a.key,a.props,null,i.mode,l)).ref=mo(i,o,a),l.return=i,i=l)}return s(i);case T:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(i,o.sibling),(o=r(o,a.children||[])).return=i,i=o;break e}n(i,o);break}t(i,o),o=o.sibling}(o=Bu(a,i.mode,l)).return=i,i=o}return s(i);case M:return e(i,o,(c=a._init)(a._payload),l)}if(te(a))return v(i,o,a,l);if($(a))return g(i,o,a,l);yo(i,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(i,o.sibling),(o=r(o,a)).return=i,i=o):(n(i,o),(o=Du(a,i.mode,l)).return=i,i=o),s(i)):n(i,o)}}var ko=bo(!0),To=bo(!1),Eo=xr(null),xo=null,wo=null,So=null;function Co(){So=wo=xo=null}function Io(e){var t=Eo.current;wr(Eo),e._currentValue=t}function Ro(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Oo(e,t){xo=e,So=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Ao(e){var t=e._currentValue;if(So!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===xo)throw Error(o(308));wo=e,xo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Mo=null;function Lo(e){null===Mo?Mo=[e]:Mo.push(e)}function No(e,t,n,i){var r=t.interleaved;return null===r?(n.next=n,Lo(t)):(n.next=r.next,r.next=n),t.interleaved=n,$o(e,i)}function $o(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Po=!1;function Do(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Uo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&Il)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,$o(e,n)}return null===(r=i.interleaved)?(t.next=t,Lo(i)):(t.next=r.next,r.next=t),i.interleaved=t,$o(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Zo(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?r=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,effects:i.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ho(e,t,n,i){var r=e.updateQueue;Po=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,s=r.shared.pending;if(null!==s){r.shared.pending=null;var l=s,u=l.next;l.next=null,null===a?o=u:a.next=u,a=l;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(null!==o){var h=r.baseState;for(a=0,c=u=l=null,s=o;;){var d=s.lane,f=s.eventTime;if((i&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,f=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(f,h,d):p)||void 0===d)break e;h=D({},h,d);break e;case 2:Po=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=r.effects)?r.effects=[s]:d.push(s))}else f={eventTime:f,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,a|=d;if(null===(s=s.next)){if(null===(s=r.shared.pending))break;s=(d=s).next,d.next=null,r.lastBaseUpdate=d,r.shared.pending=null}}if(null===c&&(l=h),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=c,null!==(t=r.shared.interleaved)){r=t;do{a|=r.lane,r=r.next}while(r!==t)}else null===o&&(r.shared.lanes=0);Pl|=a,e.lanes=a,e.memoizedState=h}}function zo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var i=e[t],r=i.callback;if(null!==r){if(i.callback=null,i=n,"function"!==typeof r)throw Error(o(191,r));r.call(i)}}}var Vo={},Wo=xr(Vo),Go=xr(Vo),Xo=xr(Vo);function Yo(e){if(e===Vo)throw Error(o(174));return e}function Ko(e,t){switch(Sr(Xo,t),Sr(Go,e),Sr(Wo,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}wr(Wo),Sr(Wo,t)}function qo(){wr(Wo),wr(Go),wr(Xo)}function Jo(e){Yo(Xo.current);var t=Yo(Wo.current),n=le(t,e.type);t!==n&&(Sr(Go,e),Sr(Wo,n))}function Qo(e){Go.current===e&&(wr(Wo),wr(Go))}var ea=xr(0);function ta(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var na=[];function ia(){for(var e=0;e<na.length;e++)na[e]._workInProgressVersionPrimary=null;na.length=0}var ra=b.ReactCurrentDispatcher,oa=b.ReactCurrentBatchConfig,aa=0,sa=null,la=null,ua=null,ca=!1,ha=!1,da=0,fa=0;function pa(){throw Error(o(321))}function va(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!si(e[n],t[n]))return!1;return!0}function ga(e,t,n,i,r,a){if(aa=a,sa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?Qa:es,e=n(i,r),ha){a=0;do{if(ha=!1,da=0,25<=a)throw Error(o(301));a+=1,ua=la=null,t.updateQueue=null,ra.current=ts,e=n(i,r)}while(ha)}if(ra.current=Ja,t=null!==la&&null!==la.next,aa=0,ua=la=sa=null,ca=!1,t)throw Error(o(300));return e}function ma(){var e=0!==da;return da=0,e}function ya(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ua?sa.memoizedState=ua=e:ua=ua.next=e,ua}function _a(){if(null===la){var e=sa.alternate;e=null!==e?e.memoizedState:null}else e=la.next;var t=null===ua?sa.memoizedState:ua.next;if(null!==t)ua=t,la=e;else{if(null===e)throw Error(o(310));e={memoizedState:(la=e).memoizedState,baseState:la.baseState,baseQueue:la.baseQueue,queue:la.queue,next:null},null===ua?sa.memoizedState=ua=e:ua=ua.next=e}return ua}function ba(e,t){return"function"===typeof t?t(e):t}function ka(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=la,r=i.baseQueue,a=n.pending;if(null!==a){if(null!==r){var s=r.next;r.next=a.next,a.next=s}i.baseQueue=r=a,n.pending=null}if(null!==r){a=r.next,i=i.baseState;var l=s=null,u=null,c=a;do{var h=c.lane;if((aa&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:e(i,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,s=i):u=u.next=d,sa.lanes|=h,Pl|=h}c=c.next}while(null!==c&&c!==a);null===u?s=i:u.next=l,si(i,t.memoizedState)||(_s=!0),t.memoizedState=i,t.baseState=s,t.baseQueue=u,n.lastRenderedState=i}if(null!==(e=n.interleaved)){r=e;do{a=r.lane,sa.lanes|=a,Pl|=a,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ta(e){var t=_a(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,a=t.memoizedState;if(null!==r){n.pending=null;var s=r=r.next;do{a=e(a,s.action),s=s.next}while(s!==r);si(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function Ea(){}function xa(e,t){var n=sa,i=_a(),r=t(),a=!si(i.memoizedState,r);if(a&&(i.memoizedState=r,_s=!0),i=i.queue,Pa(Ca.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||null!==ua&&1&ua.memoizedState.tag){if(n.flags|=2048,Aa(9,Sa.bind(null,n,i,r,t),void 0,null),null===Rl)throw Error(o(349));0!==(30&aa)||wa(n,t,r)}return r}function wa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Sa(e,t,n,i){t.value=n,t.getSnapshot=i,Ia(t)&&Ra(e)}function Ca(e,t,n){return n((function(){Ia(t)&&Ra(e)}))}function Ia(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!si(e,n)}catch(i){return!0}}function Ra(e){var t=$o(e,1);null!==t&&nu(t,e,1,-1)}function Oa(e){var t=ya();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Xa.bind(null,sa,e),[t.memoizedState,e]}function Aa(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},null===(t=sa.updateQueue)?(t={lastEffect:null,stores:null},sa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function Ma(){return _a().memoizedState}function La(e,t,n,i){var r=ya();sa.flags|=e,r.memoizedState=Aa(1|t,n,void 0,void 0===i?null:i)}function Na(e,t,n,i){var r=_a();i=void 0===i?null:i;var o=void 0;if(null!==la){var a=la.memoizedState;if(o=a.destroy,null!==i&&va(i,a.deps))return void(r.memoizedState=Aa(t,n,o,i))}sa.flags|=e,r.memoizedState=Aa(1|t,n,o,i)}function $a(e,t){return La(8390656,8,e,t)}function Pa(e,t){return Na(2048,8,e,t)}function Da(e,t){return Na(4,2,e,t)}function Ba(e,t){return Na(4,4,e,t)}function Fa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ua(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,Fa.bind(null,t,e),n)}function ja(){}function Za(e,t){var n=_a();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&va(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Ha(e,t){var n=_a();t=void 0===t?null:t;var i=n.memoizedState;return null!==i&&null!==t&&va(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function za(e,t,n){return 0===(21&aa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(si(n,t)||(n=vt(),sa.lanes|=n,Pl|=n,e.baseState=!0),t)}function Va(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var i=oa.transition;oa.transition={};try{e(!1),t()}finally{_t=n,oa.transition=i}}function Wa(){return _a().memoizedState}function Ga(e,t,n){var i=tu(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Ya(e))Ka(t,n);else if(null!==(n=No(e,t,n,i))){nu(n,e,i,eu()),qa(n,t,i)}}function Xa(e,t,n){var i=tu(e),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ya(e))Ka(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(r.hasEagerState=!0,r.eagerState=s,si(s,a)){var l=t.interleaved;return null===l?(r.next=r,Lo(t)):(r.next=l.next,l.next=r),void(t.interleaved=r)}}catch(u){}null!==(n=No(e,t,r,i))&&(nu(n,e,i,r=eu()),qa(n,t,i))}}function Ya(e){var t=e.alternate;return e===sa||null!==t&&t===sa}function Ka(e,t){ha=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function qa(e,t,n){if(0!==(4194240&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Ao,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},Qa={readContext:Ao,useCallback:function(e,t){return ya().memoizedState=[e,void 0===t?null:t],e},useContext:Ao,useEffect:$a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,La(4194308,4,Fa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return La(4194308,4,e,t)},useInsertionEffect:function(e,t){return La(4,2,e,t)},useMemo:function(e,t){var n=ya();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=ya();return t=void 0!==n?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Ga.bind(null,sa,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},ya().memoizedState=e},useState:Oa,useDebugValue:ja,useDeferredValue:function(e){return ya().memoizedState=e},useTransition:function(){var e=Oa(!1),t=e[0];return e=Va.bind(null,e[1]),ya().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=sa,r=ya();if(ro){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Rl)throw Error(o(349));0!==(30&aa)||wa(i,t,n)}r.memoizedState=n;var a={value:n,getSnapshot:t};return r.queue=a,$a(Ca.bind(null,i,a,e),[e]),i.flags|=2048,Aa(9,Sa.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=ya(),t=Rl.identifierPrefix;if(ro){var n=qr;t=":"+t+"R"+(n=(Kr&~(1<<32-at(Kr)-1)).toString(32)+n),0<(n=da++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=fa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},es={readContext:Ao,useCallback:Za,useContext:Ao,useEffect:Pa,useImperativeHandle:Ua,useInsertionEffect:Da,useLayoutEffect:Ba,useMemo:Ha,useReducer:ka,useRef:Ma,useState:function(){return ka(ba)},useDebugValue:ja,useDeferredValue:function(e){return za(_a(),la.memoizedState,e)},useTransition:function(){return[ka(ba)[0],_a().memoizedState]},useMutableSource:Ea,useSyncExternalStore:xa,useId:Wa,unstable_isNewReconciler:!1},ts={readContext:Ao,useCallback:Za,useContext:Ao,useEffect:Pa,useImperativeHandle:Ua,useInsertionEffect:Da,useLayoutEffect:Ba,useMemo:Ha,useReducer:Ta,useRef:Ma,useState:function(){return Ta(ba)},useDebugValue:ja,useDeferredValue:function(e){var t=_a();return null===la?t.memoizedState=e:za(t,la.memoizedState,e)},useTransition:function(){return[Ta(ba)[0],_a().memoizedState]},useMutableSource:Ea,useSyncExternalStore:xa,useId:Wa,unstable_isNewReconciler:!1};function ns(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function is(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rs={isMounted:function(e){return!!(e=e._reactInternals)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=Fo(i,r);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,r))&&(nu(t,e,r,i),jo(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=eu(),r=tu(e),o=Fo(i,r);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Uo(e,o,r))&&(nu(t,e,r,i),jo(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),i=tu(e),r=Fo(n,i);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Uo(e,r,i))&&(nu(t,e,i,n),jo(t,e,i))}};function os(e,t,n,i,r,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!li(n,i)||!li(r,o))}function as(e,t,n){var i=!1,r=Cr,o=t.contextType;return"object"===typeof o&&null!==o?o=Ao(o):(r=Mr(t)?Or:Ir.current,o=(i=null!==(i=t.contextTypes)&&void 0!==i)?Ar(e,r):Cr),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rs,e.stateNode=t,t._reactInternals=e,i&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=o),t}function ss(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&rs.enqueueReplaceState(t,t.state,null)}function ls(e,t,n,i){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Do(e);var o=t.contextType;"object"===typeof o&&null!==o?r.context=Ao(o):(o=Mr(t)?Or:Ir.current,r.context=Ar(e,o)),r.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(is(e,t,o,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&rs.enqueueReplaceState(r,r.state,null),Ho(e,n,r,i),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function us(e,t){try{var n="",i=t;do{n+=j(i),i=i.return}while(i);var r=n}catch(o){r="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:r,digest:null}}function cs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function hs(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ds="function"===typeof WeakMap?WeakMap:Map;function fs(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){zl||(zl=!0,Vl=i),hs(0,t)},n}function ps(e,t,n){(n=Fo(-1,n)).tag=3;var i=e.type.getDerivedStateFromError;if("function"===typeof i){var r=t.value;n.payload=function(){return i(r)},n.callback=function(){hs(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){hs(0,t),"function"!==typeof i&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vs(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new ds;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(r.add(n),e=wu.bind(null,e,t,n),t.then(e,e))}function gs(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,i,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Uo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var ys=b.ReactCurrentOwner,_s=!1;function bs(e,t,n,i){t.child=null===e?To(t,null,n,i):ko(t,e.child,n,i)}function ks(e,t,n,i,r){n=n.render;var o=t.ref;return Oo(t,r),i=ga(e,t,n,i,o,r),n=ma(),null===e||_s?(ro&&n&&eo(t),t.flags|=1,bs(e,t,i,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function Ts(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Mu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Es(e,t,o,i,r))}if(o=e.child,0===(e.lanes&r)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:li)(a,i)&&e.ref===t.ref)return zs(e,t,r)}return t.flags|=1,(e=Lu(o,i)).ref=t.ref,e.return=t,t.child=e}function Es(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(li(o,i)&&e.ref===t.ref){if(_s=!1,t.pendingProps=i=o,0===(e.lanes&r))return t.lanes=e.lanes,zs(e,t,r);0!==(131072&e.flags)&&(_s=!0)}}return Ss(e,t,n,i,r)}function xs(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Sr(Ll,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Sr(Ll,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=null!==o?o.baseLanes:n,Sr(Ll,Ml),Ml|=i}else null!==o?(i=o.baseLanes|n,t.memoizedState=null):i=n,Sr(Ll,Ml),Ml|=i;return bs(e,t,r,n),t.child}function ws(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ss(e,t,n,i,r){var o=Mr(n)?Or:Ir.current;return o=Ar(t,o),Oo(t,r),n=ga(e,t,n,i,o,r),i=ma(),null===e||_s?(ro&&i&&eo(t),t.flags|=1,bs(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,zs(e,t,r))}function Cs(e,t,n,i,r){if(Mr(n)){var o=!0;Pr(t)}else o=!1;if(Oo(t,r),null===t.stateNode)Hs(e,t),as(t,n,i),ls(t,n,i,r),i=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ao(u):u=Ar(t,u=Mr(n)?Or:Ir.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==i||l!==u)&&ss(t,a,i,u),Po=!1;var d=t.memoizedState;a.state=d,Ho(t,i,a,r),l=t.memoizedState,s!==i||d!==l||Rr.current||Po?("function"===typeof c&&(is(t,n,c,i),l=t.memoizedState),(s=Po||os(t,n,s,i,d,l,u))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=l),a.props=i,a.state=l,a.context=u,i=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),i=!1)}else{a=t.stateNode,Bo(e,t),s=t.memoizedProps,u=t.type===t.elementType?s:ns(t.type,s),a.props=u,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ao(l):l=Ar(t,l=Mr(n)?Or:Ir.current);var f=n.getDerivedStateFromProps;(c="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==h||d!==l)&&ss(t,a,i,l),Po=!1,d=t.memoizedState,a.state=d,Ho(t,i,a,r);var p=t.memoizedState;s!==h||d!==p||Rr.current||Po?("function"===typeof f&&(is(t,n,f,i),p=t.memoizedState),(u=Po||os(t,n,u,i,d,p,l)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(i,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),a.props=i,a.state=p,a.context=l,i=u):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),i=!1)}return Is(e,t,n,i,o,r)}function Is(e,t,n,i,r,o){ws(e,t);var a=0!==(128&t.flags);if(!i&&!a)return r&&Dr(t,n,!1),zs(e,t,o);i=t.stateNode,ys.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:i.render();return t.flags|=1,null!==e&&a?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,s,o)):bs(e,t,s,o),t.memoizedState=i.state,r&&Dr(t,n,!0),t.child}function Rs(e){var t=e.stateNode;t.pendingContext?Nr(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Nr(0,t.context,!1),Ko(e,t.containerInfo)}function Os(e,t,n,i,r){return po(),vo(r),t.flags|=256,bs(e,t,n,i),t.child}var As,Ms,Ls,Ns,$s={dehydrated:null,treeContext:null,retryLane:0};function Ps(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var i,r=t.pendingProps,a=ea.current,s=!1,l=0!==(128&t.flags);if((i=l)||(i=(null===e||null!==e.memoizedState)&&0!==(2&a)),i?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Sr(ea,1&a),null===e)return uo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=r.children,e=r.fallback,s?(r=t.mode,s=t.child,l={mode:"hidden",children:l},0===(1&r)&&null!==s?(s.childLanes=0,s.pendingProps=l):s=Pu(l,r,0,null),e=$u(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ps(n),t.memoizedState=$s,e):Bs(t,l));if(null!==(a=e.memoizedState)&&null!==(i=a.dehydrated))return function(e,t,n,i,r,a,s){if(n)return 256&t.flags?(t.flags&=-257,Fs(e,t,s,i=cs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=i.fallback,r=t.mode,i=Pu({mode:"visible",children:i.children},r,0,null),(a=$u(a,r,s,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,0!==(1&t.mode)&&ko(t,e.child,null,s),t.child.memoizedState=Ps(s),t.memoizedState=$s,a);if(0===(1&t.mode))return Fs(e,t,s,null);if("$!"===r.data){if(i=r.nextSibling&&r.nextSibling.dataset)var l=i.dgst;return i=l,Fs(e,t,s,i=cs(a=Error(o(419)),i,void 0))}if(l=0!==(s&e.childLanes),_s||l){if(null!==(i=Rl)){switch(s&-s){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(i.suspendedLanes|s))?0:r)&&r!==a.retryLane&&(a.retryLane=r,$o(e,r),nu(i,e,r,-1))}return vu(),Fs(e,t,s,i=cs(Error(o(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Cu.bind(null,e),r._reactRetry=t,null):(e=a.treeContext,io=ur(r.nextSibling),no=t,ro=!0,oo=null,null!==e&&(Gr[Xr++]=Kr,Gr[Xr++]=qr,Gr[Xr++]=Yr,Kr=e.id,qr=e.overflow,Yr=t),t=Bs(t,i.children),t.flags|=4096,t)}(e,t,l,r,i,a,n);if(s){s=r.fallback,l=t.mode,i=(a=e.child).sibling;var u={mode:"hidden",children:r.children};return 0===(1&l)&&t.child!==a?((r=t.child).childLanes=0,r.pendingProps=u,t.deletions=null):(r=Lu(a,u)).subtreeFlags=14680064&a.subtreeFlags,null!==i?s=Lu(i,s):(s=$u(s,l,n,null)).flags|=2,s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,l=null===(l=e.child.memoizedState)?Ps(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},s.memoizedState=l,s.childLanes=e.childLanes&~n,t.memoizedState=$s,r}return e=(s=e.child).sibling,r=Lu(s,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Bs(e,t){return(t=Pu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fs(e,t,n,i){return null!==i&&vo(i),ko(t,e.child,null,n),(e=Bs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Us(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Ro(e.return,t,n)}function js(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Zs(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(bs(e,t,i.children,n),0!==(2&(i=ea.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Us(e,n,t);else if(19===e.tag)Us(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(Sr(ea,i),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===ta(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),js(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===ta(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}js(t,!0,n,null,o);break;case"together":js(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Hs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Pl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!ro)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=14680064&r.subtreeFlags,i|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Gs(e,t,n){var i=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Mr(t.type)&&Lr(),Ws(t),null;case 3:return i=t.stateNode,qo(),wr(Rr),wr(Ir),ia(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),null!==e&&null!==e.child||(ho(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(au(oo),oo=null))),Ms(e,t),Ws(t),null;case 5:Qo(t);var r=Yo(Xo.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,i,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=Yo(Wo.current),ho(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[dr]=t,i[fr]=a,e=0!==(1&t.mode),n){case"dialog":Fi("cancel",i),Fi("close",i);break;case"iframe":case"object":case"embed":Fi("load",i);break;case"video":case"audio":for(r=0;r<$i.length;r++)Fi($i[r],i);break;case"source":Fi("error",i);break;case"img":case"image":case"link":Fi("error",i),Fi("load",i);break;case"details":Fi("toggle",i);break;case"input":K(i,a),Fi("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},Fi("invalid",i);break;case"textarea":re(i,a),Fi("invalid",i)}for(var l in ye(n,a),r=null,a)if(a.hasOwnProperty(l)){var u=a[l];"children"===l?"string"===typeof u?i.textContent!==u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",u]):"number"===typeof u&&i.textContent!==""+u&&(!0!==a.suppressHydrationWarning&&Ji(i.textContent,u,e),r=["children",""+u]):s.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fi("scroll",i)}switch(n){case"input":W(i),Q(i,a,!0);break;case"textarea":W(i),ae(i);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(i.onclick=Qi)}i=r,t.updateQueue=i,null!==i&&(t.flags|=4)}else{l=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof i.is?e=l.createElement(n,{is:i.is}):(e=l.createElement(n),"select"===n&&(l=e,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):e=l.createElementNS(e,n),e[dr]=t,e[fr]=i,As(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,i),n){case"dialog":Fi("cancel",e),Fi("close",e),r=i;break;case"iframe":case"object":case"embed":Fi("load",e),r=i;break;case"video":case"audio":for(r=0;r<$i.length;r++)Fi($i[r],e);r=i;break;case"source":Fi("error",e),r=i;break;case"img":case"image":case"link":Fi("error",e),Fi("load",e),r=i;break;case"details":Fi("toggle",e),r=i;break;case"input":K(e,i),r=Y(e,i),Fi("invalid",e);break;case"option":default:r=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},r=D({},i,{value:void 0}),Fi("invalid",e);break;case"textarea":re(e,i),r=ie(e,i),Fi("invalid",e)}for(a in ye(n,r),u=r)if(u.hasOwnProperty(a)){var c=u[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Fi("scroll",e):null!=c&&_(e,a,c,l))}switch(n){case"input":W(e),Q(e,i,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=i.value&&e.setAttribute("value",""+z(i.value));break;case"select":e.multiple=!!i.multiple,null!=(a=i.value)?ne(e,!!i.multiple,a,!1):null!=i.defaultValue&&ne(e,!!i.multiple,i.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Qi)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Ns(e,t,e.memoizedProps,i);else{if("string"!==typeof i&&null===t.stateNode)throw Error(o(166));if(n=Yo(Xo.current),Yo(Wo.current),ho(t)){if(i=t.stateNode,n=t.memoizedProps,i[dr]=t,(a=i.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Ji(i.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ji(i.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(i=(9===n.nodeType?n:n.ownerDocument).createTextNode(i))[dr]=t,t.stateNode=i}return Ws(t),null;case 13:if(wr(ea),i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ro&&null!==io&&0!==(1&t.mode)&&0===(128&t.flags))fo(),po(),t.flags|=98560,a=!1;else if(a=ho(t),null!==i&&null!==i.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[dr]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(au(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((i=null!==i)!==(null!==e&&null!==e.memoizedState)&&i&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ea.current)?0===Nl&&(Nl=3):vu())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return qo(),Ms(e,t),null===e&&Zi(t.stateNode.containerInfo),Ws(t),null;case 10:return Io(t.type._context),Ws(t),null;case 19:if(wr(ea),null===(a=t.memoizedState))return Ws(t),null;if(i=0!==(128&t.flags),null===(l=a.rendering))if(i)Vs(a,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ta(e))){for(t.flags|=128,Vs(a,!1),null!==(i=l.updateQueue)&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;null!==n;)e=i,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Sr(ea,1&ea.current|2),t.child}e=e.sibling}null!==a.tail&&qe()>Zl&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=ta(l))){if(t.flags|=128,i=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!ro)return Ws(t),null}else 2*qe()-a.renderingStartTime>Zl&&1073741824!==n&&(t.flags|=128,i=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=qe(),t.sibling=null,n=ea.current,Sr(ea,i?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return hu(),i=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==i&&(t.flags|=8192),i&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Xs(e,t){switch(to(t),t.tag){case 1:return Mr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return qo(),wr(Rr),wr(Ir),ia(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qo(t),null;case 13:if(wr(ea),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return wr(ea),null;case 4:return qo(),null;case 10:return Io(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}As=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ms=function(){},Ls=function(e,t,n,i){var r=e.memoizedProps;if(r!==i){e=t.stateNode,Yo(Wo.current);var o,a=null;switch(n){case"input":r=Y(e,r),i=Y(e,i),a=[];break;case"select":r=D({},r,{value:void 0}),i=D({},i,{value:void 0}),a=[];break;case"textarea":r=ie(e,r),i=ie(e,i),a=[];break;default:"function"!==typeof r.onClick&&"function"===typeof i.onClick&&(e.onclick=Qi)}for(c in ye(n,i),n=null,r)if(!i.hasOwnProperty(c)&&r.hasOwnProperty(c)&&null!=r[c])if("style"===c){var l=r[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in i){var u=i[c];if(l=null!=r?r[c]:void 0,i.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(a||(a=[]),a.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(a=a||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(a=a||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fi("scroll",e),a||l===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ns=function(e,t,n,i){n!==i&&(t.flags|=4)};var Ys=!1,Ks=!1,qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Qs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(i){xu(e,t,i)}else n.current=null}function el(e,t,n){try{n()}catch(i){xu(e,t,i)}}var tl=!1;function nl(e,t,n){var i=t.updateQueue;if(null!==(i=null!==i?i.lastEffect:null)){var r=i=i.next;do{if((r.tag&e)===e){var o=r.destroy;r.destroy=void 0,void 0!==o&&el(t,n,o)}r=r.next}while(r!==i)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function rl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[dr],delete t[fr],delete t[vr],delete t[gr],delete t[mr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function sl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qi));else if(4!==i&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(rt,n)}catch(s){}switch(n.tag){case 5:Ks||Qs(n,t);case 6:var i=cl,r=hl;cl=null,dl(e,t,n),hl=r,null!==(cl=i)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?lr(e.parentNode,n):1===e.nodeType&&lr(e,n),Zt(e)):lr(cl,n.stateNode));break;case 4:i=cl,r=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=i,hl=r;break;case 0:case 11:case 14:case 15:if(!Ks&&(null!==(i=n.updateQueue)&&null!==(i=i.lastEffect))){r=i=i.next;do{var o=r,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&el(n,t,a),r=r.next}while(r!==i)}dl(e,t,n);break;case 1:if(!Ks&&(Qs(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(s){xu(n,t,s)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Ks=(i=Ks)||null!==n.memoizedState,dl(e,t,n),Ks=i):dl(e,t,n);break;default:dl(e,t,n)}}function pl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qs),t.forEach((function(t){var i=Iu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i];try{var a=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(o(160));fl(a,s,r),cl=null,hl=!1;var u=r.alternate;null!==u&&(u.return=null),r.return=null}catch(c){xu(r,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),ml(e),4&i){try{nl(3,e,e.return),il(3,e)}catch(g){xu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){xu(e,e.return,g)}}break;case 1:vl(t,e),ml(e),512&i&&null!==n&&Qs(n,n.return);break;case 5:if(vl(t,e),ml(e),512&i&&null!==n&&Qs(n,n.return),32&e.flags){var r=e.stateNode;try{de(r,"")}catch(g){xu(e,e.return,g)}}if(4&i&&null!=(r=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===a.type&&null!=a.name&&q(r,a),_e(l,s);var c=_e(l,a);for(s=0;s<u.length;s+=2){var h=u[s],d=u[s+1];"style"===h?ge(r,d):"dangerouslySetInnerHTML"===h?he(r,d):"children"===h?de(r,d):_(r,h,d,c)}switch(l){case"input":J(r,a);break;case"textarea":oe(r,a);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(r,!!a.multiple,p,!1):f!==!!a.multiple&&(null!=a.defaultValue?ne(r,!!a.multiple,a.defaultValue,!0):ne(r,!!a.multiple,a.multiple?[]:"",!1))}r[fr]=a}catch(g){xu(e,e.return,g)}}break;case 6:if(vl(t,e),ml(e),4&i){if(null===e.stateNode)throw Error(o(162));r=e.stateNode,a=e.memoizedProps;try{r.nodeValue=a}catch(g){xu(e,e.return,g)}}break;case 3:if(vl(t,e),ml(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(g){xu(e,e.return,g)}break;case 4:default:vl(t,e),ml(e);break;case 13:vl(t,e),ml(e),8192&(r=e.child).flags&&(a=null!==r.memoizedState,r.stateNode.isHidden=a,!a||null!==r.alternate&&null!==r.alternate.memoizedState||(jl=qe())),4&i&&pl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Ks=(c=Ks)||h,vl(t,e),Ks=c):vl(t,e),ml(e),8192&i){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Js=e,h=e.child;null!==h;){for(d=Js=h;null!==Js;){switch(p=(f=Js).child,f.tag){case 0:case 11:case 14:case 15:nl(4,f,f.return);break;case 1:Qs(f,f.return);var v=f.stateNode;if("function"===typeof v.componentWillUnmount){i=f,n=f.return;try{t=i,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){xu(i,n,g)}}break;case 5:Qs(f,f.return);break;case 22:if(null!==f.memoizedState){kl(d);continue}}null!==p?(p.return=f,Js=p):kl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{r=d.stateNode,c?"function"===typeof(a=r.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,s=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=ve("display",s))}catch(g){xu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){xu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vl(t,e),ml(e),4&i&&pl(e);case 21:}}function ml(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var i=n;break e}n=n.return}throw Error(o(160))}switch(i.tag){case 5:var r=i.stateNode;32&i.flags&&(de(r,""),i.flags&=-33),ul(e,sl(e),r);break;case 3:case 4:var a=i.stateNode.containerInfo;ll(e,sl(e),a);break;default:throw Error(o(161))}}catch(s){xu(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Js=e,_l(e,t,n)}function _l(e,t,n){for(var i=0!==(1&e.mode);null!==Js;){var r=Js,o=r.child;if(22===r.tag&&i){var a=null!==r.memoizedState||Ys;if(!a){var s=r.alternate,l=null!==s&&null!==s.memoizedState||Ks;s=Ys;var u=Ks;if(Ys=a,(Ks=l)&&!u)for(Js=r;null!==Js;)l=(a=Js).child,22===a.tag&&null!==a.memoizedState?Tl(r):null!==l?(l.return=a,Js=l):Tl(r);for(;null!==o;)Js=o,_l(o,t,n),o=o.sibling;Js=r,Ys=s,Ks=u}bl(e)}else 0!==(8772&r.subtreeFlags)&&null!==o?(o.return=r,Js=o):bl(e)}}function bl(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ks||il(5,t);break;case 1:var i=t.stateNode;if(4&t.flags&&!Ks)if(null===n)i.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:ns(t.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&zo(t,a,i);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}zo(t,s,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Zt(d)}}}break;default:throw Error(o(163))}Ks||512&t.flags&&rl(t)}catch(f){xu(t,t.return,f)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function kl(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Tl(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){xu(t,n,l)}break;case 1:var i=t.stateNode;if("function"===typeof i.componentDidMount){var r=t.return;try{i.componentDidMount()}catch(l){xu(t,r,l)}}var o=t.return;try{rl(t)}catch(l){xu(t,o,l)}break;case 5:var a=t.return;try{rl(t)}catch(l){xu(t,a,l)}}}catch(l){xu(t,t.return,l)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var El,xl=Math.ceil,wl=b.ReactCurrentDispatcher,Sl=b.ReactCurrentOwner,Cl=b.ReactCurrentBatchConfig,Il=0,Rl=null,Ol=null,Al=0,Ml=0,Ll=xr(0),Nl=0,$l=null,Pl=0,Dl=0,Bl=0,Fl=null,Ul=null,jl=0,Zl=1/0,Hl=null,zl=!1,Vl=null,Wl=null,Gl=!1,Xl=null,Yl=0,Kl=0,ql=null,Jl=-1,Ql=0;function eu(){return 0!==(6&Il)?qe():-1!==Jl?Jl:Jl=qe()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Al?Al&-Al:null!==go.transition?(0===Ql&&(Ql=vt()),Ql):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Kt(e.type)}function nu(e,t,n,i){if(50<Kl)throw Kl=0,ql=null,Error(o(185));mt(e,n,i),0!==(2&Il)&&e===Rl||(e===Rl&&(0===(2&Il)&&(Dl|=n),4===Nl&&su(e,Al)),iu(e,i),1===n&&0===Il&&0===(1&t.mode)&&(Zl=qe()+500,Fr&&Zr()))}function iu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,l=r[a];-1===l?0!==(s&n)&&0===(s&i)||(r[a]=ft(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var i=dt(e,e===Rl?Al:0);if(0===i)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Fr=!0,jr(e)}(lu.bind(null,e)):jr(lu.bind(null,e)),ar((function(){0===(6&Il)&&Zr()})),n=null;else{switch(bt(i)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=it}n=Ru(n,ru.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ru(e,t){if(Jl=-1,Ql=0,0!==(6&Il))throw Error(o(327));var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var i=dt(e,e===Rl?Al:0);if(0===i)return null;if(0!==(30&i)||0!==(i&e.expiredLanes)||t)t=gu(e,i);else{t=i;var r=Il;Il|=2;var a=pu();for(Rl===e&&Al===t||(Hl=null,Zl=qe()+500,du(e,t));;)try{yu();break}catch(l){fu(e,l)}Co(),wl.current=a,Il=r,null!==Ol?t=0:(Rl=null,Al=0,t=Nl)}if(0!==t){if(2===t&&(0!==(r=pt(e))&&(i=r,t=ou(e,r))),1===t)throw n=$l,du(e,0),su(e,i),iu(e,qe()),n;if(6===t)su(e,i);else{if(r=e.current.alternate,0===(30&i)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!si(o(),r))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=gu(e,i))&&(0!==(a=pt(e))&&(i=a,t=ou(e,a))),1===t))throw n=$l,du(e,0),su(e,i),iu(e,qe()),n;switch(e.finishedWork=r,e.finishedLanes=i,t){case 0:case 1:throw Error(o(345));case 2:case 5:ku(e,Ul,Hl);break;case 3:if(su(e,i),(130023424&i)===i&&10<(t=jl+500-qe())){if(0!==dt(e,0))break;if(((r=e.suspendedLanes)&i)!==i){eu(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ir(ku.bind(null,e,Ul,Hl),t);break}ku(e,Ul,Hl);break;case 4:if(su(e,i),(4194240&i)===i)break;for(t=e.eventTimes,r=-1;0<i;){var s=31-at(i);a=1<<s,(s=t[s])>r&&(r=s),i&=~a}if(i=r,10<(i=(120>(i=qe()-i)?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*xl(i/1960))-i)){e.timeoutHandle=ir(ku.bind(null,e,Ul,Hl),i);break}ku(e,Ul,Hl);break;default:throw Error(o(329))}}}return iu(e,qe()),e.callbackNode===n?ru.bind(null,e):null}function ou(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ul,Ul=n,null!==t&&au(t)),e}function au(e){null===Ul?Ul=e:Ul.push.apply(Ul,e)}function su(e,t){for(t&=~Bl,t&=~Dl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),i=1<<n;e[n]=-1,t&=~i}}function lu(e){if(0!==(6&Il))throw Error(o(327));Tu();var t=dt(e,0);if(0===(1&t))return iu(e,qe()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var i=pt(e);0!==i&&(t=i,n=ou(e,i))}if(1===n)throw n=$l,du(e,0),su(e,t),iu(e,qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,ku(e,Ul,Hl),iu(e,qe()),null}function uu(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Zl=qe()+500,Fr&&Zr())}}function cu(e){null!==Xl&&0===Xl.tag&&0===(6&Il)&&Tu();var t=Il;Il|=1;var n=Cl.transition,i=_t;try{if(Cl.transition=null,_t=1,e)return e()}finally{_t=i,Cl.transition=n,0===(6&(Il=t))&&Zr()}}function hu(){Ml=Ll.current,wr(Ll)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Ol)for(n=Ol.return;null!==n;){var i=n;switch(to(i),i.tag){case 1:null!==(i=i.type.childContextTypes)&&void 0!==i&&Lr();break;case 3:qo(),wr(Rr),wr(Ir),ia();break;case 5:Qo(i);break;case 4:qo();break;case 13:case 19:wr(ea);break;case 10:Io(i.type._context);break;case 22:case 23:hu()}n=n.return}if(Rl=e,Ol=e=Lu(e.current,null),Al=Ml=t,Nl=0,$l=null,Bl=Dl=Pl=0,Ul=Fl=null,null!==Mo){for(t=0;t<Mo.length;t++)if(null!==(i=(n=Mo[t]).interleaved)){n.interleaved=null;var r=i.next,o=n.pending;if(null!==o){var a=o.next;o.next=r,i.next=a}n.pending=i}Mo=null}return e}function fu(e,t){for(;;){var n=Ol;try{if(Co(),ra.current=Ja,ca){for(var i=sa.memoizedState;null!==i;){var r=i.queue;null!==r&&(r.pending=null),i=i.next}ca=!1}if(aa=0,ua=la=sa=null,ha=!1,da=0,Sl.current=null,null===n||null===n.return){Nl=1,$l=t,Ol=null;break}e:{var a=e,s=n.return,l=n,u=t;if(t=Al,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=gs(s);if(null!==p){p.flags&=-257,ms(p,s,l,0,t),1&p.mode&&vs(a,c,t),u=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(u),t.updateQueue=g}else v.add(u);break e}if(0===(1&t)){vs(a,c,t),vu();break e}u=Error(o(426))}else if(ro&&1&l.mode){var m=gs(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ms(m,s,l,0,t),vo(us(u,l));break e}}a=u=us(u,l),4!==Nl&&(Nl=2),null===Fl?Fl=[a]:Fl.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,fs(0,u,t));break e;case 1:l=u;var y=a.type,_=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===Wl||!Wl.has(_)))){a.flags|=65536,t&=-t,a.lanes|=t,Zo(a,ps(a,l,t));break e}}a=a.return}while(null!==a)}bu(n)}catch(b){t=b,Ol===n&&null!==n&&(Ol=n=n.return);continue}break}}function pu(){var e=wl.current;return wl.current=Ja,null===e?Ja:e}function vu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Rl||0===(268435455&Pl)&&0===(268435455&Dl)||su(Rl,Al)}function gu(e,t){var n=Il;Il|=2;var i=pu();for(Rl===e&&Al===t||(Hl=null,du(e,t));;)try{mu();break}catch(r){fu(e,r)}if(Co(),Il=n,wl.current=i,null!==Ol)throw Error(o(261));return Rl=null,Al=0,Nl}function mu(){for(;null!==Ol;)_u(Ol)}function yu(){for(;null!==Ol&&!Ye();)_u(Ol)}function _u(e){var t=El(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?bu(e):Ol=t,Sl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Gs(n,t,Ml)))return void(Ol=n)}else{if(null!==(n=Xs(n,t)))return n.flags&=32767,void(Ol=n);if(null===e)return Nl=6,void(Ol=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ol=t);Ol=t=e}while(null!==t);0===Nl&&(Nl=5)}function ku(e,t,n){var i=_t,r=Cl.transition;try{Cl.transition=null,_t=1,function(e,t,n,i){do{Tu()}while(null!==Xl);if(0!==(6&Il))throw Error(o(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-at(n),o=1<<r;t[r]=0,i[r]=-1,e[r]=-1,n&=~o}}(e,a),e===Rl&&(Ol=Rl=null,Al=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Ru(tt,(function(){return Tu(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Cl.transition,Cl.transition=null;var s=_t;_t=1;var l=Il;Il|=4,Sl.current=null,function(e,t){if(er=zt,fi(e=di())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch(k){n=null;break e}var s=0,l=-1,u=-1,c=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==r&&3!==d.nodeType||(l=s+r),d!==a||0!==i&&3!==d.nodeType||(u=s+i),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++c===r&&(l=s),f===a&&++h===i&&(u=s),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},zt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ns(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(o(163))}}catch(k){xu(t,t.return,k)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tl,tl=!1}(e,n),gl(n,e),pi(tr),zt=!!er,tr=er=null,e.current=n,yl(n,e,r),Ke(),Il=l,_t=s,Cl.transition=a}else e.current=n;if(Gl&&(Gl=!1,Xl=e,Yl=r),a=e.pendingLanes,0===a&&(Wl=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),iu(e,qe()),null!==t)for(i=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(zl)throw zl=!1,e=Vl,Vl=null,e;0!==(1&Yl)&&0!==e.tag&&Tu(),a=e.pendingLanes,0!==(1&a)?e===ql?Kl++:(Kl=0,ql=e):Kl=0,Zr()}(e,t,n,i)}finally{Cl.transition=r,_t=i}return null}function Tu(){if(null!==Xl){var e=bt(Yl),t=Cl.transition,n=_t;try{if(Cl.transition=null,_t=16>e?16:e,null===Xl)var i=!1;else{if(e=Xl,Xl=null,Yl=0,0!==(6&Il))throw Error(o(331));var r=Il;for(Il|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var l=a.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Js=c;null!==Js;){var h=Js;switch(h.tag){case 0:case 11:case 15:nl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Js=d;else for(;null!==Js;){var f=(h=Js).sibling,p=h.return;if(ol(h),h===c){Js=null;break}if(null!==f){f.return=p,Js=f;break}Js=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var _=e.current;for(Js=_;null!==Js;){var b=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==b)b.return=s,Js=b;else e:for(s=_;null!==Js;){if(0!==(2048&(l=Js).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(T){xu(l,l.return,T)}if(l===s){Js=null;break e}var k=l.sibling;if(null!==k){k.return=l.return,Js=k;break e}Js=l.return}}if(Il=r,Zr(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(rt,e)}catch(T){}i=!0}return i}finally{_t=n,Cl.transition=t}}return!1}function Eu(e,t,n){e=Uo(e,t=fs(0,t=us(n,t),1),1),t=eu(),null!==e&&(mt(e,1,t),iu(e,t))}function xu(e,t,n){if(3===e.tag)Eu(e,e,n);else for(;null!==t;){if(3===t.tag){Eu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===Wl||!Wl.has(i))){t=Uo(t,e=ps(t,e=us(n,e),1),1),e=eu(),null!==t&&(mt(t,1,e),iu(t,e));break}}t=t.return}}function wu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Al&n)===n&&(4===Nl||3===Nl&&(130023424&Al)===Al&&500>qe()-jl?du(e,0):Bl|=n),iu(e,t)}function Su(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=$o(e,t))&&(mt(e,t,n),iu(e,n))}function Cu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Su(e,n)}function Iu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(o(314))}null!==i&&i.delete(t),Su(e,n)}function Ru(e,t){return Ge(e,t)}function Ou(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Au(e,t,n,i){return new Ou(e,t,n,i)}function Mu(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lu(e,t){var n=e.alternate;return null===n?((n=Au(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,i,r,a){var s=2;if(i=e,"function"===typeof e)Mu(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case E:return $u(n.children,r,a,t);case x:s=8,r|=8;break;case w:return(e=Au(12,n,t,2|r)).elementType=w,e.lanes=a,e;case R:return(e=Au(13,n,t,r)).elementType=R,e.lanes=a,e;case O:return(e=Au(19,n,t,r)).elementType=O,e.lanes=a,e;case L:return Pu(n,r,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case S:s=10;break e;case C:s=9;break e;case I:s=11;break e;case A:s=14;break e;case M:s=16,i=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Au(s,n,t,r)).elementType=e,t.type=i,t.lanes=a,t}function $u(e,t,n,i){return(e=Au(7,e,i,t)).lanes=n,e}function Pu(e,t,n,i){return(e=Au(22,e,i,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Du(e,t,n){return(e=Au(6,e,null,t)).lanes=n,e}function Bu(e,t,n){return(t=Au(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,i,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Uu(e,t,n,i,r,o,a,s,l){return e=new Fu(e,t,n,s,l),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Au(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Do(o),e}function ju(e){if(!e)return Cr;e:{if(Ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Mr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Mr(n))return $r(e,n,t)}return t}function Zu(e,t,n,i,r,o,a,s,l){return(e=Uu(n,i,!0,e,0,o,0,s,l)).context=ju(null),n=e.current,(o=Fo(i=eu(),r=tu(n))).callback=void 0!==t&&null!==t?t:null,Uo(n,o,r),e.current.lanes=r,mt(e,r,i),iu(e,i),e}function Hu(e,t,n,i){var r=t.current,o=eu(),a=tu(r);return n=ju(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(i=void 0===i?null:i)&&(t.callback=i),null!==(e=Uo(r,t,a))&&(nu(e,r,a,o),jo(e,r,a)),a}function zu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){Vu(e,t),(e=e.alternate)&&Vu(e,t)}El=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Rr.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Rs(t),po();break;case 5:Jo(t);break;case 1:Mr(t.type)&&Pr(t);break;case 4:Ko(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,r=t.memoizedProps.value;Sr(Eo,i._currentValue),i._currentValue=r;break;case 13:if(null!==(i=t.memoizedState))return null!==i.dehydrated?(Sr(ea,1&ea.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Sr(ea,1&ea.current),null!==(e=zs(e,t,n))?e.sibling:null);Sr(ea,1&ea.current);break;case 19:if(i=0!==(n&t.childLanes),0!==(128&e.flags)){if(i)return Zs(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Sr(ea,ea.current),i)break;return null;case 22:case 23:return t.lanes=0,xs(e,t,n)}return zs(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,ro&&0!==(1048576&t.flags)&&Qr(t,Wr,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;Hs(e,t),e=t.pendingProps;var r=Ar(t,Ir.current);Oo(t,n),r=ga(null,t,i,e,r,n);var a=ma();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Mr(i)?(a=!0,Pr(t)):a=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Do(t),r.updater=rs,t.stateNode=r,r._reactInternals=t,ls(t,i,e,n),t=Is(null,t,i,!0,a,n)):(t.tag=0,ro&&a&&eo(t),bs(null,t,r,n),t=t.child),t;case 16:i=t.elementType;e:{switch(Hs(e,t),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"===typeof e)return Mu(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===A)return 14}return 2}(i),e=ns(i,e),r){case 0:t=Ss(null,t,i,e,n);break e;case 1:t=Cs(null,t,i,e,n);break e;case 11:t=ks(null,t,i,e,n);break e;case 14:t=Ts(null,t,i,ns(i.type,e),n);break e}throw Error(o(306,i,""))}return t;case 0:return i=t.type,r=t.pendingProps,Ss(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 1:return i=t.type,r=t.pendingProps,Cs(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 3:e:{if(Rs(t),null===e)throw Error(o(387));i=t.pendingProps,r=(a=t.memoizedState).element,Bo(e,t),Ho(t,i,null,n);var s=t.memoizedState;if(i=s.element,a.isDehydrated){if(a={element:i,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Os(e,t,i,n,r=us(Error(o(423)),t));break e}if(i!==r){t=Os(e,t,i,n,r=us(Error(o(424)),t));break e}for(io=ur(t.stateNode.containerInfo.firstChild),no=t,ro=!0,oo=null,n=To(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),i===r){t=zs(e,t,n);break e}bs(e,t,i,n)}t=t.child}return t;case 5:return Jo(t),null===e&&uo(t),i=t.type,r=t.pendingProps,a=null!==e?e.memoizedProps:null,s=r.children,nr(i,r)?s=null:null!==a&&nr(i,a)&&(t.flags|=32),ws(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&uo(t),null;case 13:return Ds(e,t,n);case 4:return Ko(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=ko(t,null,i,n):bs(e,t,i,n),t.child;case 11:return i=t.type,r=t.pendingProps,ks(e,t,i,r=t.elementType===i?r:ns(i,r),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,r=t.pendingProps,a=t.memoizedProps,s=r.value,Sr(Eo,i._currentValue),i._currentValue=s,null!==a)if(si(a.value,s)){if(a.children===r.children&&!Rr.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){s=a.child;for(var u=l.firstContext;null!==u;){if(u.context===i){if(1===a.tag){(u=Fo(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}a.lanes|=n,null!==(u=a.alternate)&&(u.lanes|=n),Ro(a.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),Ro(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,i=t.pendingProps.children,Oo(t,n),i=i(r=Ao(r)),t.flags|=1,bs(e,t,i,n),t.child;case 14:return r=ns(i=t.type,t.pendingProps),Ts(e,t,i,r=ns(i.type,r),n);case 15:return Es(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,r=t.pendingProps,r=t.elementType===i?r:ns(i,r),Hs(e,t),t.tag=1,Mr(i)?(e=!0,Pr(t)):e=!1,Oo(t,n),as(t,i,r),ls(t,i,r,n),Is(null,t,i,!0,e,n);case 19:return Zs(e,t,n);case 22:return xs(e,t,n)}throw Error(o(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Xu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Ku(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function qu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ju(){}function Qu(e,t,n,i,r){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof r){var s=r;r=function(){var e=zu(a);s.call(e)}}Hu(t,a,e,r)}else a=function(e,t,n,i,r){if(r){if("function"===typeof i){var o=i;i=function(){var e=zu(a);o.call(e)}}var a=Zu(t,i,e,0,null,!1,0,"",Ju);return e._reactRootContainer=a,e[pr]=a.current,Zi(8===e.nodeType?e.parentNode:e),cu(),a}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof i){var s=i;i=function(){var e=zu(l);s.call(e)}}var l=Uu(e,0,!1,null,0,!1,0,"",Ju);return e._reactRootContainer=l,e[pr]=l.current,Zi(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,i)})),l}(n,t,e,r,i);return zu(a)}Yu.prototype.render=Xu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Hu(e,t,null,null)},Yu.prototype.unmount=Xu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[pr]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=xt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Dt(e)}},kt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),iu(t,qe()),0===(6&Il)&&(Zl=qe()+500,Zr()))}break;case 13:cu((function(){var t=$o(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},Tt=function(e){if(13===e.tag){var t=$o(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},Et=function(e){if(13===e.tag){var t=tu(e),n=$o(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},xt=function(){return _t},wt=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},Te=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=kr(i);if(!r)throw Error(o(90));G(i),J(i,r)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uu,Re=cu;var ec={usingClientEntryPoint:!1,Events:[_r,br,kr,Se,Ce,uu]},tc={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{rt=ic.inject(nc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ku(t))throw Error(o(200));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:T,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Ku(e))throw Error(o(299));var n=!1,i="",r=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Uu(e,1,!1,null,0,n,0,i,r),e[pr]=t.current,Zi(8===e.nodeType?e.parentNode:e),new Xu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!qu(t))throw Error(o(200));return Qu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ku(e))throw Error(o(405));var i=null!=n&&n.hydratedSources||null,r=!1,a="",s=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Zu(t,null,e,1,null!=n?n:null,r,0,a,s),e[pr]=t.current,Zi(e),i)for(e=0;e<i.length;e++)r=(r=(n=i[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Yu(t)},t.render=function(e,t,n){if(!qu(t))throw Error(o(200));return Qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!qu(e))throw Error(o(40));return!!e._reactRootContainer&&(cu((function(){Qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pr]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!qu(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Qu(e,t,n,!1,i)},t.version="18.3.1-next-f1338f8080-20240426"},1250:function(e,t,n){"use strict";var i=n(4164);t.createRoot=i.createRoot,t.hydrateRoot=i.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},37:function(e,t,n){"use strict";var i=n(8416).default,r=n(215).default,o=n(2122).default,a=n(7424).default,s=n(6690).default,l=n(9728).default,u=n(6115).default,c=n(1655).default,h=n(6389).default,d=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"];Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"DraggableCore",{enumerable:!0,get:function(){return b.default}}),t.default=void 0;var f=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=E(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),p=T(n(2007)),v=T(n(4164)),g=T(n(742)),m=n(2280),y=n(580),_=n(2693),b=T(n(8091)),k=T(n(9392));function T(e){return e&&e.__esModule?e:{default:e}}function E(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(E=function(e){return e?n:t})(e)}function x(){return x=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},x.apply(this,arguments)}function w(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){c(n,e);var t=h(n);function n(e){var i;return s(this,n),i=t.call(this,e),w(u(i),"onDragStart",(function(e,t){if((0,k.default)("Draggable: onDragStart: %j",t),!1===i.props.onStart(e,(0,y.createDraggableData)(u(i),t)))return!1;i.setState({dragging:!0,dragged:!0})})),w(u(i),"onDrag",(function(e,t){if(!i.state.dragging)return!1;(0,k.default)("Draggable: onDrag: %j",t);var n=(0,y.createDraggableData)(u(i),t),r={x:n.x,y:n.y,slackX:0,slackY:0};if(i.props.bounds){var o=r.x,s=r.y;r.x+=i.state.slackX,r.y+=i.state.slackY;var l=(0,y.getBoundPosition)(u(i),r.x,r.y),c=a(l,2),h=c[0],d=c[1];r.x=h,r.y=d,r.slackX=i.state.slackX+(o-r.x),r.slackY=i.state.slackY+(s-r.y),n.x=r.x,n.y=r.y,n.deltaX=r.x-i.state.x,n.deltaY=r.y-i.state.y}if(!1===i.props.onDrag(e,n))return!1;i.setState(r)})),w(u(i),"onDragStop",(function(e,t){if(!i.state.dragging)return!1;if(!1===i.props.onStop(e,(0,y.createDraggableData)(u(i),t)))return!1;(0,k.default)("Draggable: onDragStop: %j",t);var n={dragging:!1,slackX:0,slackY:0};if(Boolean(i.props.position)){var r=i.props.position,o=r.x,a=r.y;n.x=o,n.y=a}i.setState(n)})),i.state={dragging:!1,dragged:!1,x:e.position?e.position.x:e.defaultPosition.x,y:e.position?e.position.y:e.defaultPosition.y,prevPropsPosition:o({},e.position),slackX:0,slackY:0,isElementSVG:!1},!e.position||e.onDrag||e.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),i}return l(n,[{key:"componentDidMount",value:function(){"undefined"!==typeof window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var e,t;return null!==(e=null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current)&&void 0!==e?e:v.default.findDOMNode(this)}},{key:"render",value:function(){var e,t=this.props,n=(t.axis,t.bounds,t.children),a=t.defaultPosition,s=t.defaultClassName,l=t.defaultClassNameDragging,u=t.defaultClassNameDragged,c=t.position,h=t.positionOffset,p=(t.scale,r(t,d)),v={},_=null,k=!Boolean(c)||this.state.dragging,T=c||a,E={x:(0,y.canDragX)(this)&&k?this.state.x:T.x,y:(0,y.canDragY)(this)&&k?this.state.y:T.y};this.state.isElementSVG?_=(0,m.createSVGTransform)(E,h):v=(0,m.createCSSTransform)(E,h);var w=(0,g.default)(n.props.className||"",s,(i(e={},l,this.state.dragging),i(e,u,this.state.dragged),e));return f.createElement(b.default,x({},p,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),f.cloneElement(f.Children.only(n),{className:w,style:o(o({},n.props.style),v),transform:_}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var n=e.position,i=t.prevPropsPosition;return!n||i&&n.x===i.x&&n.y===i.y?null:((0,k.default)("Draggable: getDerivedStateFromProps %j",{position:n,prevPropsPosition:i}),{x:n.x,y:n.y,prevPropsPosition:o({},n)})}}]),n}(f.Component);t.default=S,w(S,"displayName","Draggable"),w(S,"propTypes",o(o({},b.default.propTypes),{},{axis:p.default.oneOf(["both","x","y","none"]),bounds:p.default.oneOfType([p.default.shape({left:p.default.number,right:p.default.number,top:p.default.number,bottom:p.default.number}),p.default.string,p.default.oneOf([!1])]),defaultClassName:p.default.string,defaultClassNameDragging:p.default.string,defaultClassNameDragged:p.default.string,defaultPosition:p.default.shape({x:p.default.number,y:p.default.number}),positionOffset:p.default.shape({x:p.default.oneOfType([p.default.number,p.default.string]),y:p.default.oneOfType([p.default.number,p.default.string])}),position:p.default.shape({x:p.default.number,y:p.default.number}),className:_.dontSetMe,style:_.dontSetMe,transform:_.dontSetMe})),w(S,"defaultProps",o(o({},b.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}))},8091:function(e,t,n){"use strict";var i=n(7424).default,r=n(6690).default,o=n(9728).default,a=n(6115).default,s=n(1655).default,l=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=m(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(2791)),c=g(n(2007)),h=g(n(4164)),d=n(2280),f=n(580),p=n(2693),v=g(n(9392));function g(e){return e&&e.__esModule?e:{default:e}}function m(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(m=function(e){return e?n:t})(e)}function y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={start:"touchstart",move:"touchmove",stop:"touchend"},b={start:"mousedown",move:"mousemove",stop:"mouseup"},k=b,T=function(e){s(n,e);var t=l(n);function n(){var e;return r(this,n),e=t.apply(this,arguments),y(a(e),"dragging",!1),y(a(e),"lastX",NaN),y(a(e),"lastY",NaN),y(a(e),"touchIdentifier",null),y(a(e),"mounted",!1),y(a(e),"handleDragStart",(function(t){if(e.props.onMouseDown(t),!e.props.allowAnyClick&&"number"===typeof t.button&&0!==t.button)return!1;var n=e.findDOMNode();if(!n||!n.ownerDocument||!n.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var i=n.ownerDocument;if(!(e.props.disabled||!(t.target instanceof i.defaultView.Node)||e.props.handle&&!(0,d.matchesSelectorAndParentsTo)(t.target,e.props.handle,n)||e.props.cancel&&(0,d.matchesSelectorAndParentsTo)(t.target,e.props.cancel,n))){"touchstart"===t.type&&t.preventDefault();var r=(0,d.getTouchIdentifier)(t);e.touchIdentifier=r;var o=(0,f.getControlPosition)(t,r,a(e));if(null!=o){var s=o.x,l=o.y,u=(0,f.createCoreData)(a(e),s,l);(0,v.default)("DraggableCore: handleDragStart: %j",u),(0,v.default)("calling",e.props.onStart),!1!==e.props.onStart(t,u)&&!1!==e.mounted&&(e.props.enableUserSelectHack&&(0,d.addUserSelectStyles)(i),e.dragging=!0,e.lastX=s,e.lastY=l,(0,d.addEvent)(i,k.move,e.handleDrag),(0,d.addEvent)(i,k.stop,e.handleDragStop))}}})),y(a(e),"handleDrag",(function(t){var n=(0,f.getControlPosition)(t,e.touchIdentifier,a(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var s=r-e.lastX,l=o-e.lastY,u=(0,f.snapToGrid)(e.props.grid,s,l),c=i(u,2);if(s=c[0],l=c[1],!s&&!l)return;r=e.lastX+s,o=e.lastY+l}var h=(0,f.createCoreData)(a(e),r,o);if((0,v.default)("DraggableCore: handleDrag: %j",h),!1!==e.props.onDrag(t,h)&&!1!==e.mounted)e.lastX=r,e.lastY=o;else try{e.handleDragStop(new MouseEvent("mouseup"))}catch(p){var d=document.createEvent("MouseEvents");d.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.handleDragStop(d)}}})),y(a(e),"handleDragStop",(function(t){if(e.dragging){var n=(0,f.getControlPosition)(t,e.touchIdentifier,a(e));if(null!=n){var r=n.x,o=n.y;if(Array.isArray(e.props.grid)){var s=r-e.lastX||0,l=o-e.lastY||0,u=(0,f.snapToGrid)(e.props.grid,s,l),c=i(u,2);s=c[0],l=c[1],r=e.lastX+s,o=e.lastY+l}var h=(0,f.createCoreData)(a(e),r,o);if(!1===e.props.onStop(t,h)||!1===e.mounted)return!1;var p=e.findDOMNode();p&&e.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(p.ownerDocument),(0,v.default)("DraggableCore: handleDragStop: %j",h),e.dragging=!1,e.lastX=NaN,e.lastY=NaN,p&&((0,v.default)("DraggableCore: Removing handlers"),(0,d.removeEvent)(p.ownerDocument,k.move,e.handleDrag),(0,d.removeEvent)(p.ownerDocument,k.stop,e.handleDragStop))}}})),y(a(e),"onMouseDown",(function(t){return k=b,e.handleDragStart(t)})),y(a(e),"onMouseUp",(function(t){return k=b,e.handleDragStop(t)})),y(a(e),"onTouchStart",(function(t){return k=_,e.handleDragStart(t)})),y(a(e),"onTouchEnd",(function(t){return k=_,e.handleDragStop(t)})),e}return o(n,[{key:"componentDidMount",value:function(){this.mounted=!0;var e=this.findDOMNode();e&&(0,d.addEvent)(e,_.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var e=this.findDOMNode();if(e){var t=e.ownerDocument;(0,d.removeEvent)(t,b.move,this.handleDrag),(0,d.removeEvent)(t,_.move,this.handleDrag),(0,d.removeEvent)(t,b.stop,this.handleDragStop),(0,d.removeEvent)(t,_.stop,this.handleDragStop),(0,d.removeEvent)(e,_.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack&&(0,d.removeUserSelectStyles)(t)}}},{key:"findDOMNode",value:function(){var e,t;return null!==(e=this.props)&&void 0!==e&&e.nodeRef?null===(t=this.props)||void 0===t||null===(t=t.nodeRef)||void 0===t?void 0:t.current:h.default.findDOMNode(this)}},{key:"render",value:function(){return u.cloneElement(u.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}]),n}(u.Component);t.default=T,y(T,"displayName","DraggableCore"),y(T,"propTypes",{allowAnyClick:c.default.bool,children:c.default.node.isRequired,disabled:c.default.bool,enableUserSelectHack:c.default.bool,offsetParent:function(e,t){if(e[t]&&1!==e[t].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:c.default.arrayOf(c.default.number),handle:c.default.string,cancel:c.default.string,nodeRef:c.default.object,onStart:c.default.func,onDrag:c.default.func,onStop:c.default.func,onMouseDown:c.default.func,scale:c.default.number,className:p.dontSetMe,style:p.dontSetMe,transform:p.dontSetMe}),y(T,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1})},9962:function(e,t,n){"use strict";var i=n(37),r=i.default,o=i.DraggableCore;e.exports=r,e.exports.default=r,e.exports.DraggableCore=o},2280:function(e,t,n){"use strict";var i=n(8416).default,r=n(2122).default;Object.defineProperty(t,"__esModule",{value:!0}),t.addClassName=h,t.addEvent=function(e,t,n,i){if(!e)return;var o=r({capture:!0},i);e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},t.addUserSelectStyles=function(e){if(!e)return;var t=e.getElementById("react-draggable-style-el");t||((t=e.createElement("style")).type="text/css",t.id="react-draggable-style-el",t.innerHTML=".react-draggable-transparent-selection *::-moz-selection {all: inherit;}\n",t.innerHTML+=".react-draggable-transparent-selection *::selection {all: inherit;}\n",e.getElementsByTagName("head")[0].appendChild(t));e.body&&h(e.body,"react-draggable-transparent-selection")},t.createCSSTransform=function(e,t){var n=c(e,t,"px");return i({},(0,a.browserPrefixToKey)("transform",a.default),n)},t.createSVGTransform=function(e,t){return c(e,t,"")},t.getTouch=function(e,t){return e.targetTouches&&(0,o.findInArray)(e.targetTouches,(function(e){return t===e.identifier}))||e.changedTouches&&(0,o.findInArray)(e.changedTouches,(function(e){return t===e.identifier}))},t.getTouchIdentifier=function(e){if(e.targetTouches&&e.targetTouches[0])return e.targetTouches[0].identifier;if(e.changedTouches&&e.changedTouches[0])return e.changedTouches[0].identifier},t.getTranslation=c,t.innerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingTop),t-=(0,o.int)(n.paddingBottom)},t.innerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t-=(0,o.int)(n.paddingLeft),t-=(0,o.int)(n.paddingRight)},t.matchesSelector=u,t.matchesSelectorAndParentsTo=function(e,t,n){var i=e;do{if(u(i,t))return!0;if(i===n)return!1;i=i.parentNode}while(i);return!1},t.offsetXYFromParent=function(e,t,n){var i=t===t.ownerDocument.body?{left:0,top:0}:t.getBoundingClientRect(),r=(e.clientX+t.scrollLeft-i.left)/n,o=(e.clientY+t.scrollTop-i.top)/n;return{x:r,y:o}},t.outerHeight=function(e){var t=e.clientHeight,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderTopWidth),t+=(0,o.int)(n.borderBottomWidth)},t.outerWidth=function(e){var t=e.clientWidth,n=e.ownerDocument.defaultView.getComputedStyle(e);return t+=(0,o.int)(n.borderLeftWidth),t+=(0,o.int)(n.borderRightWidth)},t.removeClassName=d,t.removeEvent=function(e,t,n,i){if(!e)return;var o=r({capture:!0},i);e.removeEventListener?e.removeEventListener(t,n,o):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=null},t.removeUserSelectStyles=function(e){if(!e)return;try{if(e.body&&d(e.body,"react-draggable-transparent-selection"),e.selection)e.selection.empty();else{var t=(e.defaultView||window).getSelection();t&&"Caret"!==t.type&&t.removeAllRanges()}}catch(n){}};var o=n(2693),a=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==typeof e&&"function"!==typeof e)return{default:e};var n=s(t);if(n&&n.has(e))return n.get(e);var i={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if("default"!==o&&Object.prototype.hasOwnProperty.call(e,o)){var a=r?Object.getOwnPropertyDescriptor(e,o):null;a&&(a.get||a.set)?Object.defineProperty(i,o,a):i[o]=e[o]}i.default=e,n&&n.set(e,i);return i}(n(4021));function s(e){if("function"!==typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(s=function(e){return e?n:t})(e)}var l="";function u(e,t){return l||(l=(0,o.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],(function(t){return(0,o.isFunction)(e[t])}))),!!(0,o.isFunction)(e[l])&&e[l](t)}function c(e,t,n){var i=e.x,r=e.y,o="translate(".concat(i).concat(n,",").concat(r).concat(n,")");if(t){var a="".concat("string"===typeof t.x?t.x:t.x+n),s="".concat("string"===typeof t.y?t.y:t.y+n);o="translate(".concat(a,", ").concat(s,")")+o}return o}function h(e,t){e.classList?e.classList.add(t):e.className.match(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)")))||(e.className+=" ".concat(t))}function d(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(?:^|\\s)".concat(t,"(?!\\S)"),"g"),"")}},4021:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.browserPrefixToKey=r,t.browserPrefixToStyle=function(e,t){return t?"-".concat(t.toLowerCase(),"-").concat(e):e},t.default=void 0,t.getPrefix=i;var n=["Moz","Webkit","O","ms"];function i(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"===typeof window)return"";var i=null===(e=window.document)||void 0===e||null===(e=e.documentElement)||void 0===e?void 0:e.style;if(!i)return"";if(t in i)return"";for(var o=0;o<n.length;o++)if(r(t,n[o])in i)return n[o];return""}function r(e,t){return t?"".concat(t).concat(function(e){for(var t="",n=!0,i=0;i<e.length;i++)n?(t+=e[i].toUpperCase(),n=!1):"-"===e[i]?n=!0:t+=e[i];return t}(e)):e}t.default=i()},9392:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){0}},580:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canDragX=function(e){return"both"===e.props.axis||"x"===e.props.axis},t.canDragY=function(e){return"both"===e.props.axis||"y"===e.props.axis},t.createCoreData=function(e,t,n){var r=!(0,i.isNum)(e.lastX),a=o(e);return r?{node:a,deltaX:0,deltaY:0,lastX:t,lastY:n,x:t,y:n}:{node:a,deltaX:t-e.lastX,deltaY:n-e.lastY,lastX:e.lastX,lastY:e.lastY,x:t,y:n}},t.createDraggableData=function(e,t){var n=e.props.scale;return{node:t.node,x:e.state.x+t.deltaX/n,y:e.state.y+t.deltaY/n,deltaX:t.deltaX/n,deltaY:t.deltaY/n,lastX:e.state.x,lastY:e.state.y}},t.getBoundPosition=function(e,t,n){if(!e.props.bounds)return[t,n];var a=e.props.bounds;a="string"===typeof a?a:function(e){return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}(a);var s=o(e);if("string"===typeof a){var l,u=s.ownerDocument,c=u.defaultView;if(!((l="parent"===a?s.parentNode:u.querySelector(a))instanceof c.HTMLElement))throw new Error('Bounds selector "'+a+'" could not find an element.');var h=l,d=c.getComputedStyle(s),f=c.getComputedStyle(h);a={left:-s.offsetLeft+(0,i.int)(f.paddingLeft)+(0,i.int)(d.marginLeft),top:-s.offsetTop+(0,i.int)(f.paddingTop)+(0,i.int)(d.marginTop),right:(0,r.innerWidth)(h)-(0,r.outerWidth)(s)-s.offsetLeft+(0,i.int)(f.paddingRight)-(0,i.int)(d.marginRight),bottom:(0,r.innerHeight)(h)-(0,r.outerHeight)(s)-s.offsetTop+(0,i.int)(f.paddingBottom)-(0,i.int)(d.marginBottom)}}(0,i.isNum)(a.right)&&(t=Math.min(t,a.right));(0,i.isNum)(a.bottom)&&(n=Math.min(n,a.bottom));(0,i.isNum)(a.left)&&(t=Math.max(t,a.left));(0,i.isNum)(a.top)&&(n=Math.max(n,a.top));return[t,n]},t.getControlPosition=function(e,t,n){var i="number"===typeof t?(0,r.getTouch)(e,t):null;if("number"===typeof t&&!i)return null;var a=o(n),s=n.props.offsetParent||a.offsetParent||a.ownerDocument.body;return(0,r.offsetXYFromParent)(i||e,s,n.props.scale)},t.snapToGrid=function(e,t,n){var i=Math.round(t/e[0])*e[0],r=Math.round(n/e[1])*e[1];return[i,r]};var i=n(2693),r=n(2280);function o(e){var t=e.findDOMNode();if(!t)throw new Error("<DraggableCore>: Unmounted during event!");return t}},2693:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dontSetMe=function(e,t,n){if(e[t])return new Error("Invalid prop ".concat(t," passed to ").concat(n," - do not set this, set it on the child."))},t.findInArray=function(e,t){for(var n=0,i=e.length;n<i;n++)if(t.apply(t,[e[n],n,e]))return e[n]},t.int=function(e){return parseInt(e,10)},t.isFunction=function(e){return"function"===typeof e||"[object Function]"===Object.prototype.toString.call(e)},t.isNum=function(e){return"number"===typeof e&&!isNaN(e)}},742:function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function r(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}n.r(t),n.d(t,{clsx:function(){return r}}),t.default=r},1968:function(e){var t;"undefined"!==typeof self&&self,t=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=7)}([function(e,t,n){"use strict";e.exports=function(e,t,n,i,r,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,i,r,o,a,s],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(r){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var u in n=Object(arguments[l]))r.call(n,u)&&(s[u]=n[u]);if(i){a=i(n);for(var c=0;c<a.length;c++)o.call(n,a[c])&&(s[a[c]]=n[a[c]])}}return s}},function(e,t,n){"use strict";var i=n(1);e.exports=i},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";e.exports=function(e,t,n,i,r){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(8),a=u(o),s=u(n(11)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(14));function u(e){return e&&e.__esModule?e:{default:e}}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var h=function(e){function t(){var e,n,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=i=c(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),i.state={delayed:i.props.delay>0},c(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.delay;this.state.delayed&&(this.timeout=setTimeout((function(){e.setState({delayed:!1})}),t))}},{key:"componentWillUnmount",value:function(){var e=this.timeout;e&&clearTimeout(e)}},{key:"render",value:function(){var e=this.props,t=e.color,n=(e.delay,e.type),r=e.height,o=e.width,s=function(e,t){var n={};for(var i in e)t.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}(e,["color","delay","type","height","width"]),u=this.state.delayed?"blank":n,c=l[u],h={fill:t,height:r,width:o};return a.default.createElement("div",i({style:h,dangerouslySetInnerHTML:{__html:c}},s))}}]),t}(o.Component);h.propTypes={color:s.default.string,delay:s.default.number,type:s.default.string,height:s.default.oneOfType([s.default.string,s.default.number]),width:s.default.oneOfType([s.default.string,s.default.number])},h.defaultProps={color:"#fff",delay:0,type:"balls",height:64,width:64},t.default=h},function(e,t,n){"use strict";e.exports=n(9)},function(e,t,n){"use strict";var i=n(2),r=n(0),o=n(5),a=n(1),s="function"===typeof Symbol&&Symbol.for,l=s?Symbol.for("react.element"):60103,u=s?Symbol.for("react.portal"):60106,c=s?Symbol.for("react.fragment"):60107,h=s?Symbol.for("react.strict_mode"):60108,d=s?Symbol.for("react.provider"):60109,f=s?Symbol.for("react.context"):60110,p=s?Symbol.for("react.async_mode"):60111,v=s?Symbol.for("react.forward_ref"):60112,g="function"===typeof Symbol&&Symbol.iterator;function m(e){for(var t=arguments.length-1,n="http://reactjs.org/docs/error-decoder.html?invariant="+e,i=0;i<t;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}};function _(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||y}function b(){}function k(e,t,n){this.props=e,this.context=t,this.refs=o,this.updater=n||y}_.prototype.isReactComponent={},_.prototype.setState=function(e,t){"object"!==typeof e&&"function"!==typeof e&&null!=e&&m("85"),this.updater.enqueueSetState(this,e,t,"setState")},_.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},b.prototype=_.prototype;var T=k.prototype=new b;T.constructor=k,i(T,_.prototype),T.isPureReactComponent=!0;var E={current:null},x=Object.prototype.hasOwnProperty,w={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var i=void 0,r={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!w.hasOwnProperty(i)&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return{$$typeof:l,type:e,key:o,ref:a,props:r,_owner:E.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===l}var I=/\/+/g,R=[];function O(e,t,n,i){if(R.length){var r=R.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=i,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:i,count:0}}function A(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>R.length&&R.push(e)}function M(e,t,n,i){var r=typeof e;"undefined"!==r&&"boolean"!==r||(e=null);var o=!1;if(null===e)o=!0;else switch(r){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case l:case u:o=!0}}if(o)return n(i,e,""===t?"."+L(e,0):t),1;if(o=0,t=""===t?".":t+":",Array.isArray(e))for(var a=0;a<e.length;a++){var s=t+L(r=e[a],a);o+=M(r,s,n,i)}else if("function"===typeof(s=null===e||"undefined"===typeof e?null:"function"===typeof(s=g&&e[g]||e["@@iterator"])?s:null))for(e=s.call(e),a=0;!(r=e.next()).done;)o+=M(r=r.value,s=t+L(r,a++),n,i);else"object"===r&&m("31","[object Object]"===(n=""+e)?"object with keys {"+Object.keys(e).join(", ")+"}":n,"");return o}function L(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function N(e,t){e.func.call(e.context,t,e.count++)}function $(e,t,n){var i=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?P(e,i,n,a.thatReturnsArgument):null!=e&&(C(e)&&(t=r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(I,"$&/")+"/")+n,e={$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}),i.push(e))}function P(e,t,n,i,r){var o="";null!=n&&(o=(""+n).replace(I,"$&/")+"/"),t=O(t,o,i,r),null==e||M(e,"",$,t),A(t)}var D={Children:{map:function(e,t,n){if(null==e)return e;var i=[];return P(e,i,null,t,n),i},forEach:function(e,t,n){if(null==e)return e;t=O(null,null,t,n),null==e||M(e,"",N,t),A(t)},count:function(e){return null==e?0:M(e,"",a.thatReturnsNull,null)},toArray:function(e){var t=[];return P(e,t,null,a.thatReturnsArgument),t},only:function(e){return C(e)||m("143"),e}},createRef:function(){return{current:null}},Component:_,PureComponent:k,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:f,_calculateChangedBits:t,_defaultValue:e,_currentValue:e,_changedBits:0,Provider:null,Consumer:null}).Provider={$$typeof:d,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:v,render:e}},Fragment:c,StrictMode:h,unstable_AsyncMode:p,createElement:S,cloneElement:function(e,t,n){(null===e||void 0===e)&&m("267",e);var r=void 0,o=i({},e.props),a=e.key,s=e.ref,u=e._owner;if(null!=t){void 0!==t.ref&&(s=t.ref,u=E.current),void 0!==t.key&&(a=""+t.key);var c=void 0;for(r in e.type&&e.type.defaultProps&&(c=e.type.defaultProps),t)x.call(t,r)&&!w.hasOwnProperty(r)&&(o[r]=void 0===t[r]&&void 0!==c?c[r]:t[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){c=Array(r);for(var h=0;h<r;h++)c[h]=arguments[h+2];o.children=c}return{$$typeof:l,type:e.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(e){var t=S.bind(null,e);return t.type=e,t},isValidElement:C,version:"16.3.2",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:E,assign:i}},B=Object.freeze({default:D}),F=B&&D||B;e.exports=F.default?F.default:F},function(e,t,n){},function(e,t,n){e.exports=n(13)()},function(e,t,n){"use strict";var i=n(1),r=n(0),o=n(3),a=n(2),s=n(4),l=n(6);e.exports=function(e,t){var n="function"===typeof Symbol&&Symbol.iterator,u="@@iterator",c="<<anonymous>>",h={array:v("array"),bool:v("boolean"),func:v("function"),number:v("number"),object:v("object"),string:v("string"),symbol:v("symbol"),any:p(i.thatReturnsNull),arrayOf:function(e){return p((function(t,n,i,r,o){if("function"!==typeof e)return new f("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a))return new f("Invalid "+r+" `"+o+"` of type `"+m(a)+"` supplied to `"+i+"`, expected an array.");for(var l=0;l<a.length;l++){var u=e(a,l,i,r,o+"["+l+"]",s);if(u instanceof Error)return u}return null}))},element:p((function(t,n,i,r,o){var a=t[n];return e(a)?null:new f("Invalid "+r+" `"+o+"` of type `"+m(a)+"` supplied to `"+i+"`, expected a single ReactElement.")})),instanceOf:function(e){return p((function(t,n,i,r,o){if(!(t[n]instanceof e)){var a=e.name||c;return new f("Invalid "+r+" `"+o+"` of type `"+((s=t[n]).constructor&&s.constructor.name?s.constructor.name:c)+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}var s;return null}))},node:p((function(e,t,n,i,r){return g(e[t])?null:new f("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(e){return p((function(t,n,i,r,o){if("function"!==typeof e)return new f("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=t[n],l=m(a);if("object"!==l)return new f("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var u in a)if(a.hasOwnProperty(u)){var c=e(a,u,i,r,o+"."+u,s);if(c instanceof Error)return c}return null}))},oneOf:function(e){return Array.isArray(e)?p((function(t,n,i,r,o){for(var a=t[n],s=0;s<e.length;s++)if(d(a,e[s]))return null;return new f("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+JSON.stringify(e)+".")})):i.thatReturnsNull},oneOfType:function(e){if(!Array.isArray(e))return i.thatReturnsNull;for(var t=0;t<e.length;t++){var n=e[t];if("function"!==typeof n)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",_(n),t),i.thatReturnsNull}return p((function(t,n,i,r,o){for(var a=0;a<e.length;a++)if(null==(0,e[a])(t,n,i,r,o,s))return null;return new f("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")}))},shape:function(e){return p((function(t,n,i,r,o){var a=t[n],l=m(a);if("object"!==l)return new f("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var u in e){var c=e[u];if(c){var h=c(a,u,i,r,o+"."+u,s);if(h)return h}}return null}))},exact:function(e){return p((function(t,n,i,r,o){var l=t[n],u=m(l);if("object"!==u)return new f("Invalid "+r+" `"+o+"` of type `"+u+"` supplied to `"+i+"`, expected `object`.");var c=a({},t[n],e);for(var h in c){var d=e[h];if(!d)return new f("Invalid "+r+" `"+o+"` key `"+h+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var p=d(l,h,i,r,o+"."+h,s);if(p)return p}return null}))}};function d(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function f(e){this.message=e,this.stack=""}function p(e){function n(n,i,o,a,l,u,h){return a=a||c,u=u||o,h!==s&&t&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"),null==i[o]?n?null===i[o]?new f("The "+l+" `"+u+"` is marked as required in `"+a+"`, but its value is `null`."):new f("The "+l+" `"+u+"` is marked as required in `"+a+"`, but its value is `undefined`."):null:e(i,o,a,l,u)}var i=n.bind(null,!1);return i.isRequired=n.bind(null,!0),i}function v(e){return p((function(t,n,i,r,o,a){var s=t[n];return m(s)!==e?new f("Invalid "+r+" `"+o+"` of type `"+y(s)+"` supplied to `"+i+"`, expected `"+e+"`."):null}))}function g(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(g);if(null===t||e(t))return!0;var i=function(e){var t=e&&(n&&e[n]||e[u]);if("function"===typeof t)return t}(t);if(!i)return!1;var r,o=i.call(t);if(i!==t.entries){for(;!(r=o.next()).done;)if(!g(r.value))return!1}else for(;!(r=o.next()).done;){var a=r.value;if(a&&!g(a[1]))return!1}return!0;default:return!1}}function m(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"===typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function y(e){if("undefined"===typeof e||null===e)return""+e;var t=m(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=y(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return f.prototype=Error.prototype,h.checkPropTypes=l,h.PropTypes=h,h}},function(e,t,n){"use strict";var i=n(1),r=n(0),o=n(4);e.exports=function(){function e(e,t,n,i,a,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15);Object.defineProperty(t,"blank",{enumerable:!0,get:function(){return d(i).default}});var r=n(16);Object.defineProperty(t,"balls",{enumerable:!0,get:function(){return d(r).default}});var o=n(17);Object.defineProperty(t,"bars",{enumerable:!0,get:function(){return d(o).default}});var a=n(18);Object.defineProperty(t,"bubbles",{enumerable:!0,get:function(){return d(a).default}});var s=n(19);Object.defineProperty(t,"cubes",{enumerable:!0,get:function(){return d(s).default}});var l=n(20);Object.defineProperty(t,"cylon",{enumerable:!0,get:function(){return d(l).default}});var u=n(21);Object.defineProperty(t,"spin",{enumerable:!0,get:function(){return d(u).default}});var c=n(22);Object.defineProperty(t,"spinningBubbles",{enumerable:!0,get:function(){return d(c).default}});var h=n(23);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"spokes",{enumerable:!0,get:function(){return d(h).default}})},function(e,t){e.exports='<svg class="icon-blank" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"></svg>\n'},function(e,t){e.exports='<svg class="icon-loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M4 12 A4 4 0 0 0 4 20 A4 4 0 0 0 4 12"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(2)" d="M0 12 V20 H4 V12z"> \n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(8)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.2" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(14)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.4" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(20)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.6" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n  <path transform="translate(26)" d="M0 12 V20 H4 V12z">\n    <animate attributeName="d" values="M0 12 V20 H4 V12z; M0 4 V28 H4 V4z; M0 12 V20 H4 V12z; M0 12 V20 H4 V12z" dur="1.2s" repeatCount="indefinite" begin="0.8" keytimes="0;.2;.5;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.8 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle transform="translate(8 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(16 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.3"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="translate(24 0)" cx="0" cy="16" r="0"> \n    <animate attributeName="r" values="0; 4; 0; 0" dur="1.2s" repeatCount="indefinite" begin="0.6"\n      keytimes="0;0.2;0.7;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(-8 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="-8 0; 2 0; 2 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.25;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(2 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="2 0; 12 0; 12 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.35;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(12 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="12 0; 22 0; 22 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.45;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n  <path transform="translate(24 0)" d="M0 12 V20 H8 V12z"> \n    <animateTransform attributeName="transform" type="translate" values="22 0; 32 0; 32 0;" dur="0.8s" repeatCount="indefinite" begin="0" keytimes="0;.55;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.6 0.4 0.8" calcMode="spline"  />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.5" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.1s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n  <path opacity="0.25" transform="translate(0 0)" d="M0 12 V20 H4 V12z">\n    <animateTransform attributeName="transform" type="translate" values="0 0; 28 0; 0 0; 0 0" dur="1.5s" begin="0.2s" repeatCount="indefinite" keytimes="0;0.3;0.6;1" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".25" d="M16 0 A16 16 0 0 0 16 32 A16 16 0 0 0 16 0 M16 4 A12 12 0 0 1 16 28 A12 12 0 0 1 16 4"/>\n  <path d="M16 0 A16 16 0 0 1 32 16 L28 16 A12 12 0 0 0 16 4z">\n    <animateTransform attributeName="transform" type="rotate" from="0 16 16" to="360 16 16" dur="0.8s" repeatCount="indefinite" />\n  </path>\n</svg>\n'},function(e,t){e.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <circle cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(45 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.125s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(90 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.25s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(135 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.375s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(225 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.625s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(270 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.75s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(315 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.875s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n  <circle transform="rotate(180 16 16)" cx="16" cy="3" r="0">\n    <animate attributeName="r" values="0;3;0;0" dur="1s" repeatCount="indefinite" begin="0.5s" keySplines="0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8;0.2 0.2 0.4 0.8" calcMode="spline" />\n  </circle>\n</svg>\n'},function(e,t){e.exports='<svg id="loading" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32">\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(0 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(45 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.125s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(90 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.25s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(135 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.375s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(180 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.5s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(225 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.675s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(270 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.75s"/>\n  </path>\n  <path opacity=".1" d="M14 0 H18 V8 H14 z" transform="rotate(315 16 16)">\n    <animate attributeName="opacity" from="1" to=".1" dur="1s" repeatCount="indefinite" begin="0.875s"/>\n  </path>\n</svg>\n'}])},e.exports=t()},6374:function(e,t,n){"use strict";var i=n(2791),r=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var i,o={},u=null,c=null;for(i in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,i)&&!l.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps)void 0===o[i]&&(o[i]=t[i]);return{$$typeof:r,type:e,key:u,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=u,t.jsxs=u},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var b=_.prototype=new y;b.constructor=_,v(b,m.prototype),b.isPureReactComponent=!0;var k=Array.isArray,T=Object.prototype.hasOwnProperty,E={current:null},x={key:!0,ref:!0,__self:!0,__source:!0};function w(e,t,i){var r,o={},a=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)T.call(t,r)&&!x.hasOwnProperty(r)&&(o[r]=t[r]);var l=arguments.length-2;if(1===l)o.children=i;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];o.children=u}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:E.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function R(e,t,r,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l=!1;if(null===e)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case i:l=!0}}if(l)return a=a(l=e),e=""===o?"."+I(l,0):o,k(a)?(r="",null!=e&&(r=e.replace(C,"$&/")+"/"),R(a,t,r,"",(function(e){return e}))):null!=a&&(S(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,r+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,o=""===o?".":o+":",k(e))for(var u=0;u<e.length;u++){var c=o+I(s=e[u],u);l+=R(s,t,r,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(s=e.next()).done;)l+=R(s=s.value,t,r,c=o+I(s,u++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,n){if(null==e)return e;var i=[],r=0;return R(e,i,"","",(function(e){return t.call(n,e,r++)})),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},L={transition:null},N={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:L,ReactCurrentOwner:E};function $(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=r,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=$,t.cloneElement=function(e,t,i){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=E.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)T.call(t,u)&&!x.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=i;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:n,type:e.type,key:o,ref:a,props:r,_owner:s}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=w,t.createFactory=function(e){var t=w.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=$,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,a=r>>>1;i<a;){var s=2*(i+1)-1,l=e[s],u=s+1,c=e[u];if(0>o(l,n))u<r&&0>o(c,l)?(e[i]=c,e[u]=n,i=u):(e[i]=l,e[s]=n,i=s);else{if(!(u<r&&0>o(c,n)))break e;e[i]=c,e[u]=n,i=u}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var u=[],c=[],h=1,d=null,f=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=i(c);null!==t;){if(null===t.callback)r(c);else{if(!(t.startTime<=e))break;r(c),t.sortIndex=t.expirationTime,n(u,t)}t=i(c)}}function k(e){if(g=!1,b(e),!v)if(null!==i(u))v=!0,L(T);else{var t=i(c);null!==t&&N(k,t.startTime-e)}}function T(e,n){v=!1,g&&(g=!1,y(S),S=-1),p=!0;var o=f;try{for(b(n),d=i(u);null!==d&&(!(d.expirationTime>n)||e&&!R());){var a=d.callback;if("function"===typeof a){d.callback=null,f=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===i(u)&&r(u),b(n)}else r(u);d=i(u)}if(null!==d)var l=!0;else{var h=i(c);null!==h&&N(k,h.startTime-n),l=!1}return l}finally{d=null,f=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,x=!1,w=null,S=-1,C=5,I=-1;function R(){return!(t.unstable_now()-I<C)}function O(){if(null!==w){var e=t.unstable_now();I=e;var n=!0;try{n=w(!0,e)}finally{n?E():(x=!1,w=null)}}else x=!1}if("function"===typeof _)E=function(){_(O)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,M=A.port2;A.port1.onmessage=O,E=function(){M.postMessage(null)}}else E=function(){m(O,0)};function L(e){w=e,x||(x=!0,E())}function N(e,n){S=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(T))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return i(u)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:r,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===i(u)&&e===i(c)&&(g?(y(S),S=-1):g=!0,N(k,o-a))):(e.sortIndex=s,n(u,e),v||p||(v=!0,L(T))),e},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var i=n(3897);e.exports=function(e){if(Array.isArray(e))return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var i=n(6015),r=n(9617);e.exports=function(e,t,n){if(r())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,t);var a=new(e.bind.apply(e,o));return n&&i(a,n.prototype),a},e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var i=n(4062);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}e.exports=function(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var i=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=i(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var i=n(3808),r=n(9617),o=n(4993);e.exports=function(e){var t=r();return function(){var n,r=i(e);if(t){var a=i(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var i=n(4062);e.exports=function(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},434:function(e){function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1588:function(e,t,n){var i=n(1753);function r(){return"undefined"!==typeof Reflect&&Reflect.get?(e.exports=r=Reflect.get.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=r=function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},e.exports.__esModule=!0,e.exports.default=e.exports),r.apply(this,arguments)}e.exports=r,e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var i=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},4836:function(e){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){function t(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(n){}return(e.exports=t=function(){return!!n},e.exports.__esModule=!0,e.exports.default=e.exports)()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var i=n(8416);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},215:function(e,t,n){var i=n(7071);e.exports=function(e,t){if(null==e)return{};var n,r,o=i(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o},e.exports.__esModule=!0,e.exports.default=e.exports},7071:function(e){e.exports=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var i=n(8698).default,r=n(6115);e.exports=function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,i){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var i=n(5372),r=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return i(e)||r(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},1753:function(e,t,n){var i=n(3808);e.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var i=n(3405),r=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return i(e)||r(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var i=n(8698).default;e.exports=function(e,t){if("object"!=i(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var i=n(8698).default,r=n(5036);e.exports=function(e){var t=r(e,"string");return"symbol"==i(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var i=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var i=n(3808),r=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,i(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),r(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}n.d(t,{Z:function(){return i}})},3878:function(e,t,n){"use strict";function i(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return i}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var i=n(9142);function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(0,i.Z)(r.key),r)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(9142);function r(e,t,n){return(t=(0,i.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},7462:function(e,t,n){"use strict";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},i.apply(this,arguments)}n.d(t,{Z:function(){return i}})},9199:function(e,t,n){"use strict";function i(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return i}})},5267:function(e,t,n){"use strict";function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return i}})},3366:function(e,t,n){"use strict";function i(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}n.d(t,{Z:function(){return i}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(3878);var r=n(181),o=n(5267);function a(e,t){return(0,i.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,a,s=[],l=!0,u=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(s.push(i.value),s.length!==t);l=!0);}catch(e){u=!0,r=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw r}}return s}}(e,t)||(0,r.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var i=n(907);var r=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,i.Z)(e)}(e)||(0,r.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(1002);function r(e){var t=function(e,t){if("object"!=(0,i.Z)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=(0,i.Z)(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,i.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}n.d(t,{Z:function(){return i}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});var i=n(907);function r(e,t){if(e){if("string"===typeof e)return(0,i.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,i.Z)(e,t):void 0}}},3733:function(e,t,n){"use strict";function i(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var o=e.length;for(t=0;t<o;t++)e[t]&&(n=i(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}t.Z=function(){for(var e,t,n=0,r="",o=arguments.length;n<o;n++)(e=arguments[n])&&(t=i(e))&&(r&&(r+=" "),r+=t);return r}}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(i,r){if(1&r&&(i=this(i)),8&r)return i;if("object"===typeof i&&i){if(4&r&&i.__esModule)return i;if(16&r&&"function"===typeof i.then)return i}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&r&&i;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return i[e]}}));return a.default=function(){return i},n.d(o,a),o}}(),n.d=function(e,t){for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,i){return n.f[i](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".8bed3ce4.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="microscope-app:";n.l=function(i,r,o,a){if(e[i])e[i].push(r);else{var s,l;if(void 0!==o)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==i||h.getAttribute("data-webpack")==t+o){s=h;break}}s||(l=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=i),e[i]=[r];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(f);var r=e[i];if(delete e[i],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),l&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/imswitch/",function(){var e={179:0};n.f.j=function(t,i){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((function(n,i){r=e[t]=[n,i]}));i.push(r[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(i){if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),a=i&&i.target&&i.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,r[1](s)}}),"chunk-"+t,t)}};var t=function(t,i){var r,o,a=i[0],s=i[1],l=i[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(l)l(n)}for(t&&t(i);u<a.length;u++)o=a[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkmicroscope_app=self.webpackChunkmicroscope_app||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}(),function(){"use strict";var e={};n.r(e),n.d(e,{Decoder:function(){return g_},Encoder:function(){return p_},PacketType:function(){return h_},protocol:function(){return f_}});var t={};n.r(t),n.d(t,{hasBrowserEnv:function(){return E$},hasStandardBrowserEnv:function(){return w$},hasStandardBrowserWebWorkerEnv:function(){return S$},navigator:function(){return x$},origin:function(){return C$}});var i=n(2791),r=n(1250),o=n(181);function a(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,o.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,r=function(){};return{s:r,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}var s=n(3433),l=n(1002);function u(){u=function(){return t};var e,t={},n=Object.prototype,i=n.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function h(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{h({},"")}catch(e){h=function(e,t,n){return e[t]=n}}function d(e,t,n,i){var o=t&&t.prototype instanceof _?t:_,a=Object.create(o.prototype),s=new M(i||[]);return r(a,"_invoke",{value:I(e,n,s)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=d;var p="suspendedStart",v="suspendedYield",g="executing",m="completed",y={};function _(){}function b(){}function k(){}var T={};h(T,a,(function(){return this}));var E=Object.getPrototypeOf,x=E&&E(E(L([])));x&&x!==n&&i.call(x,a)&&(T=x);var w=k.prototype=_.prototype=Object.create(T);function S(e){["next","throw","return"].forEach((function(t){h(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(r,o,a,s){var u=f(e[r],e,o);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==(0,l.Z)(h)&&i.call(h,"__await")?t.resolve(h.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var o;r(this,"_invoke",{value:function(e,i){function r(){return new t((function(t,r){n(e,i,t,r)}))}return o=o?o.then(r,r):r()}})}function I(t,n,i){var r=p;return function(o,a){if(r===g)throw new Error("Generator is already running");if(r===m){if("throw"===o)throw a;return{value:e,done:!0}}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var l=R(s,i);if(l){if(l===y)continue;return l}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===p)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=g;var u=f(t,n,i);if("normal"===u.type){if(r=i.done?m:v,u.arg===y)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=m,i.method="throw",i.arg=u.arg)}}}function R(t,n){var i=n.method,r=t.iterator[i];if(r===e)return n.delegate=null,"throw"===i&&t.iterator.return&&(n.method="return",n.arg=e,R(t,n),"throw"===n.method)||"return"!==i&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+i+"' method")),y;var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,y;var a=o.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function L(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}throw new TypeError((0,l.Z)(t)+" is not iterable")}return b.prototype=k,r(w,"constructor",{value:k,configurable:!0}),r(k,"constructor",{value:b,configurable:!0}),b.displayName=h(k,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===b||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,k):(e.__proto__=k,h(e,c,"GeneratorFunction")),e.prototype=Object.create(w),e},t.awrap=function(e){return{__await:e}},S(C.prototype),h(C.prototype,s,(function(){return this})),t.AsyncIterator=C,t.async=function(e,n,i,r,o){void 0===o&&(o=Promise);var a=new C(d(e,n,i,r),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},S(w),h(w,c,"Generator"),h(w,a,(function(){return this})),h(w,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var i in t)n.push(i);return n.reverse(),function e(){for(;n.length;){var i=n.pop();if(i in t)return e.value=i,e.done=!1,e}return e.done=!0,e}},t.values=L,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(i,r){return s.type="throw",s.arg=t,n.next=i,r&&(n.method="next",n.arg=e),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var l=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(l&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var i=n.completion;if("throw"===i.type){var r=i.arg;A(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,i){return this.delegate={iterator:L(t),resultName:n,nextLoc:i},"next"===this.method&&(this.arg=e),y}},t}function c(e,t,n,i,r,o,a){try{var s=e[o](a),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(i,r)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(i,r){var o=e.apply(t,n);function a(e){c(o,i,r,a,s,"next",e)}function s(e){c(o,i,r,a,s,"throw",e)}a(void 0)}))}}var d=n(9439),f=n(6189),p=n(184),v=(0,f.Z)((0,p.jsx)("path",{d:"M6 6h12v12H6z"}),"Stop"),g=(0,f.Z)((0,p.jsx)("path",{d:"M8 5v14l11-7z"}),"PlayArrow"),m=(0,f.Z)([(0,p.jsx)("circle",{cx:"12",cy:"12",r:"3.2"},"0"),(0,p.jsx)("path",{d:"M9 2 7.17 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2h-3.17L15 2zm3 15c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5"},"1")],"CameraAlt"),y=(0,f.Z)((0,p.jsx)("circle",{cx:"12",cy:"12",r:"8"}),"FiberManualRecord"),_=n(7462),b=n(3366),k=n(3733),T=n(6649),E=n(104),x=n(8519),w=n(8809),S=n(5218);var C=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=i.useContext(S.T);return n&&(e=n,0!==Object.keys(e).length)?n:t},I=(0,w.Z)();var R=function(){return C(arguments.length>0&&void 0!==arguments[0]?arguments[0]:I)},O=["className","component"];var A=n(5902),M=n(4584),L=n(988),N=n(5878),$=(0,N.Z)("MuiBox",["root"]),P=(0,M.Z)(),D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,r=e.defaultClassName,o=void 0===r?"MuiBox-root":r,a=e.generateClassName,s=(0,T.default)("div",{shouldForwardProp:function(e){return"theme"!==e&&"sx"!==e&&"as"!==e}})(E.Z);return i.forwardRef((function(e,i){var r=R(n),l=(0,x.Z)(e),u=l.className,c=l.component,h=void 0===c?"div":c,d=(0,b.Z)(l,O);return(0,p.jsx)(s,(0,_.Z)({as:h,ref:i,className:(0,k.Z)(u,a?a(o):o),theme:t&&r[t]||r},d))}))}({themeId:L.Z,defaultTheme:P,defaultClassName:$.root,generateClassName:A.Z.generate}),B=D,F=n(4419),U=n(6934),j=n(1020),Z=n(4036),H=n(1217);function z(e){return(0,H.ZP)("MuiTypography",e)}(0,N.Z)("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);var V=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],W=(0,U.ZP)("span",{name:"MuiTypography",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat((0,Z.Z)(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({margin:0},"inherit"===n.variant&&{font:"inherit"},"inherit"!==n.variant&&t.typography[n.variant],"inherit"!==n.align&&{textAlign:n.align},n.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},n.gutterBottom&&{marginBottom:"0.35em"},n.paragraph&&{marginBottom:16})})),G={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},X={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},Y=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiTypography"}),i=function(e){return X[e]||e}(n.color),r=(0,x.Z)((0,_.Z)({},n,{color:i})),o=r.align,a=void 0===o?"inherit":o,s=r.className,l=r.component,u=r.gutterBottom,c=void 0!==u&&u,h=r.noWrap,d=void 0!==h&&h,f=r.paragraph,v=void 0!==f&&f,g=r.variant,m=void 0===g?"body1":g,y=r.variantMapping,T=void 0===y?G:y,E=(0,b.Z)(r,V),w=(0,_.Z)({},r,{align:a,color:i,className:s,component:l,gutterBottom:c,noWrap:d,paragraph:v,variant:m,variantMapping:T}),S=l||(v?"p":T[m]||G[m])||"span",C=function(e){var t=e.align,n=e.gutterBottom,i=e.noWrap,r=e.paragraph,o=e.variant,a=e.classes,s={root:["root",o,"inherit"!==e.align&&"align".concat((0,Z.Z)(t)),n&&"gutterBottom",i&&"noWrap",r&&"paragraph"]};return(0,F.Z)(s,z,a)}(w);return(0,p.jsx)(W,(0,_.Z)({as:S,ref:t,ownerState:w,className:(0,k.Z)(C.root,s)},E))})),K=n(4942),q=n(8748),J=n(4131),Q=n(5070),ee=n(2071),te=n(9683),ne=n(8221);function ie(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oe(e,t){return oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},oe(e,t)}function ae(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,oe(e,t)}var se=i.createContext(null);function le(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function ue(e,t,n){return null!=n[t]?n[t]:e.props[t]}function ce(e,t,n){var r=le(e.children),o=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var i,r=Object.create(null),o=[];for(var a in e)a in t?o.length&&(r[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(r[l])for(i=0;i<r[l].length;i++){var u=r[l][i];s[r[l][i]]=n(u)}s[l]=n(l)}for(i=0;i<o.length;i++)s[o[i]]=n(o[i]);return s}(t,r);return Object.keys(o).forEach((function(a){var s=o[a];if((0,i.isValidElement)(s)){var l=a in t,u=a in r,c=t[a],h=(0,i.isValidElement)(c)&&!c.props.in;!u||l&&!h?u||!l||h?u&&l&&(0,i.isValidElement)(c)&&(o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:c.props.in,exit:ue(s,"exit",e),enter:ue(s,"enter",e)})):o[a]=(0,i.cloneElement)(s,{in:!1}):o[a]=(0,i.cloneElement)(s,{onExited:n.bind(null,s),in:!0,exit:ue(s,"exit",e),enter:ue(s,"enter",e)})}})),o}var he=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},de=function(e){function t(t,n){var i,r=(i=e.call(this,t,n)||this).handleExited.bind(re(i));return i.state={contextValue:{isMounting:!0},handleExited:r,firstRender:!0},i}ae(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,o=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,le(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:ue(e,"appear",n),enter:ue(e,"enter",n),exit:ue(e,"exit",n)})}))):ce(e,o,a),firstRender:!1}},n.handleExited=function(e,t){var n=le(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=(0,_.Z)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=(0,b.Z)(e,["component","childFactory"]),o=this.state.contextValue,a=he(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(se.Provider,{value:o},a):i.createElement(se.Provider,{value:o},i.createElement(t,r,a))},t}(i.Component);de.propTypes={},de.defaultProps={component:"div",childFactory:function(e){return e}};var fe=de,pe=n(2554),ve=n(7082);var ge=function(e){var t=e.className,n=e.classes,r=e.pulsate,o=void 0!==r&&r,a=e.rippleX,s=e.rippleY,l=e.rippleSize,u=e.in,c=e.onExited,h=e.timeout,f=i.useState(!1),v=(0,d.Z)(f,2),g=v[0],m=v[1],y=(0,k.Z)(t,n.ripple,n.rippleVisible,o&&n.ripplePulsate),_={width:l,height:l,top:-l/2+s,left:-l/2+a},b=(0,k.Z)(n.child,g&&n.childLeaving,o&&n.childPulsate);return u||g||m(!0),i.useEffect((function(){if(!u&&null!=c){var e=setTimeout(c,h);return function(){clearTimeout(e)}}}),[c,u,h]),(0,p.jsx)("span",{className:y,style:_,children:(0,p.jsx)("span",{className:b})})};var me,ye,_e,be,ke,Te,Ee,xe,we=(0,N.Z)("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),Se=["center","classes","className"],Ce=(0,pe.F4)(ke||(ke=me||(me=ie(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"])))),Ie=(0,pe.F4)(Te||(Te=ye||(ye=ie(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"])))),Re=(0,pe.F4)(Ee||(Ee=_e||(_e=ie(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"])))),Oe=(0,U.ZP)("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),Ae=(0,U.ZP)(ge,{name:"MuiTouchRipple",slot:"Ripple"})(xe||(xe=be||(be=ie(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"]))),we.rippleVisible,Ce,550,(function(e){return e.theme.transitions.easing.easeInOut}),we.ripplePulsate,(function(e){return e.theme.transitions.duration.shorter}),we.child,we.childLeaving,Ie,550,(function(e){return e.theme.transitions.easing.easeInOut}),we.childPulsate,Re,(function(e){return e.theme.transitions.easing.easeInOut})),Me=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiTouchRipple"}),r=n.center,o=void 0!==r&&r,a=n.classes,l=void 0===a?{}:a,u=n.className,c=(0,b.Z)(n,Se),h=i.useState([]),f=(0,d.Z)(h,2),v=f[0],g=f[1],m=i.useRef(0),y=i.useRef(null);i.useEffect((function(){y.current&&(y.current(),y.current=null)}),[v]);var T=i.useRef(!1),E=(0,ve.Z)(),x=i.useRef(null),w=i.useRef(null),S=i.useCallback((function(e){var t=e.pulsate,n=e.rippleX,i=e.rippleY,r=e.rippleSize,o=e.cb;g((function(e){return[].concat((0,s.Z)(e),[(0,p.jsx)(Ae,{classes:{ripple:(0,k.Z)(l.ripple,we.ripple),rippleVisible:(0,k.Z)(l.rippleVisible,we.rippleVisible),ripplePulsate:(0,k.Z)(l.ripplePulsate,we.ripplePulsate),child:(0,k.Z)(l.child,we.child),childLeaving:(0,k.Z)(l.childLeaving,we.childLeaving),childPulsate:(0,k.Z)(l.childPulsate,we.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:i,rippleSize:r},m.current)])})),m.current+=1,y.current=o}),[l]),C=i.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=t.pulsate,r=void 0!==i&&i,a=t.center,s=void 0===a?o||t.pulsate:a,l=t.fakeElement,u=void 0!==l&&l;if("mousedown"===(null==e?void 0:e.type)&&T.current)T.current=!1;else{"touchstart"===(null==e?void 0:e.type)&&(T.current=!0);var c,h,d,f=u?null:w.current,p=f?f.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(p.width/2),h=Math.round(p.height/2);else{var v=e.touches&&e.touches.length>0?e.touches[0]:e,g=v.clientX,m=v.clientY;c=Math.round(g-p.left),h=Math.round(m-p.top)}if(s)(d=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(d+=1);else{var y=2*Math.max(Math.abs((f?f.clientWidth:0)-c),c)+2,_=2*Math.max(Math.abs((f?f.clientHeight:0)-h),h)+2;d=Math.sqrt(Math.pow(y,2)+Math.pow(_,2))}null!=e&&e.touches?null===x.current&&(x.current=function(){S({pulsate:r,rippleX:c,rippleY:h,rippleSize:d,cb:n})},E.start(80,(function(){x.current&&(x.current(),x.current=null)}))):S({pulsate:r,rippleX:c,rippleY:h,rippleSize:d,cb:n})}}),[o,S,E]),I=i.useCallback((function(){C({},{pulsate:!0})}),[C]),R=i.useCallback((function(e,t){if(E.clear(),"touchend"===(null==e?void 0:e.type)&&x.current)return x.current(),x.current=null,void E.start(0,(function(){R(e,t)}));x.current=null,g((function(e){return e.length>0?e.slice(1):e})),y.current=t}),[E]);return i.useImperativeHandle(t,(function(){return{pulsate:I,start:C,stop:R}}),[I,C,R]),(0,p.jsx)(Oe,(0,_.Z)({className:(0,k.Z)(we.root,l.root,u),ref:w},c,{children:(0,p.jsx)(fe,{component:null,exit:!0,children:v})}))})),Le=Me;function Ne(e){return(0,H.ZP)("MuiButtonBase",e)}var $e,Pe=(0,N.Z)("MuiButtonBase",["root","disabled","focusVisible"]),De=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],Be=(0,U.ZP)("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:function(e,t){return t.root}})(($e={display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"}},(0,K.Z)($e,"&.".concat(Pe.disabled),{pointerEvents:"none",cursor:"default"}),(0,K.Z)($e,"@media print",{colorAdjust:"exact"}),$e)),Fe=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiButtonBase"}),r=n.action,o=n.centerRipple,a=void 0!==o&&o,s=n.children,l=n.className,u=n.component,c=void 0===u?"button":u,h=n.disabled,f=void 0!==h&&h,v=n.disableRipple,g=void 0!==v&&v,m=n.disableTouchRipple,y=void 0!==m&&m,T=n.focusRipple,E=void 0!==T&&T,x=n.LinkComponent,w=void 0===x?"a":x,S=n.onBlur,C=n.onClick,I=n.onContextMenu,R=n.onDragLeave,O=n.onFocus,A=n.onFocusVisible,M=n.onKeyDown,L=n.onKeyUp,N=n.onMouseDown,$=n.onMouseLeave,P=n.onMouseUp,D=n.onTouchEnd,B=n.onTouchMove,U=n.onTouchStart,Z=n.tabIndex,H=void 0===Z?0:Z,z=n.TouchRippleProps,V=n.touchRippleRef,W=n.type,G=(0,b.Z)(n,De),X=i.useRef(null),Y=i.useRef(null),K=(0,ee.Z)(Y,V),q=(0,ne.Z)(),J=q.isFocusVisibleRef,Q=q.onFocus,ie=q.onBlur,re=q.ref,oe=i.useState(!1),ae=(0,d.Z)(oe,2),se=ae[0],le=ae[1];f&&se&&le(!1),i.useImperativeHandle(r,(function(){return{focusVisible:function(){le(!0),X.current.focus()}}}),[]);var ue=i.useState(!1),ce=(0,d.Z)(ue,2),he=ce[0],de=ce[1];i.useEffect((function(){de(!0)}),[]);var fe=he&&!g&&!f;function pe(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:y;return(0,te.Z)((function(i){return t&&t(i),!n&&Y.current&&Y.current[e](i),!0}))}i.useEffect((function(){se&&E&&!g&&he&&Y.current.pulsate()}),[g,E,se,he]);var ve=pe("start",N),ge=pe("stop",I),me=pe("stop",R),ye=pe("stop",P),_e=pe("stop",(function(e){se&&e.preventDefault(),$&&$(e)})),be=pe("start",U),ke=pe("stop",D),Te=pe("stop",B),Ee=pe("stop",(function(e){ie(e),!1===J.current&&le(!1),S&&S(e)}),!1),xe=(0,te.Z)((function(e){X.current||(X.current=e.currentTarget),Q(e),!0===J.current&&(le(!0),A&&A(e)),O&&O(e)})),we=function(){var e=X.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},Se=i.useRef(!1),Ce=(0,te.Z)((function(e){E&&!Se.current&&se&&Y.current&&" "===e.key&&(Se.current=!0,Y.current.stop(e,(function(){Y.current.start(e)}))),e.target===e.currentTarget&&we()&&" "===e.key&&e.preventDefault(),M&&M(e),e.target===e.currentTarget&&we()&&"Enter"===e.key&&!f&&(e.preventDefault(),C&&C(e))})),Ie=(0,te.Z)((function(e){E&&" "===e.key&&Y.current&&se&&!e.defaultPrevented&&(Se.current=!1,Y.current.stop(e,(function(){Y.current.pulsate(e)}))),L&&L(e),C&&e.target===e.currentTarget&&we()&&" "===e.key&&!e.defaultPrevented&&C(e)})),Re=c;"button"===Re&&(G.href||G.to)&&(Re=w);var Oe={};"button"===Re?(Oe.type=void 0===W?"button":W,Oe.disabled=f):(G.href||G.to||(Oe.role="button"),f&&(Oe["aria-disabled"]=f));var Ae=(0,ee.Z)(t,re,X);var Me=(0,_.Z)({},n,{centerRipple:a,component:c,disabled:f,disableRipple:g,disableTouchRipple:y,focusRipple:E,tabIndex:H,focusVisible:se}),$e=function(e){var t=e.disabled,n=e.focusVisible,i=e.focusVisibleClassName,r=e.classes,o={root:["root",t&&"disabled",n&&"focusVisible"]},a=(0,F.Z)(o,Ne,r);return n&&i&&(a.root+=" ".concat(i)),a}(Me);return(0,p.jsxs)(Be,(0,_.Z)({as:Re,className:(0,k.Z)($e.root,l),ownerState:Me,onBlur:Ee,onClick:C,onContextMenu:ge,onFocus:xe,onKeyDown:Ce,onKeyUp:Ie,onMouseDown:ve,onMouseLeave:_e,onMouseUp:ye,onDragLeave:me,onTouchEnd:ke,onTouchMove:Te,onTouchStart:be,ref:Ae,tabIndex:f?-1:H,type:W},Oe,G,{children:[s,fe?(0,p.jsx)(Le,(0,_.Z)({ref:K,center:a},z)):null]}))})),Ue=Fe;function je(e){return(0,H.ZP)("MuiButton",e)}var Ze=(0,N.Z)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);var He=i.createContext({});var ze=i.createContext(void 0),Ve=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],We=function(e){return(0,_.Z)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}})},Ge=(0,U.ZP)(Ue,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["".concat(n.variant).concat((0,Z.Z)(n.color))],t["size".concat((0,Z.Z)(n.size))],t["".concat(n.variant,"Size").concat((0,Z.Z)(n.size))],"inherit"===n.color&&t.colorInherit,n.disableElevation&&t.disableElevation,n.fullWidth&&t.fullWidth]}})((function(e){var t,n,i,r=e.theme,o=e.ownerState,a="light"===r.palette.mode?r.palette.grey[300]:r.palette.grey[800],s="light"===r.palette.mode?r.palette.grey.A100:r.palette.grey[700];return(0,_.Z)({},r.typography.button,(t={minWidth:64,padding:"6px 16px",borderRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create(["background-color","box-shadow","border-color","color"],{duration:r.transitions.duration.short}),"&:hover":(0,_.Z)({textDecoration:"none",backgroundColor:r.vars?"rgba(".concat(r.vars.palette.text.primaryChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(r.palette.text.primary,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===o.variant&&"inherit"!==o.color&&{backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===o.variant&&"inherit"!==o.color&&{border:"1px solid ".concat((r.vars||r).palette[o.color].main),backgroundColor:r.vars?"rgba(".concat(r.vars.palette[o.color].mainChannel," / ").concat(r.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(r.palette[o.color].main,r.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===o.variant&&{backgroundColor:r.vars?r.vars.palette.Button.inheritContainedHoverBg:s,boxShadow:(r.vars||r).shadows[4],"@media (hover: none)":{boxShadow:(r.vars||r).shadows[2],backgroundColor:(r.vars||r).palette.grey[300]}},"contained"===o.variant&&"inherit"!==o.color&&{backgroundColor:(r.vars||r).palette[o.color].dark,"@media (hover: none)":{backgroundColor:(r.vars||r).palette[o.color].main}}),"&:active":(0,_.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[8]})},(0,K.Z)(t,"&.".concat(Ze.focusVisible),(0,_.Z)({},"contained"===o.variant&&{boxShadow:(r.vars||r).shadows[6]})),(0,K.Z)(t,"&.".concat(Ze.disabled),(0,_.Z)({color:(r.vars||r).palette.action.disabled},"outlined"===o.variant&&{border:"1px solid ".concat((r.vars||r).palette.action.disabledBackground)},"contained"===o.variant&&{color:(r.vars||r).palette.action.disabled,boxShadow:(r.vars||r).shadows[0],backgroundColor:(r.vars||r).palette.action.disabledBackground})),t),"text"===o.variant&&{padding:"6px 8px"},"text"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main},"outlined"===o.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].main,border:r.vars?"1px solid rgba(".concat(r.vars.palette[o.color].mainChannel," / 0.5)"):"1px solid ".concat((0,J.Fq)(r.palette[o.color].main,.5))},"contained"===o.variant&&{color:r.vars?r.vars.palette.text.primary:null==(n=(i=r.palette).getContrastText)?void 0:n.call(i,r.palette.grey[300]),backgroundColor:r.vars?r.vars.palette.Button.inheritContainedBg:a,boxShadow:(r.vars||r).shadows[2]},"contained"===o.variant&&"inherit"!==o.color&&{color:(r.vars||r).palette[o.color].contrastText,backgroundColor:(r.vars||r).palette[o.color].main},"inherit"===o.color&&{color:"inherit",borderColor:"currentColor"},"small"===o.size&&"text"===o.variant&&{padding:"4px 5px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"text"===o.variant&&{padding:"8px 11px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"outlined"===o.variant&&{padding:"3px 9px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"outlined"===o.variant&&{padding:"7px 21px",fontSize:r.typography.pxToRem(15)},"small"===o.size&&"contained"===o.variant&&{padding:"4px 10px",fontSize:r.typography.pxToRem(13)},"large"===o.size&&"contained"===o.variant&&{padding:"8px 22px",fontSize:r.typography.pxToRem(15)},o.fullWidth&&{width:"100%"})}),(function(e){var t;return e.ownerState.disableElevation&&(t={boxShadow:"none","&:hover":{boxShadow:"none"}},(0,K.Z)(t,"&.".concat(Ze.focusVisible),{boxShadow:"none"}),(0,K.Z)(t,"&:active",{boxShadow:"none"}),(0,K.Z)(t,"&.".concat(Ze.disabled),{boxShadow:"none"}),t)})),Xe=(0,U.ZP)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.startIcon,t["iconSize".concat((0,Z.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,_.Z)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},We(t))})),Ye=(0,U.ZP)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:function(e,t){var n=e.ownerState;return[t.endIcon,t["iconSize".concat((0,Z.Z)(n.size))]]}})((function(e){var t=e.ownerState;return(0,_.Z)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},We(t))})),Ke=i.forwardRef((function(e,t){var n=i.useContext(He),r=i.useContext(ze),o=(0,q.Z)(n,e),a=(0,j.i)({props:o,name:"MuiButton"}),s=a.children,l=a.color,u=void 0===l?"primary":l,c=a.component,h=void 0===c?"button":c,d=a.className,f=a.disabled,v=void 0!==f&&f,g=a.disableElevation,m=void 0!==g&&g,y=a.disableFocusRipple,T=void 0!==y&&y,E=a.endIcon,x=a.focusVisibleClassName,w=a.fullWidth,S=void 0!==w&&w,C=a.size,I=void 0===C?"medium":C,R=a.startIcon,O=a.type,A=a.variant,M=void 0===A?"text":A,L=(0,b.Z)(a,Ve),N=(0,_.Z)({},a,{color:u,component:h,disabled:v,disableElevation:m,disableFocusRipple:T,fullWidth:S,size:I,type:O,variant:M}),$=function(e){var t=e.color,n=e.disableElevation,i=e.fullWidth,r=e.size,o=e.variant,a=e.classes,s={root:["root",o,"".concat(o).concat((0,Z.Z)(t)),"size".concat((0,Z.Z)(r)),"".concat(o,"Size").concat((0,Z.Z)(r)),"color".concat((0,Z.Z)(t)),n&&"disableElevation",i&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,Z.Z)(r))],endIcon:["icon","endIcon","iconSize".concat((0,Z.Z)(r))]},l=(0,F.Z)(s,je,a);return(0,_.Z)({},a,l)}(N),P=R&&(0,p.jsx)(Xe,{className:$.startIcon,ownerState:N,children:R}),D=E&&(0,p.jsx)(Ye,{className:$.endIcon,ownerState:N,children:E}),B=r||"";return(0,p.jsxs)(Ge,(0,_.Z)({ownerState:N,className:(0,k.Z)(n.className,$.root,d,B),component:h,disabled:v,focusRipple:!T,focusVisibleClassName:(0,k.Z)($.focusVisible,x),ref:t,type:O},L,{classes:$,children:[P,s,D]}))}));var qe=i.createContext(void 0);function Je(){return i.useContext(qe)}var Qe=n(7093),et=["ownerState"],tt=["variants"],nt=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function it(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}var rt=(0,w.Z)();function ot(e){var t,n=e.defaultTheme,i=e.theme,r=e.themeId;return t=i,0===Object.keys(t).length?n:i[r]||i}function at(e,t){var n=t.ownerState,i=(0,b.Z)(t,et),r="function"===typeof e?e((0,_.Z)({ownerState:n},i)):e;if(Array.isArray(r))return r.flatMap((function(e){return at(e,(0,_.Z)({ownerState:n},i))}));if(r&&"object"===typeof r&&Array.isArray(r.variants)){var o=r.variants,a=void 0===o?[]:o,s=(0,b.Z)(r,tt);return a.forEach((function(e){var t=!0;"function"===typeof e.props?t=e.props((0,_.Z)({ownerState:n},i,n)):Object.keys(e.props).forEach((function(r){(null==n?void 0:n[r])!==e.props[r]&&i[r]!==e.props[r]&&(t=!1)})),t&&(Array.isArray(s)||(s=[s]),s.push("function"===typeof e.style?e.style((0,_.Z)({ownerState:n},i,n)):e.style))})),s}return r}var st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.themeId,n=e.defaultTheme,i=void 0===n?rt:n,r=e.rootShouldForwardProp,o=void 0===r?it:r,a=e.slotShouldForwardProp,l=void 0===a?it:a,u=function(e){return(0,E.Z)((0,_.Z)({},e,{theme:ot((0,_.Z)({},e,{defaultTheme:i,themeId:t}))}))};return u.__mui_systemSx=!0,function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,T.internal_processStyles)(e,(function(e){return e.filter((function(e){return!(null!=e&&e.__mui_systemSx)}))}));var r,a,c=n.name,h=n.slot,f=n.skipVariantsResolver,p=n.skipSx,v=n.overridesResolver,g=void 0===v?(r=(a=h)?a.charAt(0).toLowerCase()+a.slice(1):a)?function(e,t){return t[r]}:null:v,m=(0,b.Z)(n,nt),y=void 0!==f?f:h&&"Root"!==h&&"root"!==h||!1,k=p||!1;var E=it;"Root"===h||"root"===h?E=o:h?E=l:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(E=void 0);var x=(0,T.default)(e,(0,_.Z)({shouldForwardProp:E,label:undefined},m)),w=function(e){return"function"===typeof e&&e.__emotion_real!==e||(0,Qe.P)(e)?function(n){return at(e,(0,_.Z)({},n,{theme:ot({theme:n.theme,defaultTheme:i,themeId:t})}))}:e},S=function(n){for(var r=w(n),o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];var h=a?a.map(w):[];c&&g&&h.push((function(e){var n=ot((0,_.Z)({},e,{defaultTheme:i,themeId:t}));if(!n.components||!n.components[c]||!n.components[c].styleOverrides)return null;var r=n.components[c].styleOverrides,o={};return Object.entries(r).forEach((function(t){var i=(0,d.Z)(t,2),r=i[0],a=i[1];o[r]=at(a,(0,_.Z)({},e,{theme:n}))})),g(e,o)})),c&&!y&&h.push((function(e){var n,r=ot((0,_.Z)({},e,{defaultTheme:i,themeId:t}));return at({variants:null==r||null==(n=r.components)||null==(n=n[c])?void 0:n.variants},(0,_.Z)({},e,{theme:r}))})),k||h.push(u);var f=h.length-a.length;if(Array.isArray(n)&&f>0){var p=new Array(f).fill("");(r=[].concat((0,s.Z)(n),(0,s.Z)(p))).raw=[].concat((0,s.Z)(n.raw),(0,s.Z)(p))}var v=x.apply(void 0,[r].concat((0,s.Z)(h)));return e.muiName&&(v.muiName=e.muiName),v};return x.withConfig&&(S.withConfig=x.withConfig),S}}(),lt=st;function ut(e){var t=e.props,n=e.name,i=e.defaultTheme,r=e.themeId,o=R(i);r&&(o=o[r]||o);var a=function(e){var t=e.theme,n=e.name,i=e.props;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,q.Z)(t.components[n].defaultProps,i):i}({theme:o,name:n,props:t});return a}var ct=n(1184),ht=n(5682),dt=["component","direction","spacing","divider","children","className","useFlexGap"],ft=(0,w.Z)(),pt=lt("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}});function vt(e){return ut({props:e,name:"MuiStack",defaultTheme:ft})}function gt(e,t){var n=i.Children.toArray(e).filter(Boolean);return n.reduce((function(e,r,o){return e.push(r),o<n.length-1&&e.push(i.cloneElement(t,{key:"separator-".concat(o)})),e}),[])}var mt=function(e){var t=e.ownerState,n=e.theme,i=(0,_.Z)({display:"flex",flexDirection:"column"},(0,ct.k9)({theme:n},(0,ct.P$)({values:t.direction,breakpoints:n.breakpoints.values}),(function(e){return{flexDirection:e}})));if(t.spacing){var r=(0,ht.hB)(n),o=Object.keys(n.breakpoints.values).reduce((function(e,n){return("object"===typeof t.spacing&&null!=t.spacing[n]||"object"===typeof t.direction&&null!=t.direction[n])&&(e[n]=!0),e}),{}),a=(0,ct.P$)({values:t.direction,base:o}),s=(0,ct.P$)({values:t.spacing,base:o});"object"===typeof a&&Object.keys(a).forEach((function(e,t,n){if(!a[e]){var i=t>0?a[n[t-1]]:"column";a[e]=i}}));i=(0,Qe.Z)(i,(0,ct.k9)({theme:n},s,(function(e,n){return t.useFlexGap?{gap:(0,ht.NA)(r,e)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":(0,K.Z)({},"margin".concat((i=n?a[n]:t.direction,{row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"}[i])),(0,ht.NA)(r,e))};var i})))}return i=(0,ct.dt)(n.breakpoints,i)};var yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.createStyledComponent,n=void 0===t?pt:t,r=e.useThemeProps,o=void 0===r?vt:r,a=e.componentName,s=void 0===a?"MuiStack":a,l=n(mt),u=i.forwardRef((function(e,t){var n=o(e),i=(0,x.Z)(n),r=i.component,a=void 0===r?"div":r,u=i.direction,c=void 0===u?"column":u,h=i.spacing,d=void 0===h?0:h,f=i.divider,v=i.children,g=i.className,m=i.useFlexGap,y=void 0!==m&&m,T=(0,b.Z)(i,dt),E={direction:c,spacing:d,useFlexGap:y},w=(0,F.Z)({root:["root"]},(function(e){return(0,H.ZP)(s,e)}),{});return(0,p.jsx)(l,(0,_.Z)({as:a,ownerState:E,ref:t,className:(0,k.Z)(w.root,g)},T,{children:f?gt(v,f):v}))}));return u}({createStyledComponent:(0,U.ZP)("div",{name:"MuiStack",slot:"Root",overridesResolver:function(e,t){return t.root}}),useThemeProps:function(e){return(0,j.i)({props:e,name:"MuiStack"})}}),_t=yt;function bt(e){return(0,H.ZP)("MuiFormControlLabel",e)}var kt=(0,N.Z)("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]);function Tt(e){var t=e.props,n=e.states,i=e.muiFormControl;return n.reduce((function(e,n){return e[n]=t[n],i&&"undefined"===typeof t[n]&&(e[n]=i[n]),e}),{})}var Et=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],xt=(0,U.ZP)("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,K.Z)({},"& .".concat(kt.label),t.label),t.root,t["labelPlacement".concat((0,Z.Z)(n.labelPlacement))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)((0,K.Z)({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16},"&.".concat(kt.disabled),{cursor:"default"}),"start"===n.labelPlacement&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},"top"===n.labelPlacement&&{flexDirection:"column-reverse",marginLeft:16},"bottom"===n.labelPlacement&&{flexDirection:"column",marginLeft:16},(0,K.Z)({},"& .".concat(kt.label),(0,K.Z)({},"&.".concat(kt.disabled),{color:(t.vars||t).palette.text.disabled})))})),wt=(0,U.ZP)("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,K.Z)({},"&.".concat(kt.error),{color:(t.vars||t).palette.error.main})})),St=i.forwardRef((function(e,t){var n,r,o=(0,j.i)({props:e,name:"MuiFormControlLabel"}),a=o.className,s=o.componentsProps,l=void 0===s?{}:s,u=o.control,c=o.disabled,h=o.disableTypography,d=o.label,f=o.labelPlacement,v=void 0===f?"end":f,g=o.required,m=o.slotProps,y=void 0===m?{}:m,T=(0,b.Z)(o,Et),E=Je(),x=null!=(n=null!=c?c:u.props.disabled)?n:null==E?void 0:E.disabled,w=null!=g?g:u.props.required,S={disabled:x,required:w};["checked","name","onChange","value","inputRef"].forEach((function(e){"undefined"===typeof u.props[e]&&"undefined"!==typeof o[e]&&(S[e]=o[e])}));var C=Tt({props:o,muiFormControl:E,states:["error"]}),I=(0,_.Z)({},o,{disabled:x,labelPlacement:v,required:w,error:C.error}),R=function(e){var t=e.classes,n=e.disabled,i=e.labelPlacement,r=e.error,o=e.required,a={root:["root",n&&"disabled","labelPlacement".concat((0,Z.Z)(i)),r&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",r&&"error"]};return(0,F.Z)(a,bt,t)}(I),O=null!=(r=y.typography)?r:l.typography,A=d;return null==A||A.type===Y||h||(A=(0,p.jsx)(Y,(0,_.Z)({component:"span"},O,{className:(0,k.Z)(R.label,null==O?void 0:O.className),children:A}))),(0,p.jsxs)(xt,(0,_.Z)({className:(0,k.Z)(R.root,a),ownerState:I,ref:t},T,{children:[i.cloneElement(u,S),w?(0,p.jsxs)(_t,{display:"block",children:[A,(0,p.jsxs)(wt,{ownerState:I,"aria-hidden":!0,className:R.asterisk,children:["\u2009","*"]})]}):A]}))})),Ct=St,It=n(8278);function Rt(e){return(0,H.ZP)("PrivateSwitchBase",e)}(0,N.Z)("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);var Ot=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],At=(0,U.ZP)(Ue)((function(e){var t=e.ownerState;return(0,_.Z)({padding:9,borderRadius:"50%"},"start"===t.edge&&{marginLeft:"small"===t.size?-3:-12},"end"===t.edge&&{marginRight:"small"===t.size?-3:-12})})),Mt=(0,U.ZP)("input",{shouldForwardProp:Q.Z})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Lt=i.forwardRef((function(e,t){var n=e.autoFocus,i=e.checked,r=e.checkedIcon,o=e.className,a=e.defaultChecked,s=e.disabled,l=e.disableFocusRipple,u=void 0!==l&&l,c=e.edge,h=void 0!==c&&c,f=e.icon,v=e.id,g=e.inputProps,m=e.inputRef,y=e.name,T=e.onBlur,E=e.onChange,x=e.onFocus,w=e.readOnly,S=e.required,C=void 0!==S&&S,I=e.tabIndex,R=e.type,O=e.value,A=(0,b.Z)(e,Ot),M=(0,It.Z)({controlled:i,default:Boolean(a),name:"SwitchBase",state:"checked"}),L=(0,d.Z)(M,2),N=L[0],$=L[1],P=Je(),D=s;P&&"undefined"===typeof D&&(D=P.disabled);var B="checkbox"===R||"radio"===R,U=(0,_.Z)({},e,{checked:N,disabled:D,disableFocusRipple:u,edge:h}),j=function(e){var t=e.classes,n=e.checked,i=e.disabled,r=e.edge,o={root:["root",n&&"checked",i&&"disabled",r&&"edge".concat((0,Z.Z)(r))],input:["input"]};return(0,F.Z)(o,Rt,t)}(U);return(0,p.jsxs)(At,(0,_.Z)({component:"span",className:(0,k.Z)(j.root,o),centerRipple:!0,focusRipple:!u,disabled:D,tabIndex:null,role:void 0,onFocus:function(e){x&&x(e),P&&P.onFocus&&P.onFocus(e)},onBlur:function(e){T&&T(e),P&&P.onBlur&&P.onBlur(e)},ownerState:U,ref:t},A,{children:[(0,p.jsx)(Mt,(0,_.Z)({autoFocus:n,checked:i,defaultChecked:a,className:j.input,disabled:D,id:B?v:void 0,name:y,onChange:function(e){if(!e.nativeEvent.defaultPrevented){var t=e.target.checked;$(t),E&&E(e,t)}},readOnly:w,ref:m,required:C,ownerState:U,tabIndex:I,type:R},"checkbox"===R&&void 0===O?{}:{value:O},g)),N?r:f]}))})),Nt=Lt;function $t(e){return(0,H.ZP)("MuiSwitch",e)}var Pt,Dt=(0,N.Z)("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),Bt=["className","color","edge","size","sx"],Ft=(0,U.ZP)("span",{name:"MuiSwitch",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.edge&&t["edge".concat((0,Z.Z)(n.edge))],t["size".concat((0,Z.Z)(n.size))]]}})({display:"inline-flex",width:58,height:38,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"},variants:[{props:{edge:"start"},style:{marginLeft:-8}},{props:{edge:"end"},style:{marginRight:-8}},{props:{size:"small"},style:(Pt={width:40,height:24,padding:7},(0,K.Z)(Pt,"& .".concat(Dt.thumb),{width:16,height:16}),(0,K.Z)(Pt,"& .".concat(Dt.switchBase),(0,K.Z)({padding:4},"&.".concat(Dt.checked),{transform:"translateX(16px)"})),Pt)}]}),Ut=(0,U.ZP)(Nt,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:function(e,t){var n=e.ownerState;return[t.switchBase,(0,K.Z)({},"& .".concat(Dt.input),t.input),"default"!==n.color&&t["color".concat((0,Z.Z)(n.color))]]}})((function(e){var t,n=e.theme;return t={position:"absolute",top:0,left:0,zIndex:1,color:n.vars?n.vars.palette.Switch.defaultColor:"".concat("light"===n.palette.mode?n.palette.common.white:n.palette.grey[300]),transition:n.transitions.create(["left","transform"],{duration:n.transitions.duration.shortest})},(0,K.Z)(t,"&.".concat(Dt.checked),{transform:"translateX(20px)"}),(0,K.Z)(t,"&.".concat(Dt.disabled),{color:n.vars?n.vars.palette.Switch.defaultDisabledColor:"".concat("light"===n.palette.mode?n.palette.grey[100]:n.palette.grey[600])}),(0,K.Z)(t,"&.".concat(Dt.checked," + .").concat(Dt.track),{opacity:.5}),(0,K.Z)(t,"&.".concat(Dt.disabled," + .").concat(Dt.track),{opacity:n.vars?n.vars.opacity.switchTrackDisabled:"".concat("light"===n.palette.mode?.12:.2)}),(0,K.Z)(t,"& .".concat(Dt.input),{left:"-100%",width:"300%"}),t}),(function(e){var t=e.theme;return{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},variants:(0,s.Z)(Object.entries(t.palette).filter((function(e){var t=(0,d.Z)(e,2)[1];return t.main&&t.light})).map((function(e){var n,i=(0,d.Z)(e,1)[0];return{props:{color:i},style:(n={},(0,K.Z)(n,"&.".concat(Dt.checked),(0,K.Z)({color:(t.vars||t).palette[i].main,"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[i].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(t.palette[i].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Dt.disabled),{color:t.vars?t.vars.palette.Switch["".concat(i,"DisabledColor")]:"".concat("light"===t.palette.mode?(0,J.$n)(t.palette[i].main,.62):(0,J._j)(t.palette[i].main,.55))})),(0,K.Z)(n,"&.".concat(Dt.checked," + .").concat(Dt.track),{backgroundColor:(t.vars||t).palette[i].main}),n)}})))}})),jt=(0,U.ZP)("span",{name:"MuiSwitch",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t=e.theme;return{height:"100%",width:"100%",borderRadius:7,zIndex:-1,transition:t.transitions.create(["opacity","background-color"],{duration:t.transitions.duration.shortest}),backgroundColor:t.vars?t.vars.palette.common.onBackground:"".concat("light"===t.palette.mode?t.palette.common.black:t.palette.common.white),opacity:t.vars?t.vars.opacity.switchTrack:"".concat("light"===t.palette.mode?.38:.3)}})),Zt=(0,U.ZP)("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:function(e,t){return t.thumb}})((function(e){var t=e.theme;return{boxShadow:(t.vars||t).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"}})),Ht=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiSwitch"}),i=n.className,r=n.color,o=void 0===r?"primary":r,a=n.edge,s=void 0!==a&&a,l=n.size,u=void 0===l?"medium":l,c=n.sx,h=(0,b.Z)(n,Bt),d=(0,_.Z)({},n,{color:o,edge:s,size:u}),f=function(e){var t=e.classes,n=e.edge,i=e.size,r=e.color,o=e.checked,a=e.disabled,s={root:["root",n&&"edge".concat((0,Z.Z)(n)),"size".concat((0,Z.Z)(i))],switchBase:["switchBase","color".concat((0,Z.Z)(r)),o&&"checked",a&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},l=(0,F.Z)(s,$t,t);return(0,_.Z)({},t,l)}(d),v=(0,p.jsx)(Zt,{className:f.thumb,ownerState:d});return(0,p.jsxs)(Ft,{className:(0,k.Z)(f.root,i),sx:c,ownerState:d,children:[(0,p.jsx)(Ut,(0,_.Z)({type:"checkbox",icon:v,checkedIcon:v,ref:t,ownerState:d},h,{classes:(0,_.Z)({},f,{root:f.switchBase})})),(0,p.jsx)(jt,{className:f.track,ownerState:d})]})})),zt=n(8252),Vt=n(6187);var Wt=function(e){return"string"===typeof e},Gt=n(6117),Xt=n(5202),Yt=n(2876),Kt=n(2254),qt=["onChange","maxRows","minRows","style","value"];function Jt(e){return parseInt(e,10)||0}var Qt={visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"};var en=i.forwardRef((function(e,t){var n=e.onChange,r=e.maxRows,o=e.minRows,a=void 0===o?1:o,s=e.style,l=e.value,u=(0,b.Z)(e,qt),c=i.useRef(null!=l).current,h=i.useRef(null),d=(0,Gt.Z)(t,h),f=i.useRef(null),v=i.useRef(null),g=i.useCallback((function(){var t=h.current,n=(0,Xt.Z)(t).getComputedStyle(t);if("0px"===n.width)return{outerHeightStyle:0,overflowing:!1};var i=v.current;i.style.width=n.width,i.value=t.value||e.placeholder||"x","\n"===i.value.slice(-1)&&(i.value+=" ");var o=n.boxSizing,s=Jt(n.paddingBottom)+Jt(n.paddingTop),l=Jt(n.borderBottomWidth)+Jt(n.borderTopWidth),u=i.scrollHeight;i.value="x";var c=i.scrollHeight,d=u;return a&&(d=Math.max(Number(a)*c,d)),r&&(d=Math.min(Number(r)*c,d)),{outerHeightStyle:(d=Math.max(d,c))+("border-box"===o?s+l:0),overflowing:Math.abs(d-u)<=1}}),[r,a,e.placeholder]),m=i.useCallback((function(){var e=g();if(void 0!==(t=e)&&null!==t&&0!==Object.keys(t).length&&(0!==t.outerHeightStyle||t.overflowing)){var t,n=e.outerHeightStyle,i=h.current;f.current!==n&&(f.current=n,i.style.height="".concat(n,"px")),i.style.overflow=e.overflowing?"hidden":""}}),[g]);(0,Yt.Z)((function(){var e,t,n=function(){m()},i=(0,Kt.Z)(n),r=h.current,o=(0,Xt.Z)(r);return o.addEventListener("resize",i),"undefined"!==typeof ResizeObserver&&(t=new ResizeObserver(n)).observe(r),function(){i.clear(),cancelAnimationFrame(e),o.removeEventListener("resize",i),t&&t.disconnect()}}),[g,m]),(0,Yt.Z)((function(){m()}));return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("textarea",(0,_.Z)({value:l,onChange:function(e){c||m(),n&&n(e)},ref:d,rows:a,style:s},u)),(0,p.jsx)("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:v,tabIndex:-1,style:(0,_.Z)({},Qt,s,{paddingTop:0,paddingBottom:0})})]})})),tn=en,nn=n(162),rn=n(1500);var on=function(e){var t=e.styles,n=e.themeId,i=e.defaultTheme,r=R(void 0===i?{}:i),o="function"===typeof t?t(n&&r[n]||r):t;return(0,p.jsx)(rn.Z,{styles:o})},an=n(6482);var sn=function(e){return(0,p.jsx)(on,(0,_.Z)({},e,{defaultTheme:an.Z,themeId:L.Z}))};function ln(e){return null!=e&&!(Array.isArray(e)&&0===e.length)}function un(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e&&(ln(e.value)&&""!==e.value||t&&ln(e.defaultValue)&&""!==e.defaultValue)}function cn(e){return(0,H.ZP)("MuiInputBase",e)}var hn=(0,N.Z)("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),dn=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],fn=function(e,t){var n=e.ownerState;return[t.root,n.formControl&&t.formControl,n.startAdornment&&t.adornedStart,n.endAdornment&&t.adornedEnd,n.error&&t.error,"small"===n.size&&t.sizeSmall,n.multiline&&t.multiline,n.color&&t["color".concat((0,Z.Z)(n.color))],n.fullWidth&&t.fullWidth,n.hiddenLabel&&t.hiddenLabel]},pn=function(e,t){var n=e.ownerState;return[t.input,"small"===n.size&&t.inputSizeSmall,n.multiline&&t.inputMultiline,"search"===n.type&&t.inputTypeSearch,n.startAdornment&&t.inputAdornedStart,n.endAdornment&&t.inputAdornedEnd,n.hiddenLabel&&t.inputHiddenLabel]},vn=(0,U.ZP)("div",{name:"MuiInputBase",slot:"Root",overridesResolver:fn})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({},t.typography.body1,(0,K.Z)({color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center"},"&.".concat(hn.disabled),{color:(t.vars||t).palette.text.disabled,cursor:"default"}),n.multiline&&(0,_.Z)({padding:"4px 0 5px"},"small"===n.size&&{paddingTop:1}),n.fullWidth&&{width:"100%"})})),gn=(0,U.ZP)("input",{name:"MuiInputBase",slot:"Input",overridesResolver:pn})((function(e){var t,n=e.theme,i=e.ownerState,r="light"===n.palette.mode,o=(0,_.Z)({color:"currentColor"},n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5},{transition:n.transitions.create("opacity",{duration:n.transitions.duration.shorter})}),a={opacity:"0 !important"},s=n.vars?{opacity:n.vars.opacity.inputPlaceholder}:{opacity:r?.42:.5};return(0,_.Z)((t={font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":o,"&::-moz-placeholder":o,"&:-ms-input-placeholder":o,"&::-ms-input-placeholder":o,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"}},(0,K.Z)(t,"label[data-shrink=false] + .".concat(hn.formControl," &"),{"&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus::-webkit-input-placeholder":s,"&:focus::-moz-placeholder":s,"&:focus:-ms-input-placeholder":s,"&:focus::-ms-input-placeholder":s}),(0,K.Z)(t,"&.".concat(hn.disabled),{opacity:1,WebkitTextFillColor:(n.vars||n).palette.text.disabled}),(0,K.Z)(t,"&:-webkit-autofill",{animationDuration:"5000s",animationName:"mui-auto-fill"}),t),"small"===i.size&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},"search"===i.type&&{MozAppearance:"textfield"})})),mn=(0,p.jsx)(sn,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),yn=i.forwardRef((function(e,t){var n,r=(0,j.i)({props:e,name:"MuiInputBase"}),o=r["aria-describedby"],a=r.autoComplete,s=r.autoFocus,l=r.className,u=r.components,c=void 0===u?{}:u,h=r.componentsProps,f=void 0===h?{}:h,v=r.defaultValue,g=r.disabled,m=r.disableInjectingGlobalStyles,y=r.endAdornment,T=r.fullWidth,E=void 0!==T&&T,x=r.id,w=r.inputComponent,S=void 0===w?"input":w,C=r.inputProps,I=void 0===C?{}:C,R=r.inputRef,O=r.maxRows,A=r.minRows,M=r.multiline,L=void 0!==M&&M,N=r.name,$=r.onBlur,P=r.onChange,D=r.onClick,B=r.onFocus,U=r.onKeyDown,H=r.onKeyUp,z=r.placeholder,V=r.readOnly,W=r.renderSuffix,G=r.rows,X=r.slotProps,Y=void 0===X?{}:X,K=r.slots,q=void 0===K?{}:K,J=r.startAdornment,Q=r.type,te=void 0===Q?"text":Q,ne=r.value,ie=(0,b.Z)(r,dn),re=null!=I.value?I.value:ne,oe=i.useRef(null!=re).current,ae=i.useRef(),se=i.useCallback((function(e){0}),[]),le=(0,ee.Z)(ae,R,I.ref,se),ue=i.useState(!1),ce=(0,d.Z)(ue,2),he=ce[0],de=ce[1],fe=Je();var pe=Tt({props:r,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});pe.focused=fe?fe.focused:he,i.useEffect((function(){!fe&&g&&he&&(de(!1),$&&$())}),[fe,g,he,$]);var ve=fe&&fe.onFilled,ge=fe&&fe.onEmpty,me=i.useCallback((function(e){un(e)?ve&&ve():ge&&ge()}),[ve,ge]);(0,nn.Z)((function(){oe&&me({value:re})}),[re,me,oe]);i.useEffect((function(){me(ae.current)}),[]);var ye=S,_e=I;L&&"input"===ye&&(_e=G?(0,_.Z)({type:void 0,minRows:G,maxRows:G},_e):(0,_.Z)({type:void 0,maxRows:O,minRows:A},_e),ye=tn);i.useEffect((function(){fe&&fe.setAdornedStart(Boolean(J))}),[fe,J]);var be=(0,_.Z)({},r,{color:pe.color||"primary",disabled:pe.disabled,endAdornment:y,error:pe.error,focused:pe.focused,formControl:fe,fullWidth:E,hiddenLabel:pe.hiddenLabel,multiline:L,size:pe.size,startAdornment:J,type:te}),ke=function(e){var t=e.classes,n=e.color,i=e.disabled,r=e.error,o=e.endAdornment,a=e.focused,s=e.formControl,l=e.fullWidth,u=e.hiddenLabel,c=e.multiline,h=e.readOnly,d=e.size,f=e.startAdornment,p=e.type,v={root:["root","color".concat((0,Z.Z)(n)),i&&"disabled",r&&"error",l&&"fullWidth",a&&"focused",s&&"formControl",d&&"medium"!==d&&"size".concat((0,Z.Z)(d)),c&&"multiline",f&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",h&&"readOnly"],input:["input",i&&"disabled","search"===p&&"inputTypeSearch",c&&"inputMultiline","small"===d&&"inputSizeSmall",u&&"inputHiddenLabel",f&&"inputAdornedStart",o&&"inputAdornedEnd",h&&"readOnly"]};return(0,F.Z)(v,cn,t)}(be),Te=q.root||c.Root||vn,Ee=Y.root||f.root||{},xe=q.input||c.Input||gn;return _e=(0,_.Z)({},_e,null!=(n=Y.input)?n:f.input),(0,p.jsxs)(i.Fragment,{children:[!m&&mn,(0,p.jsxs)(Te,(0,_.Z)({},Ee,!Wt(Te)&&{ownerState:(0,_.Z)({},be,Ee.ownerState)},{ref:t,onClick:function(e){ae.current&&e.currentTarget===e.target&&ae.current.focus(),D&&D(e)}},ie,{className:(0,k.Z)(ke.root,Ee.className,l,V&&"MuiInputBase-readOnly"),children:[J,(0,p.jsx)(qe.Provider,{value:null,children:(0,p.jsx)(xe,(0,_.Z)({ownerState:be,"aria-invalid":pe.error,"aria-describedby":o,autoComplete:a,autoFocus:s,defaultValue:v,disabled:pe.disabled,id:x,onAnimationStart:function(e){me("mui-auto-fill-cancel"===e.animationName?ae.current:{value:"x"})},name:N,placeholder:z,readOnly:V,required:pe.required,rows:G,value:re,onKeyDown:U,onKeyUp:H,type:te},_e,!Wt(xe)&&{as:ye,ownerState:(0,_.Z)({},be,_e.ownerState)},{ref:le,className:(0,k.Z)(ke.input,_e.className,V&&"MuiInputBase-readOnly"),onBlur:function(e){$&&$(e),I.onBlur&&I.onBlur(e),fe&&fe.onBlur?fe.onBlur(e):de(!1)},onChange:function(e){if(!oe){var t=e.target||ae.current;if(null==t)throw new Error((0,Vt.Z)(1));me({value:t.value})}for(var n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];I.onChange&&I.onChange.apply(I,[e].concat(i)),P&&P.apply(void 0,[e].concat(i))},onFocus:function(e){pe.disabled?e.stopPropagation():(B&&B(e),I.onFocus&&I.onFocus(e),fe&&fe.onFocus?fe.onFocus(e):de(!0))}}))}),y,W?W((0,_.Z)({},pe,{startAdornment:J})):null]}))]})})),_n=yn;function bn(e){return(0,H.ZP)("MuiInput",e)}var kn=(0,_.Z)({},hn,(0,N.Z)("MuiInput",["root","underline","input"])),Tn=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],En=(0,U.ZP)(vn,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,s.Z)(fn(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n=e.theme,i=e.ownerState,r="light"===n.palette.mode?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return n.vars&&(r="rgba(".concat(n.vars.palette.common.onBackgroundChannel," / ").concat(n.vars.opacity.inputUnderline,")")),(0,_.Z)({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&(t={"&::after":{borderBottom:"2px solid ".concat((n.vars||n).palette[i.color].main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:n.transitions.create("transform",{duration:n.transitions.duration.shorter,easing:n.transitions.easing.easeOut}),pointerEvents:"none"}},(0,K.Z)(t,"&.".concat(kn.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,K.Z)(t,"&.".concat(kn.error),{"&::before, &::after":{borderBottomColor:(n.vars||n).palette.error.main}}),(0,K.Z)(t,"&::before",{borderBottom:"1px solid ".concat(r),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:n.transitions.create("border-bottom-color",{duration:n.transitions.duration.shorter}),pointerEvents:"none"}),(0,K.Z)(t,"&:hover:not(.".concat(kn.disabled,", .").concat(kn.error,"):before"),{borderBottom:"2px solid ".concat((n.vars||n).palette.text.primary),"@media (hover: none)":{borderBottom:"1px solid ".concat(r)}}),(0,K.Z)(t,"&.".concat(kn.disabled,":before"),{borderBottomStyle:"dotted"}),t))})),xn=(0,U.ZP)(gn,{name:"MuiInput",slot:"Input",overridesResolver:pn})({}),wn=i.forwardRef((function(e,t){var n,i,r,o,a=(0,j.i)({props:e,name:"MuiInput"}),s=a.disableUnderline,l=a.components,u=void 0===l?{}:l,c=a.componentsProps,h=a.fullWidth,d=void 0!==h&&h,f=a.inputComponent,v=void 0===f?"input":f,g=a.multiline,m=void 0!==g&&g,y=a.slotProps,k=a.slots,T=void 0===k?{}:k,E=a.type,x=void 0===E?"text":E,w=(0,b.Z)(a,Tn),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=(0,F.Z)(n,bn,t);return(0,_.Z)({},t,i)}(a),C={root:{ownerState:{disableUnderline:s}}},I=(null!=y?y:c)?(0,Qe.Z)(null!=y?y:c,C):C,R=null!=(n=null!=(i=T.root)?i:u.Root)?n:En,O=null!=(r=null!=(o=T.input)?o:u.Input)?r:xn;return(0,p.jsx)(_n,(0,_.Z)({slots:{root:R,input:O},slotProps:I,fullWidth:d,inputComponent:v,multiline:m,ref:t,type:x},w,{classes:S}))}));wn.muiName="Input";var Sn=wn;function Cn(e){return(0,H.ZP)("MuiFilledInput",e)}var In=(0,_.Z)({},hn,(0,N.Z)("MuiFilledInput",["root","underline","input"])),Rn=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],On=(0,U.ZP)(vn,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiFilledInput",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[].concat((0,s.Z)(fn(e,t)),[!n.disableUnderline&&t.underline])}})((function(e){var t,n,i,r=e.theme,o=e.ownerState,a="light"===r.palette.mode,s=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",l=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",u=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",c=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return(0,_.Z)((t={position:"relative",backgroundColor:r.vars?r.vars.palette.FilledInput.bg:l,borderTopLeftRadius:(r.vars||r).shape.borderRadius,borderTopRightRadius:(r.vars||r).shape.borderRadius,transition:r.transitions.create("background-color",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),"&:hover":{backgroundColor:r.vars?r.vars.palette.FilledInput.hoverBg:u,"@media (hover: none)":{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:l}}},(0,K.Z)(t,"&.".concat(In.focused),{backgroundColor:r.vars?r.vars.palette.FilledInput.bg:l}),(0,K.Z)(t,"&.".concat(In.disabled),{backgroundColor:r.vars?r.vars.palette.FilledInput.disabledBg:c}),t),!o.disableUnderline&&(n={"&::after":{borderBottom:"2px solid ".concat(null==(i=(r.vars||r).palette[o.color||"primary"])?void 0:i.main),left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:r.transitions.create("transform",{duration:r.transitions.duration.shorter,easing:r.transitions.easing.easeOut}),pointerEvents:"none"}},(0,K.Z)(n,"&.".concat(In.focused,":after"),{transform:"scaleX(1) translateX(0)"}),(0,K.Z)(n,"&.".concat(In.error),{"&::before, &::after":{borderBottomColor:(r.vars||r).palette.error.main}}),(0,K.Z)(n,"&::before",{borderBottom:"1px solid ".concat(r.vars?"rgba(".concat(r.vars.palette.common.onBackgroundChannel," / ").concat(r.vars.opacity.inputUnderline,")"):s),left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:r.transitions.create("border-bottom-color",{duration:r.transitions.duration.shorter}),pointerEvents:"none"}),(0,K.Z)(n,"&:hover:not(.".concat(In.disabled,", .").concat(In.error,"):before"),{borderBottom:"1px solid ".concat((r.vars||r).palette.text.primary)}),(0,K.Z)(n,"&.".concat(In.disabled,":before"),{borderBottomStyle:"dotted"}),n),o.startAdornment&&{paddingLeft:12},o.endAdornment&&{paddingRight:12},o.multiline&&(0,_.Z)({padding:"25px 12px 8px"},"small"===o.size&&{paddingTop:21,paddingBottom:4},o.hiddenLabel&&{paddingTop:16,paddingBottom:17},o.hiddenLabel&&"small"===o.size&&{paddingTop:8,paddingBottom:9}))})),An=(0,U.ZP)(gn,{name:"MuiFilledInput",slot:"Input",overridesResolver:pn})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&(0,K.Z)({"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{paddingTop:21,paddingBottom:4},n.hiddenLabel&&{paddingTop:16,paddingBottom:17},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0},n.hiddenLabel&&"small"===n.size&&{paddingTop:8,paddingBottom:9},n.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})})),Mn=i.forwardRef((function(e,t){var n,i,r,o,a=(0,j.i)({props:e,name:"MuiFilledInput"}),s=a.components,l=void 0===s?{}:s,u=a.componentsProps,c=a.fullWidth,h=void 0!==c&&c,d=a.inputComponent,f=void 0===d?"input":d,v=a.multiline,g=void 0!==v&&v,m=a.slotProps,y=a.slots,k=void 0===y?{}:y,T=a.type,E=void 0===T?"text":T,x=(0,b.Z)(a,Rn),w=(0,_.Z)({},a,{fullWidth:h,inputComponent:f,multiline:g,type:E}),S=function(e){var t=e.classes,n={root:["root",!e.disableUnderline&&"underline"],input:["input"]},i=(0,F.Z)(n,Cn,t);return(0,_.Z)({},t,i)}(a),C={root:{ownerState:w},input:{ownerState:w}},I=(null!=m?m:u)?(0,Qe.Z)(C,null!=m?m:u):C,R=null!=(n=null!=(i=k.root)?i:l.Root)?n:On,O=null!=(r=null!=(o=k.input)?o:l.Input)?r:An;return(0,p.jsx)(_n,(0,_.Z)({slots:{root:R,input:O},componentsProps:I,fullWidth:h,inputComponent:f,multiline:g,ref:t,type:E},x,{classes:S}))}));Mn.muiName="Input";var Ln,Nn=Mn,$n=["children","classes","className","label","notched"],Pn=(0,U.ZP)("fieldset",{shouldForwardProp:Q.Z})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),Dn=(0,U.ZP)("legend",{shouldForwardProp:Q.Z})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:n.transitions.create("width",{duration:150,easing:n.transitions.easing.easeOut})},t.withLabel&&(0,_.Z)({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:n.transitions.create("max-width",{duration:50,easing:n.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:n.transitions.create("max-width",{duration:100,easing:n.transitions.easing.easeOut,delay:50})}))}));function Bn(e){return(0,H.ZP)("MuiOutlinedInput",e)}var Fn=(0,_.Z)({},hn,(0,N.Z)("MuiOutlinedInput",["root","notchedOutline","input"])),Un=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],jn=(0,U.ZP)(vn,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiOutlinedInput",slot:"Root",overridesResolver:fn})((function(e){var t,n=e.theme,i=e.ownerState,r="light"===n.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return(0,_.Z)((t={position:"relative",borderRadius:(n.vars||n).shape.borderRadius},(0,K.Z)(t,"&:hover .".concat(Fn.notchedOutline),{borderColor:(n.vars||n).palette.text.primary}),(0,K.Z)(t,"@media (hover: none)",(0,K.Z)({},"&:hover .".concat(Fn.notchedOutline),{borderColor:n.vars?"rgba(".concat(n.vars.palette.common.onBackgroundChannel," / 0.23)"):r})),(0,K.Z)(t,"&.".concat(Fn.focused," .").concat(Fn.notchedOutline),{borderColor:(n.vars||n).palette[i.color].main,borderWidth:2}),(0,K.Z)(t,"&.".concat(Fn.error," .").concat(Fn.notchedOutline),{borderColor:(n.vars||n).palette.error.main}),(0,K.Z)(t,"&.".concat(Fn.disabled," .").concat(Fn.notchedOutline),{borderColor:(n.vars||n).palette.action.disabled}),t),i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&(0,_.Z)({padding:"16.5px 14px"},"small"===i.size&&{padding:"8.5px 14px"}))})),Zn=(0,U.ZP)((function(e){var t=e.className,n=e.label,i=e.notched,r=(0,b.Z)(e,$n),o=null!=n&&""!==n,a=(0,_.Z)({},e,{notched:i,withLabel:o});return(0,p.jsx)(Pn,(0,_.Z)({"aria-hidden":!0,className:t,ownerState:a},r,{children:(0,p.jsx)(Dn,{ownerState:a,children:o?(0,p.jsx)("span",{children:n}):Ln||(Ln=(0,p.jsx)("span",{className:"notranslate",children:"\u200b"}))})}))}),{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:function(e,t){return t.notchedOutline}})((function(e){var t=e.theme,n="light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?"rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):n}})),Hn=(0,U.ZP)(gn,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:pn})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:"light"===t.palette.mode?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:"light"===t.palette.mode?null:"#fff",caretColor:"light"===t.palette.mode?null:"#fff",borderRadius:"inherit"}},t.vars&&(0,K.Z)({"&:-webkit-autofill":{borderRadius:"inherit"}},t.getColorSchemeSelector("dark"),{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}),"small"===n.size&&{padding:"8.5px 14px"},n.multiline&&{padding:0},n.startAdornment&&{paddingLeft:0},n.endAdornment&&{paddingRight:0})})),zn=i.forwardRef((function(e,t){var n,r,o,a,s,l=(0,j.i)({props:e,name:"MuiOutlinedInput"}),u=l.components,c=void 0===u?{}:u,h=l.fullWidth,d=void 0!==h&&h,f=l.inputComponent,v=void 0===f?"input":f,g=l.label,m=l.multiline,y=void 0!==m&&m,k=l.notched,T=l.slots,E=void 0===T?{}:T,x=l.type,w=void 0===x?"text":x,S=(0,b.Z)(l,Un),C=function(e){var t=e.classes,n=(0,F.Z)({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Bn,t);return(0,_.Z)({},t,n)}(l),I=Je(),R=Tt({props:l,muiFormControl:I,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),O=(0,_.Z)({},l,{color:R.color||"primary",disabled:R.disabled,error:R.error,focused:R.focused,formControl:I,fullWidth:d,hiddenLabel:R.hiddenLabel,multiline:y,size:R.size,type:w}),A=null!=(n=null!=(r=E.root)?r:c.Root)?n:jn,M=null!=(o=null!=(a=E.input)?a:c.Input)?o:Hn;return(0,p.jsx)(_n,(0,_.Z)({slots:{root:A,input:M},renderSuffix:function(e){return(0,p.jsx)(Zn,{ownerState:O,className:C.notchedOutline,label:null!=g&&""!==g&&R.required?s||(s=(0,p.jsxs)(i.Fragment,{children:[g,"\u2009","*"]})):g,notched:"undefined"!==typeof k?k:Boolean(e.startAdornment||e.filled||e.focused)})},fullWidth:d,inputComponent:v,multiline:y,ref:t,type:w},S,{classes:(0,_.Z)({},C,{notchedOutline:null})}))}));zn.muiName="Input";var Vn=zn;function Wn(e){return(0,H.ZP)("MuiFormLabel",e)}var Gn=(0,N.Z)("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),Xn=["children","className","color","component","disabled","error","filled","focused","required"],Yn=(0,U.ZP)("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,_.Z)({},t.root,"secondary"===n.color&&t.colorSecondary,n.filled&&t.filled)}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({color:(n.vars||n).palette.text.secondary},n.typography.body1,(t={lineHeight:"1.4375em",padding:0,position:"relative"},(0,K.Z)(t,"&.".concat(Gn.focused),{color:(n.vars||n).palette[i.color].main}),(0,K.Z)(t,"&.".concat(Gn.disabled),{color:(n.vars||n).palette.text.disabled}),(0,K.Z)(t,"&.".concat(Gn.error),{color:(n.vars||n).palette.error.main}),t))})),Kn=(0,U.ZP)("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:function(e,t){return t.asterisk}})((function(e){var t=e.theme;return(0,K.Z)({},"&.".concat(Gn.error),{color:(t.vars||t).palette.error.main})})),qn=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiFormLabel"}),i=n.children,r=n.className,o=n.component,a=void 0===o?"label":o,s=(0,b.Z)(n,Xn),l=Tt({props:n,muiFormControl:Je(),states:["color","required","focused","disabled","error","filled"]}),u=(0,_.Z)({},n,{color:l.color||"primary",component:a,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.color,i=e.focused,r=e.disabled,o=e.error,a=e.filled,s=e.required,l={root:["root","color".concat((0,Z.Z)(n)),r&&"disabled",o&&"error",a&&"filled",i&&"focused",s&&"required"],asterisk:["asterisk",o&&"error"]};return(0,F.Z)(l,Wn,t)}(u);return(0,p.jsxs)(Yn,(0,_.Z)({as:a,ownerState:u,className:(0,k.Z)(c.root,r),ref:t},s,{children:[i,l.required&&(0,p.jsxs)(Kn,{ownerState:u,"aria-hidden":!0,className:c.asterisk,children:["\u2009","*"]})]}))})),Jn=qn;function Qn(e){return(0,H.ZP)("MuiInputLabel",e)}(0,N.Z)("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);var ei=["disableAnimation","margin","shrink","variant","className"],ti=(0,U.ZP)(Jn,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiInputLabel",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,K.Z)({},"& .".concat(Gn.asterisk),t.asterisk),t.root,n.formControl&&t.formControl,"small"===n.size&&t.sizeSmall,n.shrink&&t.shrink,!n.disableAnimation&&t.animated,n.focused&&t.focused,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},n.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},"small"===n.size&&{transform:"translate(0, 17px) scale(1)"},n.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!n.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},"filled"===n.variant&&(0,_.Z)({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(12px, 13px) scale(1)"},n.shrink&&(0,_.Z)({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},"small"===n.size&&{transform:"translate(12px, 4px) scale(0.75)"})),"outlined"===n.variant&&(0,_.Z)({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},"small"===n.size&&{transform:"translate(14px, 9px) scale(1)"},n.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))})),ni=i.forwardRef((function(e,t){var n=(0,j.i)({name:"MuiInputLabel",props:e}),i=n.disableAnimation,r=void 0!==i&&i,o=n.shrink,a=n.className,s=(0,b.Z)(n,ei),l=Je(),u=o;"undefined"===typeof u&&l&&(u=l.filled||l.focused||l.adornedStart);var c=Tt({props:n,muiFormControl:l,states:["size","variant","required","focused"]}),h=(0,_.Z)({},n,{disableAnimation:r,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),d=function(e){var t=e.classes,n=e.formControl,i=e.size,r=e.shrink,o=e.disableAnimation,a=e.variant,s=e.required,l={root:["root",n&&"formControl",!o&&"animated",r&&"shrink",i&&"normal"!==i&&"size".concat((0,Z.Z)(i)),a],asterisk:[s&&"asterisk"]},u=(0,F.Z)(l,Qn,t);return(0,_.Z)({},t,u)}(h);return(0,p.jsx)(ti,(0,_.Z)({"data-shrink":u,ownerState:h,ref:t,className:(0,k.Z)(d.root,a)},s,{classes:d}))})),ii=n(6966);function ri(e){return(0,H.ZP)("MuiFormControl",e)}(0,N.Z)("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);var oi=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],ai=(0,U.ZP)("div",{name:"MuiFormControl",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return(0,_.Z)({},t.root,t["margin".concat((0,Z.Z)(n.margin))],n.fullWidth&&t.fullWidth)}})((function(e){var t=e.ownerState;return(0,_.Z)({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},"normal"===t.margin&&{marginTop:16,marginBottom:8},"dense"===t.margin&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})})),si=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiFormControl"}),r=n.children,o=n.className,a=n.color,s=void 0===a?"primary":a,l=n.component,u=void 0===l?"div":l,c=n.disabled,h=void 0!==c&&c,f=n.error,v=void 0!==f&&f,g=n.focused,m=n.fullWidth,y=void 0!==m&&m,T=n.hiddenLabel,E=void 0!==T&&T,x=n.margin,w=void 0===x?"none":x,S=n.required,C=void 0!==S&&S,I=n.size,R=void 0===I?"medium":I,O=n.variant,A=void 0===O?"outlined":O,M=(0,b.Z)(n,oi),L=(0,_.Z)({},n,{color:s,component:u,disabled:h,error:v,fullWidth:y,hiddenLabel:E,margin:w,required:C,size:R,variant:A}),N=function(e){var t=e.classes,n=e.margin,i=e.fullWidth,r={root:["root","none"!==n&&"margin".concat((0,Z.Z)(n)),i&&"fullWidth"]};return(0,F.Z)(r,ri,t)}(L),$=i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){if((0,ii.Z)(t,["Input","Select"])){var n=(0,ii.Z)(t,["Select"])?t.props.input:t;n&&n.props.startAdornment&&(e=!0)}})),e})),P=(0,d.Z)($,2),D=P[0],B=P[1],U=i.useState((function(){var e=!1;return r&&i.Children.forEach(r,(function(t){(0,ii.Z)(t,["Input","Select"])&&(un(t.props,!0)||un(t.props.inputProps,!0))&&(e=!0)})),e})),H=(0,d.Z)(U,2),z=H[0],V=H[1],W=i.useState(!1),G=(0,d.Z)(W,2),X=G[0],Y=G[1];h&&X&&Y(!1);var K,q=void 0===g||h?X:g,J=i.useMemo((function(){return{adornedStart:D,setAdornedStart:B,color:s,disabled:h,error:v,filled:z,focused:q,fullWidth:y,hiddenLabel:E,size:R,onBlur:function(){Y(!1)},onEmpty:function(){V(!1)},onFilled:function(){V(!0)},onFocus:function(){Y(!0)},registerEffect:K,required:C,variant:A}}),[D,s,h,v,z,q,y,E,K,C,R,A]);return(0,p.jsx)(qe.Provider,{value:J,children:(0,p.jsx)(ai,(0,_.Z)({as:u,ownerState:L,className:(0,k.Z)(N.root,o),ref:t},M,{children:r}))})})),li=si;function ui(e){return(0,H.ZP)("MuiFormHelperText",e)}var ci,hi=(0,N.Z)("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),di=["children","className","component","disabled","error","filled","focused","margin","required","variant"],fi=(0,U.ZP)("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.size&&t["size".concat((0,Z.Z)(n.size))],n.contained&&t.contained,n.filled&&t.filled]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({color:(n.vars||n).palette.text.secondary},n.typography.caption,(t={textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0},(0,K.Z)(t,"&.".concat(hi.disabled),{color:(n.vars||n).palette.text.disabled}),(0,K.Z)(t,"&.".concat(hi.error),{color:(n.vars||n).palette.error.main}),t),"small"===i.size&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})})),pi=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiFormHelperText"}),i=n.children,r=n.className,o=n.component,a=void 0===o?"p":o,s=(0,b.Z)(n,di),l=Tt({props:n,muiFormControl:Je(),states:["variant","size","disabled","error","filled","focused","required"]}),u=(0,_.Z)({},n,{component:a,contained:"filled"===l.variant||"outlined"===l.variant,variant:l.variant,size:l.size,disabled:l.disabled,error:l.error,filled:l.filled,focused:l.focused,required:l.required}),c=function(e){var t=e.classes,n=e.contained,i=e.size,r=e.disabled,o=e.error,a=e.filled,s=e.focused,l=e.required,u={root:["root",r&&"disabled",o&&"error",i&&"size".concat((0,Z.Z)(i)),n&&"contained",s&&"focused",a&&"filled",l&&"required"]};return(0,F.Z)(u,ui,t)}(u);return(0,p.jsx)(fi,(0,_.Z)({as:a,ownerState:u,className:(0,k.Z)(c.root,r),ref:t},s,{children:" "===i?ci||(ci=(0,p.jsx)("span",{className:"notranslate",children:"\u200b"})):i}))})),vi=pi,gi=(n(8457),n(8301)),mi=["value"],yi=i.createContext();var _i=function(){var e=i.useContext(yi);return null!=e&&e},bi=function(e){var t=e.value,n=(0,b.Z)(e,mi);return(0,p.jsx)(yi.Provider,(0,_.Z)({value:null==t||t},n))};var ki=function(e,t,n){return void 0===e||Wt(e)?t:(0,_.Z)({},t,{ownerState:(0,_.Z)({},t.ownerState,n)})};var Ti=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};var n={};return Object.keys(e).filter((function(n){return n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n)})).forEach((function(t){n[t]=e[t]})),n};var Ei=function(e){if(void 0===e)return{};var t={};return Object.keys(e).filter((function(t){return!(t.match(/^on[A-Z]/)&&"function"===typeof e[t])})).forEach((function(n){t[n]=e[n]})),t};var xi=function(e){var t=e.getSlotProps,n=e.additionalProps,i=e.externalSlotProps,r=e.externalForwardedProps,o=e.className;if(!t){var a=(0,k.Z)(null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),s=(0,_.Z)({},null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),l=(0,_.Z)({},n,r,i);return a.length>0&&(l.className=a),Object.keys(s).length>0&&(l.style=s),{props:l,internalRef:void 0}}var u=Ti((0,_.Z)({},r,i)),c=Ei(i),h=Ei(r),d=t(u),f=(0,k.Z)(null==d?void 0:d.className,null==n?void 0:n.className,o,null==r?void 0:r.className,null==i?void 0:i.className),p=(0,_.Z)({},null==d?void 0:d.style,null==n?void 0:n.style,null==r?void 0:r.style,null==i?void 0:i.style),v=(0,_.Z)({},d,n,h,c);return f.length>0&&(v.className=f),Object.keys(p).length>0&&(v.style=p),{props:v,internalRef:d.ref}};var wi=function(e,t,n){return"function"===typeof e?e(t,n):e},Si=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];var Ci=function(e){var t,n=e.elementType,i=e.externalSlotProps,r=e.ownerState,o=e.skipResolvingSlotProps,a=void 0!==o&&o,s=(0,b.Z)(e,Si),l=a?{}:wi(i,r),u=xi((0,_.Z)({},s,{externalSlotProps:l})),c=u.props,h=u.internalRef,d=(0,Gt.Z)(h,null==l?void 0:l.ref,null==(t=e.additionalProps)?void 0:t.ref);return ki(n,(0,_.Z)({},c,{ref:d}),r)};var Ii=i.createContext({});function Ri(e){return(0,H.ZP)("MuiList",e)}(0,N.Z)("MuiList",["root","padding","dense","subheader"]);var Oi=["children","className","component","dense","disablePadding","subheader"],Ai=(0,U.ZP)("ul",{name:"MuiList",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})((function(e){var t=e.ownerState;return(0,_.Z)({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})})),Mi=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiList"}),r=n.children,o=n.className,a=n.component,s=void 0===a?"ul":a,l=n.dense,u=void 0!==l&&l,c=n.disablePadding,h=void 0!==c&&c,d=n.subheader,f=(0,b.Z)(n,Oi),v=i.useMemo((function(){return{dense:u}}),[u]),g=(0,_.Z)({},n,{component:s,dense:u,disablePadding:h}),m=function(e){var t=e.classes,n={root:["root",!e.disablePadding&&"padding",e.dense&&"dense",e.subheader&&"subheader"]};return(0,F.Z)(n,Ri,t)}(g);return(0,p.jsx)(Ii.Provider,{value:v,children:(0,p.jsxs)(Ai,(0,_.Z)({as:s,className:(0,k.Z)(m.root,o),ref:t,ownerState:g},f,{children:[d,r]}))})}));function Li(e){var t=e.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}var Ni=Li,$i=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function Pi(e,t,n){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:n?null:e.firstChild}function Di(e,t,n){return e===t?n?e.firstChild:e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:n?null:e.lastChild}function Bi(e,t){if(void 0===t)return!0;var n=e.innerText;return void 0===n&&(n=e.textContent),0!==(n=n.trim().toLowerCase()).length&&(t.repeating?n[0]===t.keys[0]:0===n.indexOf(t.keys.join("")))}function Fi(e,t,n,i,r,o){for(var a=!1,s=r(e,t,!!t&&n);s;){if(s===e.firstChild){if(a)return!1;a=!0}var l=!i&&(s.disabled||"true"===s.getAttribute("aria-disabled"));if(s.hasAttribute("tabindex")&&Bi(s,o)&&!l)return s.focus(),!0;s=r(e,s,n)}return!1}var Ui=i.forwardRef((function(e,t){var n=e.actions,r=e.autoFocus,o=void 0!==r&&r,a=e.autoFocusItem,s=void 0!==a&&a,l=e.children,u=e.className,c=e.disabledItemsFocusable,h=void 0!==c&&c,d=e.disableListWrap,f=void 0!==d&&d,v=e.onKeyDown,g=e.variant,m=void 0===g?"selectedMenu":g,y=(0,b.Z)(e,$i),k=i.useRef(null),T=i.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});(0,nn.Z)((function(){o&&k.current.focus()}),[o]),i.useImperativeHandle(n,(function(){return{adjustStyleForScrollbar:function(e,t){var n=t.direction,i=!k.current.style.width;if(e.clientHeight<k.current.clientHeight&&i){var r="".concat(Ni((0,gi.Z)(e)),"px");k.current.style["rtl"===n?"paddingLeft":"paddingRight"]=r,k.current.style.width="calc(100% + ".concat(r,")")}return k.current}}}),[]);var E=(0,ee.Z)(k,t),x=-1;i.Children.forEach(l,(function(e,t){i.isValidElement(e)?(e.props.disabled||("selectedMenu"===m&&e.props.selected||-1===x)&&(x=t),x===t&&(e.props.disabled||e.props.muiSkipListHighlight||e.type.muiSkipListHighlight)&&(x+=1)>=l.length&&(x=-1)):x===t&&(x+=1)>=l.length&&(x=-1)}));var w=i.Children.map(l,(function(e,t){if(t===x){var n={};return s&&(n.autoFocus=!0),void 0===e.props.tabIndex&&"selectedMenu"===m&&(n.tabIndex=0),i.cloneElement(e,n)}return e}));return(0,p.jsx)(Mi,(0,_.Z)({role:"menu",ref:E,className:u,onKeyDown:function(e){var t=k.current,n=e.key,i=(0,gi.Z)(t).activeElement;if("ArrowDown"===n)e.preventDefault(),Fi(t,i,f,h,Pi);else if("ArrowUp"===n)e.preventDefault(),Fi(t,i,f,h,Di);else if("Home"===n)e.preventDefault(),Fi(t,null,f,h,Pi);else if("End"===n)e.preventDefault(),Fi(t,null,f,h,Di);else if(1===n.length){var r=T.current,o=n.toLowerCase(),a=performance.now();r.keys.length>0&&(a-r.lastTime>500?(r.keys=[],r.repeating=!0,r.previousKeyMatched=!0):r.repeating&&o!==r.keys[0]&&(r.repeating=!1)),r.lastTime=a,r.keys.push(o);var s=i&&!r.repeating&&Bi(i,r);r.previousKeyMatched&&(s||Fi(t,i,!1,h,Pi,r))?e.preventDefault():r.previousKeyMatched=!1}v&&v(e)},tabIndex:o?0:-1},y,{children:w}))})),ji=Ui,Zi=n(3199),Hi=n(7602),zi=n(4164),Vi=!1,Wi="unmounted",Gi="exited",Xi="entering",Yi="entered",Ki="exiting",qi=function(e){function t(t,n){var i;i=e.call(this,t,n)||this;var r,o=n&&!n.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?o?(r=Gi,i.appearStatus=Xi):r=Yi:r=t.unmountOnExit||t.mountOnEnter?Wi:Gi,i.state={status:r},i.nextCallback=null,i}ae(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Wi?{status:Gi}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Xi&&n!==Yi&&(t=Xi):n!==Xi&&n!==Yi||(t=Ki)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,i=this.props.timeout;return e=t=n=i,null!=i&&"number"!==typeof i&&(e=i.exit,t=i.enter,n=void 0!==i.appear?i.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Xi){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:zi.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Gi&&this.setState({status:Wi})},n.performEnter=function(e){var t=this,n=this.props.enter,i=this.context?this.context.isMounting:e,r=this.props.nodeRef?[i]:[zi.findDOMNode(this),i],o=r[0],a=r[1],s=this.getTimeouts(),l=i?s.appear:s.enter;!e&&!n||Vi?this.safeSetState({status:Yi},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:Xi},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:Yi},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:zi.findDOMNode(this);t&&!Vi?(this.props.onExit(i),this.safeSetState({status:Ki},(function(){e.props.onExiting(i),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Gi},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Gi},(function(){e.props.onExited(i)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,t.nextCallback=null,e(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:zi.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(n&&!i){if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=r[0],a=r[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===Wi)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,b.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(se.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function Ji(){}qi.contextType=se,qi.propTypes={},qi.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ji,onEntering:Ji,onEntered:Ji,onExit:Ji,onExiting:Ji,onExited:Ji},qi.UNMOUNTED=Wi,qi.EXITED=Gi,qi.ENTERING=Xi,qi.ENTERED=Yi,qi.EXITING=Ki;var Qi=qi;function er(){var e=R(an.Z);return e[L.Z]||e}var tr=function(e){return e.scrollTop};function nr(e,t){var n,i,r=e.timeout,o=e.easing,a=e.style,s=void 0===a?{}:a;return{duration:null!=(n=s.transitionDuration)?n:"number"===typeof r?r:r[t.mode]||0,easing:null!=(i=s.transitionTimingFunction)?i:"object"===typeof o?o[t.mode]:o,delay:s.transitionDelay}}var ir=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function rr(e){return"scale(".concat(e,", ").concat(Math.pow(e,2),")")}var or={entering:{opacity:1,transform:rr(1)},entered:{opacity:1,transform:"none"}},ar="undefined"!==typeof navigator&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),sr=i.forwardRef((function(e,t){var n=e.addEndListener,r=e.appear,o=void 0===r||r,a=e.children,s=e.easing,l=e.in,u=e.onEnter,c=e.onEntered,h=e.onEntering,d=e.onExit,f=e.onExited,v=e.onExiting,g=e.style,m=e.timeout,y=void 0===m?"auto":m,k=e.TransitionComponent,T=void 0===k?Qi:k,E=(0,b.Z)(e,ir),x=(0,ve.Z)(),w=i.useRef(),S=er(),C=i.useRef(null),I=(0,ee.Z)(C,a.ref,t),R=function(e){return function(t){if(e){var n=C.current;void 0===t?e(n):e(n,t)}}},O=R(h),A=R((function(e,t){tr(e);var n,i=nr({style:g,timeout:y,easing:s},{mode:"enter"}),r=i.duration,o=i.delay,a=i.easing;"auto"===y?(n=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=n):n=r,e.style.transition=[S.transitions.create("opacity",{duration:n,delay:o}),S.transitions.create("transform",{duration:ar?n:.666*n,delay:o,easing:a})].join(","),u&&u(e,t)})),M=R(c),L=R(v),N=R((function(e){var t,n=nr({style:g,timeout:y,easing:s},{mode:"exit"}),i=n.duration,r=n.delay,o=n.easing;"auto"===y?(t=S.transitions.getAutoHeightDuration(e.clientHeight),w.current=t):t=i,e.style.transition=[S.transitions.create("opacity",{duration:t,delay:r}),S.transitions.create("transform",{duration:ar?t:.666*t,delay:ar?r:r||.333*t,easing:o})].join(","),e.style.opacity=0,e.style.transform=rr(.75),d&&d(e)})),$=R(f);return(0,p.jsx)(T,(0,_.Z)({appear:o,in:l,nodeRef:C,onEnter:A,onEntered:M,onEntering:O,onExit:N,onExited:$,onExiting:L,addEndListener:function(e){"auto"===y&&x.start(w.current||0,e),n&&n(C.current,e)},timeout:"auto"===y?null:y},E,{children:function(e,t){return i.cloneElement(a,(0,_.Z)({style:(0,_.Z)({opacity:0,transform:rr(.75),visibility:"exited"!==e||l?void 0:"hidden"},or[e],g,a.props.style),ref:I},t))}}))}));sr.muiSupportAuto=!0;var lr=sr,ur=n(4913),cr=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function hr(e){var t=[],n=[];return Array.from(e.querySelectorAll(cr)).forEach((function(e,i){var r=function(e){var t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==r&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;var t=function(t){return e.ownerDocument.querySelector('input[type="radio"]'.concat(t))},n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===r?t.push(e):n.push({documentOrder:i,tabIndex:r,node:e}))})),n.sort((function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex})).map((function(e){return e.node})).concat(t)}function dr(){return!0}var fr=function(e){var t=e.children,n=e.disableAutoFocus,r=void 0!==n&&n,o=e.disableEnforceFocus,a=void 0!==o&&o,s=e.disableRestoreFocus,l=void 0!==s&&s,u=e.getTabbable,c=void 0===u?hr:u,h=e.isEnabled,d=void 0===h?dr:h,f=e.open,v=i.useRef(!1),g=i.useRef(null),m=i.useRef(null),y=i.useRef(null),_=i.useRef(null),b=i.useRef(!1),k=i.useRef(null),T=(0,Gt.Z)(t.ref,k),E=i.useRef(null);i.useEffect((function(){f&&k.current&&(b.current=!r)}),[r,f]),i.useEffect((function(){if(f&&k.current){var e=(0,ur.Z)(k.current);return k.current.contains(e.activeElement)||(k.current.hasAttribute("tabIndex")||k.current.setAttribute("tabIndex","-1"),b.current&&k.current.focus()),function(){l||(y.current&&y.current.focus&&(v.current=!0,y.current.focus()),y.current=null)}}}),[f]),i.useEffect((function(){if(f&&k.current){var e=(0,ur.Z)(k.current),t=function(t){E.current=t,!a&&d()&&"Tab"===t.key&&e.activeElement===k.current&&t.shiftKey&&(v.current=!0,m.current&&m.current.focus())},n=function(){var t=k.current;if(null!==t)if(e.hasFocus()&&d()&&!v.current){if(!t.contains(e.activeElement)&&(!a||e.activeElement===g.current||e.activeElement===m.current)){if(e.activeElement!==_.current)_.current=null;else if(null!==_.current)return;if(b.current){var n=[];if(e.activeElement!==g.current&&e.activeElement!==m.current||(n=c(k.current)),n.length>0){var i,r,o=Boolean((null==(i=E.current)?void 0:i.shiftKey)&&"Tab"===(null==(r=E.current)?void 0:r.key)),s=n[0],l=n[n.length-1];"string"!==typeof s&&"string"!==typeof l&&(o?l.focus():s.focus())}else t.focus()}}}else v.current=!1};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);var i=setInterval((function(){e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return function(){clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}}),[r,a,l,d,f,c]);var x=function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0};return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)("div",{tabIndex:f?0:-1,onFocus:x,ref:g,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:T,onFocus:function(e){null===y.current&&(y.current=e.relatedTarget),b.current=!0,_.current=e.target;var n=t.props.onFocus;n&&n(e)}}),(0,p.jsx)("div",{tabIndex:f?0:-1,onFocus:x,ref:m,"data-testid":"sentinelEnd"})]})},pr=n(6670);var vr=i.forwardRef((function(e,t){var n=e.children,r=e.container,o=e.disablePortal,a=void 0!==o&&o,s=i.useState(null),l=(0,d.Z)(s,2),u=l[0],c=l[1],h=(0,Gt.Z)(i.isValidElement(n)?n.ref:null,t);if((0,Yt.Z)((function(){a||c(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,a]),(0,Yt.Z)((function(){if(u&&!a)return(0,pr.Z)(t,u),function(){(0,pr.Z)(t,null)}}),[t,u,a]),a){if(i.isValidElement(n)){var f={ref:h};return i.cloneElement(n,f)}return(0,p.jsx)(i.Fragment,{children:n})}return(0,p.jsx)(i.Fragment,{children:u?zi.createPortal(n,u):u})})),gr=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],mr={entering:{opacity:1},entered:{opacity:1}},yr=i.forwardRef((function(e,t){var n=er(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},o=e.addEndListener,a=e.appear,s=void 0===a||a,l=e.children,u=e.easing,c=e.in,h=e.onEnter,d=e.onEntered,f=e.onEntering,v=e.onExit,g=e.onExited,m=e.onExiting,y=e.style,k=e.timeout,T=void 0===k?r:k,E=e.TransitionComponent,x=void 0===E?Qi:E,w=(0,b.Z)(e,gr),S=i.useRef(null),C=(0,ee.Z)(S,l.ref,t),I=function(e){return function(t){if(e){var n=S.current;void 0===t?e(n):e(n,t)}}},R=I(f),O=I((function(e,t){tr(e);var i=nr({style:y,timeout:T,easing:u},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",i),e.style.transition=n.transitions.create("opacity",i),h&&h(e,t)})),A=I(d),M=I(m),L=I((function(e){var t=nr({style:y,timeout:T,easing:u},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),v&&v(e)})),N=I(g);return(0,p.jsx)(x,(0,_.Z)({appear:s,in:c,nodeRef:S,onEnter:O,onEntered:A,onEntering:R,onExit:L,onExited:N,onExiting:M,addEndListener:function(e){o&&o(S.current,e)},timeout:T},w,{children:function(e,t){return i.cloneElement(l,(0,_.Z)({style:(0,_.Z)({opacity:0,visibility:"exited"!==e||c?void 0:"hidden"},mr[e],y,l.props.style),ref:C},t))}}))})),_r=yr;function br(e){return(0,H.ZP)("MuiBackdrop",e)}(0,N.Z)("MuiBackdrop",["root","invisible"]);var kr=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Tr=(0,U.ZP)("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.invisible&&t.invisible]}})((function(e){var t=e.ownerState;return(0,_.Z)({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})})),Er=i.forwardRef((function(e,t){var n,i,r,o=(0,j.i)({props:e,name:"MuiBackdrop"}),a=o.children,s=o.className,l=o.component,u=void 0===l?"div":l,c=o.components,h=void 0===c?{}:c,d=o.componentsProps,f=void 0===d?{}:d,v=o.invisible,g=void 0!==v&&v,m=o.open,y=o.slotProps,T=void 0===y?{}:y,E=o.slots,x=void 0===E?{}:E,w=o.TransitionComponent,S=void 0===w?_r:w,C=o.transitionDuration,I=(0,b.Z)(o,kr),R=(0,_.Z)({},o,{component:u,invisible:g}),O=function(e){var t=e.classes,n={root:["root",e.invisible&&"invisible"]};return(0,F.Z)(n,br,t)}(R),A=null!=(n=T.root)?n:f.root;return(0,p.jsx)(S,(0,_.Z)({in:m,timeout:C},I,{children:(0,p.jsx)(Tr,(0,_.Z)({"aria-hidden":!0},A,{as:null!=(i=null!=(r=x.root)?r:h.Root)?i:u,className:(0,k.Z)(O.root,s,null==A?void 0:A.className),ownerState:(0,_.Z)({},R,null==A?void 0:A.ownerState),classes:O,ref:t,children:a}))}))})),xr=n(7054),wr=n(7874),Sr=n(5671),Cr=n(3144);function Ir(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Rr(e){return parseInt((0,Xt.Z)(e).getComputedStyle(e).paddingRight,10)||0}function Or(e,t,n,i,r){var o=[t,n].concat((0,s.Z)(i));[].forEach.call(e.children,(function(e){var t=-1===o.indexOf(e),n=!function(e){var t=-1!==["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ir(e,r)}))}function Ar(e,t){var n=-1;return e.some((function(e,i){return!!t(e)&&(n=i,!0)})),n}function Mr(e,t){var n=[],i=e.container;if(!t.disableScrollLock){if(function(e){var t=(0,ur.Z)(e);return t.body===e?(0,Xt.Z)(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(i)){var r=Li((0,ur.Z)(i));n.push({value:i.style.paddingRight,property:"padding-right",el:i}),i.style.paddingRight="".concat(Rr(i)+r,"px");var o=(0,ur.Z)(i).querySelectorAll(".mui-fixed");[].forEach.call(o,(function(e){n.push({value:e.style.paddingRight,property:"padding-right",el:e}),e.style.paddingRight="".concat(Rr(e)+r,"px")}))}var a;if(i.parentNode instanceof DocumentFragment)a=(0,ur.Z)(i).body;else{var s=i.parentElement,l=(0,Xt.Z)(i);a="HTML"===(null==s?void 0:s.nodeName)&&"scroll"===l.getComputedStyle(s).overflowY?s:i}n.push({value:a.style.overflow,property:"overflow",el:a},{value:a.style.overflowX,property:"overflow-x",el:a},{value:a.style.overflowY,property:"overflow-y",el:a}),a.style.overflow="hidden"}return function(){n.forEach((function(e){var t=e.value,n=e.el,i=e.property;t?n.style.setProperty(i,t):n.style.removeProperty(i)}))}}var Lr=function(){function e(){(0,Sr.Z)(this,e),this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}return(0,Cr.Z)(e,[{key:"add",value:function(e,t){var n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ir(e.modalRef,!1);var i=function(e){var t=[];return[].forEach.call(e.children,(function(e){"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);Or(t,e.mount,e.modalRef,i,!0);var r=Ar(this.containers,(function(e){return e.container===t}));return-1!==r?(this.containers[r].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:i}),n)}},{key:"mount",value:function(e,t){var n=Ar(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),i=this.containers[n];i.restore||(i.restore=Mr(i,t))}},{key:"remove",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.modals.indexOf(e);if(-1===n)return n;var i=Ar(this.containers,(function(t){return-1!==t.modals.indexOf(e)})),r=this.containers[i];if(r.modals.splice(r.modals.indexOf(e),1),this.modals.splice(n,1),0===r.modals.length)r.restore&&r.restore(),e.modalRef&&Ir(e.modalRef,t),Or(r.container,e.mount,e.modalRef,r.hiddenSiblings,!1),this.containers.splice(i,1);else{var o=r.modals[r.modals.length-1];o.modalRef&&Ir(o.modalRef,!1)}return n}},{key:"isTopModal",value:function(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}]),e}();var Nr=new Lr;var $r=function(e){var t=e.container,n=e.disableEscapeKeyDown,r=void 0!==n&&n,o=e.disableScrollLock,a=void 0!==o&&o,s=e.manager,l=void 0===s?Nr:s,u=e.closeAfterTransition,c=void 0!==u&&u,h=e.onTransitionEnter,f=e.onTransitionExited,p=e.children,v=e.onClose,g=e.open,m=e.rootRef,y=i.useRef({}),b=i.useRef(null),k=i.useRef(null),T=(0,Gt.Z)(k,m),E=i.useState(!g),x=(0,d.Z)(E,2),w=x[0],S=x[1],C=function(e){return!!e&&e.props.hasOwnProperty("in")}(p),I=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(I=!1);var R=function(){return y.current.modalRef=k.current,y.current.mount=b.current,y.current},O=function(){l.mount(R(),{disableScrollLock:a}),k.current&&(k.current.scrollTop=0)},A=(0,xr.Z)((function(){var e=function(e){return"function"===typeof e?e():e}(t)||(0,ur.Z)(b.current).body;l.add(R(),e),k.current&&O()})),M=i.useCallback((function(){return l.isTopModal(R())}),[l]),L=(0,xr.Z)((function(e){b.current=e,e&&(g&&M()?O():k.current&&Ir(k.current,I))})),N=i.useCallback((function(){l.remove(R(),I)}),[I,l]);i.useEffect((function(){return function(){N()}}),[N]),i.useEffect((function(){g?A():C&&c||N()}),[g,N,C,c,A]);var $=function(e){return function(t){var n;null==(n=e.onKeyDown)||n.call(e,t),"Escape"===t.key&&229!==t.which&&M()&&(r||(t.stopPropagation(),v&&v(t,"escapeKeyDown")))}},P=function(e){return function(t){var n;null==(n=e.onClick)||n.call(e,t),t.target===t.currentTarget&&v&&v(t,"backdropClick")}};return{getRootProps:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ti(e);delete n.onTransitionEnter,delete n.onTransitionExited;var i=(0,_.Z)({},n,t);return(0,_.Z)({role:"presentation"},i,{onKeyDown:$(i),ref:T})},getBackdropProps:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,_.Z)({"aria-hidden":!0},e,{onClick:P(e),open:g})},getTransitionProps:function(){return{onEnter:(0,wr.Z)((function(){S(!1),h&&h()}),null==p?void 0:p.props.onEnter),onExited:(0,wr.Z)((function(){S(!0),f&&f(),c&&N()}),null==p?void 0:p.props.onExited)}},rootRef:T,portalRef:L,isTopModal:M,exited:w,hasTransition:C}};function Pr(e){return(0,H.ZP)("MuiModal",e)}(0,N.Z)("MuiModal",["root","hidden","backdrop"]);var Dr=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Br=(0,U.ZP)("div",{name:"MuiModal",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.open&&n.exited&&t.hidden]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!n.open&&n.exited&&{visibility:"hidden"})})),Fr=(0,U.ZP)(Er,{name:"MuiModal",slot:"Backdrop",overridesResolver:function(e,t){return t.backdrop}})({zIndex:-1}),Ur=i.forwardRef((function(e,t){var n,r,o,a,s,l,u=(0,j.i)({name:"MuiModal",props:e}),c=u.BackdropComponent,h=void 0===c?Fr:c,d=u.BackdropProps,f=u.className,v=u.closeAfterTransition,g=void 0!==v&&v,m=u.children,y=u.container,T=u.component,E=u.components,x=void 0===E?{}:E,w=u.componentsProps,S=void 0===w?{}:w,C=u.disableAutoFocus,I=void 0!==C&&C,R=u.disableEnforceFocus,O=void 0!==R&&R,A=u.disableEscapeKeyDown,M=void 0!==A&&A,L=u.disablePortal,N=void 0!==L&&L,$=u.disableRestoreFocus,P=void 0!==$&&$,D=u.disableScrollLock,B=void 0!==D&&D,U=u.hideBackdrop,Z=void 0!==U&&U,H=u.keepMounted,z=void 0!==H&&H,V=u.onBackdropClick,W=u.open,G=u.slotProps,X=u.slots,Y=(0,b.Z)(u,Dr),K=(0,_.Z)({},u,{closeAfterTransition:g,disableAutoFocus:I,disableEnforceFocus:O,disableEscapeKeyDown:M,disablePortal:N,disableRestoreFocus:P,disableScrollLock:B,hideBackdrop:Z,keepMounted:z}),q=$r((0,_.Z)({},K,{rootRef:t})),J=q.getRootProps,Q=q.getBackdropProps,ee=q.getTransitionProps,te=q.portalRef,ne=q.isTopModal,ie=q.exited,re=q.hasTransition,oe=(0,_.Z)({},K,{exited:ie}),ae=function(e){var t=e.open,n=e.exited,i=e.classes,r={root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]};return(0,F.Z)(r,Pr,i)}(oe),se={};if(void 0===m.props.tabIndex&&(se.tabIndex="-1"),re){var le=ee(),ue=le.onEnter,ce=le.onExited;se.onEnter=ue,se.onExited=ce}var he=null!=(n=null!=(r=null==X?void 0:X.root)?r:x.Root)?n:Br,de=null!=(o=null!=(a=null==X?void 0:X.backdrop)?a:x.Backdrop)?o:h,fe=null!=(s=null==G?void 0:G.root)?s:S.root,pe=null!=(l=null==G?void 0:G.backdrop)?l:S.backdrop,ve=Ci({elementType:he,externalSlotProps:fe,externalForwardedProps:Y,getSlotProps:J,additionalProps:{ref:t,as:T},ownerState:oe,className:(0,k.Z)(f,null==fe?void 0:fe.className,null==ae?void 0:ae.root,!oe.open&&oe.exited&&(null==ae?void 0:ae.hidden))}),ge=Ci({elementType:de,externalSlotProps:pe,additionalProps:d,getSlotProps:function(e){return Q((0,_.Z)({},e,{onClick:function(t){V&&V(t),null!=e&&e.onClick&&e.onClick(t)}}))},className:(0,k.Z)(null==pe?void 0:pe.className,null==d?void 0:d.className,null==ae?void 0:ae.backdrop),ownerState:oe});return z||W||re&&!ie?(0,p.jsx)(vr,{ref:te,container:y,disablePortal:N,children:(0,p.jsxs)(he,(0,_.Z)({},ve,{children:[!Z&&h?(0,p.jsx)(de,(0,_.Z)({},ge)):null,(0,p.jsx)(fr,{disableEnforceFocus:O,disableAutoFocus:I,disableRestoreFocus:P,isEnabled:ne,open:W,children:i.cloneElement(m,se)})]}))}):null})),jr=Ur,Zr=function(e){return((e<1?5.11916*Math.pow(e,2):4.5*Math.log(e+1)+2)/100).toFixed(2)};function Hr(e){return(0,H.ZP)("MuiPaper",e)}(0,N.Z)("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);var zr=["className","component","elevation","square","variant"],Vr=(0,U.ZP)("div",{name:"MuiPaper",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({backgroundColor:(n.vars||n).palette.background.paper,color:(n.vars||n).palette.text.primary,transition:n.transitions.create("box-shadow")},!i.square&&{borderRadius:n.shape.borderRadius},"outlined"===i.variant&&{border:"1px solid ".concat((n.vars||n).palette.divider)},"elevation"===i.variant&&(0,_.Z)({boxShadow:(n.vars||n).shadows[i.elevation]},!n.vars&&"dark"===n.palette.mode&&{backgroundImage:"linear-gradient(".concat((0,J.Fq)("#fff",Zr(i.elevation)),", ").concat((0,J.Fq)("#fff",Zr(i.elevation)),")")},n.vars&&{backgroundImage:null==(t=n.vars.overlays)?void 0:t[i.elevation]}))})),Wr=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiPaper"}),i=n.className,r=n.component,o=void 0===r?"div":r,a=n.elevation,s=void 0===a?1:a,l=n.square,u=void 0!==l&&l,c=n.variant,h=void 0===c?"elevation":c,d=(0,b.Z)(n,zr),f=(0,_.Z)({},n,{component:o,elevation:s,square:u,variant:h}),v=function(e){var t=e.square,n=e.elevation,i=e.variant,r=e.classes,o={root:["root",i,!t&&"rounded","elevation"===i&&"elevation".concat(n)]};return(0,F.Z)(o,Hr,r)}(f);return(0,p.jsx)(Vr,(0,_.Z)({as:o,ownerState:f,className:(0,k.Z)(v.root,i),ref:t},d))}));function Gr(e){return(0,H.ZP)("MuiPopover",e)}(0,N.Z)("MuiPopover",["root","paper"]);var Xr=["onEntering"],Yr=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],Kr=["slotProps"];function qr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.height/2:"bottom"===t&&(n=e.height),n}function Jr(e,t){var n=0;return"number"===typeof t?n=t:"center"===t?n=e.width/2:"right"===t&&(n=e.width),n}function Qr(e){return[e.horizontal,e.vertical].map((function(e){return"number"===typeof e?"".concat(e,"px"):e})).join(" ")}function eo(e){return"function"===typeof e?e():e}var to=(0,U.ZP)(jr,{name:"MuiPopover",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),no=(0,U.ZP)(Wr,{name:"MuiPopover",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),io=i.forwardRef((function(e,t){var n,r,o,a=(0,j.i)({props:e,name:"MuiPopover"}),s=a.action,l=a.anchorEl,u=a.anchorOrigin,c=void 0===u?{vertical:"top",horizontal:"left"}:u,h=a.anchorPosition,f=a.anchorReference,v=void 0===f?"anchorEl":f,g=a.children,m=a.className,y=a.container,T=a.elevation,E=void 0===T?8:T,x=a.marginThreshold,w=void 0===x?16:x,S=a.open,C=a.PaperProps,I=void 0===C?{}:C,R=a.slots,O=a.slotProps,A=a.transformOrigin,M=void 0===A?{vertical:"top",horizontal:"left"}:A,L=a.TransitionComponent,N=void 0===L?lr:L,$=a.transitionDuration,P=void 0===$?"auto":$,D=a.TransitionProps,B=(void 0===D?{}:D).onEntering,U=a.disableScrollLock,Z=void 0!==U&&U,H=(0,b.Z)(a.TransitionProps,Xr),z=(0,b.Z)(a,Yr),V=null!=(n=null==O?void 0:O.paper)?n:I,W=i.useRef(),G=(0,ee.Z)(W,V.ref),X=(0,_.Z)({},a,{anchorOrigin:c,anchorReference:v,elevation:E,marginThreshold:w,externalPaperSlotProps:V,transformOrigin:M,TransitionComponent:N,transitionDuration:P,TransitionProps:H}),Y=function(e){var t=e.classes;return(0,F.Z)({root:["root"],paper:["paper"]},Gr,t)}(X),K=i.useCallback((function(){if("anchorPosition"===v)return h;var e=eo(l),t=(e&&1===e.nodeType?e:(0,gi.Z)(W.current).body).getBoundingClientRect();return{top:t.top+qr(t,c.vertical),left:t.left+Jr(t,c.horizontal)}}),[l,c.horizontal,c.vertical,h,v]),q=i.useCallback((function(e){return{vertical:qr(e,M.vertical),horizontal:Jr(e,M.horizontal)}}),[M.horizontal,M.vertical]),J=i.useCallback((function(e){var t={width:e.offsetWidth,height:e.offsetHeight},n=q(t);if("none"===v)return{top:null,left:null,transformOrigin:Qr(n)};var i=K(),r=i.top-n.vertical,o=i.left-n.horizontal,a=r+t.height,s=o+t.width,u=(0,Hi.Z)(eo(l)),c=u.innerHeight-w,h=u.innerWidth-w;if(null!==w&&r<w){var d=r-w;r-=d,n.vertical+=d}else if(null!==w&&a>c){var f=a-c;r-=f,n.vertical+=f}if(null!==w&&o<w){var p=o-w;o-=p,n.horizontal+=p}else if(s>h){var g=s-h;o-=g,n.horizontal+=g}return{top:"".concat(Math.round(r),"px"),left:"".concat(Math.round(o),"px"),transformOrigin:Qr(n)}}),[l,v,K,q,w]),Q=i.useState(S),te=(0,d.Z)(Q,2),ne=te[0],ie=te[1],re=i.useCallback((function(){var e=W.current;if(e){var t=J(e);null!==t.top&&(e.style.top=t.top),null!==t.left&&(e.style.left=t.left),e.style.transformOrigin=t.transformOrigin,ie(!0)}}),[J]);i.useEffect((function(){return Z&&window.addEventListener("scroll",re),function(){return window.removeEventListener("scroll",re)}}),[l,Z,re]);i.useEffect((function(){S&&re()})),i.useImperativeHandle(s,(function(){return S?{updatePosition:function(){re()}}:null}),[S,re]),i.useEffect((function(){if(S){var e=(0,Zi.Z)((function(){re()})),t=(0,Hi.Z)(l);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[l,S,re]);var oe=P;"auto"!==P||N.muiSupportAuto||(oe=void 0);var ae=y||(l?(0,gi.Z)(eo(l)).body:void 0),se=null!=(r=null==R?void 0:R.root)?r:to,le=null!=(o=null==R?void 0:R.paper)?o:no,ue=Ci({elementType:le,externalSlotProps:(0,_.Z)({},V,{style:ne?V.style:(0,_.Z)({},V.style,{opacity:0})}),additionalProps:{elevation:E,ref:G},ownerState:X,className:(0,k.Z)(Y.paper,null==V?void 0:V.className)}),ce=Ci({elementType:se,externalSlotProps:(null==O?void 0:O.root)||{},externalForwardedProps:z,additionalProps:{ref:t,slotProps:{backdrop:{invisible:!0}},container:ae,open:S},ownerState:X,className:(0,k.Z)(Y.root,m)}),he=ce.slotProps,de=(0,b.Z)(ce,Kr);return(0,p.jsx)(se,(0,_.Z)({},de,!Wt(se)&&{slotProps:he,disableScrollLock:Z},{children:(0,p.jsx)(N,(0,_.Z)({appear:!0,in:S,onEntering:function(e,t){B&&B(e,t),re()},onExited:function(){ie(!1)},timeout:oe},H,{children:(0,p.jsx)(le,(0,_.Z)({},ue,{children:g}))}))}))}));function ro(e){return(0,H.ZP)("MuiMenu",e)}(0,N.Z)("MuiMenu",["root","paper","list"]);var oo=["onEntering"],ao=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],so={vertical:"top",horizontal:"right"},lo={vertical:"top",horizontal:"left"},uo=(0,U.ZP)(io,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiMenu",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),co=(0,U.ZP)(no,{name:"MuiMenu",slot:"Paper",overridesResolver:function(e,t){return t.paper}})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),ho=(0,U.ZP)(ji,{name:"MuiMenu",slot:"List",overridesResolver:function(e,t){return t.list}})({outline:0}),fo=i.forwardRef((function(e,t){var n,r,o=(0,j.i)({props:e,name:"MuiMenu"}),a=o.autoFocus,s=void 0===a||a,l=o.children,u=o.className,c=o.disableAutoFocusItem,h=void 0!==c&&c,d=o.MenuListProps,f=void 0===d?{}:d,v=o.onClose,g=o.open,m=o.PaperProps,y=void 0===m?{}:m,T=o.PopoverClasses,E=o.transitionDuration,x=void 0===E?"auto":E,w=o.TransitionProps,S=(void 0===w?{}:w).onEntering,C=o.variant,I=void 0===C?"selectedMenu":C,R=o.slots,O=void 0===R?{}:R,A=o.slotProps,M=void 0===A?{}:A,L=(0,b.Z)(o.TransitionProps,oo),N=(0,b.Z)(o,ao),$=_i(),P=(0,_.Z)({},o,{autoFocus:s,disableAutoFocusItem:h,MenuListProps:f,onEntering:S,PaperProps:y,transitionDuration:x,TransitionProps:L,variant:I}),D=function(e){var t=e.classes;return(0,F.Z)({root:["root"],paper:["paper"],list:["list"]},ro,t)}(P),B=s&&!h&&g,U=i.useRef(null),Z=-1;i.Children.map(l,(function(e,t){i.isValidElement(e)&&(e.props.disabled||("selectedMenu"===I&&e.props.selected||-1===Z)&&(Z=t))}));var H=null!=(n=O.paper)?n:co,z=null!=(r=M.paper)?r:y,V=Ci({elementType:O.root,externalSlotProps:M.root,ownerState:P,className:[D.root,u]}),W=Ci({elementType:H,externalSlotProps:z,ownerState:P,className:D.paper});return(0,p.jsx)(uo,(0,_.Z)({onClose:v,anchorOrigin:{vertical:"bottom",horizontal:$?"right":"left"},transformOrigin:$?so:lo,slots:{paper:H,root:O.root},slotProps:{root:V,paper:W},open:g,ref:t,transitionDuration:x,TransitionProps:(0,_.Z)({onEntering:function(e,t){U.current&&U.current.adjustStyleForScrollbar(e,{direction:$?"rtl":"ltr"}),S&&S(e,t)}},L),ownerState:P},N,{classes:T,children:(0,p.jsx)(ho,(0,_.Z)({onKeyDown:function(e){"Tab"===e.key&&(e.preventDefault(),v&&v(e,"tabKeyDown"))},actions:U,autoFocus:s&&(-1===Z||h),autoFocusItem:B,variant:I},f,{className:(0,k.Z)(D.list,f.className),children:l}))}))})),po=fo;function vo(e){return(0,H.ZP)("MuiNativeSelect",e)}var go=(0,N.Z)("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),mo=["className","disabled","error","IconComponent","inputRef","variant"],yo=function(e){var t,n=e.ownerState,i=e.theme;return(0,_.Z)((t={MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":(0,_.Z)({},i.vars?{backgroundColor:"rgba(".concat(i.vars.palette.common.onBackgroundChannel," / 0.05)")}:{backgroundColor:"light"===i.palette.mode?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"}},(0,K.Z)(t,"&.".concat(go.disabled),{cursor:"default"}),(0,K.Z)(t,"&[multiple]",{height:"auto"}),(0,K.Z)(t,"&:not([multiple]) option, &:not([multiple]) optgroup",{backgroundColor:(i.vars||i).palette.background.paper}),(0,K.Z)(t,"&&&",{paddingRight:24,minWidth:16}),t),"filled"===n.variant&&{"&&&":{paddingRight:32}},"outlined"===n.variant&&{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}})},_o=(0,U.ZP)("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:Q.Z,overridesResolver:function(e,t){var n=e.ownerState;return[t.select,t[n.variant],n.error&&t.error,(0,K.Z)({},"&.".concat(go.multiple),t.multiple)]}})(yo),bo=function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)((0,K.Z)({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(n.vars||n).palette.action.active},"&.".concat(go.disabled),{color:(n.vars||n).palette.action.disabled}),t.open&&{transform:"rotate(180deg)"},"filled"===t.variant&&{right:7},"outlined"===t.variant&&{right:7})},ko=(0,U.ZP)("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Z.Z)(n.variant))],n.open&&t.iconOpen]}})(bo),To=i.forwardRef((function(e,t){var n=e.className,r=e.disabled,o=e.error,a=e.IconComponent,s=e.inputRef,l=e.variant,u=void 0===l?"standard":l,c=(0,b.Z)(e,mo),h=(0,_.Z)({},e,{disabled:r,variant:u,error:o}),d=function(e){var t=e.classes,n=e.variant,i=e.disabled,r=e.multiple,o=e.open,a={select:["select",n,i&&"disabled",r&&"multiple",e.error&&"error"],icon:["icon","icon".concat((0,Z.Z)(n)),o&&"iconOpen",i&&"disabled"]};return(0,F.Z)(a,vo,t)}(h);return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(_o,(0,_.Z)({ownerState:h,className:(0,k.Z)(d.select,n),disabled:r,ref:s||t},c)),e.multiple?null:(0,p.jsx)(ko,{as:a,ownerState:h,className:d.icon})]})})),Eo=To,xo=n(7995);function wo(e){return(0,H.ZP)("MuiSelect",e)}var So,Co=(0,N.Z)("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),Io=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],Ro=(0,U.ZP)("div",{name:"MuiSelect",slot:"Select",overridesResolver:function(e,t){var n=e.ownerState;return[(0,K.Z)({},"&.".concat(Co.select),t.select),(0,K.Z)({},"&.".concat(Co.select),t[n.variant]),(0,K.Z)({},"&.".concat(Co.error),t.error),(0,K.Z)({},"&.".concat(Co.multiple),t.multiple)]}})(yo,(0,K.Z)({},"&.".concat(Co.select),{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"})),Oo=(0,U.ZP)("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:function(e,t){var n=e.ownerState;return[t.icon,n.variant&&t["icon".concat((0,Z.Z)(n.variant))],n.open&&t.iconOpen]}})(bo),Ao=(0,U.ZP)("input",{shouldForwardProp:function(e){return(0,xo.Z)(e)&&"classes"!==e},name:"MuiSelect",slot:"NativeInput",overridesResolver:function(e,t){return t.nativeInput}})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Mo(e,t){return"object"===typeof t&&null!==t?e===t:String(e)===String(t)}function Lo(e){return null==e||"string"===typeof e&&!e.trim()}var No=i.forwardRef((function(e,t){var n,r=e["aria-describedby"],o=e["aria-label"],a=e.autoFocus,s=e.autoWidth,l=e.children,u=e.className,c=e.defaultOpen,h=e.defaultValue,f=e.disabled,v=e.displayEmpty,g=e.error,m=void 0!==g&&g,y=e.IconComponent,T=e.inputRef,E=e.labelId,x=e.MenuProps,w=void 0===x?{}:x,S=e.multiple,C=e.name,I=e.onBlur,R=e.onChange,O=e.onClose,A=e.onFocus,M=e.onOpen,L=e.open,N=e.readOnly,$=e.renderValue,P=e.SelectDisplayProps,D=void 0===P?{}:P,B=e.tabIndex,U=e.value,j=e.variant,H=void 0===j?"standard":j,z=(0,b.Z)(e,Io),V=(0,It.Z)({controlled:U,default:h,name:"Select"}),W=(0,d.Z)(V,2),G=W[0],X=W[1],Y=(0,It.Z)({controlled:L,default:c,name:"Select"}),K=(0,d.Z)(Y,2),q=K[0],J=K[1],Q=i.useRef(null),te=i.useRef(null),ne=i.useState(null),ie=(0,d.Z)(ne,2),re=ie[0],oe=ie[1],ae=i.useRef(null!=L).current,se=i.useState(),le=(0,d.Z)(se,2),ue=le[0],ce=le[1],he=(0,ee.Z)(t,T),de=i.useCallback((function(e){te.current=e,e&&oe(e)}),[]),fe=null==re?void 0:re.parentNode;i.useImperativeHandle(he,(function(){return{focus:function(){te.current.focus()},node:Q.current,value:G}}),[G]),i.useEffect((function(){c&&q&&re&&!ae&&(ce(s?null:fe.clientWidth),te.current.focus())}),[re,s]),i.useEffect((function(){a&&te.current.focus()}),[a]),i.useEffect((function(){if(E){var e=(0,gi.Z)(te.current).getElementById(E);if(e){var t=function(){getSelection().isCollapsed&&te.current.focus()};return e.addEventListener("click",t),function(){e.removeEventListener("click",t)}}}}),[E]);var pe,ve,ge=function(e,t){e?M&&M(t):O&&O(t),ae||(ce(s?null:fe.clientWidth),J(e))},me=i.Children.toArray(l),ye=function(e){return function(t){var n;if(t.currentTarget.hasAttribute("tabindex")){if(S){n=Array.isArray(G)?G.slice():[];var i=G.indexOf(e.props.value);-1===i?n.push(e.props.value):n.splice(i,1)}else n=e.props.value;if(e.props.onClick&&e.props.onClick(t),G!==n&&(X(n),R)){var r=t.nativeEvent||t,o=new r.constructor(r.type,r);Object.defineProperty(o,"target",{writable:!0,value:{value:n,name:C}}),R(o,e)}S||ge(!1,t)}}},_e=null!==re&&q;delete z["aria-invalid"];var be=[],ke=!1;(un({value:G})||v)&&($?pe=$(G):ke=!0);var Te=me.map((function(e){if(!i.isValidElement(e))return null;var t;if(S){if(!Array.isArray(G))throw new Error((0,Vt.Z)(2));(t=G.some((function(t){return Mo(t,e.props.value)})))&&ke&&be.push(e.props.children)}else(t=Mo(G,e.props.value))&&ke&&(ve=e.props.children);return t&&!0,i.cloneElement(e,{"aria-selected":t?"true":"false",onClick:ye(e),onKeyUp:function(t){" "===t.key&&t.preventDefault(),e.props.onKeyUp&&e.props.onKeyUp(t)},role:"option",selected:t,value:void 0,"data-value":e.props.value})}));ke&&(pe=S?0===be.length?null:be.reduce((function(e,t,n){return e.push(t),n<be.length-1&&e.push(", "),e}),[]):ve);var Ee,xe=ue;!s&&ae&&re&&(xe=fe.clientWidth),Ee="undefined"!==typeof B?B:f?null:0;var we=D.id||(C?"mui-component-select-".concat(C):void 0),Se=(0,_.Z)({},e,{variant:H,value:G,open:_e,error:m}),Ce=function(e){var t=e.classes,n=e.variant,i=e.disabled,r=e.multiple,o=e.open,a={select:["select",n,i&&"disabled",r&&"multiple",e.error&&"error"],icon:["icon","icon".concat((0,Z.Z)(n)),o&&"iconOpen",i&&"disabled"],nativeInput:["nativeInput"]};return(0,F.Z)(a,wo,t)}(Se),Ie=(0,_.Z)({},w.PaperProps,null==(n=w.slotProps)?void 0:n.paper),Re=(0,zt.Z)();return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(Ro,(0,_.Z)({ref:de,tabIndex:Ee,role:"combobox","aria-controls":Re,"aria-disabled":f?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[E,we].filter(Boolean).join(" ")||void 0,"aria-describedby":r,onKeyDown:function(e){if(!N){-1!==[" ","ArrowUp","ArrowDown","Enter"].indexOf(e.key)&&(e.preventDefault(),ge(!0,e))}},onMouseDown:f||N?null:function(e){0===e.button&&(e.preventDefault(),te.current.focus(),ge(!0,e))},onBlur:function(e){!_e&&I&&(Object.defineProperty(e,"target",{writable:!0,value:{value:G,name:C}}),I(e))},onFocus:A},D,{ownerState:Se,className:(0,k.Z)(D.className,Ce.select,u),id:we,children:Lo(pe)?So||(So=(0,p.jsx)("span",{className:"notranslate",children:"\u200b"})):pe})),(0,p.jsx)(Ao,(0,_.Z)({"aria-invalid":m,value:Array.isArray(G)?G.join(","):G,name:C,ref:Q,"aria-hidden":!0,onChange:function(e){var t=me.find((function(t){return t.props.value===e.target.value}));void 0!==t&&(X(t.props.value),R&&R(e,t))},tabIndex:-1,disabled:f,className:Ce.nativeInput,autoFocus:a,ownerState:Se},z)),(0,p.jsx)(Oo,{as:y,className:Ce.icon,ownerState:Se}),(0,p.jsx)(po,(0,_.Z)({id:"menu-".concat(C||""),anchorEl:fe,open:_e,onClose:function(e){ge(!1,e)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},w,{MenuListProps:(0,_.Z)({"aria-labelledby":E,role:"listbox","aria-multiselectable":S?"true":void 0,disableListWrap:!0,id:Re},w.MenuListProps),slotProps:(0,_.Z)({},w.slotProps,{paper:(0,_.Z)({},Ie,{style:(0,_.Z)({minWidth:xe},null!=Ie?Ie.style:null)})}),children:Te}))]})})),$o=No,Po=(0,f.Z)((0,p.jsx)("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Do=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],Bo=["root"],Fo={name:"MuiSelect",overridesResolver:function(e,t){return t.root},shouldForwardProp:function(e){return(0,Q.Z)(e)&&"variant"!==e},slot:"Root"},Uo=(0,U.ZP)(Sn,Fo)(""),jo=(0,U.ZP)(Vn,Fo)(""),Zo=(0,U.ZP)(Nn,Fo)(""),Ho=i.forwardRef((function(e,t){var n=(0,j.i)({name:"MuiSelect",props:e}),r=n.autoWidth,o=void 0!==r&&r,a=n.children,s=n.classes,l=void 0===s?{}:s,u=n.className,c=n.defaultOpen,h=void 0!==c&&c,d=n.displayEmpty,f=void 0!==d&&d,v=n.IconComponent,g=void 0===v?Po:v,m=n.id,y=n.input,T=n.inputProps,E=n.label,x=n.labelId,w=n.MenuProps,S=n.multiple,C=void 0!==S&&S,I=n.native,R=void 0!==I&&I,O=n.onClose,A=n.onOpen,M=n.open,L=n.renderValue,N=n.SelectDisplayProps,$=n.variant,P=void 0===$?"outlined":$,D=(0,b.Z)(n,Do),B=R?Eo:$o,F=Tt({props:n,muiFormControl:Je(),states:["variant","error"]}),U=F.variant||P,Z=(0,_.Z)({},n,{variant:U,classes:l}),H=function(e){return e.classes}(Z),z=(0,b.Z)(H,Bo),V=y||{standard:(0,p.jsx)(Uo,{ownerState:Z}),outlined:(0,p.jsx)(jo,{label:E,ownerState:Z}),filled:(0,p.jsx)(Zo,{ownerState:Z})}[U],W=(0,ee.Z)(t,V.ref);return(0,p.jsx)(i.Fragment,{children:i.cloneElement(V,(0,_.Z)({inputComponent:B,inputProps:(0,_.Z)({children:a,error:F.error,IconComponent:g,variant:U,type:void 0,multiple:C},R?{id:m}:{autoWidth:o,defaultOpen:h,displayEmpty:f,labelId:x,MenuProps:w,onClose:O,onOpen:A,open:M,renderValue:L,SelectDisplayProps:(0,_.Z)({id:m},N)},T,{classes:T?(0,Qe.Z)(z,T.classes):z},y?y.props.inputProps:{})},(C&&R||f)&&"outlined"===U?{notched:!0}:{},{ref:W,className:(0,k.Z)(V.props.className,u,H.root)},!y&&{variant:U},D))})}));Ho.muiName="Select";var zo=Ho;function Vo(e){return(0,H.ZP)("MuiTextField",e)}(0,N.Z)("MuiTextField",["root"]);var Wo=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Go={standard:Sn,filled:Nn,outlined:Vn},Xo=(0,U.ZP)(li,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),Yo=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiTextField"}),i=n.autoComplete,r=n.autoFocus,o=void 0!==r&&r,a=n.children,s=n.className,l=n.color,u=void 0===l?"primary":l,c=n.defaultValue,h=n.disabled,d=void 0!==h&&h,f=n.error,v=void 0!==f&&f,g=n.FormHelperTextProps,m=n.fullWidth,y=void 0!==m&&m,T=n.helperText,E=n.id,x=n.InputLabelProps,w=n.inputProps,S=n.InputProps,C=n.inputRef,I=n.label,R=n.maxRows,O=n.minRows,A=n.multiline,M=void 0!==A&&A,L=n.name,N=n.onBlur,$=n.onChange,P=n.onFocus,D=n.placeholder,B=n.required,U=void 0!==B&&B,Z=n.rows,H=n.select,z=void 0!==H&&H,V=n.SelectProps,W=n.type,G=n.value,X=n.variant,Y=void 0===X?"outlined":X,K=(0,b.Z)(n,Wo),q=(0,_.Z)({},n,{autoFocus:o,color:u,disabled:d,error:v,fullWidth:y,multiline:M,required:U,select:z,variant:Y}),J=function(e){var t=e.classes;return(0,F.Z)({root:["root"]},Vo,t)}(q);var Q={};"outlined"===Y&&(x&&"undefined"!==typeof x.shrink&&(Q.notched=x.shrink),Q.label=I),z&&(V&&V.native||(Q.id=void 0),Q["aria-describedby"]=void 0);var ee=(0,zt.Z)(E),te=T&&ee?"".concat(ee,"-helper-text"):void 0,ne=I&&ee?"".concat(ee,"-label"):void 0,ie=Go[Y],re=(0,p.jsx)(ie,(0,_.Z)({"aria-describedby":te,autoComplete:i,autoFocus:o,defaultValue:c,fullWidth:y,multiline:M,name:L,rows:Z,maxRows:R,minRows:O,type:W,value:G,id:ee,inputRef:C,onBlur:N,onChange:$,onFocus:P,placeholder:D,inputProps:w},Q,S));return(0,p.jsxs)(Xo,(0,_.Z)({className:(0,k.Z)(J.root,s),disabled:d,error:v,fullWidth:y,ref:t,required:U,color:u,variant:Y,ownerState:q},K,{children:[null!=I&&""!==I&&(0,p.jsx)(ni,(0,_.Z)({htmlFor:ee,id:ne},x,{children:I})),z?(0,p.jsx)(zo,(0,_.Z)({"aria-describedby":te,id:ee,labelId:ne,value:G,input:re},V,{children:a})):re,T&&(0,p.jsx)(vi,(0,_.Z)({id:te},g,{children:T}))]}))})),Ko=Yo;var qo=i.createContext();function Jo(e){return(0,H.ZP)("MuiGrid",e)}var Qo=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],ea=(0,N.Z)("MuiGrid",["root","container","item","zeroMinWidth"].concat((0,s.Z)([0,1,2,3,4,5,6,7,8,9,10].map((function(e){return"spacing-xs-".concat(e)}))),(0,s.Z)(["column-reverse","column","row-reverse","row"].map((function(e){return"direction-xs-".concat(e)}))),(0,s.Z)(["nowrap","wrap-reverse","wrap"].map((function(e){return"wrap-xs-".concat(e)}))),(0,s.Z)(Qo.map((function(e){return"grid-xs-".concat(e)}))),(0,s.Z)(Qo.map((function(e){return"grid-sm-".concat(e)}))),(0,s.Z)(Qo.map((function(e){return"grid-md-".concat(e)}))),(0,s.Z)(Qo.map((function(e){return"grid-lg-".concat(e)}))),(0,s.Z)(Qo.map((function(e){return"grid-xl-".concat(e)}))))),ta=ea,na=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function ia(e){var t=parseFloat(e);return"".concat(t).concat(String(e).replace(String(t),"")||"px")}function ra(e){var t=e.breakpoints,n=e.values,i="";Object.keys(n).forEach((function(e){""===i&&0!==n[e]&&(i=e)}));var r=Object.keys(t).sort((function(e,n){return t[e]-t[n]}));return r.slice(0,r.indexOf(i))}var oa=(0,U.ZP)("div",{name:"MuiGrid",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState,i=n.container,r=n.direction,o=n.item,a=n.spacing,l=n.wrap,u=n.zeroMinWidth,c=n.breakpoints,h=[];i&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return[n["spacing-xs-".concat(String(e))]];var i=[];return t.forEach((function(t){var r=e[t];Number(r)>0&&i.push(n["spacing-".concat(t,"-").concat(String(r))])})),i}(a,c,t));var d=[];return c.forEach((function(e){var i=n[e];i&&d.push(t["grid-".concat(e,"-").concat(String(i))])})),[t.root,i&&t.container,o&&t.item,u&&t.zeroMinWidth].concat((0,s.Z)(h),["row"!==r&&t["direction-xs-".concat(String(r))],"wrap"!==l&&t["wrap-xs-".concat(String(l))]],d)}})((function(e){var t=e.ownerState;return(0,_.Z)({boxSizing:"border-box"},t.container&&{display:"flex",flexWrap:"wrap",width:"100%"},t.item&&{margin:0},t.zeroMinWidth&&{minWidth:0},"wrap"!==t.wrap&&{flexWrap:t.wrap})}),(function(e){var t=e.theme,n=e.ownerState,i=(0,ct.P$)({values:n.direction,breakpoints:t.breakpoints.values});return(0,ct.k9)({theme:t},i,(function(e){var t={flexDirection:e};return 0===e.indexOf("column")&&(t["& > .".concat(ta.item)]={maxWidth:"none"}),t}))}),(function(e){var t=e.theme,n=e.ownerState,i=n.container,r=n.rowSpacing,o={};if(i&&0!==r){var a,s=(0,ct.P$)({values:r,breakpoints:t.breakpoints.values});"object"===typeof s&&(a=ra({breakpoints:t.breakpoints.values,values:s})),o=(0,ct.k9)({theme:t},s,(function(e,n){var i,r=t.spacing(e);return"0px"!==r?(0,K.Z)({marginTop:"-".concat(ia(r))},"& > .".concat(ta.item),{paddingTop:ia(r)}):null!=(i=a)&&i.includes(n)?{}:(0,K.Z)({marginTop:0},"& > .".concat(ta.item),{paddingTop:0})}))}return o}),(function(e){var t=e.theme,n=e.ownerState,i=n.container,r=n.columnSpacing,o={};if(i&&0!==r){var a,s=(0,ct.P$)({values:r,breakpoints:t.breakpoints.values});"object"===typeof s&&(a=ra({breakpoints:t.breakpoints.values,values:s})),o=(0,ct.k9)({theme:t},s,(function(e,n){var i,r=t.spacing(e);return"0px"!==r?(0,K.Z)({width:"calc(100% + ".concat(ia(r),")"),marginLeft:"-".concat(ia(r))},"& > .".concat(ta.item),{paddingLeft:ia(r)}):null!=(i=a)&&i.includes(n)?{}:(0,K.Z)({width:"100%",marginLeft:0},"& > .".concat(ta.item),{paddingLeft:0})}))}return o}),(function(e){var t,n=e.theme,i=e.ownerState;return n.breakpoints.keys.reduce((function(e,r){var o={};if(i[r]&&(t=i[r]),!t)return e;if(!0===t)o={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if("auto"===t)o={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{var a=(0,ct.P$)({values:i.columns,breakpoints:n.breakpoints.values}),s="object"===typeof a?a[r]:a;if(void 0===s||null===s)return e;var l="".concat(Math.round(t/s*1e8)/1e6,"%"),u={};if(i.container&&i.item&&0!==i.columnSpacing){var c=n.spacing(i.columnSpacing);if("0px"!==c){var h="calc(".concat(l," + ").concat(ia(c),")");u={flexBasis:h,maxWidth:h}}}o=(0,_.Z)({flexBasis:l,flexGrow:0,maxWidth:l},u)}return 0===n.breakpoints.values[r]?Object.assign(e,o):e[n.breakpoints.up(r)]=o,e}),{})}));var aa=function(e){var t=e.classes,n=e.container,i=e.direction,r=e.item,o=e.spacing,a=e.wrap,l=e.zeroMinWidth,u=e.breakpoints,c=[];n&&(c=function(e,t){if(!e||e<=0)return[];if("string"===typeof e&&!Number.isNaN(Number(e))||"number"===typeof e)return["spacing-xs-".concat(String(e))];var n=[];return t.forEach((function(t){var i=e[t];if(Number(i)>0){var r="spacing-".concat(t,"-").concat(String(i));n.push(r)}})),n}(o,u));var h=[];u.forEach((function(t){var n=e[t];n&&h.push("grid-".concat(t,"-").concat(String(n)))}));var d={root:["root",n&&"container",r&&"item",l&&"zeroMinWidth"].concat((0,s.Z)(c),["row"!==i&&"direction-xs-".concat(String(i)),"wrap"!==a&&"wrap-xs-".concat(String(a))],h)};return(0,F.Z)(d,Jo,t)},sa=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiGrid"}),r=er().breakpoints,o=(0,x.Z)(n),a=o.className,s=o.columns,l=o.columnSpacing,u=o.component,c=void 0===u?"div":u,h=o.container,d=void 0!==h&&h,f=o.direction,v=void 0===f?"row":f,g=o.item,m=void 0!==g&&g,y=o.rowSpacing,T=o.spacing,E=void 0===T?0:T,w=o.wrap,S=void 0===w?"wrap":w,C=o.zeroMinWidth,I=void 0!==C&&C,R=(0,b.Z)(o,na),O=y||E,A=l||E,M=i.useContext(qo),L=d?s||12:M,N={},$=(0,_.Z)({},R);r.keys.forEach((function(e){null!=R[e]&&(N[e]=R[e],delete $[e])}));var P=(0,_.Z)({},o,{columns:L,container:d,direction:v,item:m,rowSpacing:O,columnSpacing:A,wrap:S,zeroMinWidth:I,spacing:E},N,{breakpoints:r.keys}),D=aa(P);return(0,p.jsx)(qo.Provider,{value:L,children:(0,p.jsx)(oa,(0,_.Z)({ownerState:P,className:(0,k.Z)(D.root,a),as:c,ref:t},$))})})),la=sa,ua=n(8637),ca=n(9884),ha=n(7055),da={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"};var fa=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e,t){return e===t};return e.length===t.length&&e.every((function(e,i){return n(e,t[i])}))};function pa(e,t){return e-t}function va(e,t){var n,i=null!=(n=e.reduce((function(e,n,i){var r=Math.abs(t-n);return null===e||r<e.distance||r===e.distance?{distance:r,index:i}:e}),null))?n:{};return i.index}function ga(e,t){if(void 0!==t.current&&e.changedTouches){for(var n=e,i=0;i<n.changedTouches.length;i+=1){var r=n.changedTouches[i];if(r.identifier===t.current)return{x:r.clientX,y:r.clientY}}return!1}return{x:e.clientX,y:e.clientY}}function ma(e,t,n){return 100*(e-t)/(n-t)}function ya(e,t,n){var i=Math.round((e-n)/t)*t+n;return Number(i.toFixed(function(e){if(Math.abs(e)<1){var t=e.toExponential().split("e-"),n=t[0].split(".")[1];return(n?n.length:0)+parseInt(t[1],10)}var i=e.toString().split(".")[1];return i?i.length:0}(t)))}function _a(e){var t=e.values,n=e.newValue,i=e.index,r=t.slice();return r[i]=n,r.sort(pa)}function ba(e){var t,n,i,r=e.sliderRef,o=e.activeIndex,a=e.setActive,s=(0,ur.Z)(r.current);null!=(t=r.current)&&t.contains(s.activeElement)&&Number(null==s||null==(n=s.activeElement)?void 0:n.getAttribute("data-index"))===o||(null==(i=r.current)||i.querySelector('[type="range"][data-index="'.concat(o,'"]')).focus());a&&a(o)}function ka(e,t){return"number"===typeof e&&"number"===typeof t?e===t:"object"===typeof e&&"object"===typeof t&&fa(e,t)}var Ta,Ea={horizontal:{offset:function(e){return{left:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},"horizontal-reverse":{offset:function(e){return{right:"".concat(e,"%")}},leap:function(e){return{width:"".concat(e,"%")}}},vertical:{offset:function(e){return{bottom:"".concat(e,"%")}},leap:function(e){return{height:"".concat(e,"%")}}}},xa=function(e){return e};function wa(){return void 0===Ta&&(Ta="undefined"===typeof CSS||"function"!==typeof CSS.supports||CSS.supports("touch-action","none")),Ta}function Sa(e){var t=e["aria-labelledby"],n=e.defaultValue,r=e.disabled,o=void 0!==r&&r,a=e.disableSwap,l=void 0!==a&&a,u=e.isRtl,c=void 0!==u&&u,h=e.marks,f=void 0!==h&&h,p=e.max,v=void 0===p?100:p,g=e.min,m=void 0===g?0:g,y=e.name,b=e.onChange,k=e.onChangeCommitted,T=e.orientation,E=void 0===T?"horizontal":T,x=e.rootRef,w=e.scale,S=void 0===w?xa:w,C=e.step,I=void 0===C?1:C,R=e.shiftStep,O=void 0===R?10:R,A=e.tabIndex,M=e.value,L=i.useRef(),N=i.useState(-1),$=(0,d.Z)(N,2),P=$[0],D=$[1],B=i.useState(-1),F=(0,d.Z)(B,2),U=F[0],j=F[1],Z=i.useState(!1),H=(0,d.Z)(Z,2),z=H[0],V=H[1],W=i.useRef(0),G=(0,ua.Z)({controlled:M,default:null!=n?n:m,name:"Slider"}),X=(0,d.Z)(G,2),Y=X[0],K=X[1],q=b&&function(e,t,n){var i=e.nativeEvent||e,r=new i.constructor(i.type,i);Object.defineProperty(r,"target",{writable:!0,value:{value:t,name:y}}),b(r,t,n)},J=Array.isArray(Y),Q=J?Y.slice().sort(pa):[Y];Q=Q.map((function(e){return null==e?m:(0,ca.Z)(e,m,v)}));var ee=!0===f&&null!==I?(0,s.Z)(Array(Math.floor((v-m)/I)+1)).map((function(e,t){return{value:m+I*t}})):f||[],te=ee.map((function(e){return e.value})),ne=(0,ha.Z)(),ie=ne.isFocusVisibleRef,re=ne.onBlur,oe=ne.onFocus,ae=ne.ref,se=i.useState(-1),le=(0,d.Z)(se,2),ue=le[0],ce=le[1],he=i.useRef(),de=(0,Gt.Z)(ae,he),fe=(0,Gt.Z)(x,de),pe=function(e){return function(t){var n,i=Number(t.currentTarget.getAttribute("data-index"));oe(t),!0===ie.current&&ce(i),j(i),null==e||null==(n=e.onFocus)||n.call(e,t)}},ve=function(e){return function(t){var n;re(t),!1===ie.current&&ce(-1),j(-1),null==e||null==(n=e.onBlur)||n.call(e,t)}},ge=function(e,t){var n=Number(e.currentTarget.getAttribute("data-index")),i=Q[n],r=te.indexOf(i),o=t;if(ee&&null==I){var a=te[te.length-1];o=o>a?a:o<te[0]?te[0]:o<i?te[r-1]:te[r+1]}if(o=(0,ca.Z)(o,m,v),J){l&&(o=(0,ca.Z)(o,Q[n-1]||-1/0,Q[n+1]||1/0));var s=o;o=_a({values:Q,newValue:o,index:n});var u=n;l||(u=o.indexOf(s)),ba({sliderRef:he,activeIndex:u})}K(o),ce(n),q&&!ka(o,Y)&&q(e,o,n),k&&k(e,o)},me=function(e){return function(t){var n;if(null!==I){var i=Number(t.currentTarget.getAttribute("data-index")),r=Q[i],o=null;("ArrowLeft"===t.key||"ArrowDown"===t.key)&&t.shiftKey||"PageDown"===t.key?o=Math.max(r-O,m):(("ArrowRight"===t.key||"ArrowUp"===t.key)&&t.shiftKey||"PageUp"===t.key)&&(o=Math.min(r+O,v)),null!==o&&(ge(t,o),t.preventDefault())}null==e||null==(n=e.onKeyDown)||n.call(e,t)}};(0,Yt.Z)((function(){var e;o&&he.current.contains(document.activeElement)&&(null==(e=document.activeElement)||e.blur())}),[o]),o&&-1!==P&&D(-1),o&&-1!==ue&&ce(-1);var ye=i.useRef(),_e=E;c&&"horizontal"===E&&(_e+="-reverse");var be=function(e){var t,n,i=e.finger,r=e.move,o=void 0!==r&&r,a=he.current.getBoundingClientRect(),s=a.width,u=a.height,c=a.bottom,h=a.left;if(t=0===_e.indexOf("vertical")?(c-i.y)/u:(i.x-h)/s,-1!==_e.indexOf("-reverse")&&(t=1-t),n=function(e,t,n){return(n-t)*e+t}(t,m,v),I)n=ya(n,I,m);else{var d=va(te,n);n=te[d]}n=(0,ca.Z)(n,m,v);var f=0;if(J){f=o?ye.current:va(Q,n),l&&(n=(0,ca.Z)(n,Q[f-1]||-1/0,Q[f+1]||1/0));var p=n;n=_a({values:Q,newValue:n,index:f}),l&&o||(f=n.indexOf(p),ye.current=f)}return{newValue:n,activeIndex:f}},ke=(0,xr.Z)((function(e){var t=ga(e,L);if(t)if(W.current+=1,"mousemove"!==e.type||0!==e.buttons){var n=be({finger:t,move:!0}),i=n.newValue,r=n.activeIndex;ba({sliderRef:he,activeIndex:r,setActive:D}),K(i),!z&&W.current>2&&V(!0),q&&!ka(i,Y)&&q(e,i,r)}else Te(e)})),Te=(0,xr.Z)((function(e){var t=ga(e,L);if(V(!1),t){var n=be({finger:t,move:!0}).newValue;D(-1),"touchend"===e.type&&j(-1),k&&k(e,n),L.current=void 0,xe()}})),Ee=(0,xr.Z)((function(e){if(!o){wa()||e.preventDefault();var t=e.changedTouches[0];null!=t&&(L.current=t.identifier);var n=ga(e,L);if(!1!==n){var i=be({finger:n}),r=i.newValue,a=i.activeIndex;ba({sliderRef:he,activeIndex:a,setActive:D}),K(r),q&&!ka(r,Y)&&q(e,r,a)}W.current=0;var s=(0,ur.Z)(he.current);s.addEventListener("touchmove",ke,{passive:!0}),s.addEventListener("touchend",Te,{passive:!0})}})),xe=i.useCallback((function(){var e=(0,ur.Z)(he.current);e.removeEventListener("mousemove",ke),e.removeEventListener("mouseup",Te),e.removeEventListener("touchmove",ke),e.removeEventListener("touchend",Te)}),[Te,ke]);i.useEffect((function(){var e=he.current;return e.addEventListener("touchstart",Ee,{passive:wa()}),function(){e.removeEventListener("touchstart",Ee),xe()}}),[xe,Ee]),i.useEffect((function(){o&&xe()}),[o,xe]);var we=ma(J?Q[0]:m,m,v),Se=ma(Q[Q.length-1],m,v)-we,Ce=function(e){return function(t){var n;null==(n=e.onMouseLeave)||n.call(e,t),j(-1)}};return{active:P,axis:_e,axisProps:Ea,dragging:z,focusedThumbIndex:ue,getHiddenInputProps:function(){var n,i,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=Ti(r),s={onChange:(i=a||{},function(e){var t;null==(t=i.onChange)||t.call(i,e),ge(e,e.target.valueAsNumber)}),onFocus:pe(a||{}),onBlur:ve(a||{}),onKeyDown:me(a||{})},l=(0,_.Z)({},a,s);return(0,_.Z)({tabIndex:A,"aria-labelledby":t,"aria-orientation":E,"aria-valuemax":S(v),"aria-valuemin":S(m),name:y,type:"range",min:e.min,max:e.max,step:null===e.step&&e.marks?"any":null!=(n=e.step)?n:void 0,disabled:o},r,l,{style:(0,_.Z)({},da,{direction:c?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ti(t),i={onMouseDown:(e=n||{},function(t){var n;if(null==(n=e.onMouseDown)||n.call(e,t),!o&&!t.defaultPrevented&&0===t.button){t.preventDefault();var i=ga(t,L);if(!1!==i){var r=be({finger:i}),a=r.newValue,s=r.activeIndex;ba({sliderRef:he,activeIndex:s,setActive:D}),K(a),q&&!ka(a,Y)&&q(t,a,s)}W.current=0;var l=(0,ur.Z)(he.current);l.addEventListener("mousemove",ke,{passive:!0}),l.addEventListener("mouseup",Te)}})},r=(0,_.Z)({},n,i);return(0,_.Z)({},t,{ref:fe},r)},getThumbProps:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ti(t),i={onMouseOver:(e=n||{},function(t){var n;null==(n=e.onMouseOver)||n.call(e,t);var i=Number(t.currentTarget.getAttribute("data-index"));j(i)}),onMouseLeave:Ce(n||{})};return(0,_.Z)({},t,n,i)},marks:ee,open:U,range:J,rootRef:fe,trackLeap:Se,trackOffset:we,values:Q,getThumbStyle:function(e){return{pointerEvents:-1!==P&&P!==e?"none":void 0}}}}var Ca=function(e){return!e||!Wt(e)};function Ia(e){return(0,H.ZP)("MuiSlider",e)}var Ra=(0,N.Z)("MuiSlider",["root","active","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","thumbColorError","thumbColorSuccess","thumbColorInfo","thumbColorWarning","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]);var Oa=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","shiftStep","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"];function Aa(e){return e}var Ma=(0,U.ZP)("span",{name:"MuiSlider",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Z.Z)(n.color))],"medium"!==n.size&&t["size".concat((0,Z.Z)(n.size))],n.marked&&t.marked,"vertical"===n.orientation&&t.vertical,"inverted"===n.track&&t.trackInverted,!1===n.track&&t.trackFalse]}})((function(e){var t,n,i=e.theme;return t={borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",WebkitTapHighlightColor:"transparent","@media print":{colorAdjust:"exact"}},(0,K.Z)(t,"&.".concat(Ra.disabled),{pointerEvents:"none",cursor:"default",color:(i.vars||i).palette.grey[400]}),(0,K.Z)(t,"&.".concat(Ra.dragging),(0,K.Z)({},"& .".concat(Ra.thumb,", & .").concat(Ra.track),{transition:"none"})),(0,K.Z)(t,"variants",[].concat((0,s.Z)(Object.keys((null!=(n=i.vars)?n:i).palette).filter((function(e){var t;return(null!=(t=i.vars)?t:i).palette[e].main})).map((function(e){return{props:{color:e},style:{color:(i.vars||i).palette[e].main}}}))),[{props:{orientation:"horizontal"},style:{height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}}},{props:{orientation:"horizontal",size:"small"},style:{height:2}},{props:{orientation:"horizontal",marked:!0},style:{marginBottom:20}},{props:{orientation:"vertical"},style:{height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}}},{props:{orientation:"vertical",size:"small"},style:{width:2}},{props:{orientation:"vertical",marked:!0},style:{marginRight:44}}])),t})),La=(0,U.ZP)("span",{name:"MuiSlider",slot:"Rail",overridesResolver:function(e,t){return t.rail}})({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38,variants:[{props:{orientation:"horizontal"},style:{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:"inverted"},style:{opacity:1}}]}),Na=(0,U.ZP)("span",{name:"MuiSlider",slot:"Track",overridesResolver:function(e,t){return t.track}})((function(e){var t,n=e.theme;return{display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:n.transitions.create(["left","width","bottom","height"],{duration:n.transitions.duration.shortest}),variants:[{props:{size:"small"},style:{border:"none"}},{props:{orientation:"horizontal"},style:{height:"inherit",top:"50%",transform:"translateY(-50%)"}},{props:{orientation:"vertical"},style:{width:"inherit",left:"50%",transform:"translateX(-50%)"}},{props:{track:!1},style:{display:"none"}}].concat((0,s.Z)(Object.keys((null!=(t=n.vars)?t:n).palette).filter((function(e){var t;return(null!=(t=n.vars)?t:n).palette[e].main})).map((function(e){return{props:{color:e,track:"inverted"},style:(0,_.Z)({},n.vars?{backgroundColor:n.vars.palette.Slider["".concat(e,"Track")],borderColor:n.vars.palette.Slider["".concat(e,"Track")]}:(0,_.Z)({backgroundColor:(0,J.$n)(n.palette[e].main,.62),borderColor:(0,J.$n)(n.palette[e].main,.62)},n.applyStyles("dark",{backgroundColor:(0,J._j)(n.palette[e].main,.5)}),n.applyStyles("dark",{borderColor:(0,J._j)(n.palette[e].main,.5)})))}}))))}})),$a=(0,U.ZP)("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:function(e,t){var n=e.ownerState;return[t.thumb,t["thumbColor".concat((0,Z.Z)(n.color))],"medium"!==n.size&&t["thumbSize".concat((0,Z.Z)(n.size))]]}})((function(e){var t,n,i=e.theme;return t={position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:i.transitions.create(["box-shadow","left","bottom"],{duration:i.transitions.duration.shortest}),"&::before":{position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(i.vars||i).shadows[2]},"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"}},(0,K.Z)(t,"&.".concat(Ra.disabled),{"&:hover":{boxShadow:"none"}}),(0,K.Z)(t,"variants",[{props:{size:"small"},style:{width:12,height:12,"&::before":{boxShadow:"none"}}},{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-50%, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 50%)"}}].concat((0,s.Z)(Object.keys((null!=(n=i.vars)?n:i).palette).filter((function(e){var t;return(null!=(t=i.vars)?t:i).palette[e].main})).map((function(e){var t;return{props:{color:e},style:(t={},(0,K.Z)(t,"&:hover, &.".concat(Ra.focusVisible),(0,_.Z)({},i.vars?{boxShadow:"0px 0px 0px 8px rgba(".concat(i.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 8px ".concat((0,J.Fq)(i.palette[e].main,.16))},{"@media (hover: none)":{boxShadow:"none"}})),(0,K.Z)(t,"&.".concat(Ra.active),(0,_.Z)({},i.vars?{boxShadow:"0px 0px 0px 14px rgba(".concat(i.vars.palette[e].mainChannel," / 0.16)")}:{boxShadow:"0px 0px 0px 14px ".concat((0,J.Fq)(i.palette[e].main,.16))})),t)}}))))),t})),Pa=(0,U.ZP)((function(e){var t=e.children,n=e.className,r=e.value,o=function(e){var t=e.open;return{offset:(0,k.Z)(t&&Ra.valueLabelOpen),circle:Ra.valueLabelCircle,label:Ra.valueLabelLabel}}(e);return t?i.cloneElement(t,{className:(0,k.Z)(t.props.className)},(0,p.jsxs)(i.Fragment,{children:[t.props.children,(0,p.jsx)("span",{className:(0,k.Z)(o.offset,n),"aria-hidden":!0,children:(0,p.jsx)("span",{className:o.circle,children:(0,p.jsx)("span",{className:o.label,children:r})})})]})):null}),{name:"MuiSlider",slot:"ValueLabel",overridesResolver:function(e,t){return t.valueLabel}})((function(e){var t=e.theme;return(0,_.Z)({zIndex:1,whiteSpace:"nowrap"},t.typography.body2,{fontWeight:500,transition:t.transitions.create(["transform"],{duration:t.transitions.duration.shortest}),position:"absolute",backgroundColor:(t.vars||t).palette.grey[600],borderRadius:2,color:(t.vars||t).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem",variants:[{props:{orientation:"horizontal"},style:(0,K.Z)({transform:"translateY(-100%) scale(0)",top:"-10px",transformOrigin:"bottom center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},"&.".concat(Ra.valueLabelOpen),{transform:"translateY(-100%) scale(1)"})},{props:{orientation:"vertical"},style:(0,K.Z)({transform:"translateY(-50%) scale(0)",right:"30px",top:"50%",transformOrigin:"right center","&::before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, -50%) rotate(45deg)",backgroundColor:"inherit",right:-8,top:"50%"}},"&.".concat(Ra.valueLabelOpen),{transform:"translateY(-50%) scale(1)"})},{props:{size:"small"},style:{fontSize:t.typography.pxToRem(12),padding:"0.25rem 0.5rem"}},{props:{orientation:"vertical",size:"small"},style:{right:"20px"}}]})})),Da=(0,U.ZP)("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:function(e){return(0,xo.Z)(e)&&"markActive"!==e},overridesResolver:function(e,t){var n=e.markActive;return[t.mark,n&&t.markActive]}})((function(e){var t=e.theme;return{position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor",variants:[{props:{orientation:"horizontal"},style:{top:"50%",transform:"translate(-1px, -50%)"}},{props:{orientation:"vertical"},style:{left:"50%",transform:"translate(-50%, 1px)"}},{props:{markActive:!0},style:{backgroundColor:(t.vars||t).palette.background.paper,opacity:.8}}]}})),Ba=(0,U.ZP)("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:function(e){return(0,xo.Z)(e)&&"markLabelActive"!==e},overridesResolver:function(e,t){return t.markLabel}})((function(e){var t=e.theme;return(0,_.Z)({},t.typography.body2,{color:(t.vars||t).palette.text.secondary,position:"absolute",whiteSpace:"nowrap",variants:[{props:{orientation:"horizontal"},style:{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}}},{props:{orientation:"vertical"},style:{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}}},{props:{markLabelActive:!0},style:{color:(t.vars||t).palette.text.primary}}]})})),Fa=function(e){return e.children},Ua=i.forwardRef((function(e,t){var n,r,o,a,s,l,u,c,h,d,f,v,g,m,y,T,E,x,w,S,C,I,R,O,A=(0,j.i)({props:e,name:"MuiSlider"}),M=_i(),L=A["aria-label"],N=A["aria-valuetext"],$=A["aria-labelledby"],P=A.component,D=void 0===P?"span":P,B=A.components,U=void 0===B?{}:B,H=A.componentsProps,z=void 0===H?{}:H,V=A.color,W=void 0===V?"primary":V,G=A.classes,X=A.className,Y=A.disableSwap,K=void 0!==Y&&Y,q=A.disabled,J=void 0!==q&&q,Q=A.getAriaLabel,ee=A.getAriaValueText,te=A.marks,ne=void 0!==te&&te,ie=A.max,re=void 0===ie?100:ie,oe=A.min,ae=void 0===oe?0:oe,se=A.orientation,le=void 0===se?"horizontal":se,ue=A.shiftStep,ce=void 0===ue?10:ue,he=A.size,de=void 0===he?"medium":he,fe=A.step,pe=void 0===fe?1:fe,ve=A.scale,ge=void 0===ve?Aa:ve,me=A.slotProps,ye=A.slots,_e=A.track,be=void 0===_e?"normal":_e,ke=A.valueLabelDisplay,Te=void 0===ke?"off":ke,Ee=A.valueLabelFormat,xe=void 0===Ee?Aa:Ee,we=(0,b.Z)(A,Oa),Se=(0,_.Z)({},A,{isRtl:M,max:re,min:ae,classes:G,disabled:J,disableSwap:K,orientation:le,marks:ne,color:W,size:de,step:pe,shiftStep:ce,scale:ge,track:be,valueLabelDisplay:Te,valueLabelFormat:xe}),Ce=Sa((0,_.Z)({},Se,{rootRef:t})),Ie=Ce.axisProps,Re=Ce.getRootProps,Oe=Ce.getHiddenInputProps,Ae=Ce.getThumbProps,Me=Ce.open,Le=Ce.active,Ne=Ce.axis,$e=Ce.focusedThumbIndex,Pe=Ce.range,De=Ce.dragging,Be=Ce.marks,Fe=Ce.values,Ue=Ce.trackOffset,je=Ce.trackLeap,Ze=Ce.getThumbStyle;Se.marked=Be.length>0&&Be.some((function(e){return e.label})),Se.dragging=De,Se.focusedThumbIndex=$e;var He=function(e){var t=e.disabled,n=e.dragging,i=e.marked,r=e.orientation,o=e.track,a=e.classes,s=e.color,l=e.size,u={root:["root",t&&"disabled",n&&"dragging",i&&"marked","vertical"===r&&"vertical","inverted"===o&&"trackInverted",!1===o&&"trackFalse",s&&"color".concat((0,Z.Z)(s)),l&&"size".concat((0,Z.Z)(l))],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",t&&"disabled",l&&"thumbSize".concat((0,Z.Z)(l)),s&&"thumbColor".concat((0,Z.Z)(s))],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return(0,F.Z)(u,Ia,a)}(Se),ze=null!=(n=null!=(r=null==ye?void 0:ye.root)?r:U.Root)?n:Ma,Ve=null!=(o=null!=(a=null==ye?void 0:ye.rail)?a:U.Rail)?o:La,We=null!=(s=null!=(l=null==ye?void 0:ye.track)?l:U.Track)?s:Na,Ge=null!=(u=null!=(c=null==ye?void 0:ye.thumb)?c:U.Thumb)?u:$a,Xe=null!=(h=null!=(d=null==ye?void 0:ye.valueLabel)?d:U.ValueLabel)?h:Pa,Ye=null!=(f=null!=(v=null==ye?void 0:ye.mark)?v:U.Mark)?f:Da,Ke=null!=(g=null!=(m=null==ye?void 0:ye.markLabel)?m:U.MarkLabel)?g:Ba,qe=null!=(y=null!=(T=null==ye?void 0:ye.input)?T:U.Input)?y:"input",Je=null!=(E=null==me?void 0:me.root)?E:z.root,Qe=null!=(x=null==me?void 0:me.rail)?x:z.rail,et=null!=(w=null==me?void 0:me.track)?w:z.track,tt=null!=(S=null==me?void 0:me.thumb)?S:z.thumb,nt=null!=(C=null==me?void 0:me.valueLabel)?C:z.valueLabel,it=null!=(I=null==me?void 0:me.mark)?I:z.mark,rt=null!=(R=null==me?void 0:me.markLabel)?R:z.markLabel,ot=null!=(O=null==me?void 0:me.input)?O:z.input,at=Ci({elementType:ze,getSlotProps:Re,externalSlotProps:Je,externalForwardedProps:we,additionalProps:(0,_.Z)({},Ca(ze)&&{as:D}),ownerState:(0,_.Z)({},Se,null==Je?void 0:Je.ownerState),className:[He.root,X]}),st=Ci({elementType:Ve,externalSlotProps:Qe,ownerState:Se,className:He.rail}),lt=Ci({elementType:We,externalSlotProps:et,additionalProps:{style:(0,_.Z)({},Ie[Ne].offset(Ue),Ie[Ne].leap(je))},ownerState:(0,_.Z)({},Se,null==et?void 0:et.ownerState),className:He.track}),ut=Ci({elementType:Ge,getSlotProps:Ae,externalSlotProps:tt,ownerState:(0,_.Z)({},Se,null==tt?void 0:tt.ownerState),className:He.thumb}),ct=Ci({elementType:Xe,externalSlotProps:nt,ownerState:(0,_.Z)({},Se,null==nt?void 0:nt.ownerState),className:He.valueLabel}),ht=Ci({elementType:Ye,externalSlotProps:it,ownerState:Se,className:He.mark}),dt=Ci({elementType:Ke,externalSlotProps:rt,ownerState:Se,className:He.markLabel}),ft=Ci({elementType:qe,getSlotProps:Oe,externalSlotProps:ot,ownerState:Se});return(0,p.jsxs)(ze,(0,_.Z)({},at,{children:[(0,p.jsx)(Ve,(0,_.Z)({},st)),(0,p.jsx)(We,(0,_.Z)({},lt)),Be.filter((function(e){return e.value>=ae&&e.value<=re})).map((function(e,t){var n,r=ma(e.value,ae,re),o=Ie[Ne].offset(r);return n=!1===be?-1!==Fe.indexOf(e.value):"normal"===be&&(Pe?e.value>=Fe[0]&&e.value<=Fe[Fe.length-1]:e.value<=Fe[0])||"inverted"===be&&(Pe?e.value<=Fe[0]||e.value>=Fe[Fe.length-1]:e.value>=Fe[0]),(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(Ye,(0,_.Z)({"data-index":t},ht,!Wt(Ye)&&{markActive:n},{style:(0,_.Z)({},o,ht.style),className:(0,k.Z)(ht.className,n&&He.markActive)})),null!=e.label?(0,p.jsx)(Ke,(0,_.Z)({"aria-hidden":!0,"data-index":t},dt,!Wt(Ke)&&{markLabelActive:n},{style:(0,_.Z)({},o,dt.style),className:(0,k.Z)(He.markLabel,dt.className,n&&He.markLabelActive),children:e.label})):null]},t)})),Fe.map((function(e,t){var n=ma(e,ae,re),i=Ie[Ne].offset(n),r="off"===Te?Fa:Xe;return(0,p.jsx)(r,(0,_.Z)({},!Wt(r)&&{valueLabelFormat:xe,valueLabelDisplay:Te,value:"function"===typeof xe?xe(ge(e),t):xe,index:t,open:Me===t||Le===t||"on"===Te,disabled:J},ct,{children:(0,p.jsx)(Ge,(0,_.Z)({"data-index":t},ut,{className:(0,k.Z)(He.thumb,ut.className,Le===t&&He.active,$e===t&&He.focusVisible),style:(0,_.Z)({},i,Ze(t),ut.style),children:(0,p.jsx)(qe,(0,_.Z)({"data-index":t,"aria-label":Q?Q(t):L,"aria-valuenow":ge(e),"aria-labelledby":$,"aria-valuetext":ee?ee(ge(e),t):N,value:Fe[t]},ft))}))}),t)}))]}))})),ja=Ua,Za=(0,f.Z)((0,p.jsx)("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Ha=(0,f.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),za=(0,f.Z)((0,p.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Va(e){return(0,H.ZP)("MuiCheckbox",e)}var Wa=(0,N.Z)("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),Ga=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],Xa=(0,U.ZP)(Nt,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiCheckbox",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.indeterminate&&t.indeterminate,t["size".concat((0,Z.Z)(n.size))],"default"!==n.color&&t["color".concat((0,Z.Z)(n.color))]]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({color:(n.vars||n).palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:n.vars?"rgba(".concat("default"===i.color?n.vars.palette.action.activeChannel:n.vars.palette[i.color].mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,J.Fq)("default"===i.color?n.palette.action.active:n.palette[i.color].main,n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"default"!==i.color&&(t={},(0,K.Z)(t,"&.".concat(Wa.checked,", &.").concat(Wa.indeterminate),{color:(n.vars||n).palette[i.color].main}),(0,K.Z)(t,"&.".concat(Wa.disabled),{color:(n.vars||n).palette.action.disabled}),t))})),Ya=(0,p.jsx)(Ha,{}),Ka=(0,p.jsx)(Za,{}),qa=(0,p.jsx)(za,{}),Ja=i.forwardRef((function(e,t){var n,r,o=(0,j.i)({props:e,name:"MuiCheckbox"}),a=o.checkedIcon,s=void 0===a?Ya:a,l=o.color,u=void 0===l?"primary":l,c=o.icon,h=void 0===c?Ka:c,d=o.indeterminate,f=void 0!==d&&d,v=o.indeterminateIcon,g=void 0===v?qa:v,m=o.inputProps,y=o.size,T=void 0===y?"medium":y,E=o.className,x=(0,b.Z)(o,Ga),w=f?g:h,S=f?g:s,C=(0,_.Z)({},o,{color:u,indeterminate:f,size:T}),I=function(e){var t=e.classes,n=e.indeterminate,i=e.color,r=e.size,o={root:["root",n&&"indeterminate","color".concat((0,Z.Z)(i)),"size".concat((0,Z.Z)(r))]},a=(0,F.Z)(o,Va,t);return(0,_.Z)({},t,a)}(C);return(0,p.jsx)(Xa,(0,_.Z)({type:"checkbox",inputProps:(0,_.Z)({"data-indeterminate":f},m),icon:i.cloneElement(w,{fontSize:null!=(n=w.props.fontSize)?n:T}),checkedIcon:i.cloneElement(S,{fontSize:null!=(r=S.props.fontSize)?r:T}),ownerState:C,ref:t,className:(0,k.Z)(I.root,E)},x,{classes:I}))})),Qa="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},es="object"===("undefined"===typeof window?"undefined":Qa(window))&&"object"===("undefined"===typeof document?"undefined":Qa(document))&&9===document.nodeType,ts={}.constructor;function ns(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(ns);if(e.constructor!==ts)return e;var t={};for(var n in e)t[n]=ns(e[n]);return t}function is(e,t,n){void 0===e&&(e="unnamed");var i=n.jss,r=ns(t),o=i.plugins.onCreateRule(e,r,n);return o||(e[0],null)}var rs=function(e,t){for(var n="",i=0;i<e.length&&"!important"!==e[i];i++)n&&(n+=t),n+=e[i];return n},os=function(e){if(!Array.isArray(e))return e;var t="";if(Array.isArray(e[0]))for(var n=0;n<e.length&&"!important"!==e[n];n++)t&&(t+=", "),t+=rs(e[n]," ");else t=rs(e,", ");return"!important"===e[e.length-1]&&(t+=" !important"),t};function as(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function ss(e,t){for(var n="",i=0;i<t;i++)n+="  ";return n+e}function ls(e,t,n){void 0===n&&(n={});var i="";if(!t)return i;var r=n.indent,o=void 0===r?0:r,a=t.fallbacks;!1===n.format&&(o=-1/0);var s=as(n),l=s.linebreak,u=s.space;if(e&&o++,a)if(Array.isArray(a))for(var c=0;c<a.length;c++){var h=a[c];for(var d in h){var f=h[d];null!=f&&(i&&(i+=l),i+=ss(d+":"+u+os(f)+";",o))}}else for(var p in a){var v=a[p];null!=v&&(i&&(i+=l),i+=ss(p+":"+u+os(v)+";",o))}for(var g in t){var m=t[g];null!=m&&"fallbacks"!==g&&(i&&(i+=l),i+=ss(g+":"+u+os(m)+";",o))}return(i||n.allowEmpty)&&e?(i&&(i=""+l+i+l),ss(""+e+u+"{"+i,--o)+ss("}",o)):i}var us=/([[\].#*$><+~=|^:(),"'`\s])/g,cs="undefined"!==typeof CSS&&CSS.escape,hs=function(e){return cs?cs(e):e.replace(us,"\\$1")},ds=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var i=n.sheet,r=n.Renderer;this.key=e,this.options=n,this.style=t,i?this.renderer=i.renderer:r&&(this.renderer=new r)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var i=!!n&&n.force;if(!i&&this.style[e]===t)return this;var r=t;n&&!1===n.process||(r=this.options.jss.plugins.onChangeValue(t,e,this));var o=null==r||!1===r,a=e in this.style;if(o&&!a&&!i)return this;var s=o&&a;if(s?delete this.style[e]:this.style[e]=r,this.renderable&&this.renderer)return s?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,r),this;var l=this.options.sheet;return l&&l.attached,this},e}(),fs=function(e){function t(t,n,i){var r;r=e.call(this,t,n,i)||this;var o=i.selector,a=i.scoped,s=i.sheet,l=i.generateId;return o?r.selectorText=o:!1!==a&&(r.id=l(re(re(r)),s),r.selectorText="."+hs(r.id)),r}ae(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var i in n)t.setProperty(e,i,n[i])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=os(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,_.Z)({},e,{allowEmpty:!0}):e;return ls(this.selectorText,this.style,n)},(0,Cr.Z)(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(ds),ps={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new fs(e,t,n)}},vs={indent:1,children:!0},gs=/@([\w-]+)/,ms=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var i=e.match(gs);for(var r in this.at=i?i[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new js((0,_.Z)({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),i):null},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.toString=function(e){void 0===e&&(e=vs);var t=as(e).linebreak;if(null==e.indent&&(e.indent=vs.indent),null==e.children&&(e.children=vs.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),ys=/@container|@media|@supports\s+/,_s={onCreateRule:function(e,t,n){return ys.test(e)?new ms(e,t,n):null}},bs={indent:1,children:!0},ks=/@keyframes\s+([\w-]+)/,Ts=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var i=e.match(ks);i&&i[1]?this.name=i[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var r=n.scoped,o=n.sheet,a=n.generateId;for(var s in this.id=!1===r?this.name:hs(a(this,o)),this.rules=new js((0,_.Z)({},n,{parent:this})),t)this.rules.add(s,t[s],(0,_.Z)({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=bs);var t=as(e).linebreak;if(null==e.indent&&(e.indent=bs.indent),null==e.children&&(e.children=bs.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),Es=/@keyframes\s+/,xs=/\$([\w-]+)/g,ws=function(e,t){return"string"===typeof e?e.replace(xs,(function(e,n){return n in t?t[n]:e})):e},Ss=function(e,t,n){var i=e[t],r=ws(i,n);r!==i&&(e[t]=r)},Cs={onCreateRule:function(e,t,n){return"string"===typeof e&&Es.test(e)?new Ts(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Ss(e,"animation-name",n.keyframes),"animation"in e&&Ss(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var i=n.options.sheet;if(!i)return e;switch(t){case"animation":case"animation-name":return ws(e,i.keyframes);default:return e}}},Is=function(e){function t(){return e.apply(this,arguments)||this}return ae(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?(0,_.Z)({},e,{allowEmpty:!0}):e;return ls(this.key,this.style,n)},t}(ds),Rs={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new Is(e,t,n):null}},Os=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=as(e).linebreak;if(Array.isArray(this.style)){for(var n="",i=0;i<this.style.length;i++)n+=ls(this.at,this.style[i]),this.style[i+1]&&(n+=t);return n}return ls(this.at,this.style,e)},e}(),As=/@font-face/,Ms={onCreateRule:function(e,t,n){return As.test(e)?new Os(e,t,n):null}},Ls=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return ls(this.key,this.style,e)},e}(),Ns={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new Ls(e,t,n):null}},$s=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),Ps={"@charset":!0,"@import":!0,"@namespace":!0},Ds={onCreateRule:function(e,t,n){return e in Ps?new $s(e,t,n):null}},Bs=[ps,_s,Cs,Rs,Ms,Ns,Ds],Fs={process:!0},Us={force:!0,process:!0},js=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var i=this.options,r=i.parent,o=i.sheet,a=i.jss,s=i.Renderer,l=i.generateId,u=i.scoped,c=(0,_.Z)({classes:this.classes,parent:r,sheet:o,jss:a,Renderer:s,generateId:l,scoped:u,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(c.selector="."+hs(this.classes[h]));var d=is(h,t,c);if(!d)return null;this.register(d);var f=void 0===c.index?this.index.length:c.index;return this.index.splice(f,0,d),d},t.replace=function(e,t,n){var i=this.get(e),r=this.index.indexOf(i);i&&this.remove(i);var o=n;return-1!==r&&(o=(0,_.Z)({},n,{index:r})),this.add(e,t,o)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof fs?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof Ts&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof fs?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof Ts&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var i=0;i<this.index.length;i++)this.updateOne(this.index[i],t,n)},t.updateOne=function(t,n,i){void 0===i&&(i=Fs);var r=this.options,o=r.jss.plugins,a=r.sheet;if(t.rules instanceof e)t.rules.update(n,i);else{var s=t.style;if(o.onUpdate(n,t,a,i),i.process&&s&&s!==t.style){for(var l in o.onProcessStyle(t.style,t,a),t.style){var u=t.style[l];u!==s[l]&&t.prop(l,u,Us)}for(var c in s){var h=t.style[c],d=s[c];null==h&&h!==d&&t.prop(c,null,Us)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,i=!!n&&n.options.link,r=as(e).linebreak,o=0;o<this.index.length;o++){var a=this.index[o].toString(e);(a||i)&&(t&&(t+=r),t+=a)}return t},e}(),Zs=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=(0,_.Z)({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new js(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var i=this.queue;this.attached&&!i&&(this.queue=[]);var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(i?i.push(r):(this.insertRule(r),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),r):r:(this.deployed=!1,r)):null},t.replaceRule=function(e,t,n){var i=this.rules.get(e);if(!i)return this.addRule(e,t,n);var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),this.attached?this.deployed?(this.renderer&&(r?i.renderable&&this.renderer.replaceRule(i.renderable,r):this.renderer.deleteRule(i)),r):r:(this.deployed=!1,r)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var i in e){var r=this.addRule(i,e[i],t);r&&n.push(r)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),Hs=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var i=0;i<this.registry.onCreateRule.length;i++){var r=this.registry.onCreateRule[i](e,t,n);if(r)return r}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var i=0;i<this.registry.onProcessStyle.length;i++)t.style=this.registry.onProcessStyle[i](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,i){for(var r=0;r<this.registry.onUpdate.length;r++)this.registry.onUpdate[r](e,t,n,i)},t.onChangeValue=function(e,t,n){for(var i=e,r=0;r<this.registry.onChangeValue.length;r++)i=this.registry.onChangeValue[r](i,t,n);return i},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),zs=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var i=0;i<t.length;i++)if(t[i].options.index>n)return void t.splice(i,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,i=(0,b.Z)(t,["attached"]),r=as(i).linebreak,o="",a=0;a<this.registry.length;a++){var s=this.registry[a];null!=n&&s.attached!==n||(o&&(o+=r),o+=s.toString(i))}return o},(0,Cr.Z)(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),Vs=new zs,Ws="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),Gs="2f1acc6c3a606b082e5eef5e54414ffb";null==Ws[Gs]&&(Ws[Gs]=0);var Xs=Ws[Gs]++,Ys=function(e){void 0===e&&(e={});var t=0;return function(n,i){t+=1;var r="",o="";return i&&(i.options.classNamePrefix&&(o=i.options.classNamePrefix),null!=i.options.jss.id&&(r=String(i.options.jss.id))),e.minify?""+(o||"c")+Xs+r+t:o+n.key+"-"+Xs+(r?"-"+r:"")+"-"+t}},Ks=function(e){var t;return function(){return t||(t=e()),t}},qs=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},Js=function(e,t,n){try{var i=n;if(Array.isArray(n)&&(i=os(n)),e.attributeStyleMap)e.attributeStyleMap.set(t,i);else{var r=i?i.indexOf("!important"):-1,o=r>-1?i.substr(0,r-1):i;e.style.setProperty(t,o,r>-1?"important":"")}}catch(a){return!1}return!0},Qs=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},el=function(e,t){return e.selectorText=t,e.selectorText===t},tl=Ks((function(){return document.querySelector("head")}));function nl(e){var t=Vs.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(i.attached&&i.options.index>t.index&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var i=e[n];if(i.attached&&i.options.insertionPoint===t.insertionPoint)return i}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var i=e.insertionPoint;if(i&&"string"===typeof i){var r=function(e){for(var t=tl(),n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];if(8===i.nodeType&&i.nodeValue.trim()===e)return i}return null}(i);if(r)return{parent:r.parentNode,node:r.nextSibling}}return!1}var il=Ks((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),rl=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(i){return!1}return e.cssRules[n]},ol=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},al=function(){function e(e){this.getPropertyValue=qs,this.setProperty=Js,this.removeProperty=Qs,this.setSelector=el,this.hasInsertedRules=!1,this.cssRules=[],e&&Vs.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,i=t.meta,r=t.element;this.element=r||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),i&&this.element.setAttribute("data-meta",i);var o=il();o&&this.element.setAttribute("nonce",o)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,i=nl(t);if(!1!==i&&i.parent)i.parent.insertBefore(e,i.node);else if(n&&"number"===typeof n.nodeType){var r=n,o=r.parentNode;o&&o.insertBefore(e,r.nextSibling)}else tl().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var i=e,r=n;if("conditional"===e.type||"keyframes"===e.type){var o=ol(n,t);if(!1===(r=rl(n,i.toString({children:!1}),o)))return!1;this.refCssRule(e,o,r)}return this.insertRules(i.rules,r),r}var a=e.toString();if(!a)return!1;var s=ol(n,t),l=rl(n,a,s);return!1!==l&&(this.hasInsertedRules=!0,this.refCssRule(e,s,l),l)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof Zs&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),sl=0,ll=function(){function e(e){this.id=sl++,this.version="10.10.0",this.plugins=new Hs,this.options={id:{minify:!1},createGenerateId:Ys,Renderer:es?al:null,plugins:[]},this.generateId=Ys({minify:!1});for(var t=0;t<Bs.length;t++)this.plugins.use(Bs[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=(0,_.Z)({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===Vs.index?0:Vs.index+1);var i=new Zs(e,(0,_.Z)({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(i),i},t.removeStyleSheet=function(e){return e.detach(),Vs.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var i=(0,_.Z)({},n,{name:e,jss:this,Renderer:this.options.Renderer});i.generateId||(i.generateId=this.generateId),i.classes||(i.classes={}),i.keyframes||(i.keyframes={});var r=is(e,t,i);return r&&this.plugins.onProcessRule(r),r},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),ul=function(e){return new ll(e)},cl="object"===typeof CSS&&null!=CSS&&"number"in CSS;function hl(e){var t=null;for(var n in e){var i=e[n],r=typeof i;if("function"===r)t||(t={}),t[n]=i;else if("object"===r&&null!==i&&!Array.isArray(i)){var o=hl(i);o&&(t||(t={}),t[n]=o)}}return t}ul();function dl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var i=(0,_.Z)({},t);return Object.keys(n).forEach((function(e){n[e]&&(i[e]="".concat(t[e]," ").concat(n[e]))})),i}var fl={set:function(e,t,n,i){var r=e.get(t);r||(r=new Map,e.set(t,r)),r.set(n,i)},get:function(e,t,n){var i=e.get(t);return i?i.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},pl=fl;var vl=i.createContext(null);function gl(){return i.useContext(vl)}var ml="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",yl=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var _l=Date.now(),bl="fnValues"+_l,kl="fnStyle"+ ++_l,Tl=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var i=is(e,{},n);return i[kl]=t,i},onProcessStyle:function(e,t){if(bl in t||kl in t)return e;var n={};for(var i in e){var r=e[i];"function"===typeof r&&(delete e[i],n[i]=r)}return t[bl]=n,e},onUpdate:function(e,t,n,i){var r=t,o=r[kl];o&&(r.style=o(e)||{});var a=r[bl];if(a)for(var s in a)r.prop(s,a[s](e),i)}}},El="@global",xl="@global ",wl=function(){function e(e,t,n){for(var i in this.type="global",this.at=El,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new js((0,_.Z)({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var i=this.rules.add(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.replaceRule=function(e,t,n){var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),i},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Sl=function(){function e(e,t,n){this.type="global",this.at=El,this.isProcessed=!1,this.key=e,this.options=n;var i=e.substr(8);this.rule=n.jss.createRule(i,t,(0,_.Z)({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Cl=/\s*,\s*/g;function Il(e,t){for(var n=e.split(Cl),i="",r=0;r<n.length;r++)i+=t+" "+n[r].trim(),n[r+1]&&(i+=", ");return i}var Rl=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===El)return new wl(e,t,n);if("@"===e[0]&&e.substr(0,8)===xl)return new Sl(e,t,n);var i=n.parent;return i&&("global"===i.type||i.options.parent&&"global"===i.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,i=e.style,r=i?i[El]:null;if(r){for(var o in r)t.addRule(o,r[o],(0,_.Z)({},n,{selector:Il(o,e.selector)}));delete i[El]}}(e,t),function(e,t){var n=e.options,i=e.style;for(var r in i)if("@"===r[0]&&r.substr(0,El.length)===El){var o=Il(r.substr(El.length),e.selector);t.addRule(o,i[r],(0,_.Z)({},n,{selector:o})),delete i[r]}}(e,t))}}},Ol=/\s*,\s*/g,Al=/&/g,Ml=/\$([\w-]+)/g;var Ll=function(){function e(e,t){return function(n,i){var r=e.getRule(i)||t&&t.getRule(i);return r?r.selector:i}}function t(e,t){for(var n=t.split(Ol),i=e.split(Ol),r="",o=0;o<n.length;o++)for(var a=n[o],s=0;s<i.length;s++){var l=i[s];r&&(r+=", "),r+=-1!==l.indexOf("&")?l.replace(Al,a):a+" "+l}return r}function n(e,t,n){if(n)return(0,_.Z)({},n,{index:n.index+1});var i=e.options.nestingLevel;i=void 0===i?1:i+1;var r=(0,_.Z)({},e.options,{nestingLevel:i,index:t.indexOf(e)+1});return delete r.name,r}return{onProcessStyle:function(i,r,o){if("style"!==r.type)return i;var a,s,l=r,u=l.options.parent;for(var c in i){var h=-1!==c.indexOf("&"),d="@"===c[0];if(h||d){if(a=n(l,u,a),h){var f=t(c,l.selector);s||(s=e(u,o)),f=f.replace(Ml,s);var p=l.key+"-"+c;"replaceRule"in u?u.replaceRule(p,i[c],(0,_.Z)({},a,{selector:f})):u.addRule(p,i[c],(0,_.Z)({},a,{selector:f}))}else d&&u.addRule(c,{},a).addRule(l.key,i[c],{selector:l.selector});delete i[c]}}return i}}},Nl=/[A-Z]/g,$l=/^ms-/,Pl={};function Dl(e){return"-"+e.toLowerCase()}var Bl=function(e){if(Pl.hasOwnProperty(e))return Pl[e];var t=e.replace(Nl,Dl);return Pl[e]=$l.test(t)?"-"+t:t};function Fl(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:Bl(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(Fl):t.fallbacks=Fl(e.fallbacks)),t}var Ul=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=Fl(e[t]);return e}return Fl(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var i=Bl(t);return t===i?e:(n.prop(i,e),null)}}},jl=cl&&CSS?CSS.px:"px",Zl=cl&&CSS?CSS.ms:"ms",Hl=cl&&CSS?CSS.percent:"%";function zl(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},i={};for(var r in e)i[r]=e[r],i[r.replace(t,n)]=e[r];return i}var Vl=zl({"animation-delay":Zl,"animation-duration":Zl,"background-position":jl,"background-position-x":jl,"background-position-y":jl,"background-size":jl,border:jl,"border-bottom":jl,"border-bottom-left-radius":jl,"border-bottom-right-radius":jl,"border-bottom-width":jl,"border-left":jl,"border-left-width":jl,"border-radius":jl,"border-right":jl,"border-right-width":jl,"border-top":jl,"border-top-left-radius":jl,"border-top-right-radius":jl,"border-top-width":jl,"border-width":jl,"border-block":jl,"border-block-end":jl,"border-block-end-width":jl,"border-block-start":jl,"border-block-start-width":jl,"border-block-width":jl,"border-inline":jl,"border-inline-end":jl,"border-inline-end-width":jl,"border-inline-start":jl,"border-inline-start-width":jl,"border-inline-width":jl,"border-start-start-radius":jl,"border-start-end-radius":jl,"border-end-start-radius":jl,"border-end-end-radius":jl,margin:jl,"margin-bottom":jl,"margin-left":jl,"margin-right":jl,"margin-top":jl,"margin-block":jl,"margin-block-end":jl,"margin-block-start":jl,"margin-inline":jl,"margin-inline-end":jl,"margin-inline-start":jl,padding:jl,"padding-bottom":jl,"padding-left":jl,"padding-right":jl,"padding-top":jl,"padding-block":jl,"padding-block-end":jl,"padding-block-start":jl,"padding-inline":jl,"padding-inline-end":jl,"padding-inline-start":jl,"mask-position-x":jl,"mask-position-y":jl,"mask-size":jl,height:jl,width:jl,"min-height":jl,"max-height":jl,"min-width":jl,"max-width":jl,bottom:jl,left:jl,top:jl,right:jl,inset:jl,"inset-block":jl,"inset-block-end":jl,"inset-block-start":jl,"inset-inline":jl,"inset-inline-end":jl,"inset-inline-start":jl,"box-shadow":jl,"text-shadow":jl,"column-gap":jl,"column-rule":jl,"column-rule-width":jl,"column-width":jl,"font-size":jl,"font-size-delta":jl,"letter-spacing":jl,"text-decoration-thickness":jl,"text-indent":jl,"text-stroke":jl,"text-stroke-width":jl,"word-spacing":jl,motion:jl,"motion-offset":jl,outline:jl,"outline-offset":jl,"outline-width":jl,perspective:jl,"perspective-origin-x":Hl,"perspective-origin-y":Hl,"transform-origin":Hl,"transform-origin-x":Hl,"transform-origin-y":Hl,"transform-origin-z":Hl,"transition-delay":Zl,"transition-duration":Zl,"vertical-align":jl,"flex-basis":jl,"shape-margin":jl,size:jl,gap:jl,grid:jl,"grid-gap":jl,"row-gap":jl,"grid-row-gap":jl,"grid-column-gap":jl,"grid-template-rows":jl,"grid-template-columns":jl,"grid-auto-rows":jl,"grid-auto-columns":jl,"box-shadow-x":jl,"box-shadow-y":jl,"box-shadow-blur":jl,"box-shadow-spread":jl,"font-line-height":jl,"text-shadow-x":jl,"text-shadow-y":jl,"text-shadow-blur":jl});function Wl(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]=Wl(e,t[i],n);else if("object"===typeof t)if("fallbacks"===e)for(var r in t)t[r]=Wl(r,t[r],n);else for(var o in t)t[o]=Wl(e+"-"+o,t[o],n);else if("number"===typeof t&&!1===isNaN(t)){var a=n[e]||Vl[e];return!a||0===t&&a===jl?t.toString():"function"===typeof a?a(t).toString():""+t+a}return t}var Gl=function(e){void 0===e&&(e={});var t=zl(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var i in e)e[i]=Wl(i,e[i],t);return e},onChangeValue:function(e,n){return Wl(n,e,t)}}},Xl="",Yl="",Kl="",ql="",Jl=es&&"ontouchstart"in document.documentElement;if(es){var Ql={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},eu=document.createElement("p").style;for(var tu in Ql)if(tu+"Transform"in eu){Xl=tu,Yl=Ql[tu];break}"Webkit"===Xl&&"msHyphens"in eu&&(Xl="ms",Yl=Ql.ms,ql="edge"),"Webkit"===Xl&&"-apple-trailing-word"in eu&&(Kl="apple")}var nu={js:Xl,css:Yl,vendor:Kl,browser:ql,isTouch:Jl};var iu={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===nu.js?"-webkit-"+e:nu.css+e)}},ru={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===nu.js?nu.css+"print-"+e:e)}},ou=/[-\s]+(.)?/g;function au(e,t){return t?t.toUpperCase():""}function su(e){return e.replace(ou,au)}function lu(e){return su("-"+e)}var uu,cu={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===nu.js){var n="mask-image";if(su(n)in t)return e;if(nu.js+lu(n)in t)return nu.css+e}return e}},hu={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==nu.vendor||nu.isTouch?e:nu.css+e)}},du={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:nu.css+e)}},fu={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:nu.css+e)}},pu={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===nu.js||"ms"===nu.js&&"edge"!==nu.browser?nu.css+e:e)}},vu={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===nu.js||"ms"===nu.js||"apple"===nu.vendor?nu.css+e:e)}},gu={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===nu.js?"WebkitColumn"+lu(e)in t&&nu.css+"column-"+e:"Moz"===nu.js&&("page"+lu(e)in t&&"page-"+e))}},mu={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===nu.js)return e;var n=e.replace("-inline","");return nu.js+lu(n)in t&&nu.css+n}},yu={supportedProperty:function(e,t){return su(e)in t&&e}},_u={supportedProperty:function(e,t){var n=lu(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:nu.js+n in t?nu.css+e:"Webkit"!==nu.js&&"Webkit"+n in t&&"-webkit-"+e}},bu={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===nu.js?""+nu.css+e:e)}},ku={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===nu.js?nu.css+"scroll-chaining":e)}},Tu={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Eu={supportedProperty:function(e,t){var n=Tu[e];return!!n&&(nu.js+lu(n)in t&&nu.css+n)}},xu={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},wu=Object.keys(xu),Su=function(e){return nu.css+e},Cu={supportedProperty:function(e,t,n){var i=n.multiple;if(wu.indexOf(e)>-1){var r=xu[e];if(!Array.isArray(r))return nu.js+lu(r)in t&&nu.css+r;if(!i)return!1;for(var o=0;o<r.length;o++)if(!(nu.js+lu(r[0])in t))return!1;return r.map(Su)}return!1}},Iu=[iu,ru,cu,hu,du,fu,pu,vu,gu,mu,yu,_u,bu,ku,Eu,Cu],Ru=Iu.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),Ou=Iu.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,(0,s.Z)(t.noPrefill)),e}),[]),Au={};if(es){uu=document.createElement("p");var Mu=window.getComputedStyle(document.documentElement,"");for(var Lu in Mu)isNaN(Lu)||(Au[Mu[Lu]]=Mu[Lu]);Ou.forEach((function(e){return delete Au[e]}))}function Nu(e,t){if(void 0===t&&(t={}),!uu)return e;if(null!=Au[e])return Au[e];"transition"!==e&&"transform"!==e||(t[e]=e in uu.style);for(var n=0;n<Ru.length&&(Au[e]=Ru[n](e,uu.style,t),!Au[e]);n++);try{uu.style[e]=""}catch(i){return!1}return Au[e]}var $u,Pu={},Du={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},Bu=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function Fu(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var i=t?Nu(t):", "+Nu(n);return i||(t||n)}function Uu(e,t){var n=t;if(!$u||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var i=e+n;if(null!=Pu[i])return Pu[i];try{$u.style[e]=n}catch(r){return Pu[i]=!1,!1}if(Du[e])n=n.replace(Bu,Fu);else if(""===$u.style[e]&&("-ms-flex"===(n=nu.css+n)&&($u.style[e]="-ms-flexbox"),$u.style[e]=n,""===$u.style[e]))return Pu[i]=!1,!1;return $u.style[e]="",Pu[i]=n,Pu[i]}es&&($u=document.createElement("p"));var ju=function(){function e(t){for(var n in t){var i=t[n];if("fallbacks"===n&&Array.isArray(i))t[n]=i.map(e);else{var r=!1,o=Nu(n);o&&o!==n&&(r=!0);var a=!1,s=Uu(o,os(i));s&&s!==i&&(a=!0),(r||a)&&(r&&delete t[n],t[o||n]=s||i)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===nu.js?e:"@"+nu.css+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return Uu(t,os(e))||e}}};var Zu=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var i={},r=Object.keys(t).sort(e),o=0;o<r.length;o++)i[r[o]]=t[r[o]];return i}}};var Hu=ul({plugins:[Tl(),Rl(),Ll(),Ul(),Gl(),"undefined"===typeof window?null:ju(),Zu()]}),zu=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,i=e.productionPrefix,r=void 0===i?"jss":i,o=e.seed,a=void 0===o?"":o,s=""===a?"":"".concat(a,"-"),l=0,u=function(){return l+=1};return function(e,t){var i=t.options.name;if(i&&0===i.indexOf("Mui")&&!t.options.link&&!n){if(-1!==yl.indexOf(e.key))return"Mui-".concat(e.key);var o="".concat(s).concat(i,"-").concat(e.key);return t.options.theme[ml]&&""===a?"".concat(o,"-").concat(u()):o}return"".concat(s).concat(r).concat(u())}}(),Vu={disableGeneration:!1,generateClassName:zu,jss:Hu,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},Wu=i.createContext(Vu);var Gu=-1e9;var Xu=n(1122),Yu=["variant"];function Ku(e){return 0===e.length}function qu(e){var t="function"===typeof e;return{create:function(n,i){var r;try{r=t?e(n):e}catch(l){throw l}if(!i||!n.components||!n.components[i]||!n.components[i].styleOverrides&&!n.components[i].variants)return r;var o=n.components[i].styleOverrides||{},a=n.components[i].variants||[],s=(0,_.Z)({},r);return Object.keys(o).forEach((function(e){s[e]=(0,Qe.Z)(s[e]||{},o[e])})),a.forEach((function(e){var t=function(e){var t=e.variant,n=(0,b.Z)(e,Yu),i=t||"";return Object.keys(n).sort().forEach((function(t){i+="color"===t?Ku(i)?e[t]:(0,Xu.Z)(e[t]):"".concat(Ku(i)?t:(0,Xu.Z)(t)).concat((0,Xu.Z)(e[t].toString()))})),i}(e.props);s[t]=(0,Qe.Z)(s[t]||{},e.style)})),s},options:{}}}var Ju={},Qu=["name","classNamePrefix","Component","defaultTheme"];function ec(e,t){var n=e.state,i=e.theme,r=e.stylesOptions,o=e.stylesCreator,a=e.name;if(!r.disableGeneration){var s=pl.get(r.sheetsManager,o,i);s||(s={refs:0,staticSheet:null,dynamicStyles:null},pl.set(r.sheetsManager,o,i,s));var l=(0,_.Z)({},o.options,r,{theme:i,flip:"boolean"===typeof r.flip?r.flip:"rtl"===i.direction});l.generateId=l.serverGenerateClassName||l.generateClassName;var u=r.sheetsRegistry;if(0===s.refs){var c;r.sheetsCache&&(c=pl.get(r.sheetsCache,o,i));var h=o.create(i,a);c||((c=r.jss.createStyleSheet(h,(0,_.Z)({link:!1},l))).attach(),r.sheetsCache&&pl.set(r.sheetsCache,o,i,c)),u&&u.add(c),s.staticSheet=c,s.dynamicStyles=hl(h)}if(s.dynamicStyles){var d=r.jss.createStyleSheet(s.dynamicStyles,(0,_.Z)({link:!0},l));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=dl({baseClasses:s.staticSheet.classes,newClasses:d.classes}),u&&u.add(d)}else n.classes=s.staticSheet.classes;s.refs+=1}}function tc(e,t){if(null==e)return{};var n,i,r=(0,b.Z)(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function nc(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function ic(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nc(Object(n),!0).forEach((function(t){(0,K.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nc(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rc(e){return rc=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rc(e)}function oc(){return oc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=rc(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},oc.apply(this,arguments)}function ac(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&oe(e,t)}function sc(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(sc=function(){return!!e})()}function lc(e,t){if(t&&("object"===(0,l.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return re(e)}function uc(e){var t=sc();return function(){var n,i=rc(e);if(t){var r=rc(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return lc(this,n)}}function cc(e){return e+.5|0}var hc=function(e,t,n){return Math.max(Math.min(e,n),t)};function dc(e){return hc(cc(2.55*e),0,255)}function fc(e){return hc(cc(255*e),0,255)}function pc(e){return hc(cc(e/2.55)/100,0,1)}function vc(e){return hc(cc(100*e),0,100)}var gc={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},mc=(0,s.Z)("0123456789ABCDEF"),yc=function(e){return mc[15&e]},_c=function(e){return mc[(240&e)>>4]+mc[15&e]},bc=function(e){return(240&e)>>4===(15&e)};function kc(e){var t=function(e){return bc(e.r)&&bc(e.g)&&bc(e.b)&&bc(e.a)}(e)?yc:_c;return e?"#"+t(e.r)+t(e.g)+t(e.b)+function(e,t){return e<255?t(e):""}(e.a,t):void 0}var Tc=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Ec(e,t,n){var i=t*Math.min(n,1-n),r=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-i*Math.max(Math.min(r-3,9-r,1),-1)};return[r(0),r(8),r(4)]}function xc(e,t,n){var i=function(i){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(i+e/60)%6;return n-n*t*Math.max(Math.min(r,4-r,1),0)};return[i(5),i(3),i(1)]}function wc(e,t,n){var i,r=Ec(e,1,.5);for(t+n>1&&(t*=i=1/(t+n),n*=i),i=0;i<3;i++)r[i]*=1-t-n,r[i]+=t;return r}function Sc(e){var t,n,i,r=e.r/255,o=e.g/255,a=e.b/255,s=Math.max(r,o,a),l=Math.min(r,o,a),u=(s+l)/2;return s!==l&&(i=s-l,n=u>.5?i/(2-s-l):i/(s+l),t=function(e,t,n,i,r){return e===r?(t-n)/i+(t<n?6:0):t===r?(n-e)/i+2:(e-t)/i+4}(r,o,a,i,s),t=60*t+.5),[0|t,n||0,u]}function Cc(e,t,n,i){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,i)).map(fc)}function Ic(e,t,n){return Cc(Ec,e,t,n)}function Rc(e){return(e%360+360)%360}function Oc(e){var t,n=Tc.exec(e),i=255;if(n){n[5]!==t&&(i=n[6]?dc(+n[5]):fc(+n[5]));var r=Rc(+n[2]),o=+n[3]/100,a=+n[4]/100;return{r:(t="hwb"===n[1]?function(e,t,n){return Cc(wc,e,t,n)}(r,o,a):"hsv"===n[1]?function(e,t,n){return Cc(xc,e,t,n)}(r,o,a):Ic(r,o,a))[0],g:t[1],b:t[2],a:i}}}var Ac,Mc={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Lc={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Nc(e){Ac||(Ac=function(){var e,t,n,i,r,o={},a=Object.keys(Lc),s=Object.keys(Mc);for(e=0;e<a.length;e++){for(i=r=a[e],t=0;t<s.length;t++)n=s[t],r=r.replace(n,Mc[n]);n=parseInt(Lc[i],16),o[r]=[n>>16&255,n>>8&255,255&n]}return o}(),Ac.transparent=[0,0,0,0]);var t=Ac[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}var $c=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var Pc=function(e){return e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055},Dc=function(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)};function Bc(e,t,n){if(e){var i=Sc(e);i[t]=Math.max(0,Math.min(i[t]+i[t]*n,0===t?360:1)),i=Ic(i),e.r=i[0],e.g=i[1],e.b=i[2]}}function Fc(e,t){return e?Object.assign(t||{},e):e}function Uc(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=fc(e[3]))):(t=Fc(e,{r:0,g:0,b:0,a:1})).a=fc(t.a),t}function jc(e){return"r"===e.charAt(0)?function(e){var t,n,i,r=$c.exec(e),o=255;if(r){if(r[7]!==t){var a=+r[7];o=r[8]?dc(a):hc(255*a,0,255)}return t=+r[1],n=+r[3],i=+r[5],{r:t=255&(r[2]?dc(t):hc(t,0,255)),g:n=255&(r[4]?dc(n):hc(n,0,255)),b:i=255&(r[6]?dc(i):hc(i,0,255)),a:o}}}(e):Oc(e)}var Zc=function(){function e(t){if((0,Sr.Z)(this,e),t instanceof e)return t;var n,i=typeof t;"object"===i?n=Uc(t):"string"===i&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*gc[e[1]],g:255&17*gc[e[2]],b:255&17*gc[e[3]],a:5===n?17*gc[e[4]]:255}:7!==n&&9!==n||(t={r:gc[e[1]]<<4|gc[e[2]],g:gc[e[3]]<<4|gc[e[4]],b:gc[e[5]]<<4|gc[e[6]],a:9===n?gc[e[7]]<<4|gc[e[8]]:255})),t}(t)||Nc(t)||jc(t)),this._rgb=n,this._valid=!!n}return(0,Cr.Z)(e,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var e=Fc(this._rgb);return e&&(e.a=pc(e.a)),e},set:function(e){this._rgb=Uc(e)}},{key:"rgbString",value:function(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(pc(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}},{key:"hexString",value:function(){return this._valid?kc(this._rgb):void 0}},{key:"hslString",value:function(){return this._valid?function(e){if(e){var t=Sc(e),n=t[0],i=vc(t[1]),r=vc(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(pc(e.a),")"):"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)")}}(this._rgb):void 0}},{key:"mix",value:function(e,t){if(e){var n,i=this.rgb,r=e.rgb,o=t===n?.5:t,a=2*o-1,s=i.a-r.a,l=((a*s===-1?a:(a+s)/(1+a*s))+1)/2;n=1-l,i.r=255&l*i.r+n*r.r+.5,i.g=255&l*i.g+n*r.g+.5,i.b=255&l*i.b+n*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}},{key:"interpolate",value:function(e,t){return e&&(this._rgb=function(e,t,n){var i=Dc(pc(e.r)),r=Dc(pc(e.g)),o=Dc(pc(e.b));return{r:fc(Pc(i+n*(Dc(pc(t.r))-i))),g:fc(Pc(r+n*(Dc(pc(t.g))-r))),b:fc(Pc(o+n*(Dc(pc(t.b))-o))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}},{key:"clone",value:function(){return new e(this.rgb)}},{key:"alpha",value:function(e){return this._rgb.a=fc(e),this}},{key:"clearer",value:function(e){return this._rgb.a*=1-e,this}},{key:"greyscale",value:function(){var e=this._rgb,t=cc(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}},{key:"opaquer",value:function(e){return this._rgb.a*=1+e,this}},{key:"negate",value:function(){var e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}},{key:"lighten",value:function(e){return Bc(this._rgb,2,e),this}},{key:"darken",value:function(e){return Bc(this._rgb,2,-e),this}},{key:"saturate",value:function(e){return Bc(this._rgb,1,e),this}},{key:"desaturate",value:function(e){return Bc(this._rgb,1,-e),this}},{key:"rotate",value:function(e){return function(e,t){var n=Sc(e);n[0]=Rc(n[0]+t),n=Ic(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}]),e}();function Hc(){}var zc=function(){var e=0;return function(){return e++}}();function Vc(e){return null===e||"undefined"===typeof e}function Wc(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function Gc(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function Xc(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function Yc(e,t){return Xc(e)?e:t}function Kc(e,t){return"undefined"===typeof e?t:e}var qc=function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e};function Jc(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function Qc(e,t,n,i){var r,o,a;if(Wc(e))if(o=e.length,i)for(r=o-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<o;r++)t.call(n,e[r],r);else if(Gc(e))for(o=(a=Object.keys(e)).length,r=0;r<o;r++)t.call(n,e[a[r]],a[r])}function eh(e,t){var n,i,r,o;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],o=t[n],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function th(e){if(Wc(e))return e.map(th);if(Gc(e)){for(var t=Object.create(null),n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=th(e[n[r]]);return t}return e}function nh(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function ih(e,t,n,i){if(nh(e)){var r=t[e],o=n[e];Gc(r)&&Gc(o)?rh(r,o,i):t[e]=th(o)}}function rh(e,t,n){var i=Wc(t)?t:[t],r=i.length;if(!Gc(e))return e;for(var o,a=(n=n||{}).merger||ih,s=0;s<r;++s)if(Gc(o=i[s]))for(var l=Object.keys(o),u=0,c=l.length;u<c;++u)a(l[u],e,o,n);return e}function oh(e,t){return rh(e,t,{merger:ah})}function ah(e,t,n){if(nh(e)){var i=t[e],r=n[e];Gc(i)&&Gc(r)?oh(i,r):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=th(r))}}var sh={"":function(e){return e},x:function(e){return e.x},y:function(e){return e.y}};function lh(e){var t=function(e){var t,n=[],i="",r=a(e.split("."));try{for(r.s();!(t=r.n()).done;)(i+=t.value).endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="")}catch(o){r.e(o)}finally{r.f()}return n}(e);return function(e){var n,i=a(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(""===r)break;e=e&&e[r]}}catch(o){i.e(o)}finally{i.f()}return e}}function uh(e,t){return(sh[t]||(sh[t]=lh(t)))(e)}function ch(e){return e.charAt(0).toUpperCase()+e.slice(1)}var hh=function(e){return"undefined"!==typeof e},dh=function(e){return"function"===typeof e},fh=function(e,t){if(e.size!==t.size)return!1;var n,i=a(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(!t.has(r))return!1}}catch(o){i.e(o)}finally{i.f()}return!0};var ph=Math.PI,vh=2*ph,gh=vh+ph,mh=Number.POSITIVE_INFINITY,yh=ph/180,_h=ph/2,bh=ph/4,kh=2*ph/3,Th=Math.log10,Eh=Math.sign;function xh(e,t,n){return Math.abs(e-t)<n}function wh(e){var t=Math.round(e);e=xh(e,t,e/1e3)?t:e;var n=Math.pow(10,Math.floor(Th(e))),i=e/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function Sh(e){return!isNaN(parseFloat(e))&&isFinite(e)}function Ch(e,t,n){var i,r,o;for(i=0,r=e.length;i<r;i++)o=e[i][n],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ih(e){return e*(ph/180)}function Rh(e){return e*(180/ph)}function Oh(e){if(Xc(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}}function Ah(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),o=Math.atan2(i,n);return o<-.5*ph&&(o+=vh),{angle:o,distance:r}}function Mh(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Lh(e,t){return(e-t+gh)%vh-ph}function Nh(e){return(e%vh+vh)%vh}function $h(e,t,n,i){var r=Nh(e),o=Nh(t),a=Nh(n),s=Nh(o-r),l=Nh(a-r),u=Nh(r-o),c=Nh(r-a);return r===o||r===a||i&&o===a||s>l&&u<c}function Ph(e,t,n){return Math.max(t,Math.min(n,e))}function Dh(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-i&&e<=Math.max(t,n)+i}function Bh(e,t,n){n=n||function(n){return e[n]<t};for(var i,r=e.length-1,o=0;r-o>1;)n(i=o+r>>1)?o=i:r=i;return{lo:o,hi:r}}var Fh=function(e,t,n,i){return Bh(e,n,i?function(i){var r=e[i][t];return r<n||r===n&&e[i+1][t]===n}:function(i){return e[i][t]<n})},Uh=function(e,t,n){return Bh(e,n,(function(i){return e[i][t]>=n}))};var jh=["push","pop","shift","splice","unshift"];function Zh(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||(jh.forEach((function(t){delete e[t]})),delete e._chartjs)}}function Hh(e){var t=new Set(e);return t.size===e.length?e:Array.from(t)}var zh="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function Vh(e,t){var n=[],i=!1;return function(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=o,i||(i=!0,zh.call(window,(function(){i=!1,e.apply(t,n)})))}}var Wh=function(e){return"start"===e?"left":"end"===e?"right":"center"},Gh=function(e,t,n){return"start"===e?t:"end"===e?n:(t+n)/2};function Xh(e,t,n){var i=t.length,r=0,o=i;if(e._sorted){var a=e.iScale,s=e._parsed,l=a.axis,u=a.getUserBounds(),c=u.min,h=u.max,d=u.minDefined,f=u.maxDefined;d&&(r=Ph(Math.min(Fh(s,l,c).lo,n?i:Fh(t,l,a.getPixelForValue(c)).lo),0,i-1)),o=f?Ph(Math.max(Fh(s,a.axis,h,!0).hi+1,n?0:Fh(t,l,a.getPixelForValue(h),!0).hi+1),r,i)-r:i-r}return{start:r,count:o}}function Yh(e){var t=e.xScale,n=e.yScale,i=e._scaleRanges,r={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!i)return e._scaleRanges=r,!0;var o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==n.min||i.ymax!==n.max;return Object.assign(i,r),o}var Kh=function(e){return 0===e||1===e},qh=function(e,t,n){return-Math.pow(2,10*(e-=1))*Math.sin((e-t)*vh/n)},Jh=function(e,t,n){return Math.pow(2,-10*e)*Math.sin((e-t)*vh/n)+1},Qh={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*_h)},easeOutSine:function(e){return Math.sin(e*_h)},easeInOutSine:function(e){return-.5*(Math.cos(ph*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return Kh(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1)))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){return Kh(e)?e:qh(e,.075,.3)},easeOutElastic:function(e){return Kh(e)?e:Jh(e,.075,.3)},easeInOutElastic:function(e){var t=.1125;return Kh(e)?e:e<.5?.5*qh(2*e,t,.45):.5+.5*Jh(2*e-1,t,.45)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-Qh.easeOutBounce(1-e)},easeOutBounce:function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*Qh.easeInBounce(2*e):.5*Qh.easeOutBounce(2*e-1)+.5}};function ed(e){if(e&&"object"===typeof e){var t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function td(e){return ed(e)?e:new Zc(e)}function nd(e){return ed(e)?e:new Zc(e).saturate(.5).darken(.1).hexString()}var id=["x","y","borderWidth","radius","tension"],rd=["color","borderColor","backgroundColor"];var od=new Map;function ad(e,t,n){return function(e,t){t=t||{};var n=e+JSON.stringify(t),i=od.get(n);return i||(i=new Intl.NumberFormat(e,t),od.set(n,i)),i}(t,n).format(e)}var sd={values:function(e){return Wc(e)?e:""+e},numeric:function(e,t,n){if(0===e)return"0";var i,r=this.chart.options.locale,o=e;if(n.length>1){var a=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(a<1e-4||a>1e15)&&(i="scientific"),o=function(e,t){var n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}var s=Th(Math.abs(o)),l=isNaN(s)?1:Math.max(Math.min(-1*Math.floor(s),20),0),u={notation:i,minimumFractionDigits:l,maximumFractionDigits:l};return Object.assign(u,this.options.ticks.format),ad(e,r,u)},logarithmic:function(e,t,n){if(0===e)return"0";var i=n[t].significand||e/Math.pow(10,Math.floor(Th(e)));return[1,2,3,5,10,15].includes(i)||t>.8*n.length?sd.numeric.call(this,e,t,n):""}};var ld={formatters:sd};var ud=Object.create(null),cd=Object.create(null);function hd(e,t){if(!t)return e;for(var n=t.split("."),i=0,r=n.length;i<r;++i){var o=n[i];e=e[o]||(e[o]=Object.create(null))}return e}function dd(e,t,n){return"string"===typeof t?rh(hd(e,t),n):rh(hd(e,""),t)}var fd=function(){function e(t,n){(0,Sr.Z)(this,e),this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(e){return e.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(e,t){return nd(t.backgroundColor)},this.hoverBorderColor=function(e,t){return nd(t.borderColor)},this.hoverColor=function(e,t){return nd(t.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(n)}return(0,Cr.Z)(e,[{key:"set",value:function(e,t){return dd(this,e,t)}},{key:"get",value:function(e){return hd(this,e)}},{key:"describe",value:function(e,t){return dd(cd,e,t)}},{key:"override",value:function(e,t){return dd(ud,e,t)}},{key:"route",value:function(e,t,n,i){var r,o=hd(this,e),a=hd(this,n),s="_"+t;Object.defineProperties(o,(r={},(0,K.Z)(r,s,{value:o[t],writable:!0}),(0,K.Z)(r,t,{enumerable:!0,get:function(){var e=this[s],t=a[i];return Gc(e)?Object.assign({},t,e):Kc(e,t)},set:function(e){this[s]=e}}),r))}},{key:"apply",value:function(e){var t=this;e.forEach((function(e){return e(t)}))}}]),e}(),pd=new fd({_scriptable:function(e){return!e.startsWith("on")},_indexable:function(e){return"events"!==e},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(e){return"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}}),e.set("animations",{colors:{type:"color",properties:rd},numbers:{type:"number",properties:id}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(e){return 0|e}}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(e,t){return t.lineWidth},tickColor:function(e,t){return t.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:ld.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:function(e){return!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e},_indexable:function(e){return"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:function(e){return"backdropPadding"!==e&&"callback"!==e},_indexable:function(e){return"backdropPadding"!==e}})}]);function vd(e,t,n,i,r){var o=t[r];return o||(o=t[r]=e.measureText(r).width,n.push(r)),o>i&&(i=o),i}function gd(e,t,n,i){var r=(i=i||{}).data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},o=i.garbageCollect=[],i.font=t),e.save(),e.font=t;var a,s,l,u,c,h=0,d=n.length;for(a=0;a<d;a++)if(void 0===(u=n[a])||null===u||Wc(u)){if(Wc(u))for(s=0,l=u.length;s<l;s++)void 0===(c=u[s])||null===c||Wc(c)||(h=vd(e,r,o,h,c))}else h=vd(e,r,o,h,u);e.restore();var f=o.length/2;if(f>n.length){for(a=0;a<f;a++)delete r[o[a]];o.splice(0,f)}return h}function md(e,t,n){var i=e.currentDevicePixelRatio,r=0!==n?Math.max(n/2,.5):0;return Math.round((t-r)*i)/i+r}function yd(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function _d(e,t,n,i){bd(e,t,n,i,null)}function bd(e,t,n,i,r){var o,a,s,l,u,c,h,d,f=t.pointStyle,p=t.rotation,v=t.radius,g=(p||0)*yh;if(f&&"object"===typeof f&&("[object HTMLImageElement]"===(o=f.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(n,i),e.rotate(g),e.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),void e.restore();if(!(isNaN(v)||v<=0)){switch(e.beginPath(),f){default:r?e.ellipse(n,i,r/2,v,0,0,vh):e.arc(n,i,v,0,vh),e.closePath();break;case"triangle":c=r?r/2:v,e.moveTo(n+Math.sin(g)*c,i-Math.cos(g)*v),g+=kh,e.lineTo(n+Math.sin(g)*c,i-Math.cos(g)*v),g+=kh,e.lineTo(n+Math.sin(g)*c,i-Math.cos(g)*v),e.closePath();break;case"rectRounded":l=v-(u=.516*v),a=Math.cos(g+bh)*l,h=Math.cos(g+bh)*(r?r/2-u:l),s=Math.sin(g+bh)*l,d=Math.sin(g+bh)*(r?r/2-u:l),e.arc(n-h,i-s,u,g-ph,g-_h),e.arc(n+d,i-a,u,g-_h,g),e.arc(n+h,i+s,u,g,g+_h),e.arc(n-d,i+a,u,g+_h,g+ph),e.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*v,c=r?r/2:l,e.rect(n-c,i-l,2*c,2*l);break}g+=bh;case"rectRot":h=Math.cos(g)*(r?r/2:v),a=Math.cos(g)*v,s=Math.sin(g)*v,d=Math.sin(g)*(r?r/2:v),e.moveTo(n-h,i-s),e.lineTo(n+d,i-a),e.lineTo(n+h,i+s),e.lineTo(n-d,i+a),e.closePath();break;case"crossRot":g+=bh;case"cross":h=Math.cos(g)*(r?r/2:v),a=Math.cos(g)*v,s=Math.sin(g)*v,d=Math.sin(g)*(r?r/2:v),e.moveTo(n-h,i-s),e.lineTo(n+h,i+s),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"star":h=Math.cos(g)*(r?r/2:v),a=Math.cos(g)*v,s=Math.sin(g)*v,d=Math.sin(g)*(r?r/2:v),e.moveTo(n-h,i-s),e.lineTo(n+h,i+s),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a),g+=bh,h=Math.cos(g)*(r?r/2:v),a=Math.cos(g)*v,s=Math.sin(g)*v,d=Math.sin(g)*(r?r/2:v),e.moveTo(n-h,i-s),e.lineTo(n+h,i+s),e.moveTo(n+d,i-a),e.lineTo(n-d,i+a);break;case"line":a=r?r/2:Math.cos(g)*v,s=Math.sin(g)*v,e.moveTo(n-a,i-s),e.lineTo(n+a,i+s);break;case"dash":e.moveTo(n,i),e.lineTo(n+Math.cos(g)*(r?r/2:v),i+Math.sin(g)*v);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function kd(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Td(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Ed(e){e.restore()}function xd(e,t,n,i,r){if(!t)return e.lineTo(n.x,n.y);if("middle"===r){var o=(t.x+n.x)/2;e.lineTo(o,t.y),e.lineTo(o,n.y)}else"after"===r!==!!i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function wd(e,t,n,i){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function Sd(e,t,n,i,r){if(r.strikethrough||r.underline){var o=e.measureText(i),a=t-o.actualBoundingBoxLeft,s=t+o.actualBoundingBoxRight,l=n-o.actualBoundingBoxAscent,u=n+o.actualBoundingBoxDescent,c=r.strikethrough?(l+u)/2:u;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=r.decorationWidth||2,e.moveTo(a,c),e.lineTo(s,c),e.stroke()}}function Cd(e,t){var n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Id(e,t,n,i,r){var o,a,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},l=Wc(t)?t:[t],u=s.strokeWidth>0&&""!==s.strokeColor;for(e.save(),e.font=r.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),Vc(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,s),o=0;o<l.length;++o)a=l[o],s.backdrop&&Cd(e,s.backdrop),u&&(s.strokeColor&&(e.strokeStyle=s.strokeColor),Vc(s.strokeWidth)||(e.lineWidth=s.strokeWidth),e.strokeText(a,n,i,s.maxWidth)),e.fillText(a,n,i,s.maxWidth),Sd(e,n,i,a,s),i+=Number(r.lineHeight);e.restore()}function Rd(e,t){var n=t.x,i=t.y,r=t.w,o=t.h,a=t.radius;e.arc(n+a.topLeft,i+a.topLeft,a.topLeft,1.5*ph,ph,!0),e.lineTo(n,i+o-a.bottomLeft),e.arc(n+a.bottomLeft,i+o-a.bottomLeft,a.bottomLeft,ph,_h,!0),e.lineTo(n+r-a.bottomRight,i+o),e.arc(n+r-a.bottomRight,i+o-a.bottomRight,a.bottomRight,_h,0,!0),e.lineTo(n+r,i+a.topRight),e.arc(n+r-a.topRight,i+a.topRight,a.topRight,0,-_h,!0),e.lineTo(n+a.topLeft,i)}var Od=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ad=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Md(e,t){var n=(""+e).match(Od);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}var Ld=function(e){return+e||0};function Nd(e,t){var n,i={},r=Gc(t),o=r?Object.keys(t):t,s=Gc(e)?r?function(n){return Kc(e[n],e[t[n]])}:function(t){return e[t]}:function(){return e},l=a(o);try{for(l.s();!(n=l.n()).done;){var u=n.value;i[u]=Ld(s(u))}}catch(c){l.e(c)}finally{l.f()}return i}function $d(e){return Nd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Pd(e){return Nd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Dd(e){var t=$d(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Bd(e,t){e=e||{},t=t||pd.font;var n=Kc(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));var i=Kc(e.style,t.style);i&&!(""+i).match(Ad)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);var r={family:Kc(e.family,t.family),lineHeight:Md(Kc(e.lineHeight,t.lineHeight),n),size:n,style:i,weight:Kc(e.weight,t.weight),string:""};return r.string=function(e){return!e||Vc(e.size)||Vc(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(r),r}function Fd(e,t,n,i){var r,o,a,s=!0;for(r=0,o=e.length;r<o;++r)if(void 0!==(a=e[r])&&(void 0!==t&&"function"===typeof a&&(a=a(t),s=!1),void 0!==n&&Wc(a)&&(a=a[n%a.length],s=!1),void 0!==a))return i&&!s&&(i.cacheable=!1),a}function Ud(e,t){return Object.assign(Object.create(e),t)}function jd(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],i=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){return e[0]},o=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof i&&(i=Jd("_fallback",e));var l=(t={},(0,K.Z)(t,Symbol.toStringTag,"Object"),(0,K.Z)(t,"_cacheable",!0),(0,K.Z)(t,"_scopes",e),(0,K.Z)(t,"_rootScopes",o),(0,K.Z)(t,"_fallback",i),(0,K.Z)(t,"_getTarget",r),(0,K.Z)(t,"override",(function(t){return jd([t].concat((0,s.Z)(e)),n,o,i)})),t);return new Proxy(l,{deleteProperty:function(t,n){return delete t[n],delete t._keys,delete e[0][n],!0},get:function(t,i){return Wd(t,i,(function(){return function(e,t,n,i){var r,o,s=a(t);try{for(s.s();!(o=s.n()).done;){var l=o.value;if("undefined"!==typeof(r=Jd(zd(l,e),n)))return Vd(e,r)?Kd(n,i,e,r):r}}catch(u){s.e(u)}finally{s.f()}}(i,n,e,t)}))},getOwnPropertyDescriptor:function(e,t){return Reflect.getOwnPropertyDescriptor(e._scopes[0],t)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e[0])},has:function(e,t){return Qd(e).includes(t)},ownKeys:function(e){return Qd(e)},set:function(e,t,n){var i=e._storage||(e._storage=r());return e[t]=i[t]=n,delete e._keys,!0}})}function Zd(e,t,n,i){var r={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:Hd(e,i),setContext:function(t){return Zd(e,t,n,i)},override:function(r){return Zd(e.override(r),t,n,i)}};return new Proxy(r,{deleteProperty:function(t,n){return delete t[n],delete e[n],!0},get:function(e,t,n){return Wd(e,t,(function(){return function(e,t,n){var i=e._proxy,r=e._context,o=e._subProxy,s=e._descriptors,l=i[t];dh(l)&&s.isScriptable(t)&&(l=function(e,t,n,i){var r=n._proxy,o=n._context,a=n._subProxy,s=n._stack;if(s.has(e))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+e);s.add(e);var l=t(o,a||i);s.delete(e),Vd(e,l)&&(l=Kd(r._scopes,r,e,l));return l}(t,l,e,n));Wc(l)&&l.length&&(l=function(e,t,n,i){var r=n._proxy,o=n._context,s=n._subProxy,l=n._descriptors;if("undefined"!==typeof o.index&&i(e))return t[o.index%t.length];if(Gc(t[0])){var u=t,c=r._scopes.filter((function(e){return e!==u}));t=[];var h,d=a(u);try{for(d.s();!(h=d.n()).done;){var f=Kd(c,r,e,h.value);t.push(Zd(f,o,s&&s[e],l))}}catch(p){d.e(p)}finally{d.f()}}return t}(t,l,e,s.isIndexable));Vd(t,l)&&(l=Zd(l,r,o&&o[t],s));return l}(e,t,n)}))},getOwnPropertyDescriptor:function(t,n){return t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n)},getPrototypeOf:function(){return Reflect.getPrototypeOf(e)},has:function(t,n){return Reflect.has(e,n)},ownKeys:function(){return Reflect.ownKeys(e)},set:function(t,n,i){return e[n]=i,delete t[n],!0}})}function Hd(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0},n=e._scriptable,i=void 0===n?t.scriptable:n,r=e._indexable,o=void 0===r?t.indexable:r,a=e._allKeys;return{allKeys:void 0===a?t.allKeys:a,scriptable:i,indexable:o,isScriptable:dh(i)?i:function(){return i},isIndexable:dh(o)?o:function(){return o}}}var zd=function(e,t){return e?e+ch(t):t},Vd=function(e,t){return Gc(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object)};function Wd(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];var i=n();return e[t]=i,i}function Gd(e,t,n){return dh(e)?e(t,n):e}var Xd=function(e,t){return!0===e?t:"string"===typeof e?uh(t,e):void 0};function Yd(e,t,n,i,r){var o,s=a(t);try{for(s.s();!(o=s.n()).done;){var l=o.value,u=Xd(n,l);if(u){e.add(u);var c=Gd(u._fallback,n,r);if("undefined"!==typeof c&&c!==n&&c!==i)return c}else if(!1===u&&"undefined"!==typeof i&&n!==i)return null}}catch(h){s.e(h)}finally{s.f()}return!1}function Kd(e,t,n,i){var r=t._rootScopes,o=Gd(t._fallback,n,i),a=[].concat((0,s.Z)(e),(0,s.Z)(r)),l=new Set;l.add(i);var u=qd(l,a,n,o||n,i);return null!==u&&(("undefined"===typeof o||o===n||null!==(u=qd(l,a,o,u,i)))&&jd(Array.from(l),[""],r,o,(function(){return function(e,t,n){var i=e._getTarget();t in i||(i[t]={});var r=i[t];if(Wc(r)&&Gc(n))return n;return r||{}}(t,n,i)})))}function qd(e,t,n,i,r){for(;n;)n=Yd(e,t,n,i,r);return n}function Jd(e,t){var n,i=a(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r){var o=r[e];if("undefined"!==typeof o)return o}}}catch(s){i.e(s)}finally{i.f()}}function Qd(e){var t=e._keys;return t||(t=e._keys=function(e){var t,n=new Set,i=a(e);try{for(i.s();!(t=i.n()).done;){var r,o=t.value,s=a(Object.keys(o).filter((function(e){return!e.startsWith("_")})));try{for(s.s();!(r=s.n()).done;){var l=r.value;n.add(l)}}catch(u){s.e(u)}finally{s.f()}}}catch(u){i.e(u)}finally{i.f()}return Array.from(n)}(e._scopes)),t}function ef(e,t,n,i){var r,o,a,s,l=e.iScale,u=this._parsing.key,c=void 0===u?"r":u,h=new Array(i);for(r=0,o=i;r<o;++r)s=t[a=r+n],h[r]={r:l.parse(uh(s,c),a)};return h}var tf=Number.EPSILON||1e-14,nf=function(e,t){return t<e.length&&!e[t].skip&&e[t]},rf=function(e){return"x"===e?"y":"x"};function of(e,t,n,i){var r=e.skip?t:e,o=t,a=n.skip?t:n,s=Mh(o,r),l=Mh(a,o),u=s/(s+l),c=l/(s+l),h=i*(u=isNaN(u)?0:u),d=i*(c=isNaN(c)?0:c);return{previous:{x:o.x-h*(a.x-r.x),y:o.y-h*(a.y-r.y)},next:{x:o.x+d*(a.x-r.x),y:o.y+d*(a.y-r.y)}}}function af(e){var t,n,i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",o=rf(r),a=e.length,s=Array(a).fill(0),l=Array(a),u=nf(e,0);for(t=0;t<a;++t)if(n=i,i=u,u=nf(e,t+1),i){if(u){var c=u[r]-i[r];s[t]=0!==c?(u[o]-i[o])/c:0}l[t]=n?u?Eh(s[t-1])!==Eh(s[t])?0:(s[t-1]+s[t])/2:s[t-1]:s[t]}!function(e,t,n){for(var i,r,o,a,s,l=e.length,u=nf(e,0),c=0;c<l-1;++c)s=u,u=nf(e,c+1),s&&u&&(xh(t[c],0,tf)?n[c]=n[c+1]=0:(i=n[c]/t[c],r=n[c+1]/t[c],(a=Math.pow(i,2)+Math.pow(r,2))<=9||(o=3/Math.sqrt(a),n[c]=i*o*t[c],n[c+1]=r*o*t[c])))}(e,s,l),function(e,t){for(var n,i,r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x",a=rf(o),s=e.length,l=nf(e,0),u=0;u<s;++u)if(i=r,r=l,l=nf(e,u+1),r){var c=r[o],h=r[a];i&&(n=(c-i[o])/3,r["cp1".concat(o)]=c-n,r["cp1".concat(a)]=h-n*t[u]),l&&(n=(l[o]-c)/3,r["cp2".concat(o)]=c+n,r["cp2".concat(a)]=h+n*t[u])}}(e,l,r)}function sf(e,t,n){return Math.max(Math.min(e,n),t)}function lf(e,t,n,i,r){var o,a,s,l;if(t.spanGaps&&(e=e.filter((function(e){return!e.skip}))),"monotone"===t.cubicInterpolationMode)af(e,r);else{var u=i?e[e.length-1]:e[0];for(o=0,a=e.length;o<a;++o)l=of(u,s=e[o],e[Math.min(o+1,a-(i?0:1))%a],t.tension),s.cp1x=l.previous.x,s.cp1y=l.previous.y,s.cp2x=l.next.x,s.cp2y=l.next.y,u=s}t.capBezierPoints&&function(e,t){var n,i,r,o,a,s=kd(e[0],t);for(n=0,i=e.length;n<i;++n)a=o,o=s,s=n<i-1&&kd(e[n+1],t),o&&(r=e[n],a&&(r.cp1x=sf(r.cp1x,t.left,t.right),r.cp1y=sf(r.cp1y,t.top,t.bottom)),s&&(r.cp2x=sf(r.cp2x,t.left,t.right),r.cp2y=sf(r.cp2y,t.top,t.bottom)))}(e,n)}function uf(){return"undefined"!==typeof window&&"undefined"!==typeof document}function cf(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function hf(e,t,n){var i;return"string"===typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}var df=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};var ff=["top","right","bottom","left"];function pf(e,t,n){var i={};n=n?"-"+n:"";for(var r=0;r<4;r++){var o=ff[r];i[o]=parseFloat(e[t+"-"+o+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}var vf=function(e,t,n){return(e>0||t>0)&&(!n||!n.shadowRoot)};function gf(e,t){if("native"in e)return e;var n=t.canvas,i=t.currentDevicePixelRatio,r=df(n),o="border-box"===r.boxSizing,a=pf(r,"padding"),s=pf(r,"border","width"),l=function(e,t){var n,i,r=e.touches,o=r&&r.length?r[0]:e,a=o.offsetX,s=o.offsetY,l=!1;if(vf(a,s,e.target))n=a,i=s;else{var u=t.getBoundingClientRect();n=o.clientX-u.left,i=o.clientY-u.top,l=!0}return{x:n,y:i,box:l}}(e,n),u=l.x,c=l.y,h=l.box,d=a.left+(h&&s.left),f=a.top+(h&&s.top),p=t.width,v=t.height;return o&&(p-=a.width+s.width,v-=a.height+s.height),{x:Math.round((u-d)/p*n.width/i),y:Math.round((c-f)/v*n.height/i)}}var mf=function(e){return Math.round(10*e)/10};function yf(e,t,n,i){var r=df(e),o=pf(r,"margin"),a=hf(r.maxWidth,e,"clientWidth")||mh,s=hf(r.maxHeight,e,"clientHeight")||mh,l=function(e,t,n){var i,r;if(void 0===t||void 0===n){var o=e&&cf(e);if(o){var a=o.getBoundingClientRect(),s=df(o),l=pf(s,"border","width"),u=pf(s,"padding");t=a.width-u.width-l.width,n=a.height-u.height-l.height,i=hf(s.maxWidth,o,"clientWidth"),r=hf(s.maxHeight,o,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:i||mh,maxHeight:r||mh}}(e,t,n),u=l.width,c=l.height;if("content-box"===r.boxSizing){var h=pf(r,"border","width"),d=pf(r,"padding");u-=d.width+h.width,c-=d.height+h.height}return u=Math.max(0,u-o.width),c=Math.max(0,i?u/i:c-o.height),u=mf(Math.min(u,a,l.maxWidth)),c=mf(Math.min(c,s,l.maxHeight)),u&&!c&&(c=mf(u/2)),(void 0!==t||void 0!==n)&&i&&l.height&&c>l.height&&(c=l.height,u=mf(Math.floor(c*i))),{width:u,height:c}}function _f(e,t,n){var i=t||1,r=Math.floor(e.height*i),o=Math.floor(e.width*i);e.height=Math.floor(e.height),e.width=Math.floor(e.width);var a=e.canvas;return a.style&&(n||!a.style.height&&!a.style.width)&&(a.style.height="".concat(e.height,"px"),a.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==i||a.height!==r||a.width!==o)&&(e.currentDevicePixelRatio=i,a.height=r,a.width=o,e.ctx.setTransform(i,0,0,i,0,0),!0)}var bf=function(){var e=!1;try{var t={get passive(){return e=!0,!1}};uf()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(n){}return e}();function kf(e,t){var n=function(e,t){return df(e).getPropertyValue(t)}(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Tf(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Ef(e,t,n,i){return{x:e.x+n*(t.x-e.x),y:"middle"===i?n<.5?e.y:t.y:"after"===i?n<1?e.y:t.y:n>0?t.y:e.y}}function xf(e,t,n,i){var r={x:e.cp2x,y:e.cp2y},o={x:t.cp1x,y:t.cp1y},a=Tf(e,r,n),s=Tf(r,o,n),l=Tf(o,t,n),u=Tf(a,s,n),c=Tf(s,l,n);return Tf(u,c,n)}function wf(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}}function Sf(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)}function Cf(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function If(e){return"angle"===e?{between:$h,compare:Lh,normalize:Nh}:{between:Dh,compare:function(e,t){return e-t},normalize:function(e){return e}}}function Rf(e){var t=e.start,n=e.end,i=e.count;return{start:t%i,end:n%i,loop:e.loop&&(n-t+1)%i===0,style:e.style}}function Of(e,t,n){if(!n)return[e];for(var i,r,o,a=n.property,s=n.start,l=n.end,u=t.length,c=If(a),h=c.compare,d=c.between,f=c.normalize,p=function(e,t,n){var i,r,o=n.property,a=n.start,s=n.end,l=If(o),u=l.between,c=l.normalize,h=t.length,d=e.start,f=e.end,p=e.loop;if(p){for(d+=h,f+=h,i=0,r=h;i<r&&u(c(t[d%h][o]),a,s);++i)d--,f--;d%=h,f%=h}return f<d&&(f+=h),{start:d,end:f,loop:p,style:e.style}}(e,t,n),v=p.start,g=p.end,m=p.loop,y=p.style,_=[],b=!1,k=null,T=function(){return b||d(s,o,i)&&0!==h(s,o)},E=function(){return!b||0===h(l,i)||d(l,o,i)},x=v,w=v;x<=g;++x)(r=t[x%u]).skip||(i=f(r[a]))!==o&&(b=d(i,s,l),null===k&&T()&&(k=0===h(i,s)?x:w),null!==k&&E()&&(_.push(Rf({start:k,end:x,loop:m,count:u,style:y})),k=null),w=x,o=i);return null!==k&&_.push(Rf({start:k,end:g,loop:m,count:u,style:y})),_}function Af(e,t){for(var n=[],i=e.segments,r=0;r<i.length;r++){var o=Of(i[r],e.points,t);o.length&&n.push.apply(n,(0,s.Z)(o))}return n}function Mf(e,t,n,i){return i&&i.setContext&&n?function(e,t,n,i){var r=e._chart.getContext(),o=Lf(e.options),s=e._datasetIndex,l=e.options.spanGaps,u=n.length,c=[],h=o,d=t[0].start,f=d;function p(e,t,i,r){var o=l?-1:1;if(e!==t){for(e+=u;n[e%u].skip;)e-=o;for(;n[t%u].skip;)t+=o;e%u!==t%u&&(c.push({start:e%u,end:t%u,loop:i,style:r}),h=r,d=t%u)}}var v,g=a(t);try{for(g.s();!(v=g.n()).done;){var m=v.value;d=l?d:m.start;var y=n[d%u],_=void 0;for(f=d+1;f<=m.end;f++){var b=n[f%u];Nf(_=Lf(i.setContext(Ud(r,{type:"segment",p0:y,p1:b,p0DataIndex:(f-1)%u,p1DataIndex:f%u,datasetIndex:s}))),h)&&p(d,f-1,m.loop,h),y=b,h=_}d<f-1&&p(d,f-1,m.loop,h)}}catch(k){g.e(k)}finally{g.f()}return c}(e,t,n,i):t}function Lf(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Nf(e,t){if(!t)return!1;var n=[],i=function(e,t){return ed(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,i)!==JSON.stringify(t,i)}var $f=function(){function e(){(0,Sr.Z)(this,e),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}return(0,Cr.Z)(e,[{key:"_notify",value:function(e,t,n,i){var r=t.listeners[i],o=t.duration;r.forEach((function(i){return i({chart:e,initial:t.initial,numSteps:o,currentStep:Math.min(n-t.start,o)})}))}},{key:"_refresh",value:function(){var e=this;this._request||(this._running=!0,this._request=zh.call(window,(function(){e._update(),e._request=null,e._running&&e._refresh()})))}},{key:"_update",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),n=0;this._charts.forEach((function(i,r){if(i.running&&i.items.length){for(var o,a=i.items,s=a.length-1,l=!1;s>=0;--s)(o=a[s])._active?(o._total>i.duration&&(i.duration=o._total),o.tick(t),l=!0):(a[s]=a[a.length-1],a.pop());l&&(r.draw(),e._notify(r,i,t,"progress")),a.length||(i.running=!1,e._notify(r,i,t,"complete"),i.initial=!1),n+=a.length}})),this._lastDate=t,0===n&&(this._running=!1)}},{key:"_getAnims",value:function(e){var t=this._charts,n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}},{key:"listen",value:function(e,t,n){this._getAnims(e).listeners[t].push(n)}},{key:"add",value:function(e,t){var n;t&&t.length&&(n=this._getAnims(e).items).push.apply(n,(0,s.Z)(t))}},{key:"has",value:function(e){return this._getAnims(e).items.length>0}},{key:"start",value:function(e){var t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((function(e,t){return Math.max(e,t._duration)}),0),this._refresh())}},{key:"running",value:function(e){if(!this._running)return!1;var t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}},{key:"stop",value:function(e){var t=this._charts.get(e);if(t&&t.items.length){for(var n=t.items,i=n.length-1;i>=0;--i)n[i].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}}},{key:"remove",value:function(e){return this._charts.delete(e)}}]),e}(),Pf=new $f,Df="transparent",Bf={boolean:function(e,t,n){return n>.5?t:e},color:function(e,t,n){var i=td(e||Df),r=i.valid&&td(t||Df);return r&&r.valid?r.mix(i,n).hexString():t},number:function(e,t,n){return e+(t-e)*n}},Ff=function(){function e(t,n,i,r){(0,Sr.Z)(this,e);var o=n[i];r=Fd([t.to,r,o,t.from]);var a=Fd([t.from,o,r]);this._active=!0,this._fn=t.fn||Bf[t.type||typeof a],this._easing=Qh[t.easing]||Qh.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=n,this._prop=i,this._from=a,this._to=r,this._promises=void 0}return(0,Cr.Z)(e,[{key:"active",value:function(){return this._active}},{key:"update",value:function(e,t,n){if(this._active){this._notify(!1);var i=this._target[this._prop],r=n-this._start,o=this._duration-r;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=r,this._loop=!!e.loop,this._to=Fd([e.to,t,i,e.from]),this._from=Fd([e.from,i,t])}}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(e){var t,n=e-this._start,i=this._duration,r=this._prop,o=this._from,a=this._loop,s=this._to;if(this._active=o!==s&&(a||n<i),!this._active)return this._target[r]=s,void this._notify(!0);n<0?this._target[r]=o:(t=n/i%2,t=a&&t>1?2-t:t,t=this._easing(Math.min(1,Math.max(0,t))),this._target[r]=this._fn(o,s,t))}},{key:"wait",value:function(){var e=this._promises||(this._promises=[]);return new Promise((function(t,n){e.push({res:t,rej:n})}))}},{key:"_notify",value:function(e){for(var t=e?"res":"rej",n=this._promises||[],i=0;i<n.length;i++)n[i][t]()}}]),e}(),Uf=function(){function e(t,n){(0,Sr.Z)(this,e),this._chart=t,this._properties=new Map,this.configure(n)}return(0,Cr.Z)(e,[{key:"configure",value:function(e){if(Gc(e)){var t=Object.keys(pd.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach((function(i){var r=e[i];if(Gc(r)){for(var o={},a=0,s=t;a<s.length;a++){var l=s[a];o[l]=r[l]}(Wc(r.properties)&&r.properties||[i]).forEach((function(e){e!==i&&n.has(e)||n.set(e,o)}))}}))}}},{key:"_animateOptions",value:function(e,t){var n=t.options,i=function(e,t){if(!t)return;var n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!i)return[];var r=this._createAnimations(i,n);return n.$shared&&function(e,t){for(var n=[],i=Object.keys(t),r=0;r<i.length;r++){var o=e[i[r]];o&&o.active()&&n.push(o.wait())}return Promise.all(n)}(e.options.$animations,n).then((function(){e.options=n}),(function(){})),r}},{key:"_createAnimations",value:function(e,t){var n,i=this._properties,r=[],o=e.$animations||(e.$animations={}),a=Object.keys(t),l=Date.now();for(n=a.length-1;n>=0;--n){var u=a[n];if("$"!==u.charAt(0))if("options"!==u){var c=t[u],h=o[u],d=i.get(u);if(h){if(d&&h.active()){h.update(d,c,l);continue}h.cancel()}d&&d.duration?(o[u]=h=new Ff(d,e,u,c),r.push(h)):e[u]=c}else r.push.apply(r,(0,s.Z)(this._animateOptions(e,t)))}return r}},{key:"update",value:function(e,t){if(0!==this._properties.size){var n=this._createAnimations(e,t);return n.length?(Pf.add(this._chart,n),!0):void 0}Object.assign(e,t)}}]),e}();function jf(e,t){var n=e&&e.options||{},i=n.reverse,r=void 0===n.min?t:0,o=void 0===n.max?t:0;return{start:i?o:r,end:i?r:o}}function Zf(e,t){var n,i,r=[],o=e._getSortedDatasetMetas(t);for(n=0,i=o.length;n<i;++n)r.push(o[n].index);return r}function Hf(e,t,n){var i,r,o,a,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=e.keys,u="single"===s.mode;if(null!==t){var c=!1;for(i=0,r=l.length;i<r;++i){if((o=+l[i])===n){if(c=!0,s.all)continue;break}Xc(a=e.values[o])&&(u||0===t||Eh(t)===Eh(a))&&(t+=a)}return c||s.all?t:0}}function zf(e,t){var n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function Vf(e,t,n){var i=e[t]||(e[t]={});return i[n]||(i[n]={})}function Wf(e,t,n,i){var r,o=a(t.getMatchingVisibleMetas(i).reverse());try{for(o.s();!(r=o.n()).done;){var s=r.value,l=e[s.index];if(n&&l>0||!n&&l<0)return s.index}}catch(u){o.e(u)}finally{o.f()}return null}function Gf(e,t){for(var n,i=e.chart,r=e._cachedMeta,o=i._stacks||(i._stacks={}),a=r.iScale,s=r.vScale,l=r.index,u=a.axis,c=s.axis,h=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,s,r),d=t.length,f=0;f<d;++f){var p=t[f],v=p[u],g=p[c];(n=(p._stacks||(p._stacks={}))[c]=Vf(o,h,v))[l]=g,n._top=Wf(n,s,!0,r.type),n._bottom=Wf(n,s,!1,r.type),(n._visualValues||(n._visualValues={}))[l]=g}}function Xf(e,t){var n=e.scales;return Object.keys(n).filter((function(e){return n[e].axis===t})).shift()}function Yf(e,t){var n=e.controller.index,i=e.vScale&&e.vScale.axis;if(i){var r,o=a(t=t||e._parsed);try{for(o.s();!(r=o.n()).done;){var s=r.value._stacks;if(!s||void 0===s[i]||void 0===s[i][n])return;delete s[i][n],void 0!==s[i]._visualValues&&void 0!==s[i]._visualValues[n]&&delete s[i]._visualValues[n]}}catch(l){o.e(l)}finally{o.f()}}}var Kf=function(e){return"reset"===e||"none"===e},qf=function(e,t){return t?e:Object.assign({},e)},Jf=function(){function e(t,n){(0,Sr.Z)(this,e),this.chart=t,this._ctx=t.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=(this instanceof e?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof e?this.constructor:void 0).dataElementType,this.initialize()}return(0,Cr.Z)(e,[{key:"initialize",value:function(){var e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=zf(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(e){this.index!==e&&Yf(this._cachedMeta),this.index=e}},{key:"linkScales",value:function(){var e=this.chart,t=this._cachedMeta,n=this.getDataset(),i=function(e,t,n,i){return"x"===e?t:"r"===e?i:n},r=t.xAxisID=Kc(n.xAxisID,Xf(e,"x")),o=t.yAxisID=Kc(n.yAxisID,Xf(e,"y")),a=t.rAxisID=Kc(n.rAxisID,Xf(e,"r")),s=t.indexAxis,l=t.iAxisID=i(s,r,o,a),u=t.vAxisID=i(s,o,r,a);t.xScale=this.getScaleForId(r),t.yScale=this.getScaleForId(o),t.rScale=this.getScaleForId(a),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(u)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(e){return this.chart.scales[e]}},{key:"_getOtherScale",value:function(e){var t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var e=this._cachedMeta;this._data&&Zh(this._data,this),e._stacked&&Yf(e)}},{key:"_dataCheck",value:function(){var e,t,n=this.getDataset(),i=n.data||(n.data=[]),r=this._data;if(Gc(i)){var o=this._cachedMeta;this._data=function(e,t){var n,i,r,o=t.iScale,a=t.vScale,s="x"===o.axis?"x":"y",l="x"===a.axis?"x":"y",u=Object.keys(e),c=new Array(u.length);for(n=0,i=u.length;n<i;++n){var h;r=u[n],c[n]=(h={},(0,K.Z)(h,s,r),(0,K.Z)(h,l,e[r]),h)}return c}(i,o)}else if(r!==i){if(r){Zh(r,this);var a=this._cachedMeta;Yf(a),a._parsed=[]}i&&Object.isExtensible(i)&&(t=this,(e=i)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),jh.forEach((function(t){var n="_onData"+ch(t),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];var a=i.apply(this,r);return e._chartjs.listeners.forEach((function(e){"function"===typeof e[n]&&e[n].apply(e,r)})),a}})})))),this._syncList=[],this._data=i}}},{key:"addElements",value:function(){var e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(e){var t=this._cachedMeta,n=this.getDataset(),i=!1;this._dataCheck();var r=t._stacked;t._stacked=zf(t.vScale,t),t.stack!==n.stack&&(i=!0,Yf(t),t.stack=n.stack),this._resyncElements(e),(i||r!==t._stacked)&&(Gf(this,t._parsed),t._stacked=zf(t.vScale,t))}},{key:"configure",value:function(){var e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(e,t){var n,i,r,o=this._cachedMeta,a=this._data,s=o.iScale,l=o._stacked,u=s.axis,c=0===e&&t===a.length||o._sorted,h=e>0&&o._parsed[e-1];if(!1===this._parsing)o._parsed=a,o._sorted=!0,r=a;else{r=Wc(a[e])?this.parseArrayData(o,a,e,t):Gc(a[e])?this.parseObjectData(o,a,e,t):this.parsePrimitiveData(o,a,e,t);for(n=0;n<t;++n)o._parsed[n+e]=i=r[n],c&&((null===i[u]||h&&i[u]<h[u])&&(c=!1),h=i);o._sorted=c}l&&Gf(this,r)}},{key:"parsePrimitiveData",value:function(e,t,n,i){var r,o,a,s=e.iScale,l=e.vScale,u=s.axis,c=l.axis,h=s.getLabels(),d=s===l,f=new Array(i);for(r=0,o=i;r<o;++r){var p;a=r+n,f[r]=(p={},(0,K.Z)(p,u,d||s.parse(h[a],a)),(0,K.Z)(p,c,l.parse(t[a],a)),p)}return f}},{key:"parseArrayData",value:function(e,t,n,i){var r,o,a,s,l=e.xScale,u=e.yScale,c=new Array(i);for(r=0,o=i;r<o;++r)s=t[a=r+n],c[r]={x:l.parse(s[0],a),y:u.parse(s[1],a)};return c}},{key:"parseObjectData",value:function(e,t,n,i){var r,o,a,s,l=e.xScale,u=e.yScale,c=this._parsing,h=c.xAxisKey,d=void 0===h?"x":h,f=c.yAxisKey,p=void 0===f?"y":f,v=new Array(i);for(r=0,o=i;r<o;++r)s=t[a=r+n],v[r]={x:l.parse(uh(s,d),a),y:u.parse(uh(s,p),a)};return v}},{key:"getParsed",value:function(e){return this._cachedMeta._parsed[e]}},{key:"getDataElement",value:function(e){return this._cachedMeta.data[e]}},{key:"applyStack",value:function(e,t,n){var i=this.chart,r=this._cachedMeta,o=t[e.axis];return Hf({keys:Zf(i,!0),values:t._stacks[e.axis]._visualValues},o,r.index,{mode:n})}},{key:"updateRangeFromParsed",value:function(e,t,n,i){var r=n[t.axis],o=null===r?NaN:r,a=i&&n._stacks[t.axis];i&&a&&(i.values=a,o=Hf(i,r,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}},{key:"getMinMax",value:function(e,t){var n,i,r=this._cachedMeta,o=r._parsed,a=r._sorted&&e===r.iScale,s=o.length,l=this._getOtherScale(e),u=function(e,t,n){return e&&!t.hidden&&t._stacked&&{keys:Zf(n,!0),values:null}}(t,r,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},h=function(e){var t=e.getUserBounds(),n=t.min,i=t.max,r=t.minDefined,o=t.maxDefined;return{min:r?n:Number.NEGATIVE_INFINITY,max:o?i:Number.POSITIVE_INFINITY}}(l),d=h.min,f=h.max;function p(){var t=(i=o[n])[l.axis];return!Xc(i[e.axis])||d>t||f<t}for(n=0;n<s&&(p()||(this.updateRangeFromParsed(c,e,i,u),!a));++n);if(a)for(n=s-1;n>=0;--n)if(!p()){this.updateRangeFromParsed(c,e,i,u);break}return c}},{key:"getAllParsedValues",value:function(e){var t,n,i,r=this._cachedMeta._parsed,o=[];for(t=0,n=r.length;t<n;++t)Xc(i=r[t][e.axis])&&o.push(i);return o}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e);return{label:n?""+n.getLabelForValue(r[n.axis]):"",value:i?""+i.getLabelForValue(r[i.axis]):""}}},{key:"_update",value:function(e){var t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){var t,n,i,r;return Gc(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r,disabled:!1===e}}(Kc(this.options.clip,function(e,t,n){if(!1===n)return!1;var i=jf(e,n),r=jf(t,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}},{key:"update",value:function(e){}},{key:"draw",value:function(){var e,t=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],o=n.chartArea,a=[],s=this._drawStart||0,l=this._drawCount||r.length-s,u=this.options.drawActiveElementsOnTop;for(i.dataset&&i.dataset.draw(t,o,s,l),e=s;e<s+l;++e){var c=r[e];c.hidden||(c.active&&u?a.push(c):c.draw(t,o))}for(e=0;e<a.length;++e)a[e].draw(t,o)}},{key:"getStyle",value:function(e,t){var n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}},{key:"getContext",value:function(e,t,n){var i,r=this.getDataset();if(e>=0&&e<this._cachedMeta.data.length){var o=this._cachedMeta.data[e];i=o.$context||(o.$context=function(e,t,n){return Ud(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=r.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=function(e,t){return Ud(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!t,i.mode=n,i}},{key:"resolveDatasetElementOptions",value:function(e){return this._resolveElementOptions(this.datasetElementType.id,e)}},{key:"resolveDataElementOptions",value:function(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}},{key:"_resolveElementOptions",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",i=arguments.length>2?arguments[2]:void 0,r="active"===n,o=this._cachedDataOpts,a=e+"-"+n,s=o[a],l=this.enableOptionSharing&&hh(i);if(s)return qf(s,l);var u=this.chart.config,c=u.datasetElementScopeKeys(this._type,e),h=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],d=u.getOptionScopes(this.getDataset(),c),f=Object.keys(pd.elements[e]),p=u.resolveNamedOptions(d,f,(function(){return t.getContext(i,r,n)}),h);return p.$shared&&(p.$shared=l,o[a]=Object.freeze(qf(p,l))),p}},{key:"_resolveAnimations",value:function(e,t,n){var i,r=this.chart,o=this._cachedDataOpts,a="animation-".concat(t),s=o[a];if(s)return s;if(!1!==r.options.animation){var l=this.chart.config,u=l.datasetAnimationScopeKeys(this._type,t),c=l.getOptionScopes(this.getDataset(),u);i=l.createResolver(c,this.getContext(e,n,t))}var h=new Uf(r,i&&i.animations);return i&&i._cacheable&&(o[a]=Object.freeze(h)),h}},{key:"getSharedOptions",value:function(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}},{key:"includeOptions",value:function(e,t){return!t||Kf(e)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(e,t){var n=this.resolveDataElementOptions(e,t),i=this._sharedOptions,r=this.getSharedOptions(n),o=this.includeOptions(t,r)||r!==i;return this.updateSharedOptions(r,t,n),{sharedOptions:r,includeOptions:o}}},{key:"updateElement",value:function(e,t,n,i){Kf(i)?Object.assign(e,n):this._resolveAnimations(t,i).update(e,n)}},{key:"updateSharedOptions",value:function(e,t,n){e&&!Kf(t)&&this._resolveAnimations(void 0,t).update(e,n)}},{key:"_setStyle",value:function(e,t,n,i){e.active=i;var r=this.getStyle(t,i);this._resolveAnimations(t,n,i).update(e,{options:!i&&this.getSharedOptions(r)||r})}},{key:"removeHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!1)}},{key:"setHoverStyle",value:function(e,t,n){this._setStyle(e,n,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}},{key:"_resyncElements",value:function(e){var t,n=this._data,i=this._cachedMeta.data,r=a(this._syncList);try{for(r.s();!(t=r.n()).done;){var o=(0,d.Z)(t.value,3),s=o[0],l=o[1],u=o[2];this[s](l,u)}}catch(p){r.e(p)}finally{r.f()}this._syncList=[];var c=i.length,h=n.length,f=Math.min(h,c);f&&this.parse(0,f),h>c?this._insertElements(c,h-c,e):h<c&&this._removeElements(h,c-h)}},{key:"_insertElements",value:function(e,t){var n,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=this._cachedMeta,o=r.data,a=e+t,s=function(e){for(e.length+=t,n=e.length-1;n>=a;n--)e[n]=e[n-t]};for(s(o),n=e;n<a;++n)o[n]=new this.dataElementType;this._parsing&&s(r._parsed),this.parse(e,t),i&&this.updateElements(o,e,t,"reset")}},{key:"updateElements",value:function(e,t,n,i){}},{key:"_removeElements",value:function(e,t){var n=this._cachedMeta;if(this._parsing){var i=n._parsed.splice(e,t);n._stacked&&Yf(n,i)}n.data.splice(e,t)}},{key:"_sync",value:function(e){if(this._parsing)this._syncList.push(e);else{var t=(0,d.Z)(e,3),n=t[0],i=t[1],r=t[2];this[n](i,r)}this.chart._dataChanges.push([this.index].concat((0,s.Z)(e)))}},{key:"_onDataPush",value:function(){var e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(e,t){t&&this._sync(["_removeElements",e,t]);var n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),e}();function Qf(e){var t,n,i,r,o=e.iScale,a=function(e,t){if(!e._cache.$bar){for(var n=e.getMatchingVisibleMetas(t),i=[],r=0,o=n.length;r<o;r++)i=i.concat(n[r].controller.getAllParsedValues(e));e._cache.$bar=Hh(i.sort((function(e,t){return e-t})))}return e._cache.$bar}(o,e.type),s=o._length,l=function(){32767!==i&&-32768!==i&&(hh(r)&&(s=Math.min(s,Math.abs(i-r)||s)),r=i)};for(t=0,n=a.length;t<n;++t)i=o.getPixelForValue(a[t]),l();for(r=void 0,t=0,n=o.ticks.length;t<n;++t)i=o.getPixelForTick(t),l();return s}function ep(e,t,n,i){return Wc(e)?function(e,t,n,i){var r=n.parse(e[0],i),o=n.parse(e[1],i),a=Math.min(r,o),s=Math.max(r,o),l=a,u=s;Math.abs(a)>Math.abs(s)&&(l=s,u=a),t[n.axis]=u,t._custom={barStart:l,barEnd:u,start:r,end:o,min:a,max:s}}(e,t,n,i):t[n.axis]=n.parse(e,i),t}function tp(e,t,n,i){var r,o,a,s,l=e.iScale,u=e.vScale,c=l.getLabels(),h=l===u,d=[];for(r=n,o=n+i;r<o;++r)s=t[r],(a={})[l.axis]=h||l.parse(c[r],r),d.push(ep(s,a,u,r));return d}function np(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function ip(e,t,n,i){var r=t.borderSkipped,o={};if(r)if(!0!==r){var a=function(e){var t,n,i,r,o;return e.horizontal?(t=e.base>e.x,n="left",i="right"):(t=e.base<e.y,n="bottom",i="top"),t?(r="end",o="start"):(r="start",o="end"),{start:n,end:i,reverse:t,top:r,bottom:o}}(e),s=a.start,l=a.end,u=a.reverse,c=a.top,h=a.bottom;"middle"===r&&n&&(e.enableBorderRadius=!0,(n._top||0)===i?r=c:(n._bottom||0)===i?r=h:(o[rp(h,s,l,u)]=!0,r=c)),o[rp(r,s,l,u)]=!0,e.borderSkipped=o}else e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};else e.borderSkipped=o}function rp(e,t,n,i){var r,o,a;return i?(a=n,e=op(e=(r=e)===(o=t)?a:r===a?o:r,n,t)):e=op(e,t,n),e}function op(e,t,n){return"start"===e?t:"end"===e?n:e}function ap(e,t,n){var i=t.inflateAmount;e.inflateAmount="auto"===i?1===n?.33:0:i}(0,K.Z)(Jf,"defaults",{}),(0,K.Z)(Jf,"datasetElementType",null),(0,K.Z)(Jf,"dataElementType",null);var sp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"parsePrimitiveData",value:function(e,t,n,i){return tp(e,t,n,i)}},{key:"parseArrayData",value:function(e,t,n,i){return tp(e,t,n,i)}},{key:"parseObjectData",value:function(e,t,n,i){var r,o,a,s,l=e.iScale,u=e.vScale,c=this._parsing,h=c.xAxisKey,d=void 0===h?"x":h,f=c.yAxisKey,p=void 0===f?"y":f,v="x"===l.axis?d:p,g="x"===u.axis?d:p,m=[];for(r=n,o=n+i;r<o;++r)s=t[r],(a={})[l.axis]=l.parse(uh(s,v),r),m.push(ep(uh(s,g),a,u,r));return m}},{key:"updateRangeFromParsed",value:function(e,t,i,r){oc(rc(n.prototype),"updateRangeFromParsed",this).call(this,e,t,i,r);var o=i._custom;o&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=t.iScale,i=t.vScale,r=this.getParsed(e),o=r._custom,a=np(o)?"["+o.start+", "+o.end+"]":""+i.getLabelForValue(r[i.axis]);return{label:""+n.getLabelForValue(r[n.axis]),value:a}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,oc(rc(n.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(e){var t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this.index,a=this._cachedMeta.vScale,s=a.getBasePixel(),l=a.isHorizontal(),u=this._getRuler(),c=this._getSharedOptions(t,i),h=c.sharedOptions,d=c.includeOptions,f=t;f<t+n;f++){var p=this.getParsed(f),v=r||Vc(p[a.axis])?{base:s,head:s}:this._calculateBarValuePixels(f),g=this._calculateBarIndexPixels(f,u),m=(p._stacks||{})[a.axis],y={horizontal:l,base:v.base,enableBorderRadius:!m||np(p._custom)||o===m._top||o===m._bottom,x:l?v.head:g.center,y:l?g.center:v.head,height:l?g.size:Math.abs(v.size),width:l?Math.abs(v.size):g.size};d&&(y.options=h||this.resolveDataElementOptions(f,e[f].active?"active":i));var _=y.options||e[f].options;ip(y,_,m,o),ap(y,_,u.ratio),this.updateElement(e[f],f,y,i)}}},{key:"_getStacks",value:function(e,t){var n,i=this._cachedMeta.iScale,r=i.getMatchingVisibleMetas(this._type).filter((function(e){return e.controller.options.grouped})),o=i.options.stacked,s=[],l=this._cachedMeta.controller.getParsed(t),u=l&&l[i.axis],c=function(e){var t=e._parsed.find((function(e){return e[i.axis]===u})),n=t&&t[e.vScale.axis];if(Vc(n)||isNaN(n))return!0},h=a(r);try{for(h.s();!(n=h.n()).done;){var d=n.value;if((void 0===t||!c(d))&&((!1===o||-1===s.indexOf(d.stack)||void 0===o&&void 0===d.stack)&&s.push(d.stack),d.index===e))break}}catch(f){h.e(f)}finally{h.f()}return s.length||s.push(void 0),s}},{key:"_getStackCount",value:function(e){return this._getStacks(void 0,e).length}},{key:"_getStackIndex",value:function(e,t,n){var i=this._getStacks(e,n),r=void 0!==t?i.indexOf(t):-1;return-1===r?i.length-1:r}},{key:"_getRuler",value:function(){var e,t,n=this.options,i=this._cachedMeta,r=i.iScale,o=[];for(e=0,t=i.data.length;e<t;++e)o.push(r.getPixelForValue(this.getParsed(e)[r.axis],e));var a=n.barThickness;return{min:a||Qf(i),pixels:o,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:n.grouped,ratio:a?1:n.categoryPercentage*n.barPercentage}}},{key:"_calculateBarValuePixels",value:function(e){var t,n,i=this._cachedMeta,r=i.vScale,o=i._stacked,a=i.index,s=this.options,l=s.base,u=s.minBarLength,c=l||0,h=this.getParsed(e),d=h._custom,f=np(d),p=h[r.axis],v=0,g=o?this.applyStack(r,h,o):p;g!==p&&(v=g-p,g=p),f&&(p=d.barStart,g=d.barEnd-d.barStart,0!==p&&Eh(p)!==Eh(d.barEnd)&&(v=0),v+=p);var m=Vc(l)||f?v:l,y=r.getPixelForValue(m);if(n=(t=this.chart.getDataVisibility(e)?r.getPixelForValue(v+g):y)-y,Math.abs(n)<u){n=function(e,t,n){return 0!==e?Eh(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(n,r,c)*u,p===c&&(y-=n/2);var _=r.getPixelForDecimal(0),b=r.getPixelForDecimal(1),k=Math.min(_,b),T=Math.max(_,b);t=(y=Math.max(Math.min(y,T),k))+n,o&&!f&&(h._stacks[r.axis]._visualValues[a]=r.getValueForPixel(t)-r.getValueForPixel(y))}if(y===r.getPixelForValue(c)){var E=Eh(n)*r.getLineWidthForValue(c)/2;y+=E,n-=E}return{size:n,base:y,head:t,center:t+n/2}}},{key:"_calculateBarIndexPixels",value:function(e,t){var n,i,r=t.scale,o=this.options,a=o.skipNull,s=Kc(o.maxBarThickness,1/0);if(t.grouped){var l=a?this._getStackCount(e):t.stackCount,u="flex"===o.barThickness?function(e,t,n,i){var r=t.pixels,o=r[e],a=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;null===a&&(a=o-(null===s?t.end-t.start:s-o)),null===s&&(s=o+o-a);var u=o-(o-Math.min(a,s))/2*l;return{chunk:Math.abs(s-a)/2*l/i,ratio:n.barPercentage,start:u}}(e,t,o,l):function(e,t,n,i){var r,o,a=n.barThickness;return Vc(a)?(r=t.min*n.categoryPercentage,o=n.barPercentage):(r=a*i,o=1),{chunk:r/i,ratio:o,start:t.pixels[e]-r/2}}(e,t,o,l),c=this._getStackIndex(this.index,this._cachedMeta.stack,a?e:void 0);n=u.start+u.chunk*c+u.chunk/2,i=Math.min(s,u.chunk*u.ratio)}else n=r.getPixelForValue(this.getParsed(e)[r.axis],e),i=Math.min(s,t.min*t.ratio);return{base:n-i/2,head:n+i/2,center:n,size:i}}},{key:"draw",value:function(){for(var e=this._cachedMeta,t=e.vScale,n=e.data,i=n.length,r=0;r<i;++r)null===this.getParsed(r)[t.axis]||n[r].hidden||n[r].draw(this._ctx)}}]),n}(Jf);(0,K.Z)(sp,"id","bar"),(0,K.Z)(sp,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,K.Z)(sp,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});var lp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,oc(rc(n.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(e,t,i,r){for(var o=oc(rc(n.prototype),"parsePrimitiveData",this).call(this,e,t,i,r),a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+i).radius;return o}},{key:"parseArrayData",value:function(e,t,i,r){for(var o=oc(rc(n.prototype),"parseArrayData",this).call(this,e,t,i,r),a=0;a<o.length;a++){var s=t[i+a];o[a]._custom=Kc(s[2],this.resolveDataElementOptions(a+i).radius)}return o}},{key:"parseObjectData",value:function(e,t,i,r){for(var o=oc(rc(n.prototype),"parseObjectData",this).call(this,e,t,i,r),a=0;a<o.length;a++){var s=t[i+a];o[a]._custom=Kc(s&&s.r&&+s.r,this.resolveDataElementOptions(a+i).radius)}return o}},{key:"getMaxOverflow",value:function(){for(var e=this._cachedMeta.data,t=0,n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],i=t.xScale,r=t.yScale,o=this.getParsed(e),a=i.getLabelForValue(o.x),s=r.getLabelForValue(o.y),l=o._custom;return{label:n[e]||"",value:"("+a+", "+s+(l?", "+l:"")+")"}}},{key:"update",value:function(e){var t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this._cachedMeta,a=o.iScale,s=o.vScale,l=this._getSharedOptions(t,i),u=l.sharedOptions,c=l.includeOptions,h=a.axis,d=s.axis,f=t;f<t+n;f++){var p=e[f],v=!r&&this.getParsed(f),g={},m=g[h]=r?a.getPixelForDecimal(.5):a.getPixelForValue(v[h]),y=g[d]=r?s.getBasePixel():s.getPixelForValue(v[d]);g.skip=isNaN(m)||isNaN(y),c&&(g.options=u||this.resolveDataElementOptions(f,p.active?"active":i),r&&(g.options.radius=0)),this.updateElement(p,f,g,i)}}},{key:"resolveDataElementOptions",value:function(e,t){var i=this.getParsed(e),r=oc(rc(n.prototype),"resolveDataElementOptions",this).call(this,e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));var o=r.radius;return"active"!==t&&(r.radius=0),r.radius+=Kc(i&&i._custom,o),r}}]),n}(Jf);(0,K.Z)(lp,"id","bubble"),(0,K.Z)(lp,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,K.Z)(lp,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var up=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this,e,i)).enableOptionSharing=!0,r.innerRadius=void 0,r.outerRadius=void 0,r.offsetX=void 0,r.offsetY=void 0,r}return(0,Cr.Z)(n,[{key:"linkScales",value:function(){}},{key:"parse",value:function(e,t){var n=this.getDataset().data,i=this._cachedMeta;if(!1===this._parsing)i._parsed=n;else{var r,o,a=function(e){return+n[e]};if(Gc(n[e])){var s=this._parsing.key,l=void 0===s?"value":s;a=function(e){return+uh(n[e],l)}}for(r=e,o=e+t;r<o;++r)i._parsed[r]=a(r)}}},{key:"_getRotation",value:function(){return Ih(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return Ih(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var e=vh,t=-vh,n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){var i=this.chart.getDatasetMeta(n).controller,r=i._getRotation(),o=i._getCircumference();e=Math.min(e,r),t=Math.max(t,r+o)}return{rotation:e,circumference:t-e}}},{key:"update",value:function(e){var t=this.chart.chartArea,n=this._cachedMeta,i=n.data,r=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,o=Math.max((Math.min(t.width,t.height)-r)/2,0),a=Math.min(function(e,t){return"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100:+e/t}(this.options.cutout,o),1),s=this._getRingWeight(this.index),l=this._getRotationExtents(),u=l.circumference,c=function(e,t,n){var i=1,r=1,o=0,a=0;if(t<vh){var s=e,l=s+t,u=Math.cos(s),c=Math.sin(s),h=Math.cos(l),d=Math.sin(l),f=function(e,t,i){return $h(e,s,l,!0)?1:Math.max(t,t*n,i,i*n)},p=function(e,t,i){return $h(e,s,l,!0)?-1:Math.min(t,t*n,i,i*n)},v=f(0,u,h),g=f(_h,c,d),m=p(ph,u,h),y=p(ph+_h,c,d);i=(v-m)/2,r=(g-y)/2,o=-(v+m)/2,a=-(g+y)/2}return{ratioX:i,ratioY:r,offsetX:o,offsetY:a}}(l.rotation,u,a),h=c.ratioX,d=c.ratioY,f=c.offsetX,p=c.offsetY,v=(t.width-r)/h,g=(t.height-r)/d,m=Math.max(Math.min(v,g)/2,0),y=qc(this.options.radius,m),_=(y-Math.max(y*a,0))/this._getVisibleDatasetWeightTotal();this.offsetX=f*y,this.offsetY=p*y,n.total=this.calculateTotal(),this.outerRadius=y-_*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-_*s,0),this.updateElements(i,0,i.length,e)}},{key:"_circumference",value:function(e,t){var n=this.options,i=this._cachedMeta,r=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===i._parsed[e]||i.data[e].hidden?0:this.calculateCircumference(i._parsed[e]*r/vh)}},{key:"updateElements",value:function(e,t,n,i){var r,o="reset"===i,a=this.chart,s=a.chartArea,l=a.options.animation,u=(s.left+s.right)/2,c=(s.top+s.bottom)/2,h=o&&l.animateScale,d=h?0:this.innerRadius,f=h?0:this.outerRadius,p=this._getSharedOptions(t,i),v=p.sharedOptions,g=p.includeOptions,m=this._getRotation();for(r=0;r<t;++r)m+=this._circumference(r,o);for(r=t;r<t+n;++r){var y=this._circumference(r,o),_=e[r],b={x:u+this.offsetX,y:c+this.offsetY,startAngle:m,endAngle:m+y,circumference:y,outerRadius:f,innerRadius:d};g&&(b.options=v||this.resolveDataElementOptions(r,_.active?"active":i)),m+=y,this.updateElement(_,r,b,i)}}},{key:"calculateTotal",value:function(){var e,t=this._cachedMeta,n=t.data,i=0;for(e=0;e<n.length;e++){var r=t._parsed[e];null===r||isNaN(r)||!this.chart.getDataVisibility(e)||n[e].hidden||(i+=Math.abs(r))}return i}},{key:"calculateCircumference",value:function(e){var t=this._cachedMeta.total;return t>0&&!isNaN(e)?vh*(Math.abs(e)/t):0}},{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ad(t._parsed[e],n.options.locale);return{label:i[e]||"",value:r}}},{key:"getMaxBorderWidth",value:function(e){var t,n,i,r,o,a=0,s=this.chart;if(!e)for(t=0,n=s.data.datasets.length;t<n;++t)if(s.isDatasetVisible(t)){e=(i=s.getDatasetMeta(t)).data,r=i.controller;break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)"inner"!==(o=r.resolveDataElementOptions(t)).borderAlign&&(a=Math.max(a,o.borderWidth||0,o.hoverBorderWidth||0));return a}},{key:"getMaxOffset",value:function(e){for(var t=0,n=0,i=e.length;n<i;++n){var r=this.resolveDataElementOptions(n);t=Math.max(t,r.offset||0,r.hoverOffset||0)}return t}},{key:"_getRingWeightOffset",value:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}},{key:"_getRingWeight",value:function(e){return Math.max(Kc(this.chart.data.datasets[e].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),n}(Jf);(0,K.Z)(up,"id","doughnut"),(0,K.Z)(up,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,K.Z)(up,"descriptors",{_scriptable:function(e){return"spacing"!==e},_indexable:function(e){return"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}}),(0,K.Z)(up,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,i=n.pointStyle,r=n.color;return t.labels.map((function(t,n){var o=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});var cp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,oc(rc(n.prototype),"initialize",this).call(this)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,i=t.data,r=void 0===i?[]:i,o=t._dataset,a=this.chart._animationsDisabled,s=Xh(t,r,a),l=s.start,u=s.count;this._drawStart=l,this._drawCount=u,Yh(t)&&(l=0,u=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!o._decimated,n.points=r;var c=this.resolveDatasetElementOptions(e);this.options.showLine||(c.borderWidth=0),c.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:c},e),this.updateElements(r,l,u,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this._cachedMeta,a=o.iScale,s=o.vScale,l=o._stacked,u=o._dataset,c=this._getSharedOptions(t,i),h=c.sharedOptions,d=c.includeOptions,f=a.axis,p=s.axis,v=this.options,g=v.spanGaps,m=v.segment,y=Sh(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||"none"===i,b=t+n,k=e.length,T=t>0&&this.getParsed(t-1),E=0;E<k;++E){var x=e[E],w=_?x:{};if(E<t||E>=b)w.skip=!0;else{var S=this.getParsed(E),C=Vc(S[p]),I=w[f]=a.getPixelForValue(S[f],E),R=w[p]=r||C?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,S,l):S[p],E);w.skip=isNaN(I)||isNaN(R)||C,w.stop=E>0&&Math.abs(S[f]-T[f])>y,m&&(w.parsed=S,w.raw=u.data[E]),d&&(w.options=h||this.resolveDataElementOptions(E,x.active?"active":i)),_||this.updateElement(x,E,w,i),T=S}}}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,i=e.data||[];if(!i.length)return n;var r=i[0].size(this.resolveDataElementOptions(0)),o=i[i.length-1].size(this.resolveDataElementOptions(i.length-1));return Math.max(n,r,o)/2}},{key:"draw",value:function(){var e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),oc(rc(n.prototype),"draw",this).call(this)}}]),n}(Jf);(0,K.Z)(cp,"id","line"),(0,K.Z)(cp,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,K.Z)(cp,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});var hp=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this,e,i)).innerRadius=void 0,r.outerRadius=void 0,r}return(0,Cr.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart,i=n.data.labels||[],r=ad(t._parsed[e].r,n.options.locale);return{label:i[e]||"",value:r}}},{key:"parseObjectData",value:function(e,t,n,i){return ef.bind(this)(e,t,n,i)}},{key:"update",value:function(e){var t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}},{key:"getMinMax",value:function(){var e=this,t=this._cachedMeta,n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((function(t,i){var r=e.getParsed(i).r;!isNaN(r)&&e.chart.getDataVisibility(i)&&(r<n.min&&(n.min=r),r>n.max&&(n.max=r))})),n}},{key:"_updateRadius",value:function(){var e=this.chart,t=e.chartArea,n=e.options,i=Math.min(t.right-t.left,t.bottom-t.top),r=Math.max(i/2,0),o=(r-Math.max(n.cutoutPercentage?r/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=r-o*this.index,this.innerRadius=this.outerRadius-o}},{key:"updateElements",value:function(e,t,n,i){var r,o="reset"===i,a=this.chart,s=a.options.animation,l=this._cachedMeta.rScale,u=l.xCenter,c=l.yCenter,h=l.getIndexAngle(0)-.5*ph,d=h,f=360/this.countVisibleElements();for(r=0;r<t;++r)d+=this._computeAngle(r,i,f);for(r=t;r<t+n;r++){var p=e[r],v=d,g=d+this._computeAngle(r,i,f),m=a.getDataVisibility(r)?l.getDistanceFromCenterForValue(this.getParsed(r).r):0;d=g,o&&(s.animateScale&&(m=0),s.animateRotate&&(v=g=h));var y={x:u,y:c,innerRadius:0,outerRadius:m,startAngle:v,endAngle:g,options:this.resolveDataElementOptions(r,p.active?"active":i)};this.updateElement(p,r,y,i)}}},{key:"countVisibleElements",value:function(){var e=this,t=this._cachedMeta,n=0;return t.data.forEach((function(t,i){!isNaN(e.getParsed(i).r)&&e.chart.getDataVisibility(i)&&n++})),n}},{key:"_computeAngle",value:function(e,t,n){return this.chart.getDataVisibility(e)?Ih(this.resolveDataElementOptions(e,t).angle||n):0}}]),n}(Jf);(0,K.Z)(hp,"id","polarArea"),(0,K.Z)(hp,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,K.Z)(hp,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(e){var t=e.data;if(t.labels.length&&t.datasets.length){var n=e.legend.options.labels,i=n.pointStyle,r=n.color;return t.labels.map((function(t,n){var o=e.getDatasetMeta(0).controller.getStyle(n);return{text:t,fillStyle:o.backgroundColor,strokeStyle:o.borderColor,fontColor:r,lineWidth:o.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(n),index:n}}))}return[]}},onClick:function(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});var dp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n)}(up);(0,K.Z)(dp,"id","pie"),(0,K.Z)(dp,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});var fp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}},{key:"parseObjectData",value:function(e,t,n,i){return ef.bind(this)(e,t,n,i)}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.dataset,i=t.data||[],r=t.iScale.getLabels();if(n.points=i,"resize"!==e){var o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);var a={_loop:!0,_fullLoop:r.length===i.length,options:o};this.updateElement(n,void 0,a,e)}this.updateElements(i,0,i.length,e)}},{key:"updateElements",value:function(e,t,n,i){for(var r=this._cachedMeta.rScale,o="reset"===i,a=t;a<t+n;a++){var s=e[a],l=this.resolveDataElementOptions(a,s.active?"active":i),u=r.getPointPositionForValue(a,this.getParsed(a).r),c=o?r.xCenter:u.x,h=o?r.yCenter:u.y,d={x:c,y:h,angle:u.angle,skip:isNaN(c)||isNaN(h),options:l};this.updateElement(s,a,d,i)}}}]),n}(Jf);(0,K.Z)(fp,"id","radar"),(0,K.Z)(fp,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,K.Z)(fp,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});var pp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"getLabelAndValue",value:function(e){var t=this._cachedMeta,n=this.chart.data.labels||[],i=t.xScale,r=t.yScale,o=this.getParsed(e),a=i.getLabelForValue(o.x),s=r.getLabelForValue(o.y);return{label:n[e]||"",value:"("+a+", "+s+")"}}},{key:"update",value:function(e){var t=this._cachedMeta,n=t.data,i=void 0===n?[]:n,r=this.chart._animationsDisabled,o=Xh(t,i,r),a=o.start,s=o.count;if(this._drawStart=a,this._drawCount=s,Yh(t)&&(a=0,s=i.length),this.options.showLine){this.datasetElementType||this.addElements();var l=t.dataset,u=t._dataset;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=i;var c=this.resolveDatasetElementOptions(e);c.segment=this.options.segment,this.updateElement(l,void 0,{animated:!r,options:c},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(i,a,s,e)}},{key:"addElements",value:function(){var e=this.options.showLine;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),oc(rc(n.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(e,t,n,i){for(var r="reset"===i,o=this._cachedMeta,a=o.iScale,s=o.vScale,l=o._stacked,u=o._dataset,c=this.resolveDataElementOptions(t,i),h=this.getSharedOptions(c),d=this.includeOptions(i,h),f=a.axis,p=s.axis,v=this.options,g=v.spanGaps,m=v.segment,y=Sh(g)?g:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||r||"none"===i,b=t>0&&this.getParsed(t-1),k=t;k<t+n;++k){var T=e[k],E=this.getParsed(k),x=_?T:{},w=Vc(E[p]),S=x[f]=a.getPixelForValue(E[f],k),C=x[p]=r||w?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,E,l):E[p],k);x.skip=isNaN(S)||isNaN(C)||w,x.stop=k>0&&Math.abs(E[f]-b[f])>y,m&&(x.parsed=E,x.raw=u.data[k]),d&&(x.options=h||this.resolveDataElementOptions(k,T.active?"active":i)),_||this.updateElement(T,k,x,i),b=E}this.updateSharedOptions(h,i,c)}},{key:"getMaxOverflow",value:function(){var e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){for(var n=0,i=t.length-1;i>=0;--i)n=Math.max(n,t[i].size(this.resolveDataElementOptions(i))/2);return n>0&&n}var r=e.dataset,o=r.options&&r.options.borderWidth||0;if(!t.length)return o;var a=t[0].size(this.resolveDataElementOptions(0)),s=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(o,a,s)/2}}]),n}(Jf);(0,K.Z)(pp,"id","scatter"),(0,K.Z)(pp,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,K.Z)(pp,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});function vp(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var gp={_date:function(){function e(t){(0,Sr.Z)(this,e),(0,K.Z)(this,"options",void 0),this.options=t||{}}return(0,Cr.Z)(e,[{key:"init",value:function(){}},{key:"formats",value:function(){return vp()}},{key:"parse",value:function(){return vp()}},{key:"format",value:function(){return vp()}},{key:"add",value:function(){return vp()}},{key:"diff",value:function(){return vp()}},{key:"startOf",value:function(){return vp()}},{key:"endOf",value:function(){return vp()}}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}()};function mp(e,t,n,i){var r=e.controller,o=e.data,a=e._sorted,s=r._cachedMeta.iScale;if(s&&t===s.axis&&"r"!==t&&a&&o.length){var l=s._reversePixels?Uh:Fh;if(!i)return l(o,t,n);if(r._sharedOptions){var u=o[0],c="function"===typeof u.getRange&&u.getRange(t);if(c){var h=l(o,t,n-c),d=l(o,t,n+c);return{lo:h.lo,hi:d.hi}}}}return{lo:0,hi:o.length-1}}function yp(e,t,n,i,r){for(var o=e.getSortedVisibleDatasetMetas(),a=n[t],s=0,l=o.length;s<l;++s)for(var u=o[s],c=u.index,h=u.data,d=mp(o[s],t,a,r),f=d.lo,p=d.hi,v=f;v<=p;++v){var g=h[v];g.skip||i(g,c,v)}}function _p(e,t,n,i,r){var o=[];if(!r&&!e.isPointInArea(t))return o;return yp(e,n,t,(function(n,a,s){(r||kd(n,e.chartArea,0))&&n.inRange(t.x,t.y,i)&&o.push({element:n,datasetIndex:a,index:s})}),!0),o}function bp(e,t,n,i,r,o){var a=[],s=function(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,o=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(o,2))}}(n),l=Number.POSITIVE_INFINITY;return yp(e,n,t,(function(n,u,c){var h=n.inRange(t.x,t.y,r);if(!i||h){var d=n.getCenterPoint(r);if(!!o||e.isPointInArea(d)||h){var f=s(t,d);f<l?(a=[{element:n,datasetIndex:u,index:c}],l=f):f===l&&a.push({element:n,datasetIndex:u,index:c})}}})),a}function kp(e,t,n,i,r,o){return o||e.isPointInArea(t)?"r"!==n||i?bp(e,t,n,i,r,o):function(e,t,n,i){var r=[];return yp(e,n,t,(function(e,n,o){var a=e.getProps(["startAngle","endAngle"],i),s=a.startAngle,l=a.endAngle;$h(Ah(e,{x:t.x,y:t.y}).angle,s,l)&&r.push({element:e,datasetIndex:n,index:o})})),r}(e,t,n,r):[]}function Tp(e,t,n,i,r){var o=[],a="x"===n?"inXRange":"inYRange",s=!1;return yp(e,n,t,(function(e,i,l){e[a]&&e[a](t[n],r)&&(o.push({element:e,datasetIndex:i,index:l}),s=s||e.inRange(t.x,t.y,r))})),i&&!s?[]:o}var Ep={evaluateInteractionItems:yp,modes:{index:function(e,t,n,i){var r=gf(t,e),o=n.axis||"x",a=n.includeInvisible||!1,s=n.intersect?_p(e,r,o,i,a):kp(e,r,o,!1,i,a),l=[];return s.length?(e.getSortedVisibleDatasetMetas().forEach((function(e){var t=s[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})})),l):[]},dataset:function(e,t,n,i){var r=gf(t,e),o=n.axis||"xy",a=n.includeInvisible||!1,s=n.intersect?_p(e,r,o,i,a):kp(e,r,o,!1,i,a);if(s.length>0){var l=s[0].datasetIndex,u=e.getDatasetMeta(l).data;s=[];for(var c=0;c<u.length;++c)s.push({element:u[c],datasetIndex:l,index:c})}return s},point:function(e,t,n,i){return _p(e,gf(t,e),n.axis||"xy",i,n.includeInvisible||!1)},nearest:function(e,t,n,i){var r=gf(t,e),o=n.axis||"xy",a=n.includeInvisible||!1;return kp(e,r,o,n.intersect,i,a)},x:function(e,t,n,i){return Tp(e,gf(t,e),"x",n.intersect,i)},y:function(e,t,n,i){return Tp(e,gf(t,e),"y",n.intersect,i)}}},xp=["left","top","right","bottom"];function wp(e,t){return e.filter((function(e){return e.pos===t}))}function Sp(e,t){return e.filter((function(e){return-1===xp.indexOf(e.pos)&&e.box.axis===t}))}function Cp(e,t){return e.sort((function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function Ip(e,t){var n,i,r,o=function(e){var t,n={},i=a(e);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=r.stack,s=r.pos,l=r.stackWeight;if(o&&xp.includes(s)){var u=n[o]||(n[o]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=l}}}catch(c){i.e(c)}finally{i.f()}return n}(e),s=t.vBoxMaxWidth,l=t.hBoxMaxHeight;for(n=0,i=e.length;n<i;++n){var u=(r=e[n]).box.fullSize,c=o[r.stack],h=c&&r.stackWeight/c.weight;r.horizontal?(r.width=h?h*s:u&&t.availableWidth,r.height=l):(r.width=s,r.height=h?h*l:u&&t.availableHeight)}return o}function Rp(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function Op(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Ap(e,t,n,i){var r=n.pos,o=n.box,a=e.maxPadding;if(!Gc(r)){n.size&&(e[r]-=n.size);var s=i[n.stack]||{size:0,count:1};s.size=Math.max(s.size,n.horizontal?o.height:o.width),n.size=s.size/s.count,e[r]+=n.size}o.getPadding&&Op(a,o.getPadding());var l=Math.max(0,t.outerWidth-Rp(a,e,"left","right")),u=Math.max(0,t.outerHeight-Rp(a,e,"top","bottom")),c=l!==e.w,h=u!==e.h;return e.w=l,e.h=u,n.horizontal?{same:c,other:h}:{same:h,other:c}}function Mp(e,t){var n=t.maxPadding;function i(e){var i={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){i[e]=Math.max(t[e],n[e])})),i}return i(e?["left","right"]:["top","bottom"])}function Lp(e,t,n,i){var r,o,a,s,l,u,c=[];for(r=0,o=e.length,l=0;r<o;++r){(s=(a=e[r]).box).update(a.width||t.w,a.height||t.h,Mp(a.horizontal,t));var h=Ap(t,n,a,i),d=h.same,f=h.other;l|=d&&c.length,u=u||f,s.fullSize||c.push(a)}return l&&Lp(c,t,n,i)||u}function Np(e,t,n,i,r){e.top=n,e.left=t,e.right=t+i,e.bottom=n+r,e.width=i,e.height=r}function $p(e,t,n,i){var r,o=n.padding,s=t.x,l=t.y,u=a(e);try{for(u.s();!(r=u.n()).done;){var c=r.value,h=c.box,d=i[c.stack]||{count:1,placed:0,weight:1},f=c.stackWeight/d.weight||1;if(c.horizontal){var p=t.w*f,v=d.size||h.height;hh(d.start)&&(l=d.start),h.fullSize?Np(h,o.left,l,n.outerWidth-o.right-o.left,v):Np(h,t.left+d.placed,l,p,v),d.start=l,d.placed+=p,l=h.bottom}else{var g=t.h*f,m=d.size||h.width;hh(d.start)&&(s=d.start),h.fullSize?Np(h,s,o.top,m,n.outerHeight-o.bottom-o.top):Np(h,s,t.top+d.placed,m,g),d.start=s,d.placed+=g,s=h.right}}}catch(y){u.e(y)}finally{u.f()}t.x=s,t.y=l}var Pp=function(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(e){t.draw(e)}}]},e.boxes.push(t)},Dp=function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},Bp=function(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},Fp=function(e,t,n,i){if(e){var r=Dd(e.options.layout.padding),o=Math.max(t-r.width,0),a=Math.max(n-r.height,0),s=function(e){var t=function(e){var t,n,i,r,o,a,s=[];for(t=0,n=(e||[]).length;t<n;++t){var l=i=e[t];r=l.position;var u=l.options;o=u.stack;var c=u.stackWeight;a=void 0===c?1:c,s.push({index:t,box:i,pos:r,horizontal:i.isHorizontal(),weight:i.weight,stack:o&&r+o,stackWeight:a})}return s}(e),n=Cp(t.filter((function(e){return e.box.fullSize})),!0),i=Cp(wp(t,"left"),!0),r=Cp(wp(t,"right")),o=Cp(wp(t,"top"),!0),a=Cp(wp(t,"bottom")),s=Sp(t,"x"),l=Sp(t,"y");return{fullSize:n,leftAndTop:i.concat(o),rightAndBottom:r.concat(l).concat(a).concat(s),chartArea:wp(t,"chartArea"),vertical:i.concat(r).concat(l),horizontal:o.concat(a).concat(s)}}(e.boxes),l=s.vertical,u=s.horizontal;Qc(e.boxes,(function(e){"function"===typeof e.beforeLayout&&e.beforeLayout()}));var c=l.reduce((function(e,t){return t.box.options&&!1===t.box.options.display?e:e+1}),0)||1,h=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:o,availableHeight:a,vBoxMaxWidth:o/2/c,hBoxMaxHeight:a/2}),d=Object.assign({},r);Op(d,Dd(i));var f=Object.assign({maxPadding:d,w:o,h:a,x:r.left,y:r.top},r),p=Ip(l.concat(u),h);Lp(s.fullSize,f,h,p),Lp(l,f,h,p),Lp(u,f,h,p)&&Lp(l,f,h,p),function(e){var t=e.maxPadding;function n(n){var i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(f),$p(s.leftAndTop,f,h,p),f.x+=f.w,f.y+=f.h,$p(s.rightAndBottom,f,h,p),e.chartArea={left:f.left,top:f.top,right:f.left+f.w,bottom:f.top+f.h,height:f.h,width:f.w},Qc(s.chartArea,(function(t){var n=t.box;Object.assign(n,e.chartArea),n.update(f.w,f.h,{left:0,top:0,right:0,bottom:0})}))}},Up=function(){function e(){(0,Sr.Z)(this,e)}return(0,Cr.Z)(e,[{key:"acquireContext",value:function(e,t){}},{key:"releaseContext",value:function(e){return!1}},{key:"addEventListener",value:function(e,t,n){}},{key:"removeEventListener",value:function(e,t,n){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function(e,t,n,i){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,i?Math.floor(t/i):n)}}},{key:"isAttached",value:function(e){return!0}},{key:"updateConfig",value:function(e){}}]),e}(),jp=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"acquireContext",value:function(e){return e&&e.getContext&&e.getContext("2d")||null}},{key:"updateConfig",value:function(e){e.options.animation=!1}}]),n}(Up),Zp="$chartjs",Hp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},zp=function(e){return null===e||""===e};var Vp=!!bf&&{passive:!0};function Wp(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,Vp)}function Gp(e,t){var n,i=a(e);try{for(i.s();!(n=i.n()).done;){var r=n.value;if(r===t||r.contains(t))return!0}}catch(o){i.e(o)}finally{i.f()}}function Xp(e,t,n){var i=e.canvas,r=new MutationObserver((function(e){var t,r=!1,o=a(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;r=(r=r||Gp(s.addedNodes,i))&&!Gp(s.removedNodes,i)}}catch(l){o.e(l)}finally{o.f()}r&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}function Yp(e,t,n){var i=e.canvas,r=new MutationObserver((function(e){var t,r=!1,o=a(e);try{for(o.s();!(t=o.n()).done;){var s=t.value;r=(r=r||Gp(s.removedNodes,i))&&!Gp(s.addedNodes,i)}}catch(l){o.e(l)}finally{o.f()}r&&n()}));return r.observe(document,{childList:!0,subtree:!0}),r}var Kp=new Map,qp=0;function Jp(){var e=window.devicePixelRatio;e!==qp&&(qp=e,Kp.forEach((function(t,n){n.currentDevicePixelRatio!==e&&t()})))}function Qp(e,t,n){var i=e.canvas,r=i&&cf(i);if(r){var o=Vh((function(e,t){var i=r.clientWidth;n(e,t),i<r.clientWidth&&n()}),window),a=new ResizeObserver((function(e){var t=e[0],n=t.contentRect.width,i=t.contentRect.height;0===n&&0===i||o(n,i)}));return a.observe(r),function(e,t){Kp.size||window.addEventListener("resize",Jp),Kp.set(e,t)}(e,o),a}}function ev(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){Kp.delete(e),Kp.size||window.removeEventListener("resize",Jp)}(e)}function tv(e,t,n){var i=e.canvas,r=Vh((function(t){null!==e.ctx&&n(function(e,t){var n=Hp[e.type]||e.type,i=gf(e,t),r=i.x,o=i.y;return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==o?o:null}}(t,e))}),e);return function(e,t,n){e&&e.addEventListener(t,n,Vp)}(i,t,r),r}var nv=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"acquireContext",value:function(e,t){var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[Zp]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",zp(r)){var o=kf(e,"width");void 0!==o&&(e.width=o)}if(zp(i))if(""===e.style.height)e.height=e.width/(t||2);else{var a=kf(e,"height");void 0!==a&&(e.height=a)}}(e,t),n):null}},{key:"releaseContext",value:function(e){var t=e.canvas;if(!t[Zp])return!1;var n=t[Zp].initial;["height","width"].forEach((function(e){var i=n[e];Vc(i)?t.removeAttribute(e):t.setAttribute(e,i)}));var i=n.style||{};return Object.keys(i).forEach((function(e){t.style[e]=i[e]})),t.width=t.width,delete t[Zp],!0}},{key:"addEventListener",value:function(e,t,n){this.removeEventListener(e,t);var i=e.$proxies||(e.$proxies={}),r={attach:Xp,detach:Yp,resize:Qp}[t]||tv;i[t]=r(e,t,n)}},{key:"removeEventListener",value:function(e,t){var n=e.$proxies||(e.$proxies={}),i=n[t];i&&(({attach:ev,detach:ev,resize:ev}[t]||Wp)(e,t,i),n[t]=void 0)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(e,t,n,i){return yf(e,t,n,i)}},{key:"isAttached",value:function(e){var t=e&&cf(e);return!(!t||!t.isConnected)}}]),n}(Up);var iv=function(){function e(){(0,Sr.Z)(this,e),(0,K.Z)(this,"x",void 0),(0,K.Z)(this,"y",void 0),(0,K.Z)(this,"active",!1),(0,K.Z)(this,"options",void 0),(0,K.Z)(this,"$animations",void 0)}return(0,Cr.Z)(e,[{key:"tooltipPosition",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"hasValue",value:function(){return Sh(this.x)&&Sh(this.y)}},{key:"getProps",value:function(e,t){var n=this,i=this.$animations;if(!t||!i)return this;var r={};return e.forEach((function(e){r[e]=i[e]&&i[e].active()?i[e]._to:n[e]})),r}}]),e}();function rv(e,t){var n=e.options.ticks,i=function(e){var t=e.options.offset,n=e._tickSize(),i=e._length/n+(t?0:1),r=e._maxLength/n;return Math.floor(Math.min(i,r))}(e),r=Math.min(n.maxTicksLimit||i,i),o=n.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(t):[],a=o.length,s=o[0],l=o[a-1],u=[];if(a>r)return function(e,t,n,i){var r,o=0,a=n[0];for(i=Math.ceil(i),r=0;r<e.length;r++)r===a&&(t.push(e[r]),a=n[++o*i])}(t,u,o,a/r),u;var c=function(e,t,n){var i=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),r=t.length/n;if(!i)return Math.max(r,1);for(var o=function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t===0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort((function(e,t){return e-t})).pop(),n}(i),a=0,s=o.length-1;a<s;a++){var l=o[a];if(l>r)return l}return Math.max(r,1)}(o,t,r);if(a>0){var h,d,f=a>1?Math.round((l-s)/(a-1)):null;for(ov(t,u,c,Vc(f)?0:s-f,s),h=0,d=a-1;h<d;h++)ov(t,u,c,o[h],o[h+1]);return ov(t,u,c,l,Vc(f)?t.length:l+f),u}return ov(t,u,c),u}function ov(e,t,n,i,r){var o,a,s,l=Kc(i,0),u=Math.min(Kc(r,e.length),e.length),c=0;for(n=Math.ceil(n),r&&(n=(o=r-i)/Math.floor(o/n)),s=l;s<0;)c++,s=Math.round(l+c*n);for(a=Math.max(l,0);a<u;a++)a===s&&(t.push(e[a]),c++,s=Math.round(l+c*n))}(0,K.Z)(iv,"defaults",{}),(0,K.Z)(iv,"defaultRoutes",void 0);var av=function(e,t,n){return"top"===t||"left"===t?e[t]+n:e[t]-n},sv=function(e,t){return Math.min(t||e,e)};function lv(e,t){for(var n=[],i=e.length/t,r=e.length,o=0;o<r;o+=i)n.push(e[Math.floor(o)]);return n}function uv(e,t,n){var i,r=e.ticks.length,o=Math.min(t,r-1),a=e._startPixel,s=e._endPixel,l=1e-6,u=e.getPixelForTick(o);if(!(n&&(i=1===r?Math.max(u-a,s-u):0===t?(e.getPixelForTick(1)-u)/2:(u-e.getPixelForTick(o-1))/2,(u+=o<t?i:-i)<a-l||u>s+l)))return u}function cv(e){return e.drawTicks?e.tickLength:0}function hv(e,t){if(!e.display)return 0;var n=Bd(e.font,t),i=Dd(e.padding);return(Wc(e.text)?e.text.length:1)*n.lineHeight+i.height}function dv(e,t,n){var i=Wh(e);return(n&&"right"!==t||!n&&"right"===t)&&(i=function(e){return"left"===e?"right":"right"===e?"left":e}(i)),i}var fv=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).id=e.id,i.type=e.type,i.options=void 0,i.ctx=e.ctx,i.chart=e.chart,i.top=void 0,i.bottom=void 0,i.left=void 0,i.right=void 0,i.width=void 0,i.height=void 0,i._margins={left:0,right:0,top:0,bottom:0},i.maxWidth=void 0,i.maxHeight=void 0,i.paddingTop=void 0,i.paddingBottom=void 0,i.paddingLeft=void 0,i.paddingRight=void 0,i.axis=void 0,i.labelRotation=void 0,i.min=void 0,i.max=void 0,i._range=void 0,i.ticks=[],i._gridLineItems=null,i._labelItems=null,i._labelSizes=null,i._length=0,i._maxLength=0,i._longestTextCache={},i._startPixel=void 0,i._endPixel=void 0,i._reversePixels=!1,i._userMax=void 0,i._userMin=void 0,i._suggestedMax=void 0,i._suggestedMin=void 0,i._ticksLength=0,i._borderValue=0,i._cache={},i._dataLimitsCached=!1,i.$context=void 0,i}return(0,Cr.Z)(n,[{key:"init",value:function(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}},{key:"parse",value:function(e,t){return e}},{key:"getUserBounds",value:function(){var e=this._userMin,t=this._userMax,n=this._suggestedMin,i=this._suggestedMax;return e=Yc(e,Number.POSITIVE_INFINITY),t=Yc(t,Number.NEGATIVE_INFINITY),n=Yc(n,Number.POSITIVE_INFINITY),i=Yc(i,Number.NEGATIVE_INFINITY),{min:Yc(e,n),max:Yc(t,i),minDefined:Xc(e),maxDefined:Xc(t)}}},{key:"getMinMax",value:function(e){var t,n=this.getUserBounds(),i=n.min,r=n.max,o=n.minDefined,a=n.maxDefined;if(o&&a)return{min:i,max:r};for(var s=this.getMatchingVisibleMetas(),l=0,u=s.length;l<u;++l)t=s[l].controller.getMinMax(this,e),o||(i=Math.min(i,t.min)),a||(r=Math.max(r,t.max));return{min:Yc(i=a&&i>r?r:i,Yc(r=o&&i>r?i:r,i)),max:Yc(r,Yc(i,r))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}},{key:"getLabelItems",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){Jc(this.options.beforeUpdate,[this])}},{key:"update",value:function(e,t,n){var i=this.options,r=i.beginAtZero,o=i.grace,a=i.ticks,s=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){var i=e.min,r=e.max,o=qc(t,(r-i)/2),a=function(e,t){return n&&0===e?0:e+t};return{min:a(i,-Math.abs(o)),max:a(r,o)}}(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();var l=s<this.ticks.length;this._convertTicksToLabels(l?lv(this.ticks,s):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=rv(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){Jc(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){Jc(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){Jc(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(e){this.chart.notifyPlugins(e,this.getContext()),Jc(this.options[e],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){Jc(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(e){var t,n,i,r=this.options.ticks;for(t=0,n=e.length;t<n;t++)(i=e[t]).label=Jc(r.callback,[i.value,t,e],this)}},{key:"afterTickToLabelConversion",value:function(){Jc(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){Jc(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var e,t,n,i=this.options,r=i.ticks,o=sv(this.ticks.length,i.ticks.maxTicksLimit),a=r.minRotation||0,s=r.maxRotation,l=a;if(!this._isVisible()||!r.display||a>=s||o<=1||!this.isHorizontal())this.labelRotation=a;else{var u=this._getLabelSizes(),c=u.widest.width,h=u.highest.height,d=Ph(this.chart.width-c,0,this.maxWidth);c+6>(e=i.offset?this.maxWidth/o:d/(o-1))&&(e=d/(o-(i.offset?.5:1)),t=this.maxHeight-cv(i.grid)-r.padding-hv(i.title,this.chart.options.font),n=Math.sqrt(c*c+h*h),l=Rh(Math.min(Math.asin(Ph((u.highest.height+6)/e,-1,1)),Math.asin(Ph(t/n,-1,1))-Math.asin(Ph(h/n,-1,1)))),l=Math.max(a,Math.min(s,l))),this.labelRotation=l}}},{key:"afterCalculateLabelRotation",value:function(){Jc(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){Jc(this.options.beforeFit,[this])}},{key:"fit",value:function(){var e={width:0,height:0},t=this.chart,n=this.options,i=n.ticks,r=n.title,o=n.grid,a=this._isVisible(),s=this.isHorizontal();if(a){var l=hv(r,t.options.font);if(s?(e.width=this.maxWidth,e.height=cv(o)+l):(e.height=this.maxHeight,e.width=cv(o)+l),i.display&&this.ticks.length){var u=this._getLabelSizes(),c=u.first,h=u.last,d=u.widest,f=u.highest,p=2*i.padding,v=Ih(this.labelRotation),g=Math.cos(v),m=Math.sin(v);if(s){var y=i.mirror?0:m*d.width+g*f.height;e.height=Math.min(this.maxHeight,e.height+y+p)}else{var _=i.mirror?0:g*d.width+m*f.height;e.width=Math.min(this.maxWidth,e.width+_+p)}this._calculatePadding(c,h,m,g)}}this._handleMargins(),s?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(e,t,n,i){var r=this.options,o=r.ticks,a=o.align,s=o.padding,l=r.position,u=0!==this.labelRotation,c="top"!==l&&"x"===this.axis;if(this.isHorizontal()){var h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1),f=0,p=0;u?c?(f=i*e.width,p=n*t.height):(f=n*e.height,p=i*t.width):"start"===a?p=t.width:"end"===a?f=e.width:"inner"!==a&&(f=e.width/2,p=t.width/2),this.paddingLeft=Math.max((f-h+s)*this.width/(this.width-h),0),this.paddingRight=Math.max((p-d+s)*this.width/(this.width-d),0)}else{var v=t.height/2,g=e.height/2;"start"===a?(v=0,g=e.height):"end"===a&&(v=t.height,g=0),this.paddingTop=v+s,this.paddingBottom=g+s}}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){Jc(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var e=this.options,t=e.axis,n=e.position;return"top"===n||"bottom"===n||"x"===t}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(e){var t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)Vc(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var e=this._labelSizes;if(!e){var t=this.options.ticks.sampleSize,n=this.ticks;t<n.length&&(n=lv(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}},{key:"_computeLabelSizes",value:function(e,t,n){var i,r,o,a,s,l,u,c,h,d,f,p=this.ctx,v=this._longestTextCache,g=[],m=[],y=Math.floor(t/sv(t,n)),_=0,b=0;for(i=0;i<t;i+=y){if(a=e[i].label,s=this._resolveTickFontOptions(i),p.font=l=s.string,u=v[l]=v[l]||{data:{},gc:[]},c=s.lineHeight,h=d=0,Vc(a)||Wc(a)){if(Wc(a))for(r=0,o=a.length;r<o;++r)Vc(f=a[r])||Wc(f)||(h=vd(p,u.data,u.gc,h,f),d+=c)}else h=vd(p,u.data,u.gc,h,a),d=c;g.push(h),m.push(d),_=Math.max(h,_),b=Math.max(d,b)}!function(e,t){Qc(e,(function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}}))}(v,t);var k=g.indexOf(_),T=m.indexOf(b),E=function(e){return{width:g[e]||0,height:m[e]||0}};return{first:E(0),last:E(t-1),widest:E(k),highest:E(T),widths:g,heights:m}}},{key:"getLabelForValue",value:function(e){return e}},{key:"getPixelForValue",value:function(e,t){return NaN}},{key:"getValueForPixel",value:function(e){}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getPixelForDecimal",value:function(e){this._reversePixels&&(e=1-e);var t=this._startPixel+e*this._length;return function(e){return Ph(e,-32768,32767)}(this._alignToPixels?md(this.chart,t,0):t)}},{key:"getDecimalForPixel",value:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var e=this.min,t=this.max;return e<0&&t<0?t:e>0&&t>0?e:0}},{key:"getContext",value:function(e){var t=this.ticks||[];if(e>=0&&e<t.length){var n=t[e];return n.$context||(n.$context=function(e,t,n){return Ud(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=function(e,t){return Ud(e,{scale:t,type:"scale"})}(this.chart.getContext(),this))}},{key:"_tickSize",value:function(){var e=this.options.ticks,t=Ih(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),o=e.autoSkipPadding||0,a=r?r.widest.width+o:0,s=r?r.highest.height+o:0;return this.isHorizontal()?s*n>a*i?a/n:s/i:s*i<a*n?s/n:a/i}},{key:"_isVisible",value:function(){var e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}},{key:"_computeGridLineItems",value:function(e){var t,n,i,r,o,a,s,l,u,c,h,d,f=this.axis,p=this.chart,v=this.options,g=v.grid,m=v.position,y=v.border,_=g.offset,b=this.isHorizontal(),k=this.ticks.length+(_?1:0),T=cv(g),E=[],x=y.setContext(this.getContext()),w=x.display?x.width:0,S=w/2,C=function(e){return md(p,e,w)};if("top"===m)t=C(this.bottom),a=this.bottom-T,l=t-S,c=C(e.top)+S,d=e.bottom;else if("bottom"===m)t=C(this.top),c=e.top,d=C(e.bottom)-S,a=t+S,l=this.top+T;else if("left"===m)t=C(this.right),o=this.right-T,s=t-S,u=C(e.left)+S,h=e.right;else if("right"===m)t=C(this.left),u=e.left,h=C(e.right)-S,o=t+S,s=this.left+T;else if("x"===f){if("center"===m)t=C((e.top+e.bottom)/2+.5);else if(Gc(m)){var I=Object.keys(m)[0],R=m[I];t=C(this.chart.scales[I].getPixelForValue(R))}c=e.top,d=e.bottom,l=(a=t+S)+T}else if("y"===f){if("center"===m)t=C((e.left+e.right)/2);else if(Gc(m)){var O=Object.keys(m)[0],A=m[O];t=C(this.chart.scales[O].getPixelForValue(A))}s=(o=t-S)-T,u=e.left,h=e.right}var M=Kc(v.ticks.maxTicksLimit,k),L=Math.max(1,Math.ceil(k/M));for(n=0;n<k;n+=L){var N=this.getContext(n),$=g.setContext(N),P=y.setContext(N),D=$.lineWidth,B=$.color,F=P.dash||[],U=P.dashOffset,j=$.tickWidth,Z=$.tickColor,H=$.tickBorderDash||[],z=$.tickBorderDashOffset;void 0!==(i=uv(this,n,_))&&(r=md(p,i,D),b?o=s=u=h=r:a=l=c=d=r,E.push({tx1:o,ty1:a,tx2:s,ty2:l,x1:u,y1:c,x2:h,y2:d,width:D,color:B,borderDash:F,borderDashOffset:U,tickWidth:j,tickColor:Z,tickBorderDash:H,tickBorderDashOffset:z}))}return this._ticksLength=k,this._borderValue=t,E}},{key:"_computeLabelItems",value:function(e){var t,n,i,r,o,a,s,l,u,c,h,d=this.axis,f=this.options,p=f.position,v=f.ticks,g=this.isHorizontal(),m=this.ticks,y=v.align,_=v.crossAlign,b=v.padding,k=v.mirror,T=cv(f.grid),E=T+b,x=k?-b:E,w=-Ih(this.labelRotation),S=[],C="middle";if("top"===p)o=this.bottom-x,a=this._getXAxisLabelAlignment();else if("bottom"===p)o=this.top+x,a=this._getXAxisLabelAlignment();else if("left"===p){var I=this._getYAxisLabelAlignment(T);a=I.textAlign,r=I.x}else if("right"===p){var R=this._getYAxisLabelAlignment(T);a=R.textAlign,r=R.x}else if("x"===d){if("center"===p)o=(e.top+e.bottom)/2+E;else if(Gc(p)){var O=Object.keys(p)[0],A=p[O];o=this.chart.scales[O].getPixelForValue(A)+E}a=this._getXAxisLabelAlignment()}else if("y"===d){if("center"===p)r=(e.left+e.right)/2-E;else if(Gc(p)){var M=Object.keys(p)[0],L=p[M];r=this.chart.scales[M].getPixelForValue(L)}a=this._getYAxisLabelAlignment(T).textAlign}"y"===d&&("start"===y?C="top":"end"===y&&(C="bottom"));var N=this._getLabelSizes();for(t=0,n=m.length;t<n;++t){i=m[t].label;var $=v.setContext(this.getContext(t));s=this.getPixelForTick(t)+v.labelOffset,u=(l=this._resolveTickFontOptions(t)).lineHeight;var P=(c=Wc(i)?i.length:1)/2,D=$.color,B=$.textStrokeColor,F=$.textStrokeWidth,U=a;g?(r=s,"inner"===a&&(U=t===n-1?this.options.reverse?"left":"right":0===t?this.options.reverse?"right":"left":"center"),h="top"===p?"near"===_||0!==w?-c*u+u/2:"center"===_?-N.highest.height/2-P*u+u:-N.highest.height+u/2:"near"===_||0!==w?u/2:"center"===_?N.highest.height/2-P*u:N.highest.height-c*u,k&&(h*=-1),0===w||$.showLabelBackdrop||(r+=u/2*Math.sin(w))):(o=s,h=(1-c)*u/2);var j=void 0;if($.showLabelBackdrop){var Z=Dd($.backdropPadding),H=N.heights[t],z=N.widths[t],V=h-Z.top,W=0-Z.left;switch(C){case"middle":V-=H/2;break;case"bottom":V-=H}switch(a){case"center":W-=z/2;break;case"right":W-=z;break;case"inner":t===n-1?W-=z:t>0&&(W-=z/2)}j={left:W,top:V,width:z+Z.width,height:H+Z.height,color:$.backdropColor}}S.push({label:i,font:l,textOffset:h,options:{rotation:w,color:D,strokeColor:B,strokeWidth:F,textAlign:U,textBaseline:C,translation:[r,o],backdrop:j}})}return S}},{key:"_getXAxisLabelAlignment",value:function(){var e=this.options,t=e.position,n=e.ticks;if(-Ih(this.labelRotation))return"top"===t?"left":"right";var i="center";return"start"===n.align?i="left":"end"===n.align?i="right":"inner"===n.align&&(i="inner"),i}},{key:"_getYAxisLabelAlignment",value:function(e){var t,n,i=this.options,r=i.position,o=i.ticks,a=o.crossAlign,s=o.mirror,l=o.padding,u=e+l,c=this._getLabelSizes().widest.width;return"left"===r?s?(n=this.right+l,"near"===a?t="left":"center"===a?(t="center",n+=c/2):(t="right",n+=c)):(n=this.right-u,"near"===a?t="right":"center"===a?(t="center",n-=c/2):(t="left",n=this.left)):"right"===r?s?(n=this.left+l,"near"===a?t="right":"center"===a?(t="center",n-=c/2):(t="left",n-=c)):(n=this.left+u,"near"===a?t="left":"center"===a?(t="center",n+=c/2):(t="right",n=this.right)):t="right",{textAlign:t,x:n}}},{key:"_computeLabelArea",value:function(){if(!this.options.ticks.mirror){var e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}}},{key:"drawBackground",value:function(){var e=this.ctx,t=this.options.backgroundColor,n=this.left,i=this.top,r=this.width,o=this.height;t&&(e.save(),e.fillStyle=t,e.fillRect(n,i,r,o),e.restore())}},{key:"getLineWidthForValue",value:function(e){var t=this.options.grid;if(!this._isVisible()||!t.display)return 0;var n=this.ticks.findIndex((function(t){return t.value===e}));return n>=0?t.setContext(this.getContext(n)).lineWidth:0}},{key:"drawGrid",value:function(e){var t,n,i=this.options.grid,r=this.ctx,o=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e)),a=function(e,t,n){n.width&&n.color&&(r.save(),r.lineWidth=n.width,r.strokeStyle=n.color,r.setLineDash(n.borderDash||[]),r.lineDashOffset=n.borderDashOffset,r.beginPath(),r.moveTo(e.x,e.y),r.lineTo(t.x,t.y),r.stroke(),r.restore())};if(i.display)for(t=0,n=o.length;t<n;++t){var s=o[t];i.drawOnChartArea&&a({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),i.drawTicks&&a({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function(){var e=this.chart,t=this.ctx,n=this.options,i=n.border,r=n.grid,o=i.setContext(this.getContext()),a=i.display?o.width:0;if(a){var s,l,u,c,h=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;this.isHorizontal()?(s=md(e,this.left,a)-a/2,l=md(e,this.right,h)+h/2,u=c=d):(u=md(e,this.top,a)-a/2,c=md(e,this.bottom,h)+h/2,s=l=d),t.save(),t.lineWidth=o.width,t.strokeStyle=o.color,t.beginPath(),t.moveTo(s,u),t.lineTo(l,c),t.stroke(),t.restore()}}},{key:"drawLabels",value:function(e){if(this.options.ticks.display){var t=this.ctx,n=this._computeLabelArea();n&&Td(t,n);var i,r=a(this.getLabelItems(e));try{for(r.s();!(i=r.n()).done;){var o=i.value,s=o.options,l=o.font;Id(t,o.label,0,o.textOffset,l,s)}}catch(u){r.e(u)}finally{r.f()}n&&Ed(t)}}},{key:"drawTitle",value:function(){var e=this.ctx,t=this.options,n=t.position,i=t.title,r=t.reverse;if(i.display){var o=Bd(i.font),a=Dd(i.padding),s=i.align,l=o.lineHeight/2;"bottom"===n||"center"===n||Gc(n)?(l+=a.bottom,Wc(i.text)&&(l+=o.lineHeight*(i.text.length-1))):l+=a.top;var u=function(e,t,n,i){var r,o,a,s=e.top,l=e.left,u=e.bottom,c=e.right,h=e.chart,d=h.chartArea,f=h.scales,p=0,v=u-s,g=c-l;if(e.isHorizontal()){if(o=Gh(i,l,c),Gc(n)){var m=Object.keys(n)[0],y=n[m];a=f[m].getPixelForValue(y)+v-t}else a="center"===n?(d.bottom+d.top)/2+v-t:av(e,n,t);r=c-l}else{if(Gc(n)){var _=Object.keys(n)[0],b=n[_];o=f[_].getPixelForValue(b)-g+t}else o="center"===n?(d.left+d.right)/2-g+t:av(e,n,t);a=Gh(i,u,s),p="left"===n?-_h:_h}return{titleX:o,titleY:a,maxWidth:r,rotation:p}}(this,l,n,s),c=u.titleX,h=u.titleY,d=u.maxWidth,f=u.rotation;Id(e,i.text,0,0,o,{color:i.color,maxWidth:d,rotation:f,textAlign:dv(s,n,r),textBaseline:"middle",translation:[c,h]})}}},{key:"draw",value:function(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}},{key:"_layers",value:function(){var e=this,t=this.options,i=t.ticks&&t.ticks.z||0,r=Kc(t.grid&&t.grid.z,-1),o=Kc(t.border&&t.border.z,0);return this._isVisible()&&this.draw===n.prototype.draw?[{z:r,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:o,draw:function(){e.drawBorder()}},{z:i,draw:function(t){e.drawLabels(t)}}]:[{z:i,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(e){var t,n,i=this.chart.getSortedVisibleDatasetMetas(),r=this.axis+"AxisID",o=[];for(t=0,n=i.length;t<n;++t){var a=i[t];a[r]!==this.id||e&&a.type!==e||o.push(a)}return o}},{key:"_resolveTickFontOptions",value:function(e){return Bd(this.options.ticks.setContext(this.getContext(e)).font)}},{key:"_maxDigits",value:function(){var e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}]),n}(iv),pv=function(){function e(t,n,i){(0,Sr.Z)(this,e),this.type=t,this.scope=n,this.override=i,this.items=Object.create(null)}return(0,Cr.Z)(e,[{key:"isForType",value:function(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}},{key:"register",value:function(e){var t,n=Object.getPrototypeOf(e);(function(e){return"id"in e&&"defaults"in e})(n)&&(t=this.register(n));var i=this.items,r=e.id,o=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+e);return r in i||(i[r]=e,function(e,t,n){var i=rh(Object.create(null),[n?pd.get(n):{},pd.get(t),e.defaults]);pd.set(t,i),e.defaultRoutes&&function(e,t){Object.keys(t).forEach((function(n){var i=n.split("."),r=i.pop(),o=[e].concat(i).join("."),a=t[n].split("."),s=a.pop(),l=a.join(".");pd.route(o,r,l,s)}))}(t,e.defaultRoutes);e.descriptors&&pd.describe(t,e.descriptors)}(e,o,t),this.override&&pd.override(e.id,e.overrides)),o}},{key:"get",value:function(e){return this.items[e]}},{key:"unregister",value:function(e){var t=this.items,n=e.id,i=this.scope;n in t&&delete t[n],i&&n in pd[i]&&(delete pd[i][n],this.override&&delete ud[n])}}]),e}();var vv=function(){function e(){(0,Sr.Z)(this,e),this.controllers=new pv(Jf,"datasets",!0),this.elements=new pv(iv,"elements"),this.plugins=new pv(Object,"plugins"),this.scales=new pv(fv,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return(0,Cr.Z)(e,[{key:"add",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}},{key:"remove",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}},{key:"addControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}},{key:"addElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}},{key:"addPlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}},{key:"addScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}},{key:"getController",value:function(e){return this._get(e,this.controllers,"controller")}},{key:"getElement",value:function(e){return this._get(e,this.elements,"element")}},{key:"getPlugin",value:function(e){return this._get(e,this.plugins,"plugin")}},{key:"getScale",value:function(e){return this._get(e,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}},{key:"removeElements",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}},{key:"removePlugins",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}},{key:"removeScales",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}},{key:"_each",value:function(e,t,n){var i=this;(0,s.Z)(t).forEach((function(t){var r=n||i._getRegistryForType(t);n||r.isForType(t)||r===i.plugins&&t.id?i._exec(e,r,t):Qc(t,(function(t){var r=n||i._getRegistryForType(t);i._exec(e,r,t)}))}))}},{key:"_exec",value:function(e,t,n){var i=ch(e);Jc(n["before"+i],[],n),t[e](n),Jc(n["after"+i],[],n)}},{key:"_getRegistryForType",value:function(e){for(var t=0;t<this._typedRegistries.length;t++){var n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}},{key:"_get",value:function(e,t,n){var i=t.get(e);if(void 0===i)throw new Error('"'+e+'" is not a registered '+n+".");return i}}]),e}(),gv=new vv,mv=function(){function e(){(0,Sr.Z)(this,e),this._init=[]}return(0,Cr.Z)(e,[{key:"notify",value:function(e,t,n,i){"beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));var r=i?this._descriptors(e).filter(i):this._descriptors(e),o=this._notify(r,e,t,n);return"afterDestroy"===t&&(this._notify(r,e,"stop"),this._notify(this._init,e,"uninstall")),o}},{key:"_notify",value:function(e,t,n,i){i=i||{};var r,o=a(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=s.plugin;if(!1===Jc(l[n],[t,i,s.options],l)&&i.cancelable)return!1}}catch(u){o.e(u)}finally{o.f()}return!0}},{key:"invalidate",value:function(){Vc(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}},{key:"_descriptors",value:function(e){if(this._cache)return this._cache;var t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}},{key:"_createDescriptors",value:function(e,t){var n=e&&e.config,i=Kc(n.options&&n.options.plugins,{}),r=function(e){for(var t={},n=[],i=Object.keys(gv.plugins.items),r=0;r<i.length;r++)n.push(gv.getPlugin(i[r]));for(var o=e.plugins||[],a=0;a<o.length;a++){var s=o[a];-1===n.indexOf(s)&&(n.push(s),t[s.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==i||t?function(e,t,n,i){var r,o=t.plugins,s=t.localIds,l=[],u=e.getContext(),c=a(o);try{for(c.s();!(r=c.n()).done;){var h=r.value,d=h.id,f=yv(n[d],i);null!==f&&l.push({plugin:h,options:_v(e.config,{plugin:h,local:s[d]},f,u)})}}catch(p){c.e(p)}finally{c.f()}return l}(e,r,i,t):[]}},{key:"_notifyStateChanges",value:function(e){var t=this._oldCache||[],n=this._cache,i=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.plugin.id===t.plugin.id}))}))};this._notify(i(t,n),e,"stop"),this._notify(i(n,t),e,"start")}}]),e}();function yv(e,t){return t||!1!==e?!0===e?{}:e:null}function _v(e,t,n,i){var r=t.plugin,o=t.local,a=e.pluginScopeKeys(r),s=e.getOptionScopes(n,a);return o&&r.defaults&&s.push(r.defaults),e.createResolver(s,i,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function bv(e,t){var n=pd.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function kv(e){if("x"===e||"y"===e||"r"===e)return e}function Tv(e){if(kv(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];for(var r=0,o=n;r<o.length;r++){var a=o[r],s=a.axis||("top"===(l=a.position)||"bottom"===l?"x":"left"===l||"right"===l?"y":void 0)||e.length>1&&kv(e[0].toLowerCase());if(s)return s}var l;throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function Ev(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function xv(e,t){var n=ud[e.type]||{scales:{}},i=t.scales||{},r=bv(e.type,t),o=Object.create(null);return Object.keys(i).forEach((function(t){var a=i[t];if(!Gc(a))return console.error("Invalid scale configuration for scale: ".concat(t));if(a._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));var s=Tv(t,a,function(e,t){if(t.data&&t.data.datasets){var n=t.data.datasets.filter((function(t){return t.xAxisID===e||t.yAxisID===e}));if(n.length)return Ev(e,"x",n[0])||Ev(e,"y",n[0])}return{}}(t,e),pd.scales[a.type]),l=function(e,t){return e===t?"_index_":"_value_"}(s,r),u=n.scales||{};o[t]=oh(Object.create(null),[{axis:s},a,u[s],u[l]])})),e.data.datasets.forEach((function(n){var r=n.type||e.type,a=n.indexAxis||bv(r,t),s=(ud[r]||{}).scales||{};Object.keys(s).forEach((function(e){var t=function(e,t){var n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,a),r=n[t+"AxisID"]||t;o[r]=o[r]||Object.create(null),oh(o[r],[{axis:t},i[r],s[e]])}))})),Object.keys(o).forEach((function(e){var t=o[e];oh(t,[pd.scales[t.type],pd.scale])})),o}function wv(e){var t=e.options||(e.options={});t.plugins=Kc(t.plugins,{}),t.scales=xv(e,t)}function Sv(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}var Cv=new Map,Iv=new Set;function Rv(e,t){var n=Cv.get(e);return n||(n=t(),Cv.set(e,n),Iv.add(n)),n}var Ov=function(e,t,n){var i=uh(t,n);void 0!==i&&e.add(i)},Av=function(){function e(t){(0,Sr.Z)(this,e),this._config=function(e){return(e=e||{}).data=Sv(e.data),wv(e),e}(t),this._scopeCache=new Map,this._resolverCache=new Map}return(0,Cr.Z)(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(e){this._config.type=e}},{key:"data",get:function(){return this._config.data},set:function(e){this._config.data=Sv(e)}},{key:"options",get:function(){return this._config.options},set:function(e){this._config.options=e}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var e=this._config;this.clearCache(),wv(e)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(e){return Rv(e,(function(){return[["datasets.".concat(e),""]]}))}},{key:"datasetAnimationScopeKeys",value:function(e,t){return Rv("".concat(e,".transition.").concat(t),(function(){return[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]]}))}},{key:"datasetElementScopeKeys",value:function(e,t){return Rv("".concat(e,"-").concat(t),(function(){return[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]]}))}},{key:"pluginScopeKeys",value:function(e){var t=e.id,n=this.type;return Rv("".concat(n,"-plugin-").concat(t),(function(){return[["plugins.".concat(t)].concat((0,s.Z)(e.additionalOptionScopes||[]))]}))}},{key:"_cachedScopes",value:function(e,t){var n=this._scopeCache,i=n.get(e);return i&&!t||(i=new Map,n.set(e,i)),i}},{key:"getOptionScopes",value:function(e,t,n){var i=this.options,r=this.type,o=this._cachedScopes(e,n),a=o.get(t);if(a)return a;var s=new Set;t.forEach((function(t){e&&(s.add(e),t.forEach((function(t){return Ov(s,e,t)}))),t.forEach((function(e){return Ov(s,i,e)})),t.forEach((function(e){return Ov(s,ud[r]||{},e)})),t.forEach((function(e){return Ov(s,pd,e)})),t.forEach((function(e){return Ov(s,cd,e)}))}));var l=Array.from(s);return 0===l.length&&l.push(Object.create(null)),Iv.has(t)&&o.set(t,l),l}},{key:"chartOptionScopes",value:function(){var e=this.options,t=this.type;return[e,ud[t]||{},pd.datasets[t]||{},{type:t},pd,cd]}},{key:"resolveNamedOptions",value:function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""],r={$shared:!0},o=Mv(this._resolverCache,e,i),s=o.resolver,l=o.subPrefixes,u=s;(function(e,t){var n,i=Hd(e),r=i.isScriptable,o=i.isIndexable,s=a(t);try{for(s.s();!(n=s.n()).done;){var l=n.value,u=r(l),c=o(l),h=(c||u)&&e[l];if(u&&(dh(h)||Lv(h))||c&&Wc(h))return!0}}catch(d){s.e(d)}finally{s.f()}return!1})(s,t)&&(r.$shared=!1,u=Zd(s,n=dh(n)?n():n,this.createResolver(e,n,l)));var c,h=a(t);try{for(h.s();!(c=h.n()).done;){var d=c.value;r[d]=u[d]}}catch(f){h.e(f)}finally{h.f()}return r}},{key:"createResolver",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],i=arguments.length>3?arguments[3]:void 0,r=Mv(this._resolverCache,e,n).resolver;return Gc(t)?Zd(r,t,void 0,i):r}}]),e}();function Mv(e,t,n){var i=e.get(t);i||(i=new Map,e.set(t,i));var r=n.join(),o=i.get(r);o||(o={resolver:jd(t,n),subPrefixes:n.filter((function(e){return!e.toLowerCase().includes("hover")}))},i.set(r,o));return o}var Lv=function(e){return Gc(e)&&Object.getOwnPropertyNames(e).some((function(t){return dh(e[t])}))};var Nv=["top","bottom","left","right","chartArea"];function $v(e,t){return"top"===e||"bottom"===e||-1===Nv.indexOf(e)&&"x"===t}function Pv(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}function Dv(e){var t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),Jc(n&&n.onComplete,[e],t)}function Bv(e){var t=e.chart,n=t.options.animation;Jc(n&&n.onProgress,[e],t)}function Fv(e){return uf()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}var Uv={},jv=function(e){var t=Fv(e);return Object.values(Uv).filter((function(e){return e.canvas===t})).pop()};function Zv(e,t,n){for(var i=0,r=Object.keys(e);i<r.length;i++){var o=r[i],a=+o;if(a>=t){var s=e[o];delete e[o],(n>0||a>t)&&(e[a+n]=s)}}}function Hv(e,t,n){return e.options.clip?e[n]:t[n]}var zv=function(){function e(t,n){var i=this;(0,Sr.Z)(this,e);var r=this.config=new Av(n),o=Fv(t),a=jv(o);if(a)throw new Error("Canvas is already in use. Chart with ID '"+a.id+"' must be destroyed before the canvas with ID '"+a.canvas.id+"' can be reused.");var s=r.createResolver(r.chartOptionScopes(),this.getContext());this.platform=new(r.platform||function(e){return!uf()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?jp:nv}(o)),this.platform.updateConfig(r);var l=this.platform.acquireContext(o,s.aspectRatio),u=l&&l.canvas,c=u&&u.height,h=u&&u.width;this.id=zc(),this.ctx=l,this.canvas=u,this.width=h,this.height=c,this._options=s,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new mv,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t?(clearTimeout(n),n=setTimeout(e,t,r)):e.apply(this,r),t}}((function(e){return i.update(e)}),s.resizeDelay||0),this._dataChanges=[],Uv[this.id]=this,l&&u?(Pf.listen(this,"complete",Dv),Pf.listen(this,"progress",Bv),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return(0,Cr.Z)(e,[{key:"aspectRatio",get:function(){var e=this.options,t=e.aspectRatio,n=e.maintainAspectRatio,i=this.width,r=this.height,o=this._aspectRatio;return Vc(t)?n&&o?o:r?i/r:null:t}},{key:"data",get:function(){return this.config.data},set:function(e){this.config.data=e}},{key:"options",get:function(){return this._options},set:function(e){this.config.options=e}},{key:"registry",get:function(){return gv}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():_f(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return yd(this.canvas,this.ctx),this}},{key:"stop",value:function(){return Pf.stop(this),this}},{key:"resize",value:function(e,t){Pf.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}},{key:"_resize",value:function(e,t){var n=this.options,i=this.canvas,r=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(i,e,t,r),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),s=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,_f(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Jc(n.onResize,[this,o],this),this.attached&&this._doResize(s)&&this.render())}},{key:"ensureScalesHaveIDs",value:function(){Qc(this.options.scales||{},(function(e,t){e.id=t}))}},{key:"buildOrUpdateScales",value:function(){var e=this,t=this.options,n=t.scales,i=this.scales,r=Object.keys(i).reduce((function(e,t){return e[t]=!1,e}),{}),o=[];n&&(o=o.concat(Object.keys(n).map((function(e){var t=n[e],i=Tv(e,t),r="r"===i,o="x"===i;return{options:t,dposition:r?"chartArea":o?"bottom":"left",dtype:r?"radialLinear":o?"category":"linear"}})))),Qc(o,(function(n){var o=n.options,a=o.id,s=Tv(a,o),l=Kc(o.type,n.dtype);void 0!==o.position&&$v(o.position,s)===$v(n.dposition)||(o.position=n.dposition),r[a]=!0;var u=null;a in i&&i[a].type===l?u=i[a]:(u=new(gv.getScale(l))({id:a,type:l,ctx:e.ctx,chart:e}),i[u.id]=u);u.init(o,t)})),Qc(r,(function(e,t){e||delete i[t]})),Qc(i,(function(t){Bp(e,t,t.options),Pp(e,t)}))}},{key:"_updateMetasets",value:function(){var e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((function(e,t){return e.index-t.index})),n>t){for(var i=t;i<n;++i)this._destroyDatasetMeta(i);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(Pv("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var e=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach((function(t,i){0===n.filter((function(e){return e===t._dataset})).length&&e._destroyDatasetMeta(i)}))}},{key:"buildOrUpdateControllers",value:function(){var e,t,n=[],i=this.data.datasets;for(this._removeUnreferencedMetasets(),e=0,t=i.length;e<t;e++){var r=i[e],o=this.getDatasetMeta(e),a=r.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(e),o=this.getDatasetMeta(e)),o.type=a,o.indexAxis=r.indexAxis||bv(a,this.options),o.order=r.order||0,o.index=e,o.label=""+r.label,o.visible=this.isDatasetVisible(e),o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var s=gv.getController(a),l=pd.datasets[a],u=l.datasetElementType,c=l.dataElementType;Object.assign(s,{dataElementType:gv.getElement(c),datasetElementType:u&&gv.getElement(u)}),o.controller=new s(this,e),n.push(o.controller)}}return this._updateMetasets(),n}},{key:"_resetElements",value:function(){var e=this;Qc(this.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(e){var t=this.config;t.update();var n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),i=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})){var r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");for(var o=0,a=0,s=this.data.datasets.length;a<s;a++){var l=this.getDatasetMeta(a).controller,u=!i&&-1===r.indexOf(l);l.buildOrUpdateElements(u),o=Math.max(+l.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),i||Qc(r,(function(e){e.reset()})),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(Pv("z","_idx"));var c=this._active,h=this._lastEvent;h?this._eventHandler(h,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;Qc(this.scales,(function(t){Dp(e,t)})),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);fh(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var e,t=this._hiddenIndices,n=a(this._getUniformDataChanges()||[]);try{for(n.s();!(e=n.n()).done;){var i=e.value,r=i.method,o=i.start,s=i.count;Zv(t,o,"_removeElements"===r?-s:s)}}catch(l){n.e(l)}finally{n.f()}}},{key:"_getUniformDataChanges",value:function(){var e=this._dataChanges;if(e&&e.length){this._dataChanges=[];for(var t=this.data.datasets.length,n=function(t){return new Set(e.filter((function(e){return e[0]===t})).map((function(e,t){return t+","+e.splice(1).join(",")})))},i=n(0),r=1;r<t;r++)if(!fh(i,n(r)))return;return Array.from(i).map((function(e){return e.split(",")})).map((function(e){return{method:e[1],start:+e[2],count:+e[3]}}))}}},{key:"_updateLayout",value:function(e){var t=this;if(!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})){Fp(this,this.width,this.height,e);var n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Qc(this.boxes,(function(e){var n;i&&"chartArea"===e.position||(e.configure&&e.configure(),(n=t._layers).push.apply(n,(0,s.Z)(e._layers())))}),this),this._layers.forEach((function(e,t){e._idx=t})),this.notifyPlugins("afterLayout")}}},{key:"_updateDatasets",value:function(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(var t=0,n=this.data.datasets.length;t<n;++t)this.getDatasetMeta(t).controller.configure();for(var i=0,r=this.data.datasets.length;i<r;++i)this._updateDataset(i,dh(e)?e({datasetIndex:i}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}},{key:"_updateDataset",value:function(e,t){var n=this.getDatasetMeta(e),i={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",i)&&(n.controller._update(t),i.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",i))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Pf.has(this)?this.attached&&!Pf.running(this)&&Pf.start(this):(this.draw(),Dv({chart:this})))}},{key:"draw",value:function(){var e;if(this._resizeBeforeDraw){var t=this._resizeBeforeDraw,n=t.width,i=t.height;this._resizeBeforeDraw=null,this._resize(n,i)}if(this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){var r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(e){var t,n,i=this._sortedMetasets,r=[];for(t=0,n=i.length;t<n;++t){var o=i[t];e&&!o.visible||r.push(o)}return r}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var e=this.getSortedVisibleDatasetMetas(),t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(e){var t=this.ctx,n=e._clip,i=!n.disabled,r=function(e,t){var n=e.xScale,i=e.yScale;return n&&i?{left:Hv(n,t,"left"),right:Hv(n,t,"right"),top:Hv(i,t,"top"),bottom:Hv(i,t,"bottom")}:t}(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(i&&Td(t,{left:!1===n.left?0:r.left-n.left,right:!1===n.right?this.width:r.right+n.right,top:!1===n.top?0:r.top-n.top,bottom:!1===n.bottom?this.height:r.bottom+n.bottom}),e.controller.draw(),i&&Ed(t),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}},{key:"isPointInArea",value:function(e){return kd(e,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(e,t,n,i){var r=Ep.modes[t];return"function"===typeof r?r(this,e,n,i):[]}},{key:"getDatasetMeta",value:function(e){var t=this.data.datasets[e],n=this._metasets,i=n.filter((function(e){return e&&e._dataset===t})).pop();return i||(i={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(i)),i}},{key:"getContext",value:function(){return this.$context||(this.$context=Ud(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(e){var t=this.data.datasets[e];if(!t)return!1;var n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}},{key:"setDatasetVisibility",value:function(e,t){this.getDatasetMeta(e).hidden=!t}},{key:"toggleDataVisibility",value:function(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}},{key:"getDataVisibility",value:function(e){return!this._hiddenIndices[e]}},{key:"_updateVisibility",value:function(e,t,n){var i=n?"show":"hide",r=this.getDatasetMeta(e),o=r.controller._resolveAnimations(void 0,i);hh(t)?(r.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(r,{visible:n}),this.update((function(t){return t.datasetIndex===e?i:void 0})))}},{key:"hide",value:function(e,t){this._updateVisibility(e,t,!1)}},{key:"show",value:function(e,t){this._updateVisibility(e,t,!0)}},{key:"_destroyDatasetMeta",value:function(e){var t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}},{key:"_stop",value:function(){var e,t;for(this.stop(),Pf.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var e=this.canvas,t=this.ctx;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),yd(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete Uv[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var e;return(e=this.canvas).toDataURL.apply(e,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var e=this,t=this._listeners,n=this.platform,i=function(t,n,i){t.offsetX=n,t.offsetY=i,e._eventHandler(t)};Qc(this.options.events,(function(r){return function(i,r){n.addEventListener(e,i,r),t[i]=r}(r,i)}))}},{key:"bindResponsiveEvents",value:function(){var e=this;this._responsiveListeners||(this._responsiveListeners={});var t,n=this._responsiveListeners,i=this.platform,r=function(t,r){i.addEventListener(e,t,r),n[t]=r},o=function(t,r){n[t]&&(i.removeEventListener(e,t,r),delete n[t])},a=function(t,n){e.canvas&&e.resize(t,n)},s=function n(){o("attach",n),e.attached=!0,e.resize(),r("resize",a),r("detach",t)};t=function(){e.attached=!1,o("resize",a),e._stop(),e._resize(0,0),r("attach",s)},i.isAttached(this.canvas)?s():t()}},{key:"unbindEvents",value:function(){var e=this;Qc(this._listeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._listeners={},Qc(this._responsiveListeners,(function(t,n){e.platform.removeEventListener(e,n,t)})),this._responsiveListeners=void 0}},{key:"updateHoverStyle",value:function(e,t,n){var i,r,o,a=n?"set":"remove";for("dataset"===t&&this.getDatasetMeta(e[0].datasetIndex).controller["_"+a+"DatasetHoverStyle"](),r=0,o=e.length;r<o;++r){var s=(i=e[r])&&this.getDatasetMeta(i.datasetIndex).controller;s&&s[a+"HoverStyle"](i.element,i.datasetIndex,i.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e){var t=this,n=this._active||[],i=e.map((function(e){var n=e.datasetIndex,i=e.index,r=t.getDatasetMeta(n);if(!r)throw new Error("No dataset found at index "+n);return{datasetIndex:n,element:r.data[i],index:i}}));!eh(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}},{key:"notifyPlugins",value:function(e,t,n){return this._plugins.notify(this,e,t,n)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter((function(t){return t.plugin.id===e})).length}},{key:"_updateHoverStyles",value:function(e,t,n){var i=this.options.hover,r=function(e,t){return e.filter((function(e){return!t.some((function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index}))}))},o=r(t,e),a=n?e:r(e,t);o.length&&this.updateHoverStyle(o,i.mode,!1),a.length&&i.mode&&this.updateHoverStyle(a,i.mode,!0)}},{key:"_eventHandler",value:function(e,t){var n=this,i={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=function(t){return(t.options.events||n.options.events).includes(e.native.type)};if(!1!==this.notifyPlugins("beforeEvent",i,r)){var o=this._handleEvent(e,t,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}}},{key:"_handleEvent",value:function(e,t,n){var i=this._active,r=void 0===i?[]:i,o=this.options,a=t,s=this._getActiveElements(e,r,n,a),l=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),u=function(e,t,n,i){return n&&"mouseout"!==e.type?i?t:e:null}(e,this._lastEvent,n,l);n&&(this._lastEvent=null,Jc(o.onHover,[e,s,this],this),l&&Jc(o.onClick,[e,s,this],this));var c=!eh(s,r);return(c||t)&&(this._active=s,this._updateHoverStyles(s,r,t)),this._lastEvent=u,c}},{key:"_getActiveElements",value:function(e,t,n,i){if("mouseout"===e.type)return[];if(!n)return t;var r=this.options.hover;return this.getElementsAtEventForMode(e,r.mode,r,i)}}],[{key:"register",value:function(){gv.add.apply(gv,arguments),Vv()}},{key:"unregister",value:function(){gv.remove.apply(gv,arguments),Vv()}}]),e}();function Vv(){return Qc(zv.instances,(function(e){return e._plugins.invalidate()}))}function Wv(e,t,n,i){var r=function(e){return Nd(e,["outerStart","outerEnd","innerStart","innerEnd"])}(e.options.borderRadius),o=(n-t)/2,a=Math.min(o,i*t/2),s=function(e){var t=(n-Math.min(o,e))*i/2;return Ph(e,0,Math.min(o,t))};return{outerStart:s(r.outerStart),outerEnd:s(r.outerEnd),innerStart:Ph(r.innerStart,0,a),innerEnd:Ph(r.innerEnd,0,a)}}function Gv(e,t,n,i){return{x:n+e*Math.cos(t),y:i+e*Math.sin(t)}}function Xv(e,t,n,i,r,o){var a=t.x,s=t.y,l=t.startAngle,u=t.pixelMargin,c=t.innerRadius,h=Math.max(t.outerRadius+i+n-u,0),d=c>0?c+i+n+u:0,f=0,p=r-l;if(i){var v=((c>0?c-i:0)+(h>0?h-i:0))/2;f=(p-(0!==v?p*v/(v+i):p))/2}var g=(p-Math.max(.001,p*h-n/ph)/h)/2,m=l+g+f,y=r-g-f,_=Wv(t,d,h,y-m),b=_.outerStart,k=_.outerEnd,T=_.innerStart,E=_.innerEnd,x=h-b,w=h-k,S=m+b/x,C=y-k/w,I=d+T,R=d+E,O=m+T/I,A=y-E/R;if(e.beginPath(),o){var M=(S+C)/2;if(e.arc(a,s,h,S,M),e.arc(a,s,h,M,C),k>0){var L=Gv(w,C,a,s);e.arc(L.x,L.y,k,C,y+_h)}var N=Gv(R,y,a,s);if(e.lineTo(N.x,N.y),E>0){var $=Gv(R,A,a,s);e.arc($.x,$.y,E,y+_h,A+Math.PI)}var P=(y-E/d+(m+T/d))/2;if(e.arc(a,s,d,y-E/d,P,!0),e.arc(a,s,d,P,m+T/d,!0),T>0){var D=Gv(I,O,a,s);e.arc(D.x,D.y,T,O+Math.PI,m-_h)}var B=Gv(x,m,a,s);if(e.lineTo(B.x,B.y),b>0){var F=Gv(x,S,a,s);e.arc(F.x,F.y,b,m-_h,S)}}else{e.moveTo(a,s);var U=Math.cos(S)*h+a,j=Math.sin(S)*h+s;e.lineTo(U,j);var Z=Math.cos(C)*h+a,H=Math.sin(C)*h+s;e.lineTo(Z,H)}e.closePath()}function Yv(e,t,n,i,r){var o=t.fullCircles,a=t.startAngle,s=t.circumference,l=t.options,u=l.borderWidth,c=l.borderJoinStyle,h=l.borderDash,d=l.borderDashOffset,f="inner"===l.borderAlign;if(u){e.setLineDash(h||[]),e.lineDashOffset=d,f?(e.lineWidth=2*u,e.lineJoin=c||"round"):(e.lineWidth=u,e.lineJoin=c||"bevel");var p=t.endAngle;if(o){Xv(e,t,n,i,p,r);for(var v=0;v<o;++v)e.stroke();isNaN(s)||(p=a+(s%vh||vh))}f&&function(e,t,n){var i=t.startAngle,r=t.pixelMargin,o=t.x,a=t.y,s=t.outerRadius,l=t.innerRadius,u=r/s;e.beginPath(),e.arc(o,a,s,i-u,n+u),l>r?(u=r/l,e.arc(o,a,l,n+u,i-u,!0)):e.arc(o,a,r,n+_h,i-_h),e.closePath(),e.clip()}(e,t,p),o||(Xv(e,t,n,i,p,r),e.stroke())}}(0,K.Z)(zv,"defaults",pd),(0,K.Z)(zv,"instances",Uv),(0,K.Z)(zv,"overrides",ud),(0,K.Z)(zv,"registry",gv),(0,K.Z)(zv,"version","4.4.6"),(0,K.Z)(zv,"getChart",jv);var Kv=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),i=t.call(this),(0,K.Z)(re(i),"circumference",void 0),(0,K.Z)(re(i),"endAngle",void 0),(0,K.Z)(re(i),"fullCircles",void 0),(0,K.Z)(re(i),"innerRadius",void 0),(0,K.Z)(re(i),"outerRadius",void 0),(0,K.Z)(re(i),"pixelMargin",void 0),(0,K.Z)(re(i),"startAngle",void 0),i.options=void 0,i.circumference=void 0,i.startAngle=void 0,i.endAngle=void 0,i.innerRadius=void 0,i.outerRadius=void 0,i.pixelMargin=0,i.fullCircles=0,e&&Object.assign(re(i),e),i}return(0,Cr.Z)(n,[{key:"inRange",value:function(e,t,n){var i=Ah(this.getProps(["x","y"],n),{x:e,y:t}),r=i.angle,o=i.distance,a=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),s=a.startAngle,l=a.endAngle,u=a.innerRadius,c=a.outerRadius,h=a.circumference,d=(this.options.spacing+this.options.borderWidth)/2,f=Kc(h,l-s),p=$h(r,s,l)&&s!==l,v=f>=vh||p,g=Dh(o,u+d,c+d);return v&&g}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),n=t.x,i=t.y,r=t.startAngle,o=t.endAngle,a=t.innerRadius,s=t.outerRadius,l=this.options,u=l.offset,c=(r+o)/2,h=(a+s+l.spacing+u)/2;return{x:n+Math.cos(c)*h,y:i+Math.sin(c)*h}}},{key:"tooltipPosition",value:function(e){return this.getCenterPoint(e)}},{key:"draw",value:function(e){var t=this.options,n=this.circumference,i=(t.offset||0)/4,r=(t.spacing||0)/2,o=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>vh?Math.floor(n/vh):0,!(0===n||this.innerRadius<0||this.outerRadius<0)){e.save();var a=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(a)*i,Math.sin(a)*i);var s=i*(1-Math.sin(Math.min(ph,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,i,r){var o=t.fullCircles,a=t.startAngle,s=t.circumference,l=t.endAngle;if(o){Xv(e,t,n,i,l,r);for(var u=0;u<o;++u)e.fill();isNaN(s)||(l=a+(s%vh||vh))}Xv(e,t,n,i,l,r),e.fill()}(e,this,s,r,o),Yv(e,this,s,r,o),e.restore()}}}]),n}(iv);function qv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=Kc(n.borderCapStyle,t.borderCapStyle),e.setLineDash(Kc(n.borderDash,t.borderDash)),e.lineDashOffset=Kc(n.borderDashOffset,t.borderDashOffset),e.lineJoin=Kc(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=Kc(n.borderWidth,t.borderWidth),e.strokeStyle=Kc(n.borderColor,t.borderColor)}function Jv(e,t,n){e.lineTo(n.x,n.y)}function Qv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.length,r=n.start,o=void 0===r?0:r,a=n.end,s=void 0===a?i-1:a,l=t.start,u=t.end,c=Math.max(o,l),h=Math.min(s,u),d=o<l&&s<l||o>u&&s>u;return{count:i,start:c,loop:t.loop,ilen:h<c&&!d?i+h-c:h-c}}function eg(e,t,n,i){var r,o,a,s=t.points,l=t.options,u=Qv(s,n,i),c=u.count,h=u.start,d=u.loop,f=u.ilen,p=function(e){return e.stepped?xd:e.tension||"monotone"===e.cubicInterpolationMode?wd:Jv}(l),v=i||{},g=v.move,m=void 0===g||g,y=v.reverse;for(r=0;r<=f;++r)(o=s[(h+(y?f-r:r))%c]).skip||(m?(e.moveTo(o.x,o.y),m=!1):p(e,a,o,y,l.stepped),a=o);return d&&p(e,a,o=s[(h+(y?f:0))%c],y,l.stepped),!!d}function tg(e,t,n,i){var r,o,a,s,l,u,c=t.points,h=Qv(c,n,i),d=h.count,f=h.start,p=h.ilen,v=i||{},g=v.move,m=void 0===g||g,y=v.reverse,_=0,b=0,k=function(e){return(f+(y?p-e:e))%d},T=function(){s!==l&&(e.lineTo(_,l),e.lineTo(_,s),e.lineTo(_,u))};for(m&&(o=c[k(0)],e.moveTo(o.x,o.y)),r=0;r<=p;++r)if(!(o=c[k(r)]).skip){var E=o.x,x=o.y,w=0|E;w===a?(x<s?s=x:x>l&&(l=x),_=(b*_+E)/++b):(T(),e.lineTo(E,x),a=w,b=0,s=l=x),u=x}T()}function ng(e){var t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?tg:eg}(0,K.Z)(Kv,"id","arc"),(0,K.Z)(Kv,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),(0,K.Z)(Kv,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,K.Z)(Kv,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e}});var ig="function"===typeof Path2D;function rg(e,t,n,i){ig&&!t.options.segment?function(e,t,n,i){var r=t._path;r||(r=t._path=new Path2D,t.path(r,n,i)&&r.closePath()),qv(e,t.options),e.stroke(r)}(e,t,n,i):function(e,t,n,i){var r,o=t.segments,s=t.options,l=ng(t),u=a(o);try{for(u.s();!(r=u.n()).done;){var c=r.value;qv(e,s,c.style),e.beginPath(),l(e,t,c,{start:n,end:n+i-1})&&e.closePath(),e.stroke()}}catch(h){u.e(h)}finally{u.f()}}(e,t,n,i)}var og=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).animated=!0,i.options=void 0,i._chart=void 0,i._loop=void 0,i._fullLoop=void 0,i._path=void 0,i._points=void 0,i._segments=void 0,i._decimated=!1,i._pointsUpdated=!1,i._datasetIndex=void 0,e&&Object.assign(re(i),e),i}return(0,Cr.Z)(n,[{key:"updateControlPoints",value:function(e,t){var n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){var i=n.spanGaps?this._loop:this._fullLoop;lf(this._points,n,e,i,t),this._pointsUpdated=!0}}},{key:"points",get:function(){return this._points},set:function(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=function(e,t){var n=e.points,i=e.options.spanGaps,r=n.length;if(!r)return[];var o=!!e._loop,a=function(e,t,n,i){var r=0,o=t-1;if(n&&!i)for(;r<t&&!e[r].skip;)r++;for(;r<t&&e[r].skip;)r++;for(r%=t,n&&(o+=r);o>r&&e[o%t].skip;)o--;return{start:r,end:o%=t}}(n,r,o,i),s=a.start,l=a.end;return Mf(e,!0===i?[{start:s,end:l,loop:o}]:function(e,t,n,i){var r,o=e.length,a=[],s=t,l=e[t];for(r=t+1;r<=n;++r){var u=e[r%o];u.skip||u.stop?l.skip||(i=!1,a.push({start:t%o,end:(r-1)%o,loop:i}),t=s=u.stop?r:null):(s=r,l.skip&&(t=r)),l=u}return null!==s&&a.push({start:t%o,end:s%o,loop:i}),a}(n,s,l<s?l+r:l,!!e._fullLoop&&0===s&&l===r-1),n,t)}(this,this.options.segment))}},{key:"first",value:function(){var e=this.segments,t=this.points;return e.length&&t[e[0].start]}},{key:"last",value:function(){var e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}},{key:"interpolate",value:function(e,t){var n=this.options,i=e[t],r=this.points,o=Af(this,{property:t,start:i,end:i});if(o.length){var a,s,l=[],u=function(e){return e.stepped?Ef:e.tension||"monotone"===e.cubicInterpolationMode?xf:Tf}(n);for(a=0,s=o.length;a<s;++a){var c=o[a],h=c.start,d=c.end,f=r[h],p=r[d];if(f!==p){var v=u(f,p,Math.abs((i-f[t])/(p[t]-f[t])),n.stepped);v[t]=e[t],l.push(v)}else l.push(f)}return 1===l.length?l[0]:l}}},{key:"pathSegment",value:function(e,t,n){return ng(this)(e,this,t,n)}},{key:"path",value:function(e,t,n){var i=this.segments,r=ng(this),o=this._loop;t=t||0,n=n||this.points.length-t;var s,l=a(i);try{for(l.s();!(s=l.n()).done;){o&=r(e,this,s.value,{start:t,end:t+n-1})}}catch(u){l.e(u)}finally{l.f()}return!!o}},{key:"draw",value:function(e,t,n,i){var r=this.options||{};(this.points||[]).length&&r.borderWidth&&(e.save(),rg(e,this,n,i),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}]),n}(iv);function ag(e,t,n,i){var r=e.options,o=e.getProps([n],i)[n];return Math.abs(t-o)<r.radius+r.hitRadius}(0,K.Z)(og,"id","line"),(0,K.Z)(og,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,K.Z)(og,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,K.Z)(og,"descriptors",{_scriptable:!0,_indexable:function(e){return"borderDash"!==e&&"fill"!==e}});var sg=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),i=t.call(this),(0,K.Z)(re(i),"parsed",void 0),(0,K.Z)(re(i),"skip",void 0),(0,K.Z)(re(i),"stop",void 0),i.options=void 0,i.parsed=void 0,i.skip=void 0,i.stop=void 0,e&&Object.assign(re(i),e),i}return(0,Cr.Z)(n,[{key:"inRange",value:function(e,t,n){var i=this.options,r=this.getProps(["x","y"],n),o=r.x,a=r.y;return Math.pow(e-o,2)+Math.pow(t-a,2)<Math.pow(i.hitRadius+i.radius,2)}},{key:"inXRange",value:function(e,t){return ag(this,e,"x",t)}},{key:"inYRange",value:function(e,t){return ag(this,e,"y",t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y"],e);return{x:t.x,y:t.y}}},{key:"size",value:function(e){var t=(e=e||this.options||{}).radius||0;return 2*((t=Math.max(t,t&&e.hoverRadius||0))+(t&&e.borderWidth||0))}},{key:"draw",value:function(e,t){var n=this.options;this.skip||n.radius<.1||!kd(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,_d(e,n,this.x,this.y))}},{key:"getRange",value:function(){var e=this.options||{};return e.radius+e.hitRadius}}]),n}(iv);function lg(e,t){var n,i,r,o,a,s=e.getProps(["x","y","base","width","height"],t),l=s.x,u=s.y,c=s.base,h=s.width,d=s.height;return e.horizontal?(a=d/2,n=Math.min(l,c),i=Math.max(l,c),r=u-a,o=u+a):(n=l-(a=h/2),i=l+a,r=Math.min(u,c),o=Math.max(u,c)),{left:n,top:r,right:i,bottom:o}}function ug(e,t,n,i){return e?0:Ph(t,n,i)}function cg(e){var t=lg(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){var i=e.options.borderWidth,r=e.borderSkipped,o=$d(i);return{t:ug(r.top,o.top,0,n),r:ug(r.right,o.right,0,t),b:ug(r.bottom,o.bottom,0,n),l:ug(r.left,o.left,0,t)}}(e,n/2,i/2),o=function(e,t,n){var i=e.getProps(["enableBorderRadius"]).enableBorderRadius,r=e.options.borderRadius,o=Pd(r),a=Math.min(t,n),s=e.borderSkipped,l=i||Gc(r);return{topLeft:ug(!l||s.top||s.left,o.topLeft,0,a),topRight:ug(!l||s.top||s.right,o.topRight,0,a),bottomLeft:ug(!l||s.bottom||s.left,o.bottomLeft,0,a),bottomRight:ug(!l||s.bottom||s.right,o.bottomRight,0,a)}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i,radius:o},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,o.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(r.b,r.r))}}}}function hg(e,t,n,i){var r=null===t,o=null===n,a=e&&!(r&&o)&&lg(e,i);return a&&(r||Dh(t,a.left,a.right))&&(o||Dh(n,a.top,a.bottom))}function dg(e,t){e.rect(t.x,t.y,t.w,t.h)}function fg(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=e.x!==n.x?-t:0,r=e.y!==n.y?-t:0,o=(e.x+e.w!==n.x+n.w?t:0)-i,a=(e.y+e.h!==n.y+n.h?t:0)-r;return{x:e.x+i,y:e.y+r,w:e.w+o,h:e.h+a,radius:e.radius}}(0,K.Z)(sg,"id","point"),(0,K.Z)(sg,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,K.Z)(sg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var pg=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).options=void 0,i.horizontal=void 0,i.base=void 0,i.width=void 0,i.height=void 0,i.inflateAmount=void 0,e&&Object.assign(re(i),e),i}return(0,Cr.Z)(n,[{key:"draw",value:function(e){var t,n=this.inflateAmount,i=this.options,r=i.borderColor,o=i.backgroundColor,a=cg(this),s=a.inner,l=a.outer,u=(t=l.radius).topLeft||t.topRight||t.bottomLeft||t.bottomRight?Rd:dg;e.save(),l.w===s.w&&l.h===s.h||(e.beginPath(),u(e,fg(l,n,s)),e.clip(),u(e,fg(s,-n,l)),e.fillStyle=r,e.fill("evenodd")),e.beginPath(),u(e,fg(s,n)),e.fillStyle=o,e.fill(),e.restore()}},{key:"inRange",value:function(e,t,n){return hg(this,e,t,n)}},{key:"inXRange",value:function(e,t){return hg(this,e,null,t)}},{key:"inYRange",value:function(e,t){return hg(this,null,e,t)}},{key:"getCenterPoint",value:function(e){var t=this.getProps(["x","y","base","horizontal"],e),n=t.x,i=t.y,r=t.base,o=t.horizontal;return{x:o?(n+r)/2:n,y:o?i:(i+r)/2}}},{key:"getRange",value:function(e){return"x"===e?this.width/2:this.height/2}}]),n}(iv);(0,K.Z)(pg,"id","bar"),(0,K.Z)(pg,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,K.Z)(pg,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});new WeakMap;var vg={average:function(e){if(!e.length)return!1;var t,n,i=new Set,r=0,o=0;for(t=0,n=e.length;t<n;++t){var a=e[t].element;if(a&&a.hasValue()){var l=a.tooltipPosition();i.add(l.x),r+=l.y,++o}}return 0!==o&&0!==i.size&&{x:(0,s.Z)(i).reduce((function(e,t){return e+t}))/i.size,y:r/o}},nearest:function(e,t){if(!e.length)return!1;var n,i,r,o=t.x,a=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n].element;if(l&&l.hasValue()){var u=Mh(t,l.getCenterPoint());u<s&&(s=u,r=l)}}if(r){var c=r.tooltipPosition();o=c.x,a=c.y}return{x:o,y:a}}};function gg(e,t){return t&&(Wc(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function mg(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function yg(e,t){var n=t.element,i=t.datasetIndex,r=t.index,o=e.getDatasetMeta(i).controller,a=o.getLabelAndValue(r),s=a.label,l=a.value;return{chart:e,label:s,parsed:o.getParsed(r),raw:e.data.datasets[i].data[r],formattedValue:l,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function _g(e,t){var n=e.chart.ctx,i=e.body,r=e.footer,o=e.title,a=t.boxWidth,s=t.boxHeight,l=Bd(t.bodyFont),u=Bd(t.titleFont),c=Bd(t.footerFont),h=o.length,d=r.length,f=i.length,p=Dd(t.padding),v=p.height,g=0,m=i.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);(m+=e.beforeBody.length+e.afterBody.length,h&&(v+=h*u.lineHeight+(h-1)*t.titleSpacing+t.titleMarginBottom),m)&&(v+=f*(t.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(m-f)*l.lineHeight+(m-1)*t.bodySpacing);d&&(v+=t.footerMarginTop+d*c.lineHeight+(d-1)*t.footerSpacing);var y=0,_=function(e){g=Math.max(g,n.measureText(e).width+y)};return n.save(),n.font=u.string,Qc(e.title,_),n.font=l.string,Qc(e.beforeBody.concat(e.afterBody),_),y=t.displayColors?a+2+t.boxPadding:0,Qc(i,(function(e){Qc(e.before,_),Qc(e.lines,_),Qc(e.after,_)})),y=0,n.font=c.string,Qc(e.footer,_),n.restore(),{width:g+=p.width,height:v}}function bg(e,t,n,i){var r=n.x,o=n.width,a=e.width,s=e.chartArea,l=s.left,u=s.right,c="center";return"center"===i?c=r<=(l+u)/2?"left":"right":r<=o/2?c="left":r>=a-o/2&&(c="right"),function(e,t,n,i){var r=i.x,o=i.width,a=n.caretSize+n.caretPadding;return"left"===e&&r+o+a>t.width||"right"===e&&r-o-a<0||void 0}(c,e,t,n)&&(c="center"),c}function kg(e,t,n){var i=n.yAlign||t.yAlign||function(e,t){var n=t.y,i=t.height;return n<i/2?"top":n>e.height-i/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||bg(e,t,n,i),yAlign:i}}function Tg(e,t,n,i){var r=e.caretSize,o=e.caretPadding,a=e.cornerRadius,s=n.xAlign,l=n.yAlign,u=r+o,c=Pd(a),h=c.topLeft,d=c.topRight,f=c.bottomLeft,p=c.bottomRight,v=function(e,t){var n=e.x,i=e.width;return"right"===t?n-=i:"center"===t&&(n-=i/2),n}(t,s),g=function(e,t,n){var i=e.y,r=e.height;return"top"===t?i+=n:i-="bottom"===t?r+n:r/2,i}(t,l,u);return"center"===l?"left"===s?v+=u:"right"===s&&(v-=u):"left"===s?v-=Math.max(h,f)+r:"right"===s&&(v+=Math.max(d,p)+r),{x:Ph(v,0,i.width-t.width),y:Ph(g,0,i.height-t.height)}}function Eg(e,t,n){var i=Dd(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-i.right:e.x+i.left}function xg(e){return gg([],mg(e))}function wg(e,t){var n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}var Sg={beforeTitle:Hc,title:function(e){if(e.length>0){var t=e[0],n=t.chart.data.labels,i=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return n[t.dataIndex]}return""},afterTitle:Hc,beforeBody:Hc,beforeLabel:Hc,label:function(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;var t=e.dataset.label||"";t&&(t+=": ");var n=e.formattedValue;return Vc(n)||(t+=n),t},labelColor:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(e){var t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:Hc,afterBody:Hc,beforeFooter:Hc,footer:Hc,afterFooter:Hc};function Cg(e,t,n,i){var r=e[t].call(n,i);return"undefined"===typeof r?Sg[t].call(n,i):r}var Ig=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).opacity=0,i._active=[],i._eventPosition=void 0,i._size=void 0,i._cachedAnimations=void 0,i._tooltipItems=[],i.$animations=void 0,i.$context=void 0,i.chart=e.chart,i.options=e.options,i.dataPoints=void 0,i.title=void 0,i.beforeBody=void 0,i.body=void 0,i.afterBody=void 0,i.footer=void 0,i.xAlign=void 0,i.yAlign=void 0,i.x=void 0,i.y=void 0,i.height=void 0,i.width=void 0,i.caretX=void 0,i.caretY=void 0,i.labelColors=void 0,i.labelPointStyles=void 0,i.labelTextColors=void 0,i}return(0,Cr.Z)(n,[{key:"initialize",value:function(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}},{key:"_resolveAnimations",value:function(){var e=this._cachedAnimations;if(e)return e;var t=this.chart,n=this.options.setContext(this.getContext()),i=n.enabled&&t.options.animation&&n.animations,r=new Uf(this.chart,i);return i._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}},{key:"getContext",value:function(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Ud(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}},{key:"getTitle",value:function(e,t){var n=t.callbacks,i=Cg(n,"beforeTitle",this,e),r=Cg(n,"title",this,e),o=Cg(n,"afterTitle",this,e),a=[];return a=gg(a,mg(i)),a=gg(a,mg(r)),a=gg(a,mg(o))}},{key:"getBeforeBody",value:function(e,t){return xg(Cg(t.callbacks,"beforeBody",this,e))}},{key:"getBody",value:function(e,t){var n=this,i=t.callbacks,r=[];return Qc(e,(function(e){var t={before:[],lines:[],after:[]},o=wg(i,e);gg(t.before,mg(Cg(o,"beforeLabel",n,e))),gg(t.lines,Cg(o,"label",n,e)),gg(t.after,mg(Cg(o,"afterLabel",n,e))),r.push(t)})),r}},{key:"getAfterBody",value:function(e,t){return xg(Cg(t.callbacks,"afterBody",this,e))}},{key:"getFooter",value:function(e,t){var n=t.callbacks,i=Cg(n,"beforeFooter",this,e),r=Cg(n,"footer",this,e),o=Cg(n,"afterFooter",this,e),a=[];return a=gg(a,mg(i)),a=gg(a,mg(r)),a=gg(a,mg(o))}},{key:"_createItems",value:function(e){var t,n,i=this,r=this._active,o=this.chart.data,a=[],s=[],l=[],u=[];for(t=0,n=r.length;t<n;++t)u.push(yg(this.chart,r[t]));return e.filter&&(u=u.filter((function(t,n,i){return e.filter(t,n,i,o)}))),e.itemSort&&(u=u.sort((function(t,n){return e.itemSort(t,n,o)}))),Qc(u,(function(t){var n=wg(e.callbacks,t);a.push(Cg(n,"labelColor",i,t)),s.push(Cg(n,"labelPointStyle",i,t)),l.push(Cg(n,"labelTextColor",i,t))})),this.labelColors=a,this.labelPointStyles=s,this.labelTextColors=l,this.dataPoints=u,u}},{key:"update",value:function(e,t){var n,i=this.options.setContext(this.getContext()),r=this._active,o=[];if(r.length){var a=vg[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);var s=this._size=_g(this,i),l=Object.assign({},a,s),u=kg(this.chart,i,l),c=Tg(i,l,u,this.chart);this.xAlign=u.xAlign,this.yAlign=u.yAlign,n={opacity:1,x:c.x,y:c.y,width:s.width,height:s.height,caretX:a.x,caretY:a.y}}else 0!==this.opacity&&(n={opacity:0});this._tooltipItems=o,this.$context=void 0,n&&this._resolveAnimations().update(this,n),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:t})}},{key:"drawCaret",value:function(e,t,n,i){var r=this.getCaretPosition(e,n,i);t.lineTo(r.x1,r.y1),t.lineTo(r.x2,r.y2),t.lineTo(r.x3,r.y3)}},{key:"getCaretPosition",value:function(e,t,n){var i,r,o,a,s,l,u=this.xAlign,c=this.yAlign,h=n.caretSize,d=Pd(n.cornerRadius),f=d.topLeft,p=d.topRight,v=d.bottomLeft,g=d.bottomRight,m=e.x,y=e.y,_=t.width,b=t.height;return"center"===c?(s=y+b/2,"left"===u?(r=(i=m)-h,a=s+h,l=s-h):(r=(i=m+_)+h,a=s-h,l=s+h),o=i):(r="left"===u?m+Math.max(f,v)+h:"right"===u?m+_-Math.max(p,g)-h:this.caretX,"top"===c?(s=(a=y)-h,i=r-h,o=r+h):(s=(a=y+b)+h,i=r+h,o=r-h),l=a),{x1:i,x2:r,x3:o,y1:a,y2:s,y3:l}}},{key:"drawTitle",value:function(e,t,n){var i,r,o,a=this.title,s=a.length;if(s){var l=wf(n.rtl,this.x,this.width);for(e.x=Eg(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",i=Bd(n.titleFont),r=n.titleSpacing,t.fillStyle=n.titleColor,t.font=i.string,o=0;o<s;++o)t.fillText(a[o],l.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+r,o+1===s&&(e.y+=n.titleMarginBottom-r)}}},{key:"_drawColorBox",value:function(e,t,n,i,r){var o=this.labelColors[n],a=this.labelPointStyles[n],l=r.boxHeight,u=r.boxWidth,c=Bd(r.bodyFont),h=Eg(this,"left",r),d=i.x(h),f=l<c.lineHeight?(c.lineHeight-l)/2:0,p=t.y+f;if(r.usePointStyle){var v={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},g=i.leftForLtr(d,u)+u/2,m=p+l/2;e.strokeStyle=r.multiKeyBackground,e.fillStyle=r.multiKeyBackground,_d(e,v,g,m),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,_d(e,v,g,m)}else{e.lineWidth=Gc(o.borderWidth)?Math.max.apply(Math,(0,s.Z)(Object.values(o.borderWidth))):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;var y=i.leftForLtr(d,u),_=i.leftForLtr(i.xPlus(d,1),u-2),b=Pd(o.borderRadius);Object.values(b).some((function(e){return 0!==e}))?(e.beginPath(),e.fillStyle=r.multiKeyBackground,Rd(e,{x:y,y:p,w:u,h:l,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Rd(e,{x:_,y:p+1,w:u-2,h:l-2,radius:b}),e.fill()):(e.fillStyle=r.multiKeyBackground,e.fillRect(y,p,u,l),e.strokeRect(y,p,u,l),e.fillStyle=o.backgroundColor,e.fillRect(_,p+1,u-2,l-2))}e.fillStyle=this.labelTextColors[n]}},{key:"drawBody",value:function(e,t,n){var i,r,o,a,s,l,u,c=this.body,h=n.bodySpacing,d=n.bodyAlign,f=n.displayColors,p=n.boxHeight,v=n.boxWidth,g=n.boxPadding,m=Bd(n.bodyFont),y=m.lineHeight,_=0,b=wf(n.rtl,this.x,this.width),k=function(n){t.fillText(n,b.x(e.x+_),e.y+y/2),e.y+=y+h},T=b.textAlign(d);for(t.textAlign=d,t.textBaseline="middle",t.font=m.string,e.x=Eg(this,T,n),t.fillStyle=n.bodyColor,Qc(this.beforeBody,k),_=f&&"right"!==T?"center"===d?v/2+g:v+2+g:0,a=0,l=c.length;a<l;++a){for(i=c[a],r=this.labelTextColors[a],t.fillStyle=r,Qc(i.before,k),o=i.lines,f&&o.length&&(this._drawColorBox(t,e,a,b,n),y=Math.max(m.lineHeight,p)),s=0,u=o.length;s<u;++s)k(o[s]),y=m.lineHeight;Qc(i.after,k)}_=0,y=m.lineHeight,Qc(this.afterBody,k),e.y-=h}},{key:"drawFooter",value:function(e,t,n){var i,r,o=this.footer,a=o.length;if(a){var s=wf(n.rtl,this.x,this.width);for(e.x=Eg(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=s.textAlign(n.footerAlign),t.textBaseline="middle",i=Bd(n.footerFont),t.fillStyle=n.footerColor,t.font=i.string,r=0;r<a;++r)t.fillText(o[r],s.x(e.x),e.y+i.lineHeight/2),e.y+=i.lineHeight+n.footerSpacing}}},{key:"drawBackground",value:function(e,t,n,i){var r=this.xAlign,o=this.yAlign,a=e.x,s=e.y,l=n.width,u=n.height,c=Pd(i.cornerRadius),h=c.topLeft,d=c.topRight,f=c.bottomLeft,p=c.bottomRight;t.fillStyle=i.backgroundColor,t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.beginPath(),t.moveTo(a+h,s),"top"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+l-d,s),t.quadraticCurveTo(a+l,s,a+l,s+d),"center"===o&&"right"===r&&this.drawCaret(e,t,n,i),t.lineTo(a+l,s+u-p),t.quadraticCurveTo(a+l,s+u,a+l-p,s+u),"bottom"===o&&this.drawCaret(e,t,n,i),t.lineTo(a+f,s+u),t.quadraticCurveTo(a,s+u,a,s+u-f),"center"===o&&"left"===r&&this.drawCaret(e,t,n,i),t.lineTo(a,s+h),t.quadraticCurveTo(a,s,a+h,s),t.closePath(),t.fill(),i.borderWidth>0&&t.stroke()}},{key:"_updateAnimationTarget",value:function(e){var t=this.chart,n=this.$animations,i=n&&n.x,r=n&&n.y;if(i||r){var o=vg[e.position].call(this,this._active,this._eventPosition);if(!o)return;var a=this._size=_g(this,e),s=Object.assign({},o,this._size),l=kg(t,e,s),u=Tg(e,s,l,t);i._to===u.x&&r._to===u.y||(this.xAlign=l.xAlign,this.yAlign=l.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,u))}}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(e){var t=this.options.setContext(this.getContext()),n=this.opacity;if(n){this._updateAnimationTarget(t);var i={width:this.width,height:this.height},r={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;var o=Dd(t.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&a&&(e.save(),e.globalAlpha=n,this.drawBackground(r,e,i,t),Sf(e,t.textDirection),r.y+=o.top,this.drawTitle(r,e,t),this.drawBody(r,e,t),this.drawFooter(r,e,t),Cf(e,t.textDirection),e.restore())}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(e,t){var n=this,i=this._active,r=e.map((function(e){var t=e.datasetIndex,i=e.index,r=n.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[i],index:i}})),o=!eh(i,r),a=this._positionChanged(r,t);(o||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var i=this.options,r=this._active||[],o=this._getActiveElements(e,r,t,n),a=this._positionChanged(o,e),s=t||!eh(o,r)||a;return s&&(this._active=o,(i.enabled||i.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),s}},{key:"_getActiveElements",value:function(e,t,n,i){var r=this,o=this.options;if("mouseout"===e.type)return[];if(!i)return t.filter((function(e){return r.chart.data.datasets[e.datasetIndex]&&void 0!==r.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index)}));var a=this.chart.getElementsAtEventForMode(e,o.mode,o,n);return o.reverse&&a.reverse(),a}},{key:"_positionChanged",value:function(e,t){var n=this.caretX,i=this.caretY,r=this.options,o=vg[r.position].call(this,e,t);return!1!==o&&(n!==o.x||i!==o.y)}}]),n}(iv);(0,K.Z)(Ig,"positioners",vg);function Rg(e,t,n,i){var r=e.indexOf(t);return-1===r?function(e,t,n,i){return"string"===typeof t?(n=e.push(t)-1,i.unshift({index:n,label:t})):isNaN(t)&&(n=null),n}(e,t,n,i):r!==e.lastIndexOf(t)?n:r}function Og(e){var t=this.getLabels();return e>=0&&e<t.length?t[e]:e}var Ag=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e))._startValue=void 0,i._valueRange=0,i._addedLabels=[],i}return(0,Cr.Z)(n,[{key:"init",value:function(e){var t=this._addedLabels;if(t.length){var i,r=this.getLabels(),o=a(t);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=s.index,u=s.label;r[l]===u&&r.splice(l,1)}}catch(c){o.e(c)}finally{o.f()}this._addedLabels=[]}oc(rc(n.prototype),"init",this).call(this,e)}},{key:"parse",value:function(e,t){if(Vc(e))return null;var n=this.getLabels();return function(e,t){return null===e?null:Ph(Math.round(e),0,t)}(t=isFinite(t)&&n[t]===e?t:Rg(n,e,Kc(t,e),this._addedLabels),n.length-1)}},{key:"determineDataLimits",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,i=this.getMinMax(!0),r=i.min,o=i.max;"ticks"===this.options.bounds&&(t||(r=0),n||(o=this.getLabels().length-1)),this.min=r,this.max=o}},{key:"buildTicks",value:function(){var e=this.min,t=this.max,n=this.options.offset,i=[],r=this.getLabels();r=0===e&&t===r.length-1?r:r.slice(e,t+1),this._valueRange=Math.max(r.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(var o=e;o<=t;o++)i.push({value:o});return i}},{key:"getLabelForValue",value:function(e){return Og.call(this,e)}},{key:"configure",value:function(){oc(rc(n.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}},{key:"getValueForPixel",value:function(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),n}(fv);function Mg(e,t){var n,i,r,o,a=[],s=e.bounds,l=e.step,u=e.min,c=e.max,h=e.precision,d=e.count,f=e.maxTicks,p=e.maxDigits,v=e.includeBounds,g=l||1,m=f-1,y=t.min,_=t.max,b=!Vc(u),k=!Vc(c),T=!Vc(d),E=(_-y)/(p+1),x=wh((_-y)/m/g)*g;if(x<1e-14&&!b&&!k)return[{value:y},{value:_}];(o=Math.ceil(_/x)-Math.floor(y/x))>m&&(x=wh(o*x/m/g)*g),Vc(h)||(n=Math.pow(10,h),x=Math.ceil(x*n)/n),"ticks"===s?(i=Math.floor(y/x)*x,r=Math.ceil(_/x)*x):(i=y,r=_),b&&k&&l&&function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e}((c-u)/l,x/1e3)?(x=(c-u)/(o=Math.round(Math.min((c-u)/x,f))),i=u,r=c):T?x=((r=k?c:r)-(i=b?u:i))/(o=d-1):o=xh(o=(r-i)/x,Math.round(o),x/1e3)?Math.round(o):Math.ceil(o);var w=Math.max(Oh(x),Oh(i));n=Math.pow(10,Vc(h)?w:h),i=Math.round(i*n)/n,r=Math.round(r*n)/n;var S=0;for(b&&(v&&i!==u?(a.push({value:u}),i<u&&S++,xh(Math.round((i+S*x)*n)/n,u,Lg(u,E,e))&&S++):i<u&&S++);S<o;++S){var C=Math.round((i+S*x)*n)/n;if(k&&C>c)break;a.push({value:C})}return k&&v&&r!==c?a.length&&xh(a[a.length-1].value,c,Lg(c,E,e))?a[a.length-1].value=c:a.push({value:c}):k&&r!==c||a.push({value:r}),a}function Lg(e,t,n){var i=n.horizontal,r=Ih(n.minRotation),o=(i?Math.sin(r):Math.cos(r))||.001,a=.75*t*(""+e).length;return Math.min(t/o,a)}(0,K.Z)(Ag,"id","category"),(0,K.Z)(Ag,"defaults",{ticks:{callback:Og}});var Ng=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e)).start=void 0,i.end=void 0,i._startValue=void 0,i._endValue=void 0,i._valueRange=0,i}return(0,Cr.Z)(n,[{key:"parse",value:function(e,t){return Vc(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}},{key:"handleTickRangeOptions",value:function(){var e=this.options.beginAtZero,t=this.getUserBounds(),n=t.minDefined,i=t.maxDefined,r=this.min,o=this.max,a=function(e){return r=n?r:e},s=function(e){return o=i?o:e};if(e){var l=Eh(r),u=Eh(o);l<0&&u<0?s(0):l>0&&u>0&&a(0)}if(r===o){var c=0===o?1:Math.abs(.05*o);s(o+c),e||a(r-c)}this.min=r,this.max=o}},{key:"getTickLimit",value:function(){var e,t=this.options.ticks,n=t.maxTicksLimit,i=t.stepSize;return i?(e=Math.ceil(this.max/i)-Math.floor(this.min/i)+1)>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(i," would result generating up to ").concat(e," ticks. Limiting to 1000.")),e=1e3):(e=this.computeTickLimit(),n=n||11),n&&(e=Math.min(n,e)),e}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var e=this.options,t=e.ticks,n=this.getTickLimit(),i=Mg({maxTicks:n=Math.max(2,n),bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Ch(i,this,"value"),e.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}},{key:"configure",value:function(){var e=this.ticks,t=this.min,i=this.max;if(oc(rc(n.prototype),"configure",this).call(this),this.options.offset&&e.length){var r=(i-t)/Math.max(e.length-1,1)/2;t-=r,i+=r}this._startValue=t,this._endValue=i,this._valueRange=i-t}},{key:"getLabelForValue",value:function(e){return ad(e,this.chart.options.locale,this.options.ticks.format)}}]),n}(fv),$g=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Xc(t)?t:0,this.max=Xc(n)?n:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var e=this.isHorizontal(),t=e?this.width:this.height,n=Ih(this.options.ticks.minRotation),i=(e?Math.sin(n):Math.cos(n))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,r.lineHeight/i))}},{key:"getPixelForValue",value:function(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}]),n}(Ng);(0,K.Z)($g,"id","linear"),(0,K.Z)($g,"defaults",{ticks:{callback:ld.formatters.numeric}});var Pg=function(e){return Math.floor(Th(e))},Dg=function(e,t){return Math.pow(10,Pg(e)+t)};function Bg(e){return 1===e/Math.pow(10,Pg(e))}function Fg(e,t,n){var i=Math.pow(10,n),r=Math.floor(e/i);return Math.ceil(t/i)-r}function Ug(e,t){var n=t.min,i=t.max;n=Yc(e.min,n);for(var r=[],o=Pg(n),a=function(e,t){for(var n=Pg(t-e);Fg(e,t,n)>10;)n++;for(;Fg(e,t,n)<10;)n--;return Math.min(n,Pg(e))}(n,i),s=a<0?Math.pow(10,Math.abs(a)):1,l=Math.pow(10,a),u=o>a?Math.pow(10,o):0,c=Math.round((n-u)*s)/s,h=Math.floor((n-u)/l/10)*l*10,d=Math.floor((c-h)/Math.pow(10,a)),f=Yc(e.min,Math.round((u+h+d*Math.pow(10,a))*s)/s);f<i;)r.push({value:f,major:Bg(f),significand:d}),d>=10?d=d<15?15:20:d++,d>=20&&(d=2,s=++a>=0?1:s),f=Math.round((u+h+d*Math.pow(10,a))*s)/s;var p=Yc(e.max,f);return r.push({value:p,major:Bg(p),significand:d}),r}var jg=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e)).start=void 0,i.end=void 0,i._startValue=void 0,i._valueRange=0,i}return(0,Cr.Z)(n,[{key:"parse",value:function(e,t){var n=Ng.prototype.parse.apply(this,[e,t]);if(0!==n)return Xc(n)&&n>0?n:null;this._zero=!0}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!0),t=e.min,n=e.max;this.min=Xc(t)?Math.max(0,t):null,this.max=Xc(n)?Math.max(0,n):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Xc(this._userMin)&&(this.min=t===Dg(this.min,0)?Dg(this.min,-1):Dg(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var e=this.getUserBounds(),t=e.minDefined,n=e.maxDefined,i=this.min,r=this.max,o=function(e){return i=t?i:e},a=function(e){return r=n?r:e};i===r&&(i<=0?(o(1),a(10)):(o(Dg(i,-1)),a(Dg(r,1)))),i<=0&&o(Dg(r,-1)),r<=0&&a(Dg(i,1)),this.min=i,this.max=r}},{key:"buildTicks",value:function(){var e=this.options,t=Ug({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Ch(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}},{key:"getLabelForValue",value:function(e){return void 0===e?"0":ad(e,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var e=this.min;oc(rc(n.prototype),"configure",this).call(this),this._startValue=Th(e),this._valueRange=Th(this.max)-Th(e)}},{key:"getPixelForValue",value:function(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Th(e)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(e){var t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}]),n}(fv);function Zg(e){var t=e.ticks;if(t.display&&e.display){var n=Dd(t.backdropPadding);return Kc(t.font&&t.font.size,pd.font.size)+n.height}return 0}function Hg(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function zg(e){for(var t,n,i,r={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},o=Object.assign({},r),a=[],s=[],l=e._pointLabels.length,u=e.options.pointLabels,c=u.centerPointLabels?ph/l:0,h=0;h<l;h++){var d=u.setContext(e.getPointLabelContext(h));s[h]=d.padding;var f=e.getPointPosition(h,e.drawingArea+s[h],c),p=Bd(d.font),v=(t=e.ctx,n=p,i=Wc(i=e._pointLabels[h])?i:[i],{w:gd(t,n.string,i),h:i.length*n.lineHeight});a[h]=v;var g=Nh(e.getIndexAngle(h)+c),m=Math.round(Rh(g));Vg(o,r,g,Hg(m,f.x,v.w,0,180),Hg(m,f.y,v.h,90,270))}e.setCenterPoint(r.l-o.l,o.r-r.r,r.t-o.t,o.b-r.b),e._pointLabelItems=function(e,t,n){for(var i,r=[],o=e._pointLabels.length,a=e.options,s=a.pointLabels,l=s.centerPointLabels,u=s.display,c={extra:Zg(a)/2,additionalAngle:l?ph/o:0},h=0;h<o;h++){c.padding=n[h],c.size=t[h];var d=Wg(e,h,c);r.push(d),"auto"===u&&(d.visible=Gg(d,i),d.visible&&(i=d))}return r}(e,a,s)}function Vg(e,t,n,i,r){var o=Math.abs(Math.sin(n)),a=Math.abs(Math.cos(n)),s=0,l=0;i.start<t.l?(s=(t.l-i.start)/o,e.l=Math.min(e.l,t.l-s)):i.end>t.r&&(s=(i.end-t.r)/o,e.r=Math.max(e.r,t.r+s)),r.start<t.t?(l=(t.t-r.start)/a,e.t=Math.min(e.t,t.t-l)):r.end>t.b&&(l=(r.end-t.b)/a,e.b=Math.max(e.b,t.b+l))}function Wg(e,t,n){var i=e.drawingArea,r=n.extra,o=n.additionalAngle,a=n.padding,s=n.size,l=e.getPointPosition(t,i+r+a,o),u=Math.round(Rh(Nh(l.angle+_h))),c=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,s.h,u),h=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(u),d=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,s.w,h);return{visible:!0,x:l.x,y:c,textAlign:h,left:d,top:c,right:d+s.w,bottom:c+s.h}}function Gg(e,t){if(!t)return!0;var n=e.left,i=e.top,r=e.right,o=e.bottom;return!(kd({x:n,y:i},t)||kd({x:n,y:o},t)||kd({x:r,y:i},t)||kd({x:r,y:o},t))}function Xg(e,t,n){var i=n.left,r=n.top,o=n.right,a=n.bottom,s=t.backdropColor;if(!Vc(s)){var l=Pd(t.borderRadius),u=Dd(t.backdropPadding);e.fillStyle=s;var c=i-u.left,h=r-u.top,d=o-i+u.width,f=a-r+u.height;Object.values(l).some((function(e){return 0!==e}))?(e.beginPath(),Rd(e,{x:c,y:h,w:d,h:f,radius:l}),e.fill()):e.fillRect(c,h,d,f)}}function Yg(e,t,n,i){var r=e.ctx;if(n)r.arc(e.xCenter,e.yCenter,t,0,vh);else{var o=e.getPointPosition(0,t);r.moveTo(o.x,o.y);for(var a=1;a<i;a++)o=e.getPointPosition(a,t),r.lineTo(o.x,o.y)}}(0,K.Z)(jg,"id","logarithmic"),(0,K.Z)(jg,"defaults",{ticks:{callback:ld.formatters.logarithmic,major:{enabled:!0}}});var Kg=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e)).xCenter=void 0,i.yCenter=void 0,i.drawingArea=void 0,i._pointLabels=[],i._pointLabelItems=[],i}return(0,Cr.Z)(n,[{key:"setDimensions",value:function(){var e=this._padding=Dd(Zg(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}},{key:"determineDataLimits",value:function(){var e=this.getMinMax(!1),t=e.min,n=e.max;this.min=Xc(t)&&!isNaN(t)?t:0,this.max=Xc(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/Zg(this.options))}},{key:"generateTickLabels",value:function(e){var t=this;Ng.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((function(e,n){var i=Jc(t.options.pointLabels.callback,[e,n],t);return i||0===i?i:""})).filter((function(e,n){return t.chart.getDataVisibility(n)}))}},{key:"fit",value:function(){var e=this.options;e.display&&e.pointLabels.display?zg(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(e,t,n,i){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-i)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,i))}},{key:"getIndexAngle",value:function(e){return Nh(e*(vh/(this._pointLabels.length||1))+Ih(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(e){if(Vc(e))return NaN;var t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}},{key:"getValueForDistanceFromCenter",value:function(e){if(Vc(e))return NaN;var t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}},{key:"getPointLabelContext",value:function(e){var t=this._pointLabels||[];if(e>=0&&e<t.length){var n=t[e];return function(e,t,n){return Ud(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}},{key:"getPointPosition",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=this.getIndexAngle(e)-_h+n;return{x:Math.cos(i)*t+this.xCenter,y:Math.sin(i)*t+this.yCenter,angle:i}}},{key:"getPointPositionForValue",value:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}},{key:"getBasePosition",value:function(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(e){var t=this._pointLabelItems[e];return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}},{key:"drawBackground",value:function(){var e=this.options,t=e.backgroundColor,n=e.grid.circular;if(t){var i=this.ctx;i.save(),i.beginPath(),Yg(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}},{key:"drawGrid",value:function(){var e,t,n,i=this,r=this.ctx,o=this.options,a=o.angleLines,s=o.grid,l=o.border,u=this._pointLabels.length;if(o.pointLabels.display&&function(e,t){for(var n=e.ctx,i=e.options.pointLabels,r=t-1;r>=0;r--){var o=e._pointLabelItems[r];if(o.visible){var a=i.setContext(e.getPointLabelContext(r));Xg(n,a,o);var s=Bd(a.font),l=o.x,u=o.y,c=o.textAlign;Id(n,e._pointLabels[r],l,u+s.lineHeight/2,s,{color:a.color,textAlign:c,textBaseline:"middle"})}}}(this,u),s.display&&this.ticks.forEach((function(e,n){if(0!==n||0===n&&i.min<0){t=i.getDistanceFromCenterForValue(e.value);var r=i.getContext(n),o=s.setContext(r),a=l.setContext(r);!function(e,t,n,i,r){var o=e.ctx,a=t.circular,s=t.color,l=t.lineWidth;!a&&!i||!s||!l||n<0||(o.save(),o.strokeStyle=s,o.lineWidth=l,o.setLineDash(r.dash||[]),o.lineDashOffset=r.dashOffset,o.beginPath(),Yg(e,n,a,i),o.closePath(),o.stroke(),o.restore())}(i,o,t,u,a)}})),a.display){for(r.save(),e=u-1;e>=0;e--){var c=a.setContext(this.getPointLabelContext(e)),h=c.color,d=c.lineWidth;d&&h&&(r.lineWidth=d,r.strokeStyle=h,r.setLineDash(c.borderDash),r.lineDashOffset=c.borderDashOffset,t=this.getDistanceFromCenterForValue(o.reverse?this.min:this.max),n=this.getPointPosition(e,t),r.beginPath(),r.moveTo(this.xCenter,this.yCenter),r.lineTo(n.x,n.y),r.stroke())}r.restore()}}},{key:"drawBorder",value:function(){}},{key:"drawLabels",value:function(){var e=this,t=this.ctx,n=this.options,i=n.ticks;if(i.display){var r,o,a=this.getIndexAngle(0);t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((function(a,s){if(!(0===s&&e.min>=0)||n.reverse){var l=i.setContext(e.getContext(s)),u=Bd(l.font);if(r=e.getDistanceFromCenterForValue(e.ticks[s].value),l.showLabelBackdrop){t.font=u.string,o=t.measureText(a.label).width,t.fillStyle=l.backdropColor;var c=Dd(l.backdropPadding);t.fillRect(-o/2-c.left,-r-u.size/2-c.top,o+c.width,u.size+c.height)}Id(t,a.label,0,-r,u,{color:l.color,strokeColor:l.textStrokeColor,strokeWidth:l.textStrokeWidth})}})),t.restore()}}},{key:"drawTitle",value:function(){}}]),n}(Ng);(0,K.Z)(Kg,"id","radialLinear"),(0,K.Z)(Kg,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:ld.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:function(e){return e},padding:5,centerPointLabels:!1}}),(0,K.Z)(Kg,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,K.Z)(Kg,"descriptors",{angleLines:{_fallback:"grid"}});var qg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jg=Object.keys(qg);function Qg(e,t){return e-t}function em(e,t){if(Vc(t))return null;var n=e._adapter,i=e._parseOpts,r=i.parser,o=i.round,a=i.isoWeekday,s=t;return"function"===typeof r&&(s=r(s)),Xc(s)||(s="string"===typeof r?n.parse(s,r):n.parse(s)),null===s?null:(o&&(s="week"!==o||!Sh(a)&&!0!==a?n.startOf(s,o):n.startOf(s,"isoWeek",a)),+s)}function tm(e,t,n,i){for(var r=Jg.length,o=Jg.indexOf(e);o<r-1;++o){var a=qg[Jg[o]],s=a.steps?a.steps:Number.MAX_SAFE_INTEGER;if(a.common&&Math.ceil((n-t)/(s*a.size))<=i)return Jg[o]}return Jg[r-1]}function nm(e,t,n){if(n){if(n.length){var i=Bh(n,t),r=i.lo,o=i.hi;e[n[r]>=t?n[r]:n[o]]=!0}}else e[t]=!0}function im(e,t,n){var i,r,o=[],a={},s=t.length;for(i=0;i<s;++i)a[r=t[i]]=i,o.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,i){var r,o,a=e._adapter,s=+a.startOf(t[0].value,i),l=t[t.length-1].value;for(r=s;r<=l;r=+a.add(r,1,i))(o=n[r])>=0&&(t[o].major=!0);return t}(e,o,a,n):o}var rm=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e))._cache={data:[],labels:[],all:[]},i._unit="day",i._majorUnit=void 0,i._offsets={},i._normalized=!1,i._parseOpts=void 0,i}return(0,Cr.Z)(n,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e.time||(e.time={}),r=this._adapter=new gp._date(e.adapters.date);r.init(t),oh(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},oc(rc(n.prototype),"init",this).call(this,e),this._normalized=t.normalized}},{key:"parse",value:function(e,t){return void 0===e?null:em(this,e)}},{key:"beforeLayout",value:function(){oc(rc(n.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var e=this.options,t=this._adapter,n=e.time.unit||"day",i=this.getUserBounds(),r=i.min,o=i.max,a=i.minDefined,s=i.maxDefined;function l(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),s||isNaN(e.max)||(o=Math.max(o,e.max))}a&&s||(l(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||l(this.getMinMax(!1))),r=Xc(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),o=Xc(o)&&!isNaN(o)?o:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}},{key:"_getLabelBounds",value:function(){var e=this.getLabelTimestamps(),t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}},{key:"buildTicks",value:function(){var e=this.options,t=e.time,n=e.ticks,i="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&i.length&&(this.min=this._userMin||i[0],this.max=this._userMax||i[i.length-1]);var r=this.min,o=function(e,t,n){for(var i=0,r=e.length;i<r&&e[i]<t;)i++;for(;r>i&&e[r-1]>n;)r--;return i>0||r<e.length?e.slice(i,r):e}(i,r,this.max);return this._unit=t.unit||(n.autoSkip?tm(t.minUnit,this.min,this.max,this._getLabelCapacity(r)):function(e,t,n,i,r){for(var o=Jg.length-1;o>=Jg.indexOf(n);o--){var a=Jg[o];if(qg[a].common&&e._adapter.diff(r,i,a)>=t-1)return a}return Jg[n?Jg.indexOf(n):0]}(this,o.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(var t=Jg.indexOf(e)+1,n=Jg.length;t<n;++t)if(qg[Jg[t]].common)return Jg[t]}(this._unit):void 0,this.initOffsets(i),e.reverse&&o.reverse(),im(this,o,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map((function(e){return+e.value})))}},{key:"initOffsets",value:function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=0,r=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),i=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),r=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);var o=n.length<3?.5:.25;i=Ph(i,0,o),r=Ph(r,0,o),this._offsets={start:i,end:r,factor:1/(i+1+r)}}},{key:"_generate",value:function(){var e,t,n=this._adapter,i=this.min,r=this.max,o=this.options,a=o.time,s=a.unit||tm(a.minUnit,i,r,this._getLabelCapacity(i)),l=Kc(o.ticks.stepSize,1),u="week"===s&&a.isoWeekday,c=Sh(u)||!0===u,h={},d=i;if(c&&(d=+n.startOf(d,"isoWeek",u)),d=+n.startOf(d,c?"day":s),n.diff(r,i,s)>1e5*l)throw new Error(i+" and "+r+" are too far apart with stepSize of "+l+" "+s);var f="data"===o.ticks.source&&this.getDataTimestamps();for(e=d,t=0;e<r;e=+n.add(e,l,s),t++)nm(h,e,f);return e!==r&&"ticks"!==o.bounds&&1!==t||nm(h,e,f),Object.keys(h).sort(Qg).map((function(e){return+e}))}},{key:"getLabelForValue",value:function(e){var t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}},{key:"format",value:function(e,t){var n=this.options.time.displayFormats,i=this._unit,r=t||n[i];return this._adapter.format(e,r)}},{key:"_tickFormatFunction",value:function(e,t,n,i){var r=this.options,o=r.ticks.callback;if(o)return Jc(o,[e,t,n],this);var a=r.time.displayFormats,s=this._unit,l=this._majorUnit,u=s&&a[s],c=l&&a[l],h=n[t],d=l&&c&&h&&h.major;return this._adapter.format(e,i||(d?c:u))}},{key:"generateTickLabels",value:function(e){var t,n,i;for(t=0,n=e.length;t<n;++t)(i=e[t]).label=this._tickFormatFunction(i.value,t,e)}},{key:"getDecimalForValue",value:function(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(e){var t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}},{key:"_getLabelSize",value:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=Ih(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),o=Math.sin(i),a=this._resolveTickFontOptions(0).size;return{w:n*r+a*o,h:n*o+a*r}}},{key:"_getLabelCapacity",value:function(e){var t=this.options.time,n=t.displayFormats,i=n[t.unit]||n.millisecond,r=this._tickFormatFunction(e,0,im(this,[e],this._majorUnit),i),o=this._getLabelSize(r),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}},{key:"getDataTimestamps",value:function(){var e,t,n=this._cache.data||[];if(n.length)return n;var i=this.getMatchingVisibleMetas();if(this._normalized&&i.length)return this._cache.data=i[0].controller.getAllParsedValues(this);for(e=0,t=i.length;e<t;++e)n=n.concat(i[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}},{key:"getLabelTimestamps",value:function(){var e,t,n=this._cache.labels||[];if(n.length)return n;var i=this.getLabels();for(e=0,t=i.length;e<t;++e)n.push(em(this,i[e]));return this._cache.labels=this._normalized?n:this.normalize(n)}},{key:"normalize",value:function(e){return Hh(e.sort(Qg))}}]),n}(fv);function om(e,t,n){var i,r,o,a,s=0,l=e.length-1;if(n){if(t>=e[s].pos&&t<=e[l].pos){var u=Fh(e,"pos",t);s=u.lo,l=u.hi}var c=e[s];i=c.pos,o=c.time;var h=e[l];r=h.pos,a=h.time}else{if(t>=e[s].time&&t<=e[l].time){var d=Fh(e,"time",t);s=d.lo,l=d.hi}var f=e[s];i=f.time,o=f.pos;var p=e[l];r=p.time,a=p.pos}var v=r-i;return v?o+(a-o)*(t-i)/v:o}(0,K.Z)(rm,"id","time"),(0,K.Z)(rm,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var am=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e))._table=[],i._minPos=void 0,i._tableRange=void 0,i}return(0,Cr.Z)(n,[{key:"initOffsets",value:function(){var e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=om(t,this.min),this._tableRange=om(t,this.max)-this._minPos,oc(rc(n.prototype),"initOffsets",this).call(this,e)}},{key:"buildLookupTable",value:function(e){var t,n,i,r,o,a=this.min,s=this.max,l=[],u=[];for(t=0,n=e.length;t<n;++t)(r=e[t])>=a&&r<=s&&l.push(r);if(l.length<2)return[{time:a,pos:0},{time:s,pos:1}];for(t=0,n=l.length;t<n;++t)o=l[t+1],i=l[t-1],r=l[t],Math.round((o+i)/2)!==r&&u.push({time:r,pos:t/(n-1)});return u}},{key:"_generate",value:function(){var e=this.min,t=this.max,i=oc(rc(n.prototype),"getDataTimestamps",this).call(this);return i.includes(e)&&i.length||i.splice(0,0,e),i.includes(t)&&1!==i.length||i.push(t),i.sort((function(e,t){return e-t}))}},{key:"_getTimestampsForTable",value:function(){var e=this._cache.all||[];if(e.length)return e;var t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e}},{key:"getDecimalForValue",value:function(e){return(om(this._table,e)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return om(this._table,n*this._tableRange+this._minPos,!0)}}]),n}(rm);(0,K.Z)(am,"id","timeseries"),(0,K.Z)(am,"defaults",rm.defaults);var sm=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],lm="label";function um(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function cm(e,t){e.labels=t}function hm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:lm,i=[];e.datasets=t.map((function(t){var r=e.datasets.find((function(e){return e[n]===t[n]}));return r&&t.data&&!i.includes(r)?(i.push(r),Object.assign(r,t),r):ic({},t)}))}function dm(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lm,n={labels:[],datasets:[]};return cm(n,e.labels),hm(n,e.datasets,t),n}function fm(e,t){var n=e.height,r=void 0===n?150:n,o=e.width,a=void 0===o?300:o,s=e.redraw,l=void 0!==s&&s,u=e.datasetIdKey,c=e.type,h=e.data,d=e.options,f=e.plugins,p=void 0===f?[]:f,v=e.fallbackContent,g=e.updateMode,m=tc(e,sm),y=(0,i.useRef)(null),_=(0,i.useRef)(),b=function(){y.current&&(_.current=new zv(y.current,{type:c,data:dm(h,u),options:d&&ic({},d),plugins:p}),um(t,_.current))},k=function(){um(t,null),_.current&&(_.current.destroy(),_.current=null)};return(0,i.useEffect)((function(){!l&&_.current&&d&&function(e,t){var n=e.options;n&&t&&Object.assign(n,t)}(_.current,d)}),[l,d]),(0,i.useEffect)((function(){!l&&_.current&&cm(_.current.config.data,h.labels)}),[l,h.labels]),(0,i.useEffect)((function(){!l&&_.current&&h.datasets&&hm(_.current.config.data,h.datasets,u)}),[l,h.datasets]),(0,i.useEffect)((function(){_.current&&(l?(k(),setTimeout(b)):_.current.update(g))}),[l,d,h.labels,h.datasets,g]),(0,i.useEffect)((function(){_.current&&(k(),setTimeout(b))}),[c]),(0,i.useEffect)((function(){return b(),function(){return k()}}),[]),i.createElement("canvas",Object.assign({ref:y,role:"img",height:r,width:a},m),v)}var pm=(0,i.forwardRef)(fm);function vm(e,t){return zv.register(t),(0,i.forwardRef)((function(t,n){return i.createElement(pm,Object.assign({},t,{ref:n,type:e}))}))}var gm=vm("bar",sp);function mm(e){return(0,H.ZP)("MuiDialog",e)}var ym=(0,N.Z)("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]);var _m=i.createContext({}),bm=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],km=(0,U.ZP)(Er,{name:"MuiDialog",slot:"Backdrop",overrides:function(e,t){return t.backdrop}})({zIndex:-1}),Tm=(0,U.ZP)(jr,{name:"MuiDialog",slot:"Root",overridesResolver:function(e,t){return t.root}})({"@media print":{position:"absolute !important"}}),Em=(0,U.ZP)("div",{name:"MuiDialog",slot:"Container",overridesResolver:function(e,t){var n=e.ownerState;return[t.container,t["scroll".concat((0,Z.Z)(n.scroll))]]}})((function(e){var t=e.ownerState;return(0,_.Z)({height:"100%","@media print":{height:"auto"},outline:0},"paper"===t.scroll&&{display:"flex",justifyContent:"center",alignItems:"center"},"body"===t.scroll&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})})),xm=(0,U.ZP)(Wr,{name:"MuiDialog",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["scrollPaper".concat((0,Z.Z)(n.scroll))],t["paperWidth".concat((0,Z.Z)(String(n.maxWidth)))],n.fullWidth&&t.paperFullWidth,n.fullScreen&&t.paperFullScreen]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},"paper"===n.scroll&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},"body"===n.scroll&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!n.maxWidth&&{maxWidth:"calc(100% - 64px)"},"xs"===n.maxWidth&&(0,K.Z)({maxWidth:"px"===t.breakpoints.unit?Math.max(t.breakpoints.values.xs,444):"max(".concat(t.breakpoints.values.xs).concat(t.breakpoints.unit,", 444px)")},"&.".concat(ym.paperScrollBody),(0,K.Z)({},t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+64),{maxWidth:"calc(100% - 64px)"})),n.maxWidth&&"xs"!==n.maxWidth&&(0,K.Z)({maxWidth:"".concat(t.breakpoints.values[n.maxWidth]).concat(t.breakpoints.unit)},"&.".concat(ym.paperScrollBody),(0,K.Z)({},t.breakpoints.down(t.breakpoints.values[n.maxWidth]+64),{maxWidth:"calc(100% - 64px)"})),n.fullWidth&&{width:"calc(100% - 64px)"},n.fullScreen&&(0,K.Z)({margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0},"&.".concat(ym.paperScrollBody),{margin:0,maxWidth:"100%"}))})),wm=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiDialog"}),r=er(),o={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},a=n["aria-describedby"],s=n["aria-labelledby"],l=n.BackdropComponent,u=n.BackdropProps,c=n.children,h=n.className,d=n.disableEscapeKeyDown,f=void 0!==d&&d,v=n.fullScreen,g=void 0!==v&&v,m=n.fullWidth,y=void 0!==m&&m,T=n.maxWidth,E=void 0===T?"sm":T,x=n.onBackdropClick,w=n.onClick,S=n.onClose,C=n.open,I=n.PaperComponent,R=void 0===I?Wr:I,O=n.PaperProps,A=void 0===O?{}:O,M=n.scroll,L=void 0===M?"paper":M,N=n.TransitionComponent,$=void 0===N?_r:N,P=n.transitionDuration,D=void 0===P?o:P,B=n.TransitionProps,U=(0,b.Z)(n,bm),H=(0,_.Z)({},n,{disableEscapeKeyDown:f,fullScreen:g,fullWidth:y,maxWidth:E,scroll:L}),z=function(e){var t=e.classes,n=e.scroll,i=e.maxWidth,r=e.fullWidth,o=e.fullScreen,a={root:["root"],container:["container","scroll".concat((0,Z.Z)(n))],paper:["paper","paperScroll".concat((0,Z.Z)(n)),"paperWidth".concat((0,Z.Z)(String(i))),r&&"paperFullWidth",o&&"paperFullScreen"]};return(0,F.Z)(a,mm,t)}(H),V=i.useRef(),W=(0,zt.Z)(s),G=i.useMemo((function(){return{titleId:W}}),[W]);return(0,p.jsx)(Tm,(0,_.Z)({className:(0,k.Z)(z.root,h),closeAfterTransition:!0,components:{Backdrop:km},componentsProps:{backdrop:(0,_.Z)({transitionDuration:D,as:l},u)},disableEscapeKeyDown:f,onClose:S,open:C,ref:t,onClick:function(e){w&&w(e),V.current&&(V.current=null,x&&x(e),S&&S(e,"backdropClick"))},ownerState:H},U,{children:(0,p.jsx)($,(0,_.Z)({appear:!0,in:C,timeout:D,role:"presentation"},B,{children:(0,p.jsx)(Em,{className:(0,k.Z)(z.container),onMouseDown:function(e){V.current=e.target===e.currentTarget},ownerState:H,children:(0,p.jsx)(xm,(0,_.Z)({as:R,elevation:24,role:"dialog","aria-describedby":a,"aria-labelledby":W},A,{className:(0,k.Z)(z.paper,A.className),ownerState:H,children:(0,p.jsx)(_m.Provider,{value:G,children:c})}))})}))}))}));function Sm(e){return(0,H.ZP)("MuiDialogTitle",e)}var Cm=(0,N.Z)("MuiDialogTitle",["root"]),Im=["className","id"],Rm=(0,U.ZP)(Y,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,t){return t.root}})({padding:"16px 24px",flex:"0 0 auto"}),Om=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiDialogTitle"}),r=n.className,o=n.id,a=(0,b.Z)(n,Im),s=n,l=function(e){var t=e.classes;return(0,F.Z)({root:["root"]},Sm,t)}(s),u=i.useContext(_m).titleId,c=void 0===u?o:u;return(0,p.jsx)(Rm,(0,_.Z)({component:"h2",className:(0,k.Z)(l.root,r),ownerState:s,ref:t,variant:"h6",id:null!=o?o:c},a))}));function Am(e){return(0,H.ZP)("MuiListItem",e)}var Mm=(0,N.Z)("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);var Lm=(0,N.Z)("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function Nm(e){return(0,H.ZP)("MuiListItemSecondaryAction",e)}(0,N.Z)("MuiListItemSecondaryAction",["root","disableGutters"]);var $m=["className"],Pm=(0,U.ZP)("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.disableGutters&&t.disableGutters]}})((function(e){var t=e.ownerState;return(0,_.Z)({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})})),Dm=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiListItemSecondaryAction"}),r=n.className,o=(0,b.Z)(n,$m),a=i.useContext(Ii),s=(0,_.Z)({},n,{disableGutters:a.disableGutters}),l=function(e){var t=e.disableGutters,n=e.classes,i={root:["root",t&&"disableGutters"]};return(0,F.Z)(i,Nm,n)}(s);return(0,p.jsx)(Pm,(0,_.Z)({className:(0,k.Z)(l.root,r),ownerState:s,ref:t},o))}));Dm.muiName="ListItemSecondaryAction";var Bm=Dm,Fm=["className"],Um=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],jm=(0,U.ZP)("div",{name:"MuiListItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.button&&t.button,n.hasSecondaryAction&&t.secondaryAction]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!i.disablePadding&&(0,_.Z)({paddingTop:8,paddingBottom:8},i.dense&&{paddingTop:4,paddingBottom:4},!i.disableGutters&&{paddingLeft:16,paddingRight:16},!!i.secondaryAction&&{paddingRight:48}),!!i.secondaryAction&&(0,K.Z)({},"& > .".concat(Lm.root),{paddingRight:48}),(t={},(0,K.Z)(t,"&.".concat(Mm.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,K.Z)(t,"&.".concat(Mm.selected),(0,K.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(Mm.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,K.Z)(t,"&.".concat(Mm.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),t),"flex-start"===i.alignItems&&{alignItems:"flex-start"},i.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},i.button&&(0,K.Z)({transition:n.transitions.create("background-color",{duration:n.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},"&.".concat(Mm.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),i.hasSecondaryAction&&{paddingRight:48})})),Zm=(0,U.ZP)("li",{name:"MuiListItem",slot:"Container",overridesResolver:function(e,t){return t.container}})({position:"relative"}),Hm=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiListItem"}),r=n.alignItems,o=void 0===r?"center":r,a=n.autoFocus,s=void 0!==a&&a,l=n.button,u=void 0!==l&&l,c=n.children,h=n.className,d=n.component,f=n.components,v=void 0===f?{}:f,g=n.componentsProps,m=void 0===g?{}:g,y=n.ContainerComponent,T=void 0===y?"li":y,E=n.ContainerProps,x=(void 0===E?{}:E).className,w=n.dense,S=void 0!==w&&w,C=n.disabled,I=void 0!==C&&C,R=n.disableGutters,O=void 0!==R&&R,A=n.disablePadding,M=void 0!==A&&A,L=n.divider,N=void 0!==L&&L,$=n.focusVisibleClassName,P=n.secondaryAction,D=n.selected,B=void 0!==D&&D,U=n.slotProps,Z=void 0===U?{}:U,H=n.slots,z=void 0===H?{}:H,V=(0,b.Z)(n.ContainerProps,Fm),W=(0,b.Z)(n,Um),G=i.useContext(Ii),X=i.useMemo((function(){return{dense:S||G.dense||!1,alignItems:o,disableGutters:O}}),[o,G.dense,S,O]),Y=i.useRef(null);(0,nn.Z)((function(){s&&Y.current&&Y.current.focus()}),[s]);var K=i.Children.toArray(c),q=K.length&&(0,ii.Z)(K[K.length-1],["ListItemSecondaryAction"]),J=(0,_.Z)({},n,{alignItems:o,autoFocus:s,button:u,dense:X.dense,disabled:I,disableGutters:O,disablePadding:M,divider:N,hasSecondaryAction:q,selected:B}),Q=function(e){var t=e.alignItems,n=e.button,i=e.classes,r=e.dense,o=e.disabled,a={root:["root",r&&"dense",!e.disableGutters&&"gutters",!e.disablePadding&&"padding",e.divider&&"divider",o&&"disabled",n&&"button","flex-start"===t&&"alignItemsFlexStart",e.hasSecondaryAction&&"secondaryAction",e.selected&&"selected"],container:["container"]};return(0,F.Z)(a,Am,i)}(J),te=(0,ee.Z)(Y,t),ne=z.root||v.Root||jm,ie=Z.root||m.root||{},re=(0,_.Z)({className:(0,k.Z)(Q.root,ie.className,h),disabled:I},W),oe=d||"li";return u&&(re.component=d||"div",re.focusVisibleClassName=(0,k.Z)(Mm.focusVisible,$),oe=Ue),q?(oe=re.component||d?oe:"div","li"===T&&("li"===oe?oe="div":"li"===re.component&&(re.component="div")),(0,p.jsx)(Ii.Provider,{value:X,children:(0,p.jsxs)(Zm,(0,_.Z)({as:T,className:(0,k.Z)(Q.container,x),ref:te,ownerState:J},V,{children:[(0,p.jsx)(ne,(0,_.Z)({},ie,!Wt(ne)&&{as:oe,ownerState:(0,_.Z)({},J,ie.ownerState)},re,{children:K})),K.pop()]}))})):(0,p.jsx)(Ii.Provider,{value:X,children:(0,p.jsxs)(ne,(0,_.Z)({},ie,{as:oe,ref:te},!Wt(ne)&&{ownerState:(0,_.Z)({},J,ie.ownerState)},re,{children:[K,P&&(0,p.jsx)(Bm,{children:P})]}))})}));function zm(e){return(0,H.ZP)("MuiListItemText",e)}var Vm=(0,N.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),Wm=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],Gm=(0,U.ZP)("div",{name:"MuiListItemText",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,K.Z)({},"& .".concat(Vm.primary),t.primary),(0,K.Z)({},"& .".concat(Vm.secondary),t.secondary),t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})((function(e){var t=e.ownerState;return(0,_.Z)({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})})),Xm=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiListItemText"}),r=n.children,o=n.className,a=n.disableTypography,s=void 0!==a&&a,l=n.inset,u=void 0!==l&&l,c=n.primary,h=n.primaryTypographyProps,d=n.secondary,f=n.secondaryTypographyProps,v=(0,b.Z)(n,Wm),g=i.useContext(Ii).dense,m=null!=c?c:r,y=d,T=(0,_.Z)({},n,{disableTypography:s,inset:u,primary:!!m,secondary:!!y,dense:g}),E=function(e){var t=e.classes,n=e.inset,i=e.primary,r=e.secondary,o={root:["root",n&&"inset",e.dense&&"dense",i&&r&&"multiline"],primary:["primary"],secondary:["secondary"]};return(0,F.Z)(o,zm,t)}(T);return null==m||m.type===Y||s||(m=(0,p.jsx)(Y,(0,_.Z)({variant:g?"body2":"body1",className:E.primary,component:null!=h&&h.variant?void 0:"span",display:"block"},h,{children:m}))),null==y||y.type===Y||s||(y=(0,p.jsx)(Y,(0,_.Z)({variant:"body2",className:E.secondary,color:"text.secondary",display:"block"},f,{children:y}))),(0,p.jsxs)(Gm,(0,_.Z)({className:(0,k.Z)(E.root,o),ownerState:T,ref:t},v,{children:[m,y]}))})),Ym=function(e){var t=e.axisLabel,n=e.hostIP,r=e.hostPort,o=e.positionerName,a=e.mPosition,s=(0,i.useState)("1000"),l=(0,d.Z)(s,2),c=l[0],f=l[1],v=(0,i.useState)("10000"),g=(0,d.Z)(v,2),m=g[0],y=g[1],_=(0,i.useState)(!1),b=(0,d.Z)(_,2),k=b[0],T=b[1],E=(0,i.useState)(!1),x=(0,d.Z)(E,2),w=x[0],S=x[1],C=(0,i.useState)(0),I=(0,d.Z)(C,2),R=I[0],O=I[1],A={width:"100px"},M=[1,5,10,50,100,500,1e3,1e4,2e4,1e5],L=function(){var e=h(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:return n=e.sent,e.next=6,n.json();case 6:e.sent,e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error:",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(n,":").concat(r,"/PositionerController/movePositioner?positionerName=").concat(o,"&axis=").concat(t,"&dist=").concat(Math.abs(c),"&isAbsolute=false&isBlocking=false&speed=").concat(m),e.next=3,L(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=h(u().mark((function e(){var i,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=-Math.abs(c),a="".concat(n,":").concat(r,"/PositionerController/movePositioner?positionerName=").concat(o,"&axis=").concat(t,"&dist=").concat(i,"&isAbsolute=false&isBlocking=false&speed=").concat(m),e.next=4,L(a);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(n,":").concat(r,"/PositionerController/movePositioner?positionerName=").concat(o,"&axis=").concat(t,"&dist=").concat(R,"&isAbsolute=true&isBlocking=false&speed=").concat(m),e.next=3,L(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(n,":").concat(r,"/PositionerController/stopAxis?positionerName=").concat(o,"&axis=").concat(t),e.next=3,L(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),B=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(n,":").concat(r,"/PositionerController/movePositionerForever?positionerName=").concat(o,"&axis=").concat(t,"&speed=").concat(m,"&is_stop=false"),e.next=3,L(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),F=function(e,t){"steps"===t?(f(e.toString()),T(!1)):"speed"===t&&(y(e.toString()),S(!1))},U=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(n,":").concat(r,"/PositionerController/homeAxis?positionerName=").concat(o,"&axis=").concat(t,"&isBlocking=false"),e.next=3,L(i);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(la,{container:!0,spacing:2,direction:"column",alignItems:"center",children:[(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsxs)("h3",{children:[t," Axis"]})}),(0,p.jsx)(la,{container:!0,item:!0,spacing:2,justifyContent:"center",xs:12,children:(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ko,{label:"Position",variant:"outlined",value:a,style:A,InputProps:{readOnly:!0}})})}),(0,p.jsxs)(la,{container:!0,item:!0,spacing:2,justifyContent:"center",xs:12,children:[(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:N,variant:"contained",style:A,color:"primary",children:"+"})}),(0,p.jsx)(la,{item:!0,children:(0,p.jsxs)(Ke,{onClick:function(){return T(!0)},variant:"outlined",style:A,color:"primary",children:["Steps: ",c]})}),(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:$,variant:"contained",style:A,color:"primary",children:"-"})})]}),(0,p.jsxs)(la,{container:!0,item:!0,spacing:2,justifyContent:"center",xs:12,children:[(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ko,{label:"Position",variant:"outlined",value:R,onChange:function(e){return O(e.target.value)},style:{width:A}})}),(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:P,variant:"contained",style:A,color:"primary",children:"Go To"})})]}),(0,p.jsxs)(la,{container:!0,item:!0,spacing:2,justifyContent:"center",xs:12,children:[(0,p.jsx)(la,{item:!0,children:(0,p.jsxs)(Ke,{onClick:function(){return S(!0)},variant:"outlined",style:A,color:"primary",children:["Speed: ",m]})}),(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:D,variant:"contained",style:A,color:"secondary",children:"Stop"})}),(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:B,variant:"contained",style:A,color:"secondary",children:"Forever"})})]}),(0,p.jsxs)(wm,{open:k,onClose:function(){return T(!1)},children:[(0,p.jsx)(Om,{children:"Select Steps"}),(0,p.jsx)(Mi,{children:M.map((function(e){return(0,p.jsx)(Hm,{button:!0,onClick:function(){return F(e,"steps")},children:(0,p.jsx)(Xm,{primary:e})},e)}))})]}),(0,p.jsxs)(wm,{open:w,onClose:function(){return S(!1)},children:[(0,p.jsx)(Om,{children:"Select Speed"}),(0,p.jsx)(Mi,{children:M.map((function(e){return(0,p.jsx)(Hm,{button:!0,onClick:function(){return F(e,"speed")},children:(0,p.jsx)(Xm,{primary:e})},e)}))})]}),(0,p.jsx)(la,{item:!0,children:(0,p.jsx)(Ke,{onClick:U,variant:"contained",style:A,color:"primary",children:"Home Axis"})})]})};function Km(e,t,n){if(sc())return Reflect.construct.apply(null,arguments);var i=[null];i.push.apply(i,t);var r=new(e.bind.apply(e,i));return n&&oe(r,n.prototype),r}function qm(e){var t="function"===typeof Map?new Map:void 0;return qm=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"===typeof e}}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return Km(e,arguments,rc(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),oe(n,e)},qm(e)}var Jm=Object.create(null);Jm.open="0",Jm.close="1",Jm.ping="2",Jm.pong="3",Jm.message="4",Jm.upgrade="5",Jm.noop="6";var Qm=Object.create(null);Object.keys(Jm).forEach((function(e){Qm[Jm[e]]=e}));var ey,ty={type:"error",data:"parser error"},ny="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),iy="function"===typeof ArrayBuffer,ry=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer},oy=function(e,t,n){var i=e.type,r=e.data;return ny&&r instanceof Blob?t?n(r):ay(r,n):iy&&(r instanceof ArrayBuffer||ry(r))?t?n(r):ay(new Blob([r]),n):n(Jm[i]+(r||""))},ay=function(e,t){var n=new FileReader;return n.onload=function(){var e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function sy(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}for(var ly="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",uy="undefined"===typeof Uint8Array?[]:new Uint8Array(256),cy=0;cy<64;cy++)uy[ly.charCodeAt(cy)]=cy;var hy,dy="function"===typeof ArrayBuffer,fy=function(e,t){if("string"!==typeof e)return{type:"message",data:vy(e,t)};var n=e.charAt(0);return"b"===n?{type:"message",data:py(e.substring(1),t)}:Qm[n]?e.length>1?{type:Qm[n],data:e.substring(1)}:{type:Qm[n]}:ty},py=function(e,t){if(dy){var n=function(e){var t,n,i,r,o,a=.75*e.length,s=e.length,l=0;"="===e[e.length-1]&&(a--,"="===e[e.length-2]&&a--);var u=new ArrayBuffer(a),c=new Uint8Array(u);for(t=0;t<s;t+=4)n=uy[e.charCodeAt(t)],i=uy[e.charCodeAt(t+1)],r=uy[e.charCodeAt(t+2)],o=uy[e.charCodeAt(t+3)],c[l++]=n<<2|i>>4,c[l++]=(15&i)<<4|r>>2,c[l++]=(3&r)<<6|63&o;return u}(e);return vy(n,t)}return{base64:!0,data:e}},vy=function(e,t){return"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer},gy=String.fromCharCode(30);function my(){return new TransformStream({transform:function(e,t){!function(e,t){ny&&e.data instanceof Blob?e.data.arrayBuffer().then(sy).then(t):iy&&(e.data instanceof ArrayBuffer||ry(e.data))?t(sy(e.data)):oy(e,!1,(function(e){ey||(ey=new TextEncoder),t(ey.encode(e))}))}(e,(function(n){var i,r=n.length;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);var o=new DataView(i.buffer);o.setUint8(0,126),o.setUint16(1,r)}else{i=new Uint8Array(9);var a=new DataView(i.buffer);a.setUint8(0,127),a.setBigUint64(1,BigInt(r))}e.data&&"string"!==typeof e.data&&(i[0]|=128),t.enqueue(i),t.enqueue(n)}))}})}function yy(e){return e.reduce((function(e,t){return e+t.length}),0)}function _y(e,t){if(e[0].length===t)return e.shift();for(var n=new Uint8Array(t),i=0,r=0;r<t;r++)n[r]=e[0][i++],i===e[0].length&&(e.shift(),i=0);return e.length&&i<e[0].length&&(e[0]=e[0].slice(i)),n}function by(e){if(e)return function(e){for(var t in by.prototype)e[t]=by.prototype[t];return e}(e)}by.prototype.on=by.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},by.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},by.prototype.off=by.prototype.removeListener=by.prototype.removeAllListeners=by.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,i=this._callbacks["$"+e];if(!i)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var r=0;r<i.length;r++)if((n=i[r])===t||n.fn===t){i.splice(r,1);break}return 0===i.length&&delete this._callbacks["$"+e],this},by.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],i=1;i<arguments.length;i++)t[i-1]=arguments[i];if(n){i=0;for(var r=(n=n.slice(0)).length;i<r;++i)n[i].apply(this,t)}return this},by.prototype.emitReserved=by.prototype.emit,by.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},by.prototype.hasListeners=function(e){return!!this.listeners(e).length};var ky="function"===typeof Promise&&"function"===typeof Promise.resolve?function(e){return Promise.resolve().then(e)}:function(e,t){return t(e,0)},Ty="undefined"!==typeof self?self:"undefined"!==typeof window?window:Function("return this")();function Ey(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.reduce((function(t,n){return e.hasOwnProperty(n)&&(t[n]=e[n]),t}),{})}var xy=Ty.setTimeout,wy=Ty.clearTimeout;function Sy(e,t){t.useNativeTimers?(e.setTimeoutFn=xy.bind(Ty),e.clearTimeoutFn=wy.bind(Ty)):(e.setTimeoutFn=Ty.setTimeout.bind(Ty),e.clearTimeoutFn=Ty.clearTimeout.bind(Ty))}function Cy(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}var Iy=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this,e)).description=i,o.context=r,o.type="TransportError",o}return(0,Cr.Z)(n)}(qm(Error)),Ry=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).writable=!1,Sy(re(i),e),i.opts=e,i.query=e.query,i.socket=e.socket,i.supportsBinary=!e.forceBase64,i}return(0,Cr.Z)(n,[{key:"onError",value:function(e,t,i){return oc(rc(n.prototype),"emitReserved",this).call(this,"error",new Iy(e,t,i)),this}},{key:"open",value:function(){return this.readyState="opening",this.doOpen(),this}},{key:"close",value:function(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}},{key:"send",value:function(e){"open"===this.readyState&&this.write(e)}},{key:"onOpen",value:function(){this.readyState="open",this.writable=!0,oc(rc(n.prototype),"emitReserved",this).call(this,"open")}},{key:"onData",value:function(e){var t=fy(e,this.socket.binaryType);this.onPacket(t)}},{key:"onPacket",value:function(e){oc(rc(n.prototype),"emitReserved",this).call(this,"packet",e)}},{key:"onClose",value:function(e){this.readyState="closed",oc(rc(n.prototype),"emitReserved",this).call(this,"close",e)}},{key:"pause",value:function(e){}},{key:"createUri",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}},{key:"_hostname",value:function(){var e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}},{key:"_port",value:function(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}},{key:"_query",value:function(e){var t=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}]),n}(by),Oy=function(e){ac(n,e);var t=uc(n);function n(){var e;return(0,Sr.Z)(this,n),(e=t.apply(this,arguments))._polling=!1,e}return(0,Cr.Z)(n,[{key:"name",get:function(){return"polling"}},{key:"doOpen",value:function(){this._poll()}},{key:"pause",value:function(e){var t=this;this.readyState="pausing";var n=function(){t.readyState="paused",e()};if(this._polling||!this.writable){var i=0;this._polling&&(i++,this.once("pollComplete",(function(){--i||n()}))),this.writable||(i++,this.once("drain",(function(){--i||n()})))}else n()}},{key:"_poll",value:function(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}},{key:"onData",value:function(e){var t=this;(function(e,t){for(var n=e.split(gy),i=[],r=0;r<n.length;r++){var o=fy(n[r],t);if(i.push(o),"error"===o.type)break}return i})(e,this.socket.binaryType).forEach((function(e){if("opening"===t.readyState&&"open"===e.type&&t.onOpen(),"close"===e.type)return t.onClose({description:"transport closed by the server"}),!1;t.onPacket(e)})),"closed"!==this.readyState&&(this._polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this._poll())}},{key:"doClose",value:function(){var e=this,t=function(){e.write([{type:"close"}])};"open"===this.readyState?t():this.once("open",t)}},{key:"write",value:function(e){var t=this;this.writable=!1,function(e,t){var n=e.length,i=new Array(n),r=0;e.forEach((function(e,o){oy(e,!1,(function(e){i[o]=e,++r===n&&t(i.join(gy))}))}))}(e,(function(e){t.doWrite(e,(function(){t.writable=!0,t.emitReserved("drain")}))}))}},{key:"uri",value:function(){var e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Cy()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}}]),n}(Ry),Ay=!1;try{Ay="undefined"!==typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(PU){}var My=Ay;function Ly(){}var Ny=function(e){ac(n,e);var t=uc(n);function n(e){var i;if((0,Sr.Z)(this,n),i=t.call(this,e),"undefined"!==typeof location){var r="https:"===location.protocol,o=location.port;o||(o=r?"443":"80"),i.xd="undefined"!==typeof location&&e.hostname!==location.hostname||o!==e.port}return i}return(0,Cr.Z)(n,[{key:"doWrite",value:function(e,t){var n=this,i=this.request({method:"POST",data:e});i.on("success",t),i.on("error",(function(e,t){n.onError("xhr post error",e,t)}))}},{key:"doPoll",value:function(){var e=this,t=this.request();t.on("data",this.onData.bind(this)),t.on("error",(function(t,n){e.onError("xhr poll error",t,n)})),this.pollXhr=t}}]),n}(Oy),$y=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this)).createRequest=e,Sy(re(o),r),o._opts=r,o._method=r.method||"GET",o._uri=i,o._data=void 0!==r.data?r.data:null,o._create(),o}return(0,Cr.Z)(n,[{key:"_create",value:function(){var e,t=this,i=Ey(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");i.xdomain=!!this._opts.xd;var r=this._xhr=this.createRequest(i);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders)for(var o in r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0),this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(o)&&r.setRequestHeader(o,this._opts.extraHeaders[o])}catch(a){}if("POST"===this._method)try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(a){}try{r.setRequestHeader("Accept","*/*")}catch(a){}null===(e=this._opts.cookieJar)||void 0===e||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=function(){var e;3===r.readyState&&(null===(e=t._opts.cookieJar)||void 0===e||e.parseCookies(r.getResponseHeader("set-cookie"))),4===r.readyState&&(200===r.status||1223===r.status?t._onLoad():t.setTimeoutFn((function(){t._onError("number"===typeof r.status?r.status:0)}),0))},r.send(this._data)}catch(a){return void this.setTimeoutFn((function(){t._onError(a)}),0)}"undefined"!==typeof document&&(this._index=n.requestsCount++,n.requests[this._index]=this)}},{key:"_onError",value:function(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}},{key:"_cleanup",value:function(e){if("undefined"!==typeof this._xhr&&null!==this._xhr){if(this._xhr.onreadystatechange=Ly,e)try{this._xhr.abort()}catch(t){}"undefined"!==typeof document&&delete n.requests[this._index],this._xhr=null}}},{key:"_onLoad",value:function(){var e=this._xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}},{key:"abort",value:function(){this._cleanup()}}]),n}(by);if($y.requestsCount=0,$y.requests={},"undefined"!==typeof document)if("function"===typeof attachEvent)attachEvent("onunload",Py);else if("function"===typeof addEventListener){addEventListener("onpagehide"in Ty?"pagehide":"unload",Py,!1)}function Py(){for(var e in $y.requests)$y.requests.hasOwnProperty(e)&&$y.requests[e].abort()}var Dy=function(){var e=Fy({xdomain:!1});return e&&null!==e.responseType}(),By=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),i=t.call(this,e);var r=e&&e.forceBase64;return i.supportsBinary=Dy&&!r,i}return(0,Cr.Z)(n,[{key:"request",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign(e,{xd:this.xd},this.opts),new $y(Fy,this.uri(),e)}}]),n}(Ny);function Fy(e){var t=e.xdomain;try{if("undefined"!==typeof XMLHttpRequest&&(!t||My))return new XMLHttpRequest}catch(n){}if(!t)try{return new(Ty[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(n){}}var Uy="undefined"!==typeof navigator&&"string"===typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),jy=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"name",get:function(){return"websocket"}},{key:"doOpen",value:function(){var e=this.uri(),t=this.opts.protocols,n=Uy?{}:Ey(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,t,n)}catch(PU){return this.emitReserved("error",PU)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}},{key:"addEventListeners",value:function(){var e=this;this.ws.onopen=function(){e.opts.autoUnref&&e.ws._socket.unref(),e.onOpen()},this.ws.onclose=function(t){return e.onClose({description:"websocket connection closed",context:t})},this.ws.onmessage=function(t){return e.onData(t.data)},this.ws.onerror=function(t){return e.onError("websocket error",t)}}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[i],r=i===e.length-1;oy(n,t.supportsBinary,(function(e){try{t.doWrite(n,e)}catch(i){}r&&ky((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},i=0;i<e.length;i++)n()}},{key:"doClose",value:function(){"undefined"!==typeof this.ws&&(this.ws.onerror=function(){},this.ws.close(),this.ws=null)}},{key:"uri",value:function(){var e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Cy()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}}]),n}(Ry),Zy=Ty.WebSocket||Ty.MozWebSocket,Hy=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"createSocket",value:function(e,t,n){return Uy?new Zy(e,t,n):t?new Zy(e,t):new Zy(e)}},{key:"doWrite",value:function(e,t){this.ws.send(t)}}]),n}(jy),zy=function(e){ac(n,e);var t=uc(n);function n(){return(0,Sr.Z)(this,n),t.apply(this,arguments)}return(0,Cr.Z)(n,[{key:"name",get:function(){return"webtransport"}},{key:"doOpen",value:function(){var e=this;try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(PU){return this.emitReserved("error",PU)}this._transport.closed.then((function(){e.onClose()})).catch((function(t){e.onError("webtransport error",t)})),this._transport.ready.then((function(){e._transport.createBidirectionalStream().then((function(t){var n=function(e,t){hy||(hy=new TextDecoder);var n=[],i=0,r=-1,o=!1;return new TransformStream({transform:function(a,s){for(n.push(a);;){if(0===i){if(yy(n)<1)break;var l=_y(n,1);o=128===(128&l[0]),r=127&l[0],i=r<126?3:126===r?1:2}else if(1===i){if(yy(n)<2)break;var u=_y(n,2);r=new DataView(u.buffer,u.byteOffset,u.length).getUint16(0),i=3}else if(2===i){if(yy(n)<8)break;var c=_y(n,8),h=new DataView(c.buffer,c.byteOffset,c.length),d=h.getUint32(0);if(d>Math.pow(2,21)-1){s.enqueue(ty);break}r=d*Math.pow(2,32)+h.getUint32(4),i=3}else{if(yy(n)<r)break;var f=_y(n,r);s.enqueue(fy(o?f:hy.decode(f),t)),i=0}if(0===r||r>e){s.enqueue(ty);break}}}})}(Number.MAX_SAFE_INTEGER,e.socket.binaryType),i=t.readable.pipeThrough(n).getReader(),r=my();r.readable.pipeTo(t.writable),e._writer=r.writable.getWriter();!function t(){i.read().then((function(n){var i=n.done,r=n.value;i||(e.onPacket(r),t())})).catch((function(e){}))}();var o={type:"open"};e.query.sid&&(o.data='{"sid":"'.concat(e.query.sid,'"}')),e._writer.write(o).then((function(){return e.onOpen()}))}))}))}},{key:"write",value:function(e){var t=this;this.writable=!1;for(var n=function(){var n=e[i],r=i===e.length-1;t._writer.write(n).then((function(){r&&ky((function(){t.writable=!0,t.emitReserved("drain")}),t.setTimeoutFn)}))},i=0;i<e.length;i++)n()}},{key:"doClose",value:function(){var e;null===(e=this._transport)||void 0===e||e.close()}}]),n}(Ry),Vy={websocket:Hy,webtransport:zy,polling:By},Wy=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Gy=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Xy(e){if(e.length>8e3)throw"URI too long";var t=e,n=e.indexOf("["),i=e.indexOf("]");-1!=n&&-1!=i&&(e=e.substring(0,n)+e.substring(n,i).replace(/:/g,";")+e.substring(i,e.length));for(var r=Wy.exec(e||""),o={},a=14;a--;)o[Gy[a]]=r[a]||"";return-1!=n&&-1!=i&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){var n=/\/{2,9}/g,i=t.replace(n,"/").split("/");"/"!=t.slice(0,1)&&0!==t.length||i.splice(0,1);"/"==t.slice(-1)&&i.splice(i.length-1,1);return i}(0,o.path),o.queryKey=function(e,t){var n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,i){t&&(n[t]=i)})),n}(0,o.query),o}var Yy="function"===typeof addEventListener&&"function"===typeof removeEventListener,Ky=[];Yy&&addEventListener("offline",(function(){Ky.forEach((function(e){return e()}))}),!1);var qy=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;if((0,Sr.Z)(this,n),(r=t.call(this)).binaryType="arraybuffer",r.writeBuffer=[],r._prevBufferLen=0,r._pingInterval=-1,r._pingTimeout=-1,r._maxPayload=-1,r._pingTimeoutTime=1/0,e&&"object"===typeof e&&(i=e,e=null),e){var o=Xy(e);i.hostname=o.host,i.secure="https"===o.protocol||"wss"===o.protocol,i.port=o.port,o.query&&(i.query=o.query)}else i.host&&(i.hostname=Xy(i.host).host);return Sy(re(r),i),r.secure=null!=i.secure?i.secure:"undefined"!==typeof location&&"https:"===location.protocol,i.hostname&&!i.port&&(i.port=r.secure?"443":"80"),r.hostname=i.hostname||("undefined"!==typeof location?location.hostname:"localhost"),r.port=i.port||("undefined"!==typeof location&&location.port?location.port:r.secure?"443":"80"),r.transports=[],r._transportsByName={},i.transports.forEach((function(e){var t=e.prototype.name;r.transports.push(t),r._transportsByName[t]=e})),r.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},i),r.opts.path=r.opts.path.replace(/\/$/,"")+(r.opts.addTrailingSlash?"/":""),"string"===typeof r.opts.query&&(r.opts.query=function(e){for(var t={},n=e.split("&"),i=0,r=n.length;i<r;i++){var o=n[i].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}(r.opts.query)),Yy&&(r.opts.closeOnBeforeunload&&(r._beforeunloadEventListener=function(){r.transport&&(r.transport.removeAllListeners(),r.transport.close())},addEventListener("beforeunload",r._beforeunloadEventListener,!1)),"localhost"!==r.hostname&&(r._offlineEventListener=function(){r._onClose("transport close",{description:"network connection lost"})},Ky.push(r._offlineEventListener))),r.opts.withCredentials&&(r._cookieJar=void 0),r._open(),r}return(0,Cr.Z)(n,[{key:"createTransport",value:function(e){var t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);var n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](n)}},{key:"_open",value:function(){var e=this;if(0!==this.transports.length){var t=this.opts.rememberUpgrade&&n.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket")?"websocket":this.transports[0];this.readyState="opening";var i=this.createTransport(t);i.open(),this.setTransport(i)}else this.setTimeoutFn((function(){e.emitReserved("error","No transports available")}),0)}},{key:"setTransport",value:function(e){var t=this;this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",(function(e){return t._onClose("transport close",e)}))}},{key:"onOpen",value:function(){this.readyState="open",n.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush()}},{key:"_onPacket",value:function(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":var t=new Error("server error");t.code=e.data,this._onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}},{key:"onHandshake",value:function(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this._resetPingTimeout()}},{key:"_resetPingTimeout",value:function(){var e=this;this.clearTimeoutFn(this._pingTimeoutTimer);var t=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+t,this._pingTimeoutTimer=this.setTimeoutFn((function(){e._onClose("ping timeout")}),t),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}},{key:"_onDrain",value:function(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}},{key:"flush",value:function(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){var e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}},{key:"_getWritablePackets",value:function(){if(!(this._maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;for(var e,t=1,n=0;n<this.writeBuffer.length;n++){var i=this.writeBuffer[n].data;if(i&&(t+="string"===typeof(e=i)?function(e){for(var t=0,n=0,i=0,r=e.length;i<r;i++)(t=e.charCodeAt(i))<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(i++,n+=4);return n}(e):Math.ceil(1.33*(e.byteLength||e.size))),n>0&&t>this._maxPayload)return this.writeBuffer.slice(0,n);t+=2}return this.writeBuffer}},{key:"_hasPingExpired",value:function(){var e=this;if(!this._pingTimeoutTime)return!0;var t=Date.now()>this._pingTimeoutTime;return t&&(this._pingTimeoutTime=0,ky((function(){e._onClose("ping timeout")}),this.setTimeoutFn)),t}},{key:"write",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"send",value:function(e,t,n){return this._sendPacket("message",e,t,n),this}},{key:"_sendPacket",value:function(e,t,n,i){if("function"===typeof t&&(i=t,t=void 0),"function"===typeof n&&(i=n,n=null),"closing"!==this.readyState&&"closed"!==this.readyState){(n=n||{}).compress=!1!==n.compress;var r={type:e,data:t,options:n};this.emitReserved("packetCreate",r),this.writeBuffer.push(r),i&&this.once("flush",i),this.flush()}}},{key:"close",value:function(){var e=this,t=function(){e._onClose("forced close"),e.transport.close()},n=function n(){e.off("upgrade",n),e.off("upgradeError",n),t()},i=function(){e.once("upgrade",n),e.once("upgradeError",n)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(function(){e.upgrading?i():t()})):this.upgrading?i():t()),this}},{key:"_onError",value:function(e){if(n.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&"opening"===this.readyState)return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}},{key:"_onClose",value:function(e,t){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Yy&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){var n=Ky.indexOf(this._offlineEventListener);-1!==n&&Ky.splice(n,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this._prevBufferLen=0}}}]),n}(by);qy.protocol=4;var Jy=function(e){ac(n,e);var t=uc(n);function n(){var e;return(0,Sr.Z)(this,n),(e=t.apply(this,arguments))._upgrades=[],e}return(0,Cr.Z)(n,[{key:"onOpen",value:function(){if(oc(rc(n.prototype),"onOpen",this).call(this),"open"===this.readyState&&this.opts.upgrade)for(var e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}},{key:"_probe",value:function(e){var t=this,n=this.createTransport(e),i=!1;qy.priorWebsocketSuccess=!1;var r=function(){i||(n.send([{type:"ping",data:"probe"}]),n.once("packet",(function(e){if(!i)if("pong"===e.type&&"probe"===e.data){if(t.upgrading=!0,t.emitReserved("upgrading",n),!n)return;qy.priorWebsocketSuccess="websocket"===n.name,t.transport.pause((function(){i||"closed"!==t.readyState&&(c(),t.setTransport(n),n.send([{type:"upgrade"}]),t.emitReserved("upgrade",n),n=null,t.upgrading=!1,t.flush())}))}else{var r=new Error("probe error");r.transport=n.name,t.emitReserved("upgradeError",r)}})))};function o(){i||(i=!0,c(),n.close(),n=null)}var a=function(e){var i=new Error("probe error: "+e);i.transport=n.name,o(),t.emitReserved("upgradeError",i)};function s(){a("transport closed")}function l(){a("socket closed")}function u(e){n&&e.name!==n.name&&o()}var c=function(){n.removeListener("open",r),n.removeListener("error",a),n.removeListener("close",s),t.off("close",l),t.off("upgrading",u)};n.once("open",r),n.once("error",a),n.once("close",s),this.once("close",l),this.once("upgrading",u),-1!==this._upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((function(){i||n.open()}),200):n.open()}},{key:"onHandshake",value:function(e){this._upgrades=this._filterUpgrades(e.upgrades),oc(rc(n.prototype),"onHandshake",this).call(this,e)}},{key:"_filterUpgrades",value:function(e){for(var t=[],n=0;n<e.length;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}]),n}(qy),Qy=function(e){ac(n,e);var t=uc(n);function n(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(0,Sr.Z)(this,n);var r="object"===typeof e?e:i;return(!r.transports||r.transports&&"string"===typeof r.transports[0])&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map((function(e){return Vy[e]})).filter((function(e){return!!e}))),t.call(this,e,r)}return(0,Cr.Z)(n)}(Jy);Qy.protocol;var e_="function"===typeof ArrayBuffer,t_=function(e){return"function"===typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer},n_=Object.prototype.toString,i_="function"===typeof Blob||"undefined"!==typeof Blob&&"[object BlobConstructor]"===n_.call(Blob),r_="function"===typeof File||"undefined"!==typeof File&&"[object FileConstructor]"===n_.call(File);function o_(e){return e_&&(e instanceof ArrayBuffer||t_(e))||i_&&e instanceof Blob||r_&&e instanceof File}function a_(e,t){if(!e||"object"!==typeof e)return!1;if(Array.isArray(e)){for(var n=0,i=e.length;n<i;n++)if(a_(e[n]))return!0;return!1}if(o_(e))return!0;if(e.toJSON&&"function"===typeof e.toJSON&&1===arguments.length)return a_(e.toJSON(),!0);for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&a_(e[r]))return!0;return!1}function s_(e){var t=[],n=e.data,i=e;return i.data=l_(n,t),i.attachments=t.length,{packet:i,buffers:t}}function l_(e,t){if(!e)return e;if(o_(e)){var n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){for(var i=new Array(e.length),r=0;r<e.length;r++)i[r]=l_(e[r],t);return i}if("object"===typeof e&&!(e instanceof Date)){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(o[a]=l_(e[a],t));return o}return e}function u_(e,t){return e.data=c_(e.data,t),delete e.attachments,e}function c_(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"===typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]=c_(e[n],t);else if("object"===typeof e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=c_(e[i],t));return e}var h_,d_=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],f_=5;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(h_||(h_={}));var p_=function(){function e(t){(0,Sr.Z)(this,e),this.replacer=t}return(0,Cr.Z)(e,[{key:"encode",value:function(e){return e.type!==h_.EVENT&&e.type!==h_.ACK||!a_(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===h_.EVENT?h_.BINARY_EVENT:h_.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}},{key:"encodeAsString",value:function(e){var t=""+e.type;return e.type!==h_.BINARY_EVENT&&e.type!==h_.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}},{key:"encodeAsBinary",value:function(e){var t=s_(e),n=this.encodeAsString(t.packet),i=t.buffers;return i.unshift(n),i}}]),e}();function v_(e){return"[object Object]"===Object.prototype.toString.call(e)}var g_=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).reviver=e,i}return(0,Cr.Z)(n,[{key:"add",value:function(e){var t;if("string"===typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");var i=(t=this.decodeString(e)).type===h_.BINARY_EVENT;i||t.type===h_.BINARY_ACK?(t.type=i?h_.EVENT:h_.ACK,this.reconstructor=new m_(t),0===t.attachments&&oc(rc(n.prototype),"emitReserved",this).call(this,"decoded",t)):oc(rc(n.prototype),"emitReserved",this).call(this,"decoded",t)}else{if(!o_(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(t=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,oc(rc(n.prototype),"emitReserved",this).call(this,"decoded",t))}}},{key:"decodeString",value:function(e){var t=0,i={type:Number(e.charAt(0))};if(void 0===h_[i.type])throw new Error("unknown packet type "+i.type);if(i.type===h_.BINARY_EVENT||i.type===h_.BINARY_ACK){for(var r=t+1;"-"!==e.charAt(++t)&&t!=e.length;);var o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");i.attachments=Number(o)}if("/"===e.charAt(t+1)){for(var a=t+1;++t;){if(","===e.charAt(t))break;if(t===e.length)break}i.nsp=e.substring(a,t)}else i.nsp="/";var s=e.charAt(t+1);if(""!==s&&Number(s)==s){for(var l=t+1;++t;){var u=e.charAt(t);if(null==u||Number(u)!=u){--t;break}if(t===e.length)break}i.id=Number(e.substring(l,t+1))}if(e.charAt(++t)){var c=this.tryParse(e.substr(t));if(!n.isPayloadValid(i.type,c))throw new Error("invalid payload");i.data=c}return i}},{key:"tryParse",value:function(e){try{return JSON.parse(e,this.reviver)}catch(t){return!1}}},{key:"destroy",value:function(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}],[{key:"isPayloadValid",value:function(e,t){switch(e){case h_.CONNECT:return v_(t);case h_.DISCONNECT:return void 0===t;case h_.CONNECT_ERROR:return"string"===typeof t||v_(t);case h_.EVENT:case h_.BINARY_EVENT:return Array.isArray(t)&&("number"===typeof t[0]||"string"===typeof t[0]&&-1===d_.indexOf(t[0]));case h_.ACK:case h_.BINARY_ACK:return Array.isArray(t)}}}]),n}(by),m_=function(){function e(t){(0,Sr.Z)(this,e),this.packet=t,this.buffers=[],this.reconPack=t}return(0,Cr.Z)(e,[{key:"takeBinaryData",value:function(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){var t=u_(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null}},{key:"finishedReconstruction",value:function(){this.reconPack=null,this.buffers=[]}}]),e}();function y_(e,t,n){return e.on(t,n),function(){e.off(t,n)}}var __=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1}),b_=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this)).connected=!1,o.recovered=!1,o.receiveBuffer=[],o.sendBuffer=[],o._queue=[],o._queueSeq=0,o.ids=0,o.acks={},o.flags={},o.io=e,o.nsp=i,r&&r.auth&&(o.auth=r.auth),o._opts=Object.assign({},r),o.io._autoConnect&&o.open(),o}return(0,Cr.Z)(n,[{key:"disconnected",get:function(){return!this.connected}},{key:"subEvents",value:function(){if(!this.subs){var e=this.io;this.subs=[y_(e,"open",this.onopen.bind(this)),y_(e,"packet",this.onpacket.bind(this)),y_(e,"error",this.onerror.bind(this)),y_(e,"close",this.onclose.bind(this))]}}},{key:"active",get:function(){return!!this.subs}},{key:"connect",value:function(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}},{key:"open",value:function(){return this.connect()}},{key:"send",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift("message"),this.emit.apply(this,t),this}},{key:"emit",value:function(e){var t,n,i;if(__.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];if(o.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(o),this;var s={type:h_.EVENT,data:o,options:{}};if(s.options.compress=!1!==this.flags.compress,"function"===typeof o[o.length-1]){var l=this.ids++,u=o.pop();this._registerAckCallback(l,u),s.id=l}var c=null===(n=null===(t=this.io.engine)||void 0===t?void 0:t.transport)||void 0===n?void 0:n.writable,h=this.connected&&!(null===(i=this.io.engine)||void 0===i?void 0:i._hasPingExpired());return this.flags.volatile&&!c||(h?(this.notifyOutgoingListeners(s),this.packet(s)):this.sendBuffer.push(s)),this.flags={},this}},{key:"_registerAckCallback",value:function(e,t){var n,i=this,r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0!==r){var o=this.io.setTimeoutFn((function(){delete i.acks[e];for(var n=0;n<i.sendBuffer.length;n++)i.sendBuffer[n].id===e&&i.sendBuffer.splice(n,1);t.call(i,new Error("operation has timed out"))}),r),a=function(){i.io.clearTimeoutFn(o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(i,n)};a.withError=!0,this.acks[e]=a}else this.acks[e]=t}},{key:"emitWithAck",value:function(e){for(var t=this,n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return new Promise((function(n,r){var o=function(e,t){return e?r(e):n(t)};o.withError=!0,i.push(o),t.emit.apply(t,[e].concat(i))}))}},{key:"_addToQueue",value:function(e){var t,n=this;"function"===typeof e[e.length-1]&&(t=e.pop());var i={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((function(e){if(i===n._queue[0]){if(null!==e)i.tryCount>n._opts.retries&&(n._queue.shift(),t&&t(e));else if(n._queue.shift(),t){for(var r=arguments.length,o=new Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];t.apply(void 0,[null].concat(o))}return i.pending=!1,n._drainQueue()}})),this._queue.push(i),this._drainQueue()}},{key:"_drainQueue",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.connected&&0!==this._queue.length){var t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}}},{key:"packet",value:function(e){e.nsp=this.nsp,this.io._packet(e)}},{key:"onopen",value:function(){var e=this;"function"==typeof this.auth?this.auth((function(t){e._sendConnectPacket(t)})):this._sendConnectPacket(this.auth)}},{key:"_sendConnectPacket",value:function(e){this.packet({type:h_.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}},{key:"onerror",value:function(e){this.connected||this.emitReserved("connect_error",e)}},{key:"onclose",value:function(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}},{key:"_clearAcks",value:function(){var e=this;Object.keys(this.acks).forEach((function(t){if(!e.sendBuffer.some((function(e){return String(e.id)===t}))){var n=e.acks[t];delete e.acks[t],n.withError&&n.call(e,new Error("socket has been disconnected"))}}))}},{key:"onpacket",value:function(e){if(e.nsp===this.nsp)switch(e.type){case h_.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case h_.EVENT:case h_.BINARY_EVENT:this.onevent(e);break;case h_.ACK:case h_.BINARY_ACK:this.onack(e);break;case h_.DISCONNECT:this.ondisconnect();break;case h_.CONNECT_ERROR:this.destroy();var t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}},{key:"onevent",value:function(e){var t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}},{key:"emitEvent",value:function(e){if(this._anyListeners&&this._anyListeners.length){var t,i=a(this._anyListeners.slice());try{for(i.s();!(t=i.n()).done;){t.value.apply(this,e)}}catch(PU){i.e(PU)}finally{i.f()}}oc(rc(n.prototype),"emit",this).apply(this,e),this._pid&&e.length&&"string"===typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}},{key:"ack",value:function(e){var t=this,n=!1;return function(){if(!n){n=!0;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t.packet({type:h_.ACK,id:e,data:r})}}}},{key:"onack",value:function(e){var t=this.acks[e.id];"function"===typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}},{key:"onconnect",value:function(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}},{key:"emitBuffered",value:function(){var e=this;this.receiveBuffer.forEach((function(t){return e.emitEvent(t)})),this.receiveBuffer=[],this.sendBuffer.forEach((function(t){e.notifyOutgoingListeners(t),e.packet(t)})),this.sendBuffer=[]}},{key:"ondisconnect",value:function(){this.destroy(),this.onclose("io server disconnect")}},{key:"destroy",value:function(){this.subs&&(this.subs.forEach((function(e){return e()})),this.subs=void 0),this.io._destroy(this)}},{key:"disconnect",value:function(){return this.connected&&this.packet({type:h_.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}},{key:"close",value:function(){return this.disconnect()}},{key:"compress",value:function(e){return this.flags.compress=e,this}},{key:"volatile",get:function(){return this.flags.volatile=!0,this}},{key:"timeout",value:function(e){return this.flags.timeout=e,this}},{key:"onAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}},{key:"prependAny",value:function(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}},{key:"offAny",value:function(e){if(!this._anyListeners)return this;if(e){for(var t=this._anyListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}},{key:"listenersAny",value:function(){return this._anyListeners||[]}},{key:"onAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}},{key:"prependAnyOutgoing",value:function(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}},{key:"offAnyOutgoing",value:function(e){if(!this._anyOutgoingListeners)return this;if(e){for(var t=this._anyOutgoingListeners,n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}},{key:"listenersAnyOutgoing",value:function(){return this._anyOutgoingListeners||[]}},{key:"notifyOutgoingListeners",value:function(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){var t,n=a(this._anyOutgoingListeners.slice());try{for(n.s();!(t=n.n()).done;){t.value.apply(this,e.data)}}catch(PU){n.e(PU)}finally{n.f()}}}}]),n}(by);function k_(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}k_.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},k_.prototype.reset=function(){this.attempts=0},k_.prototype.setMin=function(e){this.ms=e},k_.prototype.setMax=function(e){this.max=e},k_.prototype.setJitter=function(e){this.jitter=e};var T_=function(t){ac(i,t);var n=uc(i);function i(t,r){var o,a;(0,Sr.Z)(this,i),(o=n.call(this)).nsps={},o.subs=[],t&&"object"===typeof t&&(r=t,t=void 0),(r=r||{}).path=r.path||"/socket.io",o.opts=r,Sy(re(o),r),o.reconnection(!1!==r.reconnection),o.reconnectionAttempts(r.reconnectionAttempts||1/0),o.reconnectionDelay(r.reconnectionDelay||1e3),o.reconnectionDelayMax(r.reconnectionDelayMax||5e3),o.randomizationFactor(null!==(a=r.randomizationFactor)&&void 0!==a?a:.5),o.backoff=new k_({min:o.reconnectionDelay(),max:o.reconnectionDelayMax(),jitter:o.randomizationFactor()}),o.timeout(null==r.timeout?2e4:r.timeout),o._readyState="closed",o.uri=t;var s=r.parser||e;return o.encoder=new s.Encoder,o.decoder=new s.Decoder,o._autoConnect=!1!==r.autoConnect,o._autoConnect&&o.open(),o}return(0,Cr.Z)(i,[{key:"reconnection",value:function(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}},{key:"reconnectionAttempts",value:function(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}},{key:"reconnectionDelay",value:function(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}},{key:"randomizationFactor",value:function(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}},{key:"reconnectionDelayMax",value:function(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}},{key:"timeout",value:function(e){return arguments.length?(this._timeout=e,this):this._timeout}},{key:"maybeReconnectOnOpen",value:function(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}},{key:"open",value:function(e){var t=this;if(~this._readyState.indexOf("open"))return this;this.engine=new Qy(this.uri,this.opts);var n=this.engine,i=this;this._readyState="opening",this.skipReconnect=!1;var r=y_(n,"open",(function(){i.onopen(),e&&e()})),o=function(n){t.cleanup(),t._readyState="closed",t.emitReserved("error",n),e?e(n):t.maybeReconnectOnOpen()},a=y_(n,"error",o);if(!1!==this._timeout){var s=this._timeout,l=this.setTimeoutFn((function(){r(),o(new Error("timeout")),n.close()}),s);this.opts.autoUnref&&l.unref(),this.subs.push((function(){t.clearTimeoutFn(l)}))}return this.subs.push(r),this.subs.push(a),this}},{key:"connect",value:function(e){return this.open(e)}},{key:"onopen",value:function(){this.cleanup(),this._readyState="open",this.emitReserved("open");var e=this.engine;this.subs.push(y_(e,"ping",this.onping.bind(this)),y_(e,"data",this.ondata.bind(this)),y_(e,"error",this.onerror.bind(this)),y_(e,"close",this.onclose.bind(this)),y_(this.decoder,"decoded",this.ondecoded.bind(this)))}},{key:"onping",value:function(){this.emitReserved("ping")}},{key:"ondata",value:function(e){try{this.decoder.add(e)}catch(t){this.onclose("parse error",t)}}},{key:"ondecoded",value:function(e){var t=this;ky((function(){t.emitReserved("packet",e)}),this.setTimeoutFn)}},{key:"onerror",value:function(e){this.emitReserved("error",e)}},{key:"socket",value:function(e,t){var n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new b_(this,e,t),this.nsps[e]=n),n}},{key:"_destroy",value:function(e){for(var t=0,n=Object.keys(this.nsps);t<n.length;t++){var i=n[t];if(this.nsps[i].active)return}this._close()}},{key:"_packet",value:function(e){for(var t=this.encoder.encode(e),n=0;n<t.length;n++)this.engine.write(t[n],e.options)}},{key:"cleanup",value:function(){this.subs.forEach((function(e){return e()})),this.subs.length=0,this.decoder.destroy()}},{key:"_close",value:function(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}},{key:"disconnect",value:function(){return this._close()}},{key:"onclose",value:function(e,t){var n;this.cleanup(),null===(n=this.engine)||void 0===n||n.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}},{key:"reconnect",value:function(){var e=this;if(this._reconnecting||this.skipReconnect)return this;var t=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{var n=this.backoff.duration();this._reconnecting=!0;var i=this.setTimeoutFn((function(){t.skipReconnect||(e.emitReserved("reconnect_attempt",t.backoff.attempts),t.skipReconnect||t.open((function(n){n?(t._reconnecting=!1,t.reconnect(),e.emitReserved("reconnect_error",n)):t.onreconnect()})))}),n);this.opts.autoUnref&&i.unref(),this.subs.push((function(){e.clearTimeoutFn(i)}))}}},{key:"onreconnect",value:function(){var e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}]),i}(by),E_={};function x_(e,t){"object"===typeof e&&(t=e,e=void 0);var n,i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=e;n=n||"undefined"!==typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"===typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e="undefined"!==typeof n?n.protocol+"//"+e:"https://"+e),i=Xy(e)),i.port||(/^(http|ws)$/.test(i.protocol)?i.port="80":/^(http|ws)s$/.test(i.protocol)&&(i.port="443")),i.path=i.path||"/";var r=-1!==i.host.indexOf(":")?"["+i.host+"]":i.host;return i.id=i.protocol+"://"+r+":"+i.port+t,i.href=i.protocol+"://"+r+(n&&n.port===i.port?"":":"+i.port),i}(e,(t=t||{}).path||"/socket.io"),r=i.source,o=i.id,a=i.path,s=E_[o]&&a in E_[o].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?n=new T_(r,t):(E_[o]||(E_[o]=new T_(r,t)),n=E_[o]),i.query&&!t.query&&(t.query=i.queryKey),n.socket(i.path,t)}Object.assign(x_,{Manager:T_,Socket:b_,io:x_,connect:x_});var w_=(0,i.createContext)(null),S_=function(e){var t=e.hostIP,n=e.children,r=(0,i.useRef)(null);return(0,i.useEffect)((function(){console.log("Connecting to WebSocket server:",t,8002);var e=x_("".concat(t,":8002"),{transports:["websocket"]});return r.current=e,e.on("connect",(function(){console.log("Socket.IO connected:",e.id)})),e.on("disconnect",(function(){console.log("Socket.IO disconnected")})),e.on("connect_error",(function(e){console.error("Socket.IO connection error:",e)})),function(){e.disconnect()}}),[t]),(0,p.jsx)(w_.Provider,{value:r.current,children:n})},C_=function(){return(0,i.useContext)(w_)};var I_=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useState)(""),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)({A:0,X:0,Y:0,Z:0}),c=(0,d.Z)(l,2),f=c[0],v=c[1],g=C_();(0,i.useEffect)((function(){if(g){var e=function(e){try{var t=JSON.parse(e);if("sigUpdateMotorPosition"===t.name){var n=JSON.parse(t.args.p0.replace(/'/g,'"')),i=Object.keys(n);if(i.length>0){var r=i[0],o=n[r];console.log("Corrected positions for ".concat(r,":"),o),v((function(e){return ic(ic({},e),o)}))}else console.warn("No positioner data found in the signal.")}}catch(a){console.error("Error parsing signal data:",a)}};return g.on("signal",e),function(){g.off("signal",e)}}}),[g]);var m=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/PositionerController/getPositionerNames"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,s(r[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching positioner name:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/PositionerController/getPositionerPositions"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,console.log("Fetched Positions from positionerName ",a,":",r[a]),v({A:r[a].A||0,X:r[a].X||0,Y:r[a].Y||0,Z:r[a].Z||0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching positioner positions:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return(0,i.useEffect)((function(){console.log("Fetching positioner name and positions..."),m()}),[t,n]),(0,i.useEffect)((function(){a&&y(a)}),[a]),(0,p.jsx)(la,{container:!0,spacing:10,children:["X","Y","Z","A"].map((function(e){return(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ym,{axisLabel:e,hostIP:t,hostPort:n,positionerName:a,mPosition:f[e]})},e)}))})},R_=(0,i.createContext)(),O_=function(e){var t=e.children,n=(0,i.useState)(!1),r=(0,d.Z)(n,2),o=r[0],a=r[1];return(0,p.jsx)(R_.Provider,{value:{isStreamRunning:o,setStreamRunning:a},children:t})},A_=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.name,r=t.classNamePrefix,o=t.Component,a=t.defaultTheme,s=void 0===a?Ju:a,l=(0,b.Z)(t,Qu),u=qu(e),c=n||r||"makeStyles";return u.options={index:Gu+=1,name:n,meta:c,classNamePrefix:c},function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=function(){var e,t=gl();return null!=(e=null==t?void 0:t.$$material)?e:t}()||s,r=(0,_.Z)({},i.useContext(Wu),l),a=i.useRef(),c=i.useRef();!function(e,t){var n,r=i.useRef([]),o=i.useMemo((function(){return{}}),t);r.current!==o&&(r.current=o,n=e()),i.useEffect((function(){return function(){n&&n()}}),[o])}((function(){var i={name:n,state:{},stylesCreator:u,stylesOptions:r,theme:t};return ec(i,e),c.current=!1,a.current=i,function(){!function(e){var t=e.state,n=e.theme,i=e.stylesOptions,r=e.stylesCreator;if(!i.disableGeneration){var o=pl.get(i.sheetsManager,r,n);o.refs-=1;var a=i.sheetsRegistry;0===o.refs&&(pl.delete(i.sheetsManager,r,n),i.jss.removeStyleSheet(o.staticSheet),a&&a.remove(o.staticSheet)),t.dynamicSheet&&(i.jss.removeStyleSheet(t.dynamicSheet),a&&a.remove(t.dynamicSheet))}}(i)}}),[t,u]),i.useEffect((function(){c.current&&function(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}(a.current,e),c.current=!0}));var h=function(e,t,n){var i=e.state;if(e.stylesOptions.disableGeneration)return t||{};i.cacheClasses||(i.cacheClasses={value:null,lastProp:null,lastJSS:{}});var r=!1;return i.classes!==i.cacheClasses.lastJSS&&(i.cacheClasses.lastJSS=i.classes,r=!0),t!==i.cacheClasses.lastProp&&(i.cacheClasses.lastProp=t,r=!0),r&&(i.cacheClasses.value=dl({baseClasses:i.cacheClasses.lastJSS,newClasses:t,Component:n})),i.cacheClasses.value}(a.current,e.classes,o);return h}}((function(e){return{blinking:{animation:"$blinkingEffect 1s infinite"},"@keyframes blinkingEffect":{"0%":{opacity:1},"50%":{opacity:0},"100%":{opacity:1}}}})),M_=function(e){var t=e.hostIP,n=e.hostPort,r=e.onImageUpdate,o=A_(),a=C_(),s=(0,i.useContext)(R_),l=s.sliderIllu2Value,c=s.sliderIllu3Value,f=(0,i.useState)(!1),_=(0,d.Z)(f,2),b=_[0],k=_[1],T=(0,i.useState)(""),E=(0,d.Z)(T,2),x=E[0],w=E[1],S=(0,i.useState)(0),C=(0,d.Z)(S,2),I=C[0],R=C[1],O=(0,i.useState)(1023),A=(0,d.Z)(O,2),M=A[0],L=A[1],N=(0,i.useState)(!1),$=(0,d.Z)(N,2),P=$[0],D=$[1],F=(0,i.useState)(""),U=(0,d.Z)(F,2),j=U[0],Z=U[1],H=(0,i.useState)(""),z=(0,d.Z)(H,2),V=z[0],W=z[1],G=(0,i.useState)(!0),X=(0,d.Z)(G,2),K=X[0],q=X[1],J=(0,i.useState)([]),Q=(0,d.Z)(J,2),ee=Q[0],te=Q[1],ne=(0,i.useState)(0),ie=(0,d.Z)(ne,2),re=ie[0],oe=ie[1],ae=(0,i.useState)(!1),se=(0,d.Z)(ae,2),le=se[0],ue=se[1],ce=(0,i.useState)(!1),he=(0,d.Z)(ce,2),de=he[0],fe=he[1],pe=(0,i.useState)(!1),ve=(0,d.Z)(pe,2),ge=ve[0],me=ve[1],ye=(0,i.useState)([]),_e=(0,d.Z)(ye,2),be=_e[0],ke=_e[1],Te=(0,i.useState)([]),Ee=(0,d.Z)(Te,2),xe=Ee[0],we=Ee[1],Se=(0,i.useState)(!1),Ce=(0,d.Z)(Se,2),Ie=Ce[0],Re=Ce[1],Oe=(0,i.useRef)(null),Ae=(0,i.useRef)(null),Me=(0,i.useState)(null),Le=(0,d.Z)(Me,2),Ne=Le[0];Le[1];(0,i.useEffect)((function(){if(a)return a.on("signal",(function(e){var t=JSON.parse(e);if("sigUpdateImage"===t.name||"sigImageUpdated"===t.name){var n="data:image/jpeg;base64,".concat(t.image);w(n),r&&r(n)}})),function(){a.off("signal")}}),[a]),(0,i.useEffect)((function(){if(a)return a.on("signal",(function(e){var t=JSON.parse(e);"sigHistogramComputed"===t.name&&(ke(t.args.p0),we(t.args.p1))})),function(){Ae.current&&Ae.current.destroy&&Ae.current.destroy()}}),[a]),(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/HistogrammController/histogrammActive"));case 3:404!==e.sent.status?Re(!0):Re(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Re(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]);var $e=function(){var e=h(u().mark((function e(i,r){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o="".concat(t,":").concat(n,"/SettingsController/setDetectorPreviewMinMaxValue?minValue=").concat(r[0],"&maxValue=").concat(r[1]),e.next=4,fetch(o,{method:"GET"});case 4:if(e.sent.ok){e.next=7;break}throw new Error("Failed to update min/max values on the server");case 7:console.log("Updated min/max values on backend"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error updating min/max values:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/HistogrammController/minmaxvalues"));case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Failed to fetch min/max values");case 6:return e.next=8,i.json();case 8:r=e.sent,R(r.minVal),L(r.maxVal),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.error("Error fetching min/max values:",e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/LaserController/getLaserNames"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,te(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Failed to fetch laser names:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/LaserController/getLaserValue?laserName=").concat(ee[0]));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,oe(r),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching laser value:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();ee.length>0&&e()}),[ee,t,n]);var Pe=function(){var e=h(u().mark((function e(){var i,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ne){e.next=3;break}return console.error("ImJoy API is not loaded yet"),e.abrupt("return");case 3:return e.prev=3,i="".concat(t,":").concat(n,"/RecordingController/snapNumpyToFastAPI?resizeFactor=1"),e.next=7,fetch(i);case 7:return r=e.sent,e.next=10,r.arrayBuffer();case 10:return o=e.sent,e.next=13,Ne.getWindow("ImageJ.JS");case 13:if(a=e.sent){e.next=20;break}return e.next=17,Ne.createWindow({src:"https://ij.imjoy.io",name:"ImageJ.JS",fullscreen:!0});case 17:a=e.sent,e.next=22;break;case 20:return e.next=22,a.show();case 22:return e.next=24,a.viewImage(o,{name:"image.jpeg"});case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(3),console.error("Error sending to ImJoy:",e.t0);case 29:case"end":return e.stop()}}),e,null,[[3,26]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=h(u().mark((function e(){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i="".concat(t,":").concat(n,"/RecordingController/snapImage?output=false&toList=true"),e.prev=1,e.next=4,fetch(i);case 4:if(e.sent.ok){e.next=7;break}throw new Error("Network response was not ok");case 7:console.log("Photo snapped"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Snap photo error:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=h(u().mark((function e(i){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Z(i.target.value),r="".concat(t,":").concat(n,"/SettingsController/setDetectorExposureTime?exposureTime=").concat(i.target.value),fetch(r).catch((function(e){return console.error("Exposure error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=h(u().mark((function e(i){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:W(i.target.value),r="".concat(t,":").concat(n,"/SettingsController/setDetectorGain?gain=").concat(i.target.value),fetch(r).catch((function(e){return console.error("Gain error:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=h(u().mark((function e(i,r){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.target.value,ee[r]){e.next=3;break}return e.abrupt("return");case 3:a=encodeURIComponent(ee[r]),s="".concat(t,":").concat(n,"/LaserController/setLaserValue?laserName=").concat(a,"&value=").concat(o),fetch(s).catch((function(e){return console.error("Laser value error:",e)})),0===r&&oe(o);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),je=function(){var e=h(u().mark((function e(i,r){var o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.target.checked?"true":"false",ee[r]){e.next=3;break}return e.abrupt("return");case 3:a=encodeURIComponent(ee[r]),s="".concat(t,":").concat(n,"/LaserController/setLaserActive?laserName=").concat(a,"&active=").concat(o),fetch(s).catch((function(e){return console.error("Laser active error:",e)})),0===r?ue(i.target.checked):1===r?fe(i.target.checked):2===r&&me(i.target.checked);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ze=function(){var e=h(u().mark((function e(i){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="".concat(t,":").concat(n,"/ViewController/setLiveViewActive?active=").concat(i),e.next=3,fetch(r).catch((function(e){return console.error("Error toggling stream:",e)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),He=function(){var e=h(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=!b,e.next=3,Ze(t);case 3:k(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ze={labels:be,datasets:[{label:"Histogram",data:xe,borderWidth:1,backgroundColor:"rgba(63, 81, 181, 0.7)",borderColor:"rgba(63, 81, 181, 1)"}]};return(0,p.jsxs)(B,{sx:{height:"100vh",display:"flex",flexDirection:"row"},children:[(0,p.jsxs)(B,{sx:{width:"60%",position:"sticky",top:0,alignSelf:"flex-start",overflow:"hidden",borderRight:"1px solid #eee",p:2,zIndex:10},children:[(0,p.jsx)(Y,{variant:"h6",gutterBottom:!0,children:"Microscope Stream"}),(0,p.jsxs)(Ke,{onClick:He,variant:"contained",color:b?"secondary":"primary",children:[b?(0,p.jsx)(v,{}):(0,p.jsx)(g,{}),b?"Stop Stream":"Start Stream"]}),(0,p.jsx)(Ke,{onClick:De,children:(0,p.jsx)(m,{})}),(0,p.jsx)(Ke,{variant:"contained",onClick:Pe,color:"primary",startIcon:(0,p.jsx)("img",{alt:"ImJoy",src:"https://biii.eu/sites/default/files/2019-08/imjoy-icon.png",style:{width:24,height:24}}),sx:{ml:1},children:"To ImJoy"}),(0,p.jsx)(Ke,{onClick:function(){D(!0);var e="".concat(t,":").concat(n,"/RecordingController/startRecording?mSaveFormat=4");fetch(e).catch((function(e){return console.error("Start recording error:",e)}))},className:P?o.blinking:"",children:(0,p.jsx)(y,{})}),(0,p.jsx)(Ke,{onClick:function(){D(!1);var e="".concat(t,":").concat(n,"/RecordingController/stopRecording");fetch(e).catch((function(e){return console.error("Stop recording error:",e)}))},children:(0,p.jsx)(v,{})}),(0,p.jsx)(B,{sx:{mt:2},children:(0,p.jsx)(Ct,{control:(0,p.jsx)(Ht,{checked:K,onChange:function(e){q(e.target.checked);var i="".concat(t,":").concat(n,"/SettingsController/setDetectorMode?isAuto=").concat(e.target.checked);fetch(i).catch((function(e){return console.error("Cam mode error:",e)}))},name:"cameraSettings",color:"primary"}),label:K?"Automatic Camera Settings":"Manual Camera Settings"})}),(0,p.jsxs)(B,{sx:{mt:2},children:[(0,p.jsx)(Ko,{label:"Exposure Time",type:"number",value:j,onChange:Be,sx:{mr:2}}),(0,p.jsx)(Ko,{label:"Gain",type:"number",value:V,onChange:Fe})]}),(0,p.jsxs)(la,{container:!0,sx:{height:500},children:[(0,p.jsx)(la,{item:!0,xs:11,sx:{height:"100%"},children:x?(0,p.jsx)("img",{src:x,alt:"Live Stream",style:{width:"auto",height:"100%",display:"block"}}):(0,p.jsx)(Y,{children:"No stream URL loaded"})}),(0,p.jsx)(la,{item:!0,xs:1,sx:{height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,p.jsx)(ja,{orientation:"vertical",value:[I,M],onChange:function(e,t){R(t[0]),L(t[1])},onChangeCommitted:$e,min:0,max:1024,sx:{height:"90%"},valueLabelDisplay:"on",valueLabelFormat:function(e,t){return 0===t?"Min: ".concat(e):"Max: ".concat(e)},"aria-labelledby":"range-slider"})})]}),(0,p.jsx)(B,{sx:{mt:2},children:Ie&&(0,p.jsxs)(B,{sx:{width:"100%",maxWidth:600,margin:"auto",p:2,backgroundColor:"#fafafa",boxShadow:"0px 3px 6px rgba(0, 0, 0, 0.1)",borderRadius:2},ref:Oe,children:[(0,p.jsx)(Y,{variant:"h6",align:"center",sx:{mb:2},children:"Histogram"}),(0,p.jsx)(B,{sx:{height:300},children:be.length&&xe.length?(0,p.jsx)(gm,{id:"histogramChart",data:ze,options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},title:{display:!0,text:"Histogram",font:{size:18},color:"#333"}},scales:{x:{max:1024,title:{display:!0,text:"Intensity",font:{size:14},color:"#333"}},y:{beginAtZero:!0,title:{display:!0,text:"Counts",font:{size:14},color:"#333"}}}},ref:Ae}):(0,p.jsx)(Y,{align:"center",children:"Loading data..."})})]})})]}),(0,p.jsxs)(B,{sx:{width:"40%",height:"100%",overflowY:"auto",p:2,m:2,boxSizing:"border-box"},children:[(0,p.jsxs)(B,{mb:3,sx:{width:"90%"},children:[(0,p.jsx)(Y,{variant:"h6",gutterBottom:!0,children:"Stage Control"}),(0,p.jsx)(I_,{hostIP:t,hostPort:n})]}),(0,p.jsxs)(B,{mb:3,sx:{width:"90%"},children:[(0,p.jsx)(Y,{variant:"h6",gutterBottom:!0,children:"Illumination"}),ee&&ee.length>0?ee.map((function(e,t){var n=0===t?re:1===t?l:c,i=0===t?le:1===t?de:ge;return(0,p.jsxs)(B,{sx:{display:"flex",alignItems:"center",mb:1},children:[(0,p.jsx)(Y,{sx:{width:80},children:e}),(0,p.jsx)(ja,{value:n,min:0,max:1023,onChange:function(e){return Ue(e,t)},sx:{flex:1,mx:2}}),(0,p.jsx)(Ja,{checked:i,onChange:function(e){return je(e,t)}})]},e)})):(0,p.jsx)(Y,{children:"Loading laser names..."})]})]})]})},L_=function(){var e=(0,i.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],o=C_();return(0,i.useEffect)((function(){if(o)return o.on("signal",(function(e){r((function(t){return[].concat((0,s.Z)(t),[e])}))})),o.on("broadcast",(function(e){r((function(t){return[].concat((0,s.Z)(t),[e.message])}))})),function(){o.off("server_message"),o.off("broadcast")}}),[o]),(0,p.jsxs)("div",{children:[(0,p.jsx)("h1",{children:"Socket.IO Messages"}),n.map((function(e,t){return(0,p.jsx)("p",{children:e},t)}))]})},N_=function(e,t){return Number(e.toFixed(t))},$_=function(e,t,n){n&&"function"===typeof n&&n(e,t)},P_={easeOut:function(e){return-Math.cos(e*Math.PI)/2+.5},linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return e*(2-e)},easeInOutQuad:function(e){return e<.5?2*e*e:(4-2*e)*e-1},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return--e*e*e+1},easeInOutCubic:function(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1- --e*e*e*e},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-8*--e*e*e*e},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1+--e*e*e*e*e},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1+16*--e*e*e*e*e}},D_=function(e){"number"===typeof e&&cancelAnimationFrame(e)},B_=function(e){e.mounted&&(D_(e.animation),e.animate=!1,e.animation=null,e.velocity=null)};function F_(e,t,n,i){if(e.mounted){var r=(new Date).getTime();B_(e),e.animation=function(){if(!e.mounted)return D_(e.animation);var o=(new Date).getTime()-r,a=o/n,s=(0,P_[t])(a);o>=n?(i(1),e.animation=null):e.animation&&(i(s),requestAnimationFrame(e.animation))},requestAnimationFrame(e.animation)}}function U_(e,t,n,i){var r=function(e){var t=e.scale,n=e.positionX,i=e.positionY;return!(Number.isNaN(t)||Number.isNaN(n)||Number.isNaN(i))}(t);if(e.mounted&&r){var o=e.setTransformState,a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY,c=t.scale-s,h=t.positionX-l,d=t.positionY-u;0===n?o(t.scale,t.positionX,t.positionY):F_(e,i,n,(function(e){o(s+c*e,l+h*e,u+d*e)}))}}var j_=function(e,t){var n=e.wrapperComponent,i=e.contentComponent,r=e.setup.centerZoomedOut;if(!n||!i)throw new Error("Components are not mounted");var o=function(e,t,n){var i=e.offsetWidth,r=e.offsetHeight,o=t.offsetWidth*n,a=t.offsetHeight*n;return{wrapperWidth:i,wrapperHeight:r,newContentWidth:o,newDiffWidth:i-o,newContentHeight:a,newDiffHeight:r-a}}(n,i,t),a=o.wrapperWidth,s=o.wrapperHeight,l=function(e,t,n,i,r,o,a){var s=e>t?n*(a?1:.5):0,l=i>r?o*(a?1:.5):0;return{minPositionX:e-t-s,maxPositionX:s,minPositionY:i-r-l,maxPositionY:l}}(a,o.newContentWidth,o.newDiffWidth,s,o.newContentHeight,o.newDiffHeight,Boolean(r));return l},Z_=function(e,t,n,i){return N_(i?e<t?t:e>n?n:e:e,2)},H_=function(e,t){var n=j_(e,t);return e.bounds=n,n};function z_(e,t,n,i,r,o,a){var s=n.minPositionX,l=n.minPositionY,u=n.maxPositionX,c=n.maxPositionY,h=0,d=0;return a&&(h=r,d=o),{x:Z_(e,s-h,u+h,i),y:Z_(t,l-d,c+d,i)}}function V_(e,t,n,i,r,o){var a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY,c=i-s;return"number"!==typeof t||"number"!==typeof n?(console.error("Mouse X and Y position were not provided!"),{x:l,y:u}):z_(l-t*c,u-n*c,r,o,0,0,null)}function W_(e,t,n,i,r){var o=t-(r?i:0);return!Number.isNaN(n)&&e>=n?n:!Number.isNaN(t)&&e<=o?o:e}var G_=function(e,t){var n=e.setup.panning.excluded,i=e.isInitialized,r=e.wrapperComponent,o=t.target,a="shadowRoot"in o&&"composedPath"in t?t.composedPath().some((function(e){return e instanceof Element&&(null===r||void 0===r?void 0:r.contains(e))})):null===r||void 0===r?void 0:r.contains(o);return!!(i&&o&&a)&&!Ab(o,n)},X_=function(e){var t=e.isInitialized,n=e.isPanning,i=e.setup.panning.disabled;return!(!t||!n||i)};function Y_(e,t,n,i,r){var o=e.setup.limitToBounds,a=e.wrapperComponent,s=e.bounds,l=e.transformState,u=l.scale,c=l.positionX,h=l.positionY;if(null!==a&&null!==s&&(t!==c||n!==h)){var d=z_(t,n,s,o,i,r,a),f=d.x,p=d.y;e.setTransformState(u,f,p)}}var K_=function(e,t){var n=e.setup,i=e.transformState.scale,r=n.minScale,o=n.disablePadding;return t>0&&i>=r&&!o?t:0},q_=function(e){var t=e.mounted,n=e.setup,i=n.disabled,r=n.velocityAnimation,o=e.transformState.scale;return!(r.disabled&&!(o>1)&&i&&!t)},J_=function(e){var t=e.mounted,n=e.velocity,i=e.bounds,r=e.setup,o=r.disabled,a=r.velocityAnimation,s=e.transformState.scale;return!(a.disabled&&!(s>1)&&o&&!t)&&!(!n||!i)};function Q_(e,t,n,i,r,o,a,s,l,u){if(r){var c;if(t>a&&n>a)return(c=a+(e-a)*u)>l?l:c<a?a:c;if(t<o&&n<o)return(c=o+(e-o)*u)<s?s:c>o?o:c}return i?t:Z_(e,o,a,r)}function eb(e,t){if(q_(e)){var n=e.lastMousePosition,i=e.velocityTime,r=e.setup,o=e.wrapperComponent,a=r.velocityAnimation.equalToMove,s=Date.now();if(n&&i&&o){var l=function(e,t){return t?Math.min(1,e.offsetWidth/window.innerWidth):1}(o,a),u=t.x-n.x,c=t.y-n.y,h=u/l,d=c/l,f=s-i,p=u*u+c*c,v=Math.sqrt(p)/f;e.velocity={velocityX:h,velocityY:d,total:v}}e.lastMousePosition=t,e.velocityTime=s}}function tb(e,t){var n=e.transformState.scale;B_(e),H_(e,n),void 0!==window.TouchEvent&&t instanceof TouchEvent?function(e,t){var n=t.touches,i=e.transformState,r=i.positionX,o=i.positionY;if(e.isPanning=!0,1===n.length){var a=n[0].clientX,s=n[0].clientY;e.startCoords={x:a-r,y:s-o}}}(e,t):function(e,t){var n=e.transformState,i=n.positionX,r=n.positionY;e.isPanning=!0;var o=t.clientX,a=t.clientY;e.startCoords={x:o-i,y:a-r}}(e,t)}function nb(e){var t=e.transformState.scale,n=e.setup,i=n.minScale,r=n.alignmentAnimation,o=r.disabled,a=r.sizeX,s=r.sizeY,l=r.animationTime,u=r.animationType;if(!(o||t<i||!a&&!s)){var c=function(e){var t=e.transformState,n=t.positionX,i=t.positionY,r=t.scale,o=e.setup,a=o.disabled,s=o.limitToBounds,l=o.centerZoomedOut,u=e.wrapperComponent;if(!a&&u&&e.bounds){var c=e.bounds,h=c.maxPositionX,d=c.minPositionX,f=c.maxPositionY,p=c.minPositionY,v=n>h||n<d,g=i>f||i<p,m=V_(e,n>h?u.offsetWidth:e.setup.minPositionX||0,i>f?u.offsetHeight:e.setup.minPositionY||0,r,e.bounds,s||l),y=m.x,_=m.y;return{scale:r,positionX:v?y:n,positionY:g?_:i}}}(e);c&&U_(e,c,l,u)}}function ib(e,t,n){var i=e.startCoords,r=e.setup.alignmentAnimation,o=r.sizeX,a=r.sizeY;if(i){var s=function(e,t,n){var i=e.startCoords,r=e.transformState,o=e.setup.panning,a=o.lockAxisX,s=o.lockAxisY,l=r.positionX,u=r.positionY;if(!i)return{x:l,y:u};var c=t-i.x,h=n-i.y;return{x:a?l:c,y:s?u:h}}(e,t,n),l=s.x,u=s.y,c=K_(e,o),h=K_(e,a);eb(e,{x:l,y:u}),Y_(e,l,u,c,h)}}function rb(e){if(e.isPanning){var t=e.setup.panning.velocityDisabled,n=e.velocity,i=e.wrapperComponent,r=e.contentComponent;e.isPanning=!1,e.animate=!1,e.animation=null;var o=null===i||void 0===i?void 0:i.getBoundingClientRect(),a=null===r||void 0===r?void 0:r.getBoundingClientRect(),s=(null===o||void 0===o?void 0:o.width)||0,l=(null===o||void 0===o?void 0:o.height)||0,u=(null===a||void 0===a?void 0:a.width)||0,c=(null===a||void 0===a?void 0:a.height)||0,h=s<u||l<c;!t&&n&&(null===n||void 0===n?void 0:n.total)>.1&&h?function(e){var t=e.velocity,n=e.bounds,i=e.setup,r=e.wrapperComponent;if(J_(e)&&t&&n&&r){var o=t.velocityX,a=t.velocityY,s=t.total,l=n.maxPositionX,u=n.minPositionX,c=n.maxPositionY,h=n.minPositionY,d=i.limitToBounds,f=i.alignmentAnimation,p=i.zoomAnimation,v=i.panning,g=v.lockAxisY,m=v.lockAxisX,y=p.animationType,_=f.sizeX,b=f.sizeY,k=f.velocityAlignmentTime,T=function(e,t){var n=e.setup.velocityAnimation,i=n.equalToMove,r=n.animationTime,o=n.sensitivity;return i?r*t*o:r}(e,s),E=Math.max(T,k),x=K_(e,_),w=K_(e,b),S=x*r.offsetWidth/100,C=w*r.offsetHeight/100,I=l+S,R=u-S,O=c+C,A=h-C,M=e.transformState,L=(new Date).getTime();F_(e,y,E,(function(t){var n=e.transformState,i=n.scale,r=n.positionX,s=n.positionY,p=((new Date).getTime()-L)/k,v=1-(0,P_[f.animationType])(Math.min(1,p)),y=1-t,_=r+o*y,b=s+a*y,T=Q_(_,M.positionX,r,m,d,u,l,R,I,v),E=Q_(b,M.positionY,s,g,d,h,c,A,O,v);r===_&&s===b||e.setTransformState(i,T,E)}))}}(e):nb(e)}}function ob(e,t,n,i){var r=e.setup,o=r.minScale,a=r.maxScale,s=r.limitToBounds,l=W_(N_(t,2),o,a,0,!1),u=V_(e,n,i,l,H_(e,l),s);return{scale:l,positionX:u.x,positionY:u.y}}function ab(e,t,n){var i=e.transformState.scale,r=e.wrapperComponent,o=e.setup,a=o.minScale,s=o.limitToBounds,l=o.zoomAnimation,u=l.disabled,c=l.animationTime,h=l.animationType,d=u||i>=a;if((i>=1||s)&&nb(e),!d&&r&&e.mounted){var f=ob(e,a,t||r.offsetWidth/2,n||r.offsetHeight/2);f&&U_(e,f,c,h)}}var sb=function(){return sb=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},sb.apply(this,arguments)};function lb(e,t,n){if(n||2===arguments.length)for(var i,r=0,o=t.length;r<o;r++)!i&&r in t||(i||(i=Array.prototype.slice.call(t,0,r)),i[r]=t[r]);return e.concat(i||Array.prototype.slice.call(t))}var ub=1,cb=0,hb=0,db={disabled:!1,minPositionX:null,maxPositionX:null,minPositionY:null,maxPositionY:null,minScale:1,maxScale:8,limitToBounds:!0,centerZoomedOut:!1,centerOnInit:!1,disablePadding:!1,smooth:!0,wheel:{step:.2,disabled:!1,smoothStep:.001,wheelDisabled:!1,touchPadDisabled:!1,activationKeys:[],excluded:[]},panning:{disabled:!1,velocityDisabled:!1,lockAxisX:!1,lockAxisY:!1,allowLeftClickPan:!0,allowMiddleClickPan:!0,allowRightClickPan:!0,wheelPanning:!1,activationKeys:[],excluded:[]},pinch:{step:5,disabled:!1,excluded:[]},doubleClick:{disabled:!1,step:.7,mode:"zoomIn",animationType:"easeOut",animationTime:200,excluded:[]},zoomAnimation:{disabled:!1,size:.4,animationTime:200,animationType:"easeOut"},alignmentAnimation:{disabled:!1,sizeX:100,sizeY:100,animationTime:200,velocityAlignmentTime:400,animationType:"easeOut"},velocityAnimation:{disabled:!1,sensitivity:1,animationTime:400,animationType:"easeOut",equalToMove:!0}},fb="react-transform-wrapper",pb="react-transform-component",vb=function(e){var t,n,i,r;return{previousScale:null!==(t=e.initialScale)&&void 0!==t?t:ub,scale:null!==(n=e.initialScale)&&void 0!==n?n:ub,positionX:null!==(i=e.initialPositionX)&&void 0!==i?i:cb,positionY:null!==(r=e.initialPositionY)&&void 0!==r?r:hb}},gb=function(e){var t=sb({},db);return Object.keys(e).forEach((function(n){var i="undefined"!==typeof e[n];if("undefined"!==typeof db[n]&&i){var r=Object.prototype.toString.call(db[n]),o="[object Object]"===r,a="[object Array]"===r;t[n]=o?sb(sb({},db[n]),e[n]):a?lb(lb([],db[n],!0),e[n],!0):e[n]}})),t},mb=function(e,t,n){var i=e.transformState.scale,r=e.wrapperComponent,o=e.setup,a=o.maxScale,s=o.minScale,l=o.zoomAnimation,u=o.smooth,c=l.size;if(!r)throw new Error("Wrapper is not mounted");var h=u?i*Math.exp(t*n):i+t*n;return W_(N_(h,3),s,a,c,!1)};function yb(e,t,n,i,r){var o=e.wrapperComponent,a=e.transformState,s=a.scale,l=a.positionX,u=a.positionY;if(!o)return console.error("No WrapperComponent found");var c=(o.offsetWidth/2-l)/s,h=(o.offsetHeight/2-u)/s,d=ob(e,mb(e,t,n),c,h);if(!d)return console.error("Error during zoom event. New transformation state was not calculated.");U_(e,d,i,r)}function _b(e,t,n,i){var r=e.setup,o=e.wrapperComponent,a=r.limitToBounds,s=vb(e.props),l=e.transformState,u=l.scale,c=l.positionX,h=l.positionY;if(o){var d=j_(e,s.scale),f=z_(s.positionX,s.positionY,d,a,0,0,o),p={scale:s.scale,positionX:f.x,positionY:f.y};u===s.scale&&c===s.positionX&&h===s.positionY||(null===i||void 0===i||i(),U_(e,p,t,n))}}var bb=function(e){return function(t,n,i){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===i&&(i="easeOut"),yb(e,1,t,n,i)}},kb=function(e){return function(t,n,i){void 0===t&&(t=.5),void 0===n&&(n=300),void 0===i&&(i="easeOut"),yb(e,-1,t,n,i)}},Tb=function(e){return function(t,n,i,r,o){void 0===r&&(r=300),void 0===o&&(o="easeOut");var a=e.transformState,s=a.positionX,l=a.positionY,u=a.scale,c=e.wrapperComponent,h=e.contentComponent;if(!e.setup.disabled&&c&&h){var d={positionX:Number.isNaN(t)?s:t,positionY:Number.isNaN(n)?l:n,scale:Number.isNaN(i)?u:i};U_(e,d,r,o)}}},Eb=function(e){return function(t,n){void 0===t&&(t=200),void 0===n&&(n="easeOut"),_b(e,t,n)}},xb=function(e){return function(t,n,i){void 0===n&&(n=200),void 0===i&&(i="easeOut");var r=e.transformState,o=e.wrapperComponent,a=e.contentComponent;if(o&&a){var s=Lb(t||r.scale,o,a);U_(e,s,n,i)}}},wb=function(e){return function(t,n,i,r){void 0===i&&(i=600),void 0===r&&(r="easeOut"),B_(e);var o=e.wrapperComponent,a="string"===typeof t?document.getElementById(t):t;if(o&&a&&o.contains(a)){var s=function(e,t,n){var i=e.wrapperComponent,r=e.contentComponent,o=e.transformState,a=e.setup,s=a.limitToBounds,l=a.minScale,u=a.maxScale;if(!i||!r)return o;var c=i.getBoundingClientRect(),h=t.getBoundingClientRect(),d=function(e,t,n,i){var r=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=n.getBoundingClientRect(),s=o.x*i.scale,l=o.y*i.scale;return{x:(r.x-a.x+s)/i.scale,y:(r.y-a.y+l)/i.scale}}(t,i,r,o),f=d.x,p=d.y,v=h.width/o.scale,g=h.height/o.scale,m=i.offsetWidth/v,y=i.offsetHeight/g,_=W_(n||Math.min(m,y),l,u,0,!1),b=(c.width-v*_)/2,k=(c.height-g*_)/2,T=z_((c.left-f)*_+b,(c.top-p)*_+k,j_(e,_),s,0,0,i);return{positionX:T.x,positionY:T.y,scale:_}}(e,a,n);U_(e,s,i,r)}}},Sb=function(e){return{instance:e,zoomIn:bb(e),zoomOut:kb(e),setTransform:Tb(e),resetTransform:Eb(e),centerView:xb(e),zoomToElement:wb(e)}},Cb=function(e){return{instance:e,state:e.transformState}},Ib=function(e){var t={};return Object.assign(t,Cb(e)),Object.assign(t,Sb(e)),t};function Rb(){try{return{get passive(){return!0,!1}}}catch(PU){return!1}}var Ob=".".concat(fb),Ab=function(e,t){return t.some((function(t){return e.matches("".concat(Ob," ").concat(t,", ").concat(Ob," .").concat(t,", ").concat(Ob," ").concat(t," *, ").concat(Ob," .").concat(t," *"))}))},Mb=function(e){e&&clearTimeout(e)},Lb=function(e,t,n){var i=n.offsetWidth*e,r=n.offsetHeight*e;return{scale:e,positionX:(t.offsetWidth-i)/2,positionY:(t.offsetHeight-r)/2}};function Nb(e,t,n){var i=t.getBoundingClientRect(),r=0,o=0;if("clientX"in e)r=(e.clientX-i.left)/n,o=(e.clientY-i.top)/n;else{var a=e.touches[0];r=(a.clientX-i.left)/n,o=(a.clientY-i.top)/n}return(Number.isNaN(r)||Number.isNaN(o))&&console.error("No mouse or touch offset found"),{x:r,y:o}}var $b=function(e){return Math.sqrt(Math.pow(e.touches[0].pageX-e.touches[1].pageX,2)+Math.pow(e.touches[0].pageY-e.touches[1].pageY,2))},Pb=function(e,t){var n=e.props,i=n.onWheel,r=n.onZoom,o=e.contentComponent,a=e.setup,s=e.transformState.scale,l=a.limitToBounds,u=a.centerZoomedOut,c=a.zoomAnimation,h=a.wheel,d=a.disablePadding,f=a.smooth,p=c.size,v=c.disabled,g=h.step,m=h.smoothStep;if(!o)throw new Error("Component not mounted");t.preventDefault(),t.stopPropagation();var y=function(e,t){var n,i,r=function(e){return e?e.deltaY<0?1:-1:0}(e);return i=r,"number"===typeof(n=t)?n:i}(t,null),_=function(e,t,n,i,r){var o=e.transformState.scale,a=e.wrapperComponent,s=e.setup,l=s.maxScale,u=s.minScale,c=s.zoomAnimation,h=s.disablePadding,d=c.size,f=c.disabled;if(!a)throw new Error("Wrapper is not mounted");var p=o+t*n;if(r)return p;var v=!i&&!f;return W_(N_(p,3),u,l,d,v&&!h)}(e,y,f?m*Math.abs(t.deltaY):g,!t.ctrlKey);if(s!==_){var b=H_(e,_),k=Nb(t,o,s),T=l&&(v||0===p||u||d),E=V_(e,k.x,k.y,_,b,T),x=E.x,w=E.y;e.previousWheelEvent=t,e.setTransformState(_,x,w),$_(Ib(e),t,i),$_(Ib(e),t,r)}},Db=function(e,t){var n=e.props,i=n.onWheelStop,r=n.onZoomStop;Mb(e.wheelAnimationTimer),e.wheelAnimationTimer=setTimeout((function(){e.mounted&&(ab(e,t.x,t.y),e.wheelAnimationTimer=null)}),100);var o=function(e,t){var n=e.previousWheelEvent,i=e.transformState.scale,r=e.setup,o=r.maxScale,a=r.minScale;return!!n&&(i<o||i>a||Math.sign(n.deltaY)!==Math.sign(t.deltaY)||n.deltaY>0&&n.deltaY<t.deltaY||n.deltaY<0&&n.deltaY>t.deltaY||Math.sign(n.deltaY)!==Math.sign(t.deltaY))}(e,t);o&&(Mb(e.wheelStopEventTimer),e.wheelStopEventTimer=setTimeout((function(){e.mounted&&(e.wheelStopEventTimer=null,$_(Ib(e),t,i),$_(Ib(e),t,r))}),160))},Bb=function(e){for(var t=0,n=0,i=0;i<2;i+=1)t+=e.touches[i].clientX,n+=e.touches[i].clientY;return{x:t/2,y:n/2}},Fb=function(e,t){var n=e.contentComponent,i=e.pinchStartDistance,r=e.wrapperComponent,o=e.transformState.scale,a=e.setup,s=a.limitToBounds,l=a.centerZoomedOut,u=a.zoomAnimation,c=a.alignmentAnimation,h=u.disabled,d=u.size;if(null!==i&&n){var f=function(e,t,n){var i=n.getBoundingClientRect(),r=e.touches,o=N_(r[0].clientX-i.left,5),a=N_(r[0].clientY-i.top,5);return{x:(o+N_(r[1].clientX-i.left,5))/2/t,y:(a+N_(r[1].clientY-i.top,5))/2/t}}(t,o,n);if(Number.isFinite(f.x)&&Number.isFinite(f.y)){var p=$b(t),v=function(e,t){var n=e.pinchStartScale,i=e.pinchStartDistance,r=e.setup,o=r.maxScale,a=r.minScale,s=r.zoomAnimation,l=r.disablePadding,u=s.size,c=s.disabled;if(!n||null===i||!t)throw new Error("Pinch touches distance was not provided");return t<0?e.transformState.scale:W_(N_(t/i*n,2),a,o,u,!c&&!l)}(e,p),g=Bb(t),m=g.x-(e.pinchLastCenterX||0),y=g.y-(e.pinchLastCenterY||0);if(v!==o||0!==m||0!==y){e.pinchLastCenterX=g.x,e.pinchLastCenterY=g.y;var _=H_(e,v),b=s&&(h||0===d||l),k=V_(e,f.x,f.y,v,_,b),T=k.x,E=k.y;e.pinchMidpoint=f,e.lastDistance=p;var x=c.sizeX,w=c.sizeY,S=z_(T+m,E+y,_,s,K_(e,x),K_(e,w),r),C=S.x,I=S.y;e.setTransformState(v,C,I)}}}},Ub=function(e,t){var n=e.props.onZoomStop,i=e.setup.doubleClick.animationTime;Mb(e.doubleClickStopEventTimer),e.doubleClickStopEventTimer=setTimeout((function(){e.doubleClickStopEventTimer=null,$_(Ib(e),t,n)}),i)};function jb(e,t){var n=e.setup,i=e.doubleClickStopEventTimer,r=e.transformState,o=e.contentComponent,a=r.scale,s=e.props,l=s.onZoomStart,u=s.onZoom,c=n.doubleClick,h=c.disabled,d=c.mode,f=c.step,p=c.animationTime,v=c.animationType;if(!h&&!i){if("reset"===d)return function(e,t){var n=e.props,i=n.onZoomStart,r=n.onZoom,o=e.setup.doubleClick,a=o.animationTime,s=o.animationType;$_(Ib(e),t,i),_b(e,a,s,(function(){return $_(Ib(e),t,r)})),Ub(e,t)}(e,t);if(!o)return console.error("No ContentComponent found");var g=function(e,t){return"toggle"===e?1===t?1:-1:"zoomOut"===e?-1:1}(d,e.transformState.scale),m=mb(e,g,f);if(a!==m){$_(Ib(e),t,l);var y=Nb(t,o,a),_=ob(e,m,y.x,y.y);if(!_)return console.error("Error during zoom event. New transformation state was not calculated.");$_(Ib(e),t,u),U_(e,_,p,v),Ub(e,t)}}}var Zb=function(e){var t=this;this.mounted=!0,this.pinchLastCenterX=null,this.pinchLastCenterY=null,this.onChangeCallbacks=new Set,this.onInitCallbacks=new Set,this.wrapperComponent=null,this.contentComponent=null,this.isInitialized=!1,this.bounds=null,this.previousWheelEvent=null,this.wheelStopEventTimer=null,this.wheelAnimationTimer=null,this.isPanning=!1,this.isWheelPanning=!1,this.startCoords=null,this.lastTouch=null,this.distance=null,this.lastDistance=null,this.pinchStartDistance=null,this.pinchStartScale=null,this.pinchMidpoint=null,this.doubleClickStopEventTimer=null,this.velocity=null,this.velocityTime=null,this.lastMousePosition=null,this.animate=!1,this.animation=null,this.maxBounds=null,this.pressedKeys={},this.mount=function(){t.initializeWindowEvents()},this.unmount=function(){t.cleanupWindowEvents()},this.update=function(e){t.props=e,H_(t,t.transformState.scale),t.setup=gb(e)},this.initializeWindowEvents=function(){var e,n,i=Rb(),r=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,o=null===r||void 0===r?void 0:r.defaultView;null===(n=t.wrapperComponent)||void 0===n||n.addEventListener("wheel",t.onWheelPanning,i),null===o||void 0===o||o.addEventListener("mousedown",t.onPanningStart,i),null===o||void 0===o||o.addEventListener("mousemove",t.onPanning,i),null===o||void 0===o||o.addEventListener("mouseup",t.onPanningStop,i),null===r||void 0===r||r.addEventListener("mouseleave",t.clearPanning,i),null===o||void 0===o||o.addEventListener("keyup",t.setKeyUnPressed,i),null===o||void 0===o||o.addEventListener("keydown",t.setKeyPressed,i)},this.cleanupWindowEvents=function(){var e,n,i=Rb(),r=null===(e=t.wrapperComponent)||void 0===e?void 0:e.ownerDocument,o=null===r||void 0===r?void 0:r.defaultView;null===o||void 0===o||o.removeEventListener("mousedown",t.onPanningStart,i),null===o||void 0===o||o.removeEventListener("mousemove",t.onPanning,i),null===o||void 0===o||o.removeEventListener("mouseup",t.onPanningStop,i),null===r||void 0===r||r.removeEventListener("mouseleave",t.clearPanning,i),null===o||void 0===o||o.removeEventListener("keyup",t.setKeyUnPressed,i),null===o||void 0===o||o.removeEventListener("keydown",t.setKeyPressed,i),document.removeEventListener("mouseleave",t.clearPanning,i),B_(t),null===(n=t.observer)||void 0===n||n.disconnect()},this.handleInitializeWrapperEvents=function(e){var n=Rb();e.addEventListener("wheel",t.onWheelZoom,n),e.addEventListener("dblclick",t.onDoubleClick,n),e.addEventListener("touchstart",t.onTouchPanningStart,n),e.addEventListener("touchmove",t.onTouchPanning,n),e.addEventListener("touchend",t.onTouchPanningStop,n)},this.handleInitialize=function(e){var n=t.setup.centerOnInit;t.applyTransformation(),t.onInitCallbacks.forEach((function(e){return e(Ib(t))})),n&&(t.setCenter(),t.observer=new ResizeObserver((function(){var n,i=e.offsetWidth,r=e.offsetHeight;(i>0||r>0)&&(t.onInitCallbacks.forEach((function(e){return e(Ib(t))})),t.setCenter(),null===(n=t.observer)||void 0===n||n.disconnect())})),setTimeout((function(){var e;null===(e=t.observer)||void 0===e||e.disconnect()}),5e3),t.observer.observe(e))},this.onWheelZoom=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.setup.wheel,i=n.disabled,r=n.wheelDisabled,o=n.touchPadDisabled,a=n.excluded,s=e.isInitialized,l=e.isPanning,u=t.target;return!(!s||l||i||!u)&&!(r&&!t.ctrlKey)&&(!o||!t.ctrlKey)&&!Ab(u,a)}(t,e);n&&t.isPressingKeys(t.setup.wheel.activationKeys)&&(function(e,t){var n=e.props,i=n.onWheelStart,r=n.onZoomStart;e.wheelStopEventTimer||(B_(e),$_(Ib(e),t,i),$_(Ib(e),t,r))}(t,e),Pb(t,e),Db(t,e))}},this.onWheelPanning=function(e){var n=t.setup,i=n.disabled,r=n.wheel,o=n.panning;if(t.wrapperComponent&&t.contentComponent&&!i&&r.wheelDisabled&&!o.disabled&&o.wheelPanning&&!e.ctrlKey){e.preventDefault(),e.stopPropagation();var a=t.transformState,s=a.positionX,l=a.positionY,u=s-e.deltaX,c=l-e.deltaY,h=o.lockAxisX?s:u,d=o.lockAxisY?l:c,f=t.setup.alignmentAnimation,p=f.sizeX,v=f.sizeY,g=K_(t,p),m=K_(t,v);h===s&&d===l||Y_(t,h,d,g,m)}},this.onPanningStart=function(e){var n=t.setup.disabled,i=t.props.onPanningStart;n||G_(t,e)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(0!==e.button||t.setup.panning.allowLeftClickPan)&&(1!==e.button||t.setup.panning.allowMiddleClickPan)&&(2!==e.button||t.setup.panning.allowRightClickPan)&&(e.preventDefault(),e.stopPropagation(),B_(t),tb(t,e),$_(Ib(t),e,i))},this.onPanning=function(e){var n=t.setup.disabled,i=t.props.onPanning;n||X_(t)&&t.isPressingKeys(t.setup.panning.activationKeys)&&(e.preventDefault(),e.stopPropagation(),ib(t,e.clientX,e.clientY),$_(Ib(t),e,i))},this.onPanningStop=function(e){var n=t.props.onPanningStop;t.isPanning&&(rb(t),$_(Ib(t),e,n))},this.onPinchStart=function(e){var n=t.setup.disabled,i=t.props,r=i.onPinchingStart,o=i.onZoomStart;if(!n){var a=function(e,t){var n=e.setup.pinch,i=n.disabled,r=n.excluded,o=e.isInitialized,a=t.target;return!(!o||i||!a)&&!Ab(a,r)}(t,e);a&&(function(e,t){var n=$b(t);e.pinchStartDistance=n,e.lastDistance=n,e.pinchStartScale=e.transformState.scale,e.isPanning=!1;var i=Bb(t);e.pinchLastCenterX=i.x,e.pinchLastCenterY=i.y,B_(e)}(t,e),B_(t),$_(Ib(t),e,r),$_(Ib(t),e,o))}},this.onPinch=function(e){var n=t.setup.disabled,i=t.props,r=i.onPinching,o=i.onZoom;if(!n){var a=function(e){var t=e.setup.pinch.disabled,n=e.isInitialized,i=e.pinchStartDistance;return!(!n||t||!i)}(t);a&&(e.preventDefault(),e.stopPropagation(),Fb(t,e),$_(Ib(t),e,r),$_(Ib(t),e,o))}},this.onPinchStop=function(e){var n=t.props,i=n.onPinchingStop,r=n.onZoomStop;t.pinchStartScale&&(function(e){var t=e.pinchMidpoint;e.velocity=null,e.lastDistance=null,e.pinchMidpoint=null,e.pinchStartScale=null,e.pinchStartDistance=null,ab(e,null===t||void 0===t?void 0:t.x,null===t||void 0===t?void 0:t.y)}(t),$_(Ib(t),e,i),$_(Ib(t),e,r))},this.onTouchPanningStart=function(e){var n=t.setup.disabled,i=t.props.onPanningStart;if(!n&&G_(t,e)&&!(t.lastTouch&&+new Date-t.lastTouch<200)){t.lastTouch=+new Date,B_(t);var r=e.touches,o=1===r.length,a=2===r.length;o&&(B_(t),tb(t,e),$_(Ib(t),e,i)),a&&t.onPinchStart(e)}},this.onTouchPanning=function(e){var n=t.setup.disabled,i=t.props.onPanning;if(t.isPanning&&1===e.touches.length){if(n)return;if(!X_(t))return;e.preventDefault(),e.stopPropagation();var r=e.touches[0];ib(t,r.clientX,r.clientY),$_(Ib(t),e,i)}else e.touches.length>1&&t.onPinch(e)},this.onTouchPanningStop=function(e){t.onPanningStop(e),t.onPinchStop(e)},this.onDoubleClick=function(e){if(!t.setup.disabled){var n=function(e,t){var n=e.isInitialized,i=e.setup,r=e.wrapperComponent,o=i.doubleClick,a=o.disabled,s=o.excluded,l=t.target,u=null===r||void 0===r?void 0:r.contains(l);return!(!(n&&l&&u)||a)&&!Ab(l,s)}(t,e);n&&jb(t,e)}},this.clearPanning=function(e){t.isPanning&&t.onPanningStop(e)},this.setKeyPressed=function(e){t.pressedKeys[e.key]=!0},this.setKeyUnPressed=function(e){t.pressedKeys[e.key]=!1},this.isPressingKeys=function(e){return!e.length||Boolean(e.find((function(e){return t.pressedKeys[e]})))},this.setTransformState=function(e,n,i){var r=t.props.onTransformed;if(Number.isNaN(e)||Number.isNaN(n)||Number.isNaN(i))console.error("Detected NaN set state values");else{e!==t.transformState.scale&&(t.transformState.previousScale=t.transformState.scale,t.transformState.scale=e),t.transformState.positionX=n,t.transformState.positionY=i,t.applyTransformation();var o=Ib(t);t.onChangeCallbacks.forEach((function(e){return e(o)})),$_(o,{scale:e,positionX:n,positionY:i},r)}},this.setCenter=function(){if(t.wrapperComponent&&t.contentComponent){var e=Lb(t.transformState.scale,t.wrapperComponent,t.contentComponent);t.setTransformState(e.scale,e.positionX,e.positionY)}},this.handleTransformStyles=function(e,n,i){return t.props.customTransform?t.props.customTransform(e,n,i):function(e,t,n){return"translate(".concat(e,"px, ").concat(t,"px) scale(").concat(n,")")}(e,n,i)},this.applyTransformation=function(){if(t.mounted&&t.contentComponent){var e=t.transformState,n=e.scale,i=e.positionX,r=e.positionY,o=t.handleTransformStyles(i,r,n);t.contentComponent.style.transform=o}},this.getContext=function(){return Ib(t)},this.onChange=function(e){return t.onChangeCallbacks.has(e)||t.onChangeCallbacks.add(e),function(){t.onChangeCallbacks.delete(e)}},this.onInit=function(e){return t.onInitCallbacks.has(e)||t.onInitCallbacks.add(e),function(){t.onInitCallbacks.delete(e)}},this.init=function(e,n){t.cleanupWindowEvents(),t.wrapperComponent=e,t.contentComponent=n,H_(t,t.transformState.scale),t.handleInitializeWrapperEvents(e),t.handleInitialize(n),t.initializeWindowEvents(),t.isInitialized=!0;var i=Ib(t);$_(i,void 0,t.props.onInit)},this.props=e,this.setup=gb(this.props),this.transformState=vb(this.props)},Hb=i.createContext(null),zb=i.forwardRef((function(e,t){var n,r,o=(0,i.useRef)(new Zb(e)).current,a=(n=e.children,r=Sb(o),"function"===typeof n?n(r):n);return(0,i.useImperativeHandle)(t,(function(){return Sb(o)}),[o]),(0,i.useEffect)((function(){o.update(e)}),[o,e]),i.createElement(Hb.Provider,{value:o},a)}));i.forwardRef((function(e,t){var n,r=(0,i.useRef)(null),o=(0,i.useContext)(Hb);return(0,i.useEffect)((function(){return o.onChange((function(e){if(r.current){r.current.style.transform=o.handleTransformStyles(0,0,1/e.instance.transformState.scale)}}))}),[o]),i.createElement("div",sb({},e,{ref:(n=[r,t],function(e){n.forEach((function(t){"function"===typeof t?t(e):null!=t&&(t.current=e)}))})}))}));var Vb="transform-component-module_wrapper__SPB86",Wb="transform-component-module_content__FBWxo";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!==typeof document){var i=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}(".transform-component-module_wrapper__SPB86 {\n  position: relative;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  overflow: hidden;\n  -webkit-touch-callout: none; /* iOS Safari */\n  -webkit-user-select: none; /* Safari */\n  -khtml-user-select: none; /* Konqueror HTML */\n  -moz-user-select: none; /* Firefox */\n  -ms-user-select: none; /* Internet Explorer/Edge */\n  user-select: none;\n  margin: 0;\n  padding: 0;\n}\n.transform-component-module_content__FBWxo {\n  display: flex;\n  flex-wrap: wrap;\n  width: -moz-fit-content;\n  width: fit-content;\n  height: -moz-fit-content;\n  height: fit-content;\n  margin: 0;\n  padding: 0;\n  transform-origin: 0% 0%;\n}\n.transform-component-module_content__FBWxo img {\n  pointer-events: none;\n}\n");var Gb=function(e){var t=e.children,n=e.wrapperClass,r=void 0===n?"":n,o=e.contentClass,a=void 0===o?"":o,s=e.wrapperStyle,l=e.contentStyle,u=e.wrapperProps,c=void 0===u?{}:u,h=e.contentProps,d=void 0===h?{}:h,f=(0,i.useContext)(Hb),p=f.init,v=f.cleanupWindowEvents,g=(0,i.useRef)(null),m=(0,i.useRef)(null);return(0,i.useEffect)((function(){var e=g.current,t=m.current;return null!==e&&null!==t&&p&&(null===p||void 0===p||p(e,t)),function(){null===v||void 0===v||v()}}),[]),i.createElement("div",sb({},c,{ref:g,className:"".concat(fb," ").concat(Vb," ").concat(r),style:s}),i.createElement("div",sb({},d,{ref:m,className:"".concat(pb," ").concat(Wb," ").concat(a),style:l}),t))};var Xb=n(9962),Yb=n.n(Xb),Kb=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),qb=function(){return qb=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},qb.apply(this,arguments)},Jb={width:"100%",height:"10px",top:"0px",left:"0px",cursor:"row-resize"},Qb={width:"10px",height:"100%",top:"0px",left:"0px",cursor:"col-resize"},ek={width:"20px",height:"20px",position:"absolute"},tk={top:qb(qb({},Jb),{top:"-5px"}),right:qb(qb({},Qb),{left:void 0,right:"-5px"}),bottom:qb(qb({},Jb),{top:void 0,bottom:"-5px"}),left:qb(qb({},Qb),{left:"-5px"}),topRight:qb(qb({},ek),{right:"-10px",top:"-10px",cursor:"ne-resize"}),bottomRight:qb(qb({},ek),{right:"-10px",bottom:"-10px",cursor:"se-resize"}),bottomLeft:qb(qb({},ek),{left:"-10px",bottom:"-10px",cursor:"sw-resize"}),topLeft:qb(qb({},ek),{left:"-10px",top:"-10px",cursor:"nw-resize"})},nk=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.onMouseDown=function(e){t.props.onResizeStart(e,t.props.direction)},t.onTouchStart=function(e){t.props.onResizeStart(e,t.props.direction)},t}return Kb(t,e),t.prototype.render=function(){return i.createElement("div",{className:this.props.className||"",style:qb(qb({position:"absolute",userSelect:"none"},tk[this.props.direction]),this.props.replaceStyles||{}),onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart},this.props.children)},t}(i.PureComponent),ik=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rk=function(){return rk=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},rk.apply(this,arguments)},ok={width:"auto",height:"auto"},ak=function(e,t,n){return Math.max(Math.min(e,n),t)},sk=function(e,t,n){var i=Math.round(e/t);return i*t+n*(i-1)},lk=function(e,t){return new RegExp(e,"i").test(t)},uk=function(e){return Boolean(e.touches&&e.touches.length)},ck=function(e,t,n){void 0===n&&(n=0);var i=t.reduce((function(n,i,r){return Math.abs(i-e)<Math.abs(t[n]-e)?r:n}),0),r=Math.abs(t[i]-e);return 0===n||r<n?t[i]:e},hk=function(e){return"auto"===(e=e.toString())||e.endsWith("px")||e.endsWith("%")||e.endsWith("vh")||e.endsWith("vw")||e.endsWith("vmax")||e.endsWith("vmin")?e:e+"px"},dk=function(e,t,n,i){if(e&&"string"===typeof e){if(e.endsWith("px"))return Number(e.replace("px",""));if(e.endsWith("%"))return t*(Number(e.replace("%",""))/100);if(e.endsWith("vw"))return n*(Number(e.replace("vw",""))/100);if(e.endsWith("vh"))return i*(Number(e.replace("vh",""))/100)}return e},fk=["as","ref","style","className","grid","gridGap","snap","bounds","boundsByDirection","size","defaultSize","minWidth","minHeight","maxWidth","maxHeight","lockAspectRatio","lockAspectRatioExtraWidth","lockAspectRatioExtraHeight","enable","handleStyles","handleClasses","handleWrapperStyle","handleWrapperClass","children","onResizeStart","onResize","onResizeStop","handleComponent","scale","resizeRatio","snapGap"],pk="__resizable_base__",vk=function(e){function t(t){var n,i,r,o,a=e.call(this,t)||this;return a.ratio=1,a.resizable=null,a.parentLeft=0,a.parentTop=0,a.resizableLeft=0,a.resizableRight=0,a.resizableTop=0,a.resizableBottom=0,a.targetLeft=0,a.targetTop=0,a.appendBase=function(){if(!a.resizable||!a.window)return null;var e=a.parentNode;if(!e)return null;var t=a.window.document.createElement("div");return t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.transform="scale(0, 0)",t.style.left="0",t.style.flex="0 0 100%",t.classList?t.classList.add(pk):t.className+=pk,e.appendChild(t),t},a.removeBase=function(e){var t=a.parentNode;t&&t.removeChild(e)},a.state={isResizing:!1,width:null!==(i=null===(n=a.propsSize)||void 0===n?void 0:n.width)&&void 0!==i?i:"auto",height:null!==(o=null===(r=a.propsSize)||void 0===r?void 0:r.height)&&void 0!==o?o:"auto",direction:"right",original:{x:0,y:0,width:0,height:0},backgroundStyle:{height:"100%",width:"100%",backgroundColor:"rgba(0,0,0,0)",cursor:"auto",opacity:0,position:"fixed",zIndex:9999,top:"0",left:"0",bottom:"0",right:"0"},flexBasis:void 0},a.onResizeStart=a.onResizeStart.bind(a),a.onMouseMove=a.onMouseMove.bind(a),a.onMouseUp=a.onMouseUp.bind(a),a}return ik(t,e),Object.defineProperty(t.prototype,"parentNode",{get:function(){return this.resizable?this.resizable.parentNode:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return this.resizable&&this.resizable.ownerDocument?this.resizable.ownerDocument.defaultView:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"propsSize",{get:function(){return this.props.size||this.props.defaultSize||ok},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){var e=0,t=0;if(this.resizable&&this.window){var n=this.resizable.offsetWidth,i=this.resizable.offsetHeight,r=this.resizable.style.position;"relative"!==r&&(this.resizable.style.position="relative"),e="auto"!==this.resizable.style.width?this.resizable.offsetWidth:n,t="auto"!==this.resizable.style.height?this.resizable.offsetHeight:i,this.resizable.style.position=r}return{width:e,height:t}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"sizeStyle",{get:function(){var e=this,t=this.props.size,n=function(t){var n;if("undefined"===typeof e.state[t]||"auto"===e.state[t])return"auto";if(e.propsSize&&e.propsSize[t]&&(null===(n=e.propsSize[t])||void 0===n?void 0:n.toString().endsWith("%"))){if(e.state[t].toString().endsWith("%"))return e.state[t].toString();var i=e.getParentSize();return Number(e.state[t].toString().replace("px",""))/i[t]*100+"%"}return hk(e.state[t])};return{width:t&&"undefined"!==typeof t.width&&!this.state.isResizing?hk(t.width):n("width"),height:t&&"undefined"!==typeof t.height&&!this.state.isResizing?hk(t.height):n("height")}},enumerable:!1,configurable:!0}),t.prototype.getParentSize=function(){if(!this.parentNode)return this.window?{width:this.window.innerWidth,height:this.window.innerHeight}:{width:0,height:0};var e=this.appendBase();if(!e)return{width:0,height:0};var t=!1,n=this.parentNode.style.flexWrap;"wrap"!==n&&(t=!0,this.parentNode.style.flexWrap="wrap"),e.style.position="relative",e.style.minWidth="100%",e.style.minHeight="100%";var i={width:e.offsetWidth,height:e.offsetHeight};return t&&(this.parentNode.style.flexWrap=n),this.removeBase(e),i},t.prototype.bindEvents=function(){this.window&&(this.window.addEventListener("mouseup",this.onMouseUp),this.window.addEventListener("mousemove",this.onMouseMove),this.window.addEventListener("mouseleave",this.onMouseUp),this.window.addEventListener("touchmove",this.onMouseMove,{capture:!0,passive:!1}),this.window.addEventListener("touchend",this.onMouseUp))},t.prototype.unbindEvents=function(){this.window&&(this.window.removeEventListener("mouseup",this.onMouseUp),this.window.removeEventListener("mousemove",this.onMouseMove),this.window.removeEventListener("mouseleave",this.onMouseUp),this.window.removeEventListener("touchmove",this.onMouseMove,!0),this.window.removeEventListener("touchend",this.onMouseUp))},t.prototype.componentDidMount=function(){if(this.resizable&&this.window){var e=this.window.getComputedStyle(this.resizable);this.setState({width:this.state.width||this.size.width,height:this.state.height||this.size.height,flexBasis:"auto"!==e.flexBasis?e.flexBasis:void 0})}},t.prototype.componentWillUnmount=function(){this.window&&this.unbindEvents()},t.prototype.createSizeForCssProperty=function(e,t){var n=this.propsSize&&this.propsSize[t];return"auto"!==this.state[t]||this.state.original[t]!==e||"undefined"!==typeof n&&"auto"!==n?e:"auto"},t.prototype.calculateNewMaxFromBoundary=function(e,t){var n,i,r=this.props.boundsByDirection,o=this.state.direction,a=r&&lk("left",o),s=r&&lk("top",o);if("parent"===this.props.bounds){var l=this.parentNode;l&&(n=a?this.resizableRight-this.parentLeft:l.offsetWidth+(this.parentLeft-this.resizableLeft),i=s?this.resizableBottom-this.parentTop:l.offsetHeight+(this.parentTop-this.resizableTop))}else"window"===this.props.bounds?this.window&&(n=a?this.resizableRight:this.window.innerWidth-this.resizableLeft,i=s?this.resizableBottom:this.window.innerHeight-this.resizableTop):this.props.bounds&&(n=a?this.resizableRight-this.targetLeft:this.props.bounds.offsetWidth+(this.targetLeft-this.resizableLeft),i=s?this.resizableBottom-this.targetTop:this.props.bounds.offsetHeight+(this.targetTop-this.resizableTop));return n&&Number.isFinite(n)&&(e=e&&e<n?e:n),i&&Number.isFinite(i)&&(t=t&&t<i?t:i),{maxWidth:e,maxHeight:t}},t.prototype.calculateNewSizeFromDirection=function(e,t){var n,i=this.props.scale||1,r=(n=this.props.resizeRatio||1,Array.isArray(n)?n:[n,n]),o=r[0],a=r[1],s=this.state,l=s.direction,u=s.original,c=this.props,h=c.lockAspectRatio,d=c.lockAspectRatioExtraHeight,f=c.lockAspectRatioExtraWidth,p=u.width,v=u.height,g=d||0,m=f||0;return lk("right",l)&&(p=u.width+(e-u.x)*o/i,h&&(v=(p-m)/this.ratio+g)),lk("left",l)&&(p=u.width-(e-u.x)*o/i,h&&(v=(p-m)/this.ratio+g)),lk("bottom",l)&&(v=u.height+(t-u.y)*a/i,h&&(p=(v-g)*this.ratio+m)),lk("top",l)&&(v=u.height-(t-u.y)*a/i,h&&(p=(v-g)*this.ratio+m)),{newWidth:p,newHeight:v}},t.prototype.calculateNewSizeFromAspectRatio=function(e,t,n,i){var r=this.props,o=r.lockAspectRatio,a=r.lockAspectRatioExtraHeight,s=r.lockAspectRatioExtraWidth,l="undefined"===typeof i.width?10:i.width,u="undefined"===typeof n.width||n.width<0?e:n.width,c="undefined"===typeof i.height?10:i.height,h="undefined"===typeof n.height||n.height<0?t:n.height,d=a||0,f=s||0;if(o){var p=(c-d)*this.ratio+f,v=(h-d)*this.ratio+f,g=(l-f)/this.ratio+d,m=(u-f)/this.ratio+d,y=Math.max(l,p),_=Math.min(u,v),b=Math.max(c,g),k=Math.min(h,m);e=ak(e,y,_),t=ak(t,b,k)}else e=ak(e,l,u),t=ak(t,c,h);return{newWidth:e,newHeight:t}},t.prototype.setBoundingClientRect=function(){var e=1/(this.props.scale||1);if("parent"===this.props.bounds){var t=this.parentNode;if(t){var n=t.getBoundingClientRect();this.parentLeft=n.left*e,this.parentTop=n.top*e}}if(this.props.bounds&&"string"!==typeof this.props.bounds){var i=this.props.bounds.getBoundingClientRect();this.targetLeft=i.left*e,this.targetTop=i.top*e}if(this.resizable){var r=this.resizable.getBoundingClientRect(),o=r.left,a=r.top,s=r.right,l=r.bottom;this.resizableLeft=o*e,this.resizableRight=s*e,this.resizableTop=a*e,this.resizableBottom=l*e}},t.prototype.onResizeStart=function(e,t){if(this.resizable&&this.window){var n,i=0,r=0;if(e.nativeEvent&&function(e){return Boolean((e.clientX||0===e.clientX)&&(e.clientY||0===e.clientY))}(e.nativeEvent)?(i=e.nativeEvent.clientX,r=e.nativeEvent.clientY):e.nativeEvent&&uk(e.nativeEvent)&&(i=e.nativeEvent.touches[0].clientX,r=e.nativeEvent.touches[0].clientY),this.props.onResizeStart)if(this.resizable)if(!1===this.props.onResizeStart(e,t,this.resizable))return;this.props.size&&("undefined"!==typeof this.props.size.height&&this.props.size.height!==this.state.height&&this.setState({height:this.props.size.height}),"undefined"!==typeof this.props.size.width&&this.props.size.width!==this.state.width&&this.setState({width:this.props.size.width})),this.ratio="number"===typeof this.props.lockAspectRatio?this.props.lockAspectRatio:this.size.width/this.size.height;var o=this.window.getComputedStyle(this.resizable);if("auto"!==o.flexBasis){var a=this.parentNode;if(a){var s=this.window.getComputedStyle(a).flexDirection;this.flexDir=s.startsWith("row")?"row":"column",n=o.flexBasis}}this.setBoundingClientRect(),this.bindEvents();var l={original:{x:i,y:r,width:this.size.width,height:this.size.height},isResizing:!0,backgroundStyle:rk(rk({},this.state.backgroundStyle),{cursor:this.window.getComputedStyle(e.target).cursor||"auto"}),direction:t,flexBasis:n};this.setState(l)}},t.prototype.onMouseMove=function(e){var t=this;if(this.state.isResizing&&this.resizable&&this.window){if(this.window.TouchEvent&&uk(e))try{e.preventDefault(),e.stopPropagation()}catch(O){}var n=this.props,i=n.maxWidth,r=n.maxHeight,o=n.minWidth,a=n.minHeight,s=uk(e)?e.touches[0].clientX:e.clientX,l=uk(e)?e.touches[0].clientY:e.clientY,u=this.state,c=u.direction,h=u.original,d=u.width,f=u.height,p=this.getParentSize(),v=function(e,t,n,i,r,o,a){return i=dk(i,e.width,t,n),r=dk(r,e.height,t,n),o=dk(o,e.width,t,n),a=dk(a,e.height,t,n),{maxWidth:"undefined"===typeof i?void 0:Number(i),maxHeight:"undefined"===typeof r?void 0:Number(r),minWidth:"undefined"===typeof o?void 0:Number(o),minHeight:"undefined"===typeof a?void 0:Number(a)}}(p,this.window.innerWidth,this.window.innerHeight,i,r,o,a);i=v.maxWidth,r=v.maxHeight,o=v.minWidth,a=v.minHeight;var g=this.calculateNewSizeFromDirection(s,l),m=g.newHeight,y=g.newWidth,_=this.calculateNewMaxFromBoundary(i,r);this.props.snap&&this.props.snap.x&&(y=ck(y,this.props.snap.x,this.props.snapGap)),this.props.snap&&this.props.snap.y&&(m=ck(m,this.props.snap.y,this.props.snapGap));var b=this.calculateNewSizeFromAspectRatio(y,m,{width:_.maxWidth,height:_.maxHeight},{width:o,height:a});if(y=b.newWidth,m=b.newHeight,this.props.grid){var k=sk(y,this.props.grid[0],this.props.gridGap?this.props.gridGap[0]:0),T=sk(m,this.props.grid[1],this.props.gridGap?this.props.gridGap[1]:0),E=this.props.snapGap||0;y=0===E||Math.abs(k-y)<=E?k:y,m=0===E||Math.abs(T-m)<=E?T:m}var x={width:y-h.width,height:m-h.height};if(d&&"string"===typeof d)if(d.endsWith("%"))y=y/p.width*100+"%";else if(d.endsWith("vw")){y=y/this.window.innerWidth*100+"vw"}else if(d.endsWith("vh")){y=y/this.window.innerHeight*100+"vh"}if(f&&"string"===typeof f)if(f.endsWith("%"))m=m/p.height*100+"%";else if(f.endsWith("vw")){m=m/this.window.innerWidth*100+"vw"}else if(f.endsWith("vh")){m=m/this.window.innerHeight*100+"vh"}var w={width:this.createSizeForCssProperty(y,"width"),height:this.createSizeForCssProperty(m,"height")};"row"===this.flexDir?w.flexBasis=w.width:"column"===this.flexDir&&(w.flexBasis=w.height);var S=this.state.width!==w.width,C=this.state.height!==w.height,I=this.state.flexBasis!==w.flexBasis,R=S||C||I;R&&(0,zi.flushSync)((function(){t.setState(w)})),this.props.onResize&&R&&this.props.onResize(e,c,this.resizable,x)}},t.prototype.onMouseUp=function(e){var t,n,i=this.state,r=i.isResizing,o=i.direction,a=i.original;if(r&&this.resizable){var s={width:this.size.width-a.width,height:this.size.height-a.height};this.props.onResizeStop&&this.props.onResizeStop(e,o,this.resizable,s),this.props.size&&this.setState({width:null!==(t=this.props.size.width)&&void 0!==t?t:"auto",height:null!==(n=this.props.size.height)&&void 0!==n?n:"auto"}),this.unbindEvents(),this.setState({isResizing:!1,backgroundStyle:rk(rk({},this.state.backgroundStyle),{cursor:"auto"})})}},t.prototype.updateSize=function(e){var t,n;this.setState({width:null!==(t=e.width)&&void 0!==t?t:"auto",height:null!==(n=e.height)&&void 0!==n?n:"auto"})},t.prototype.renderResizer=function(e){var t=this,n=this.props,r=n.enable,o=n.handleStyles,a=n.handleClasses,s=n.handleWrapperStyle,l=n.handleWrapperClass,u=n.handleComponent;if(!r)return null;var c=e.filter((function(e){return!1!==r[e]})).map((function(e){return!1!==r[e]?i.createElement(nk,{key:e,direction:e,onResizeStart:t.onResizeStart,replaceStyles:o&&o[e],className:a&&a[e]},u&&u[e]?u[e]:null):null}));return i.createElement("div",{className:l,style:s},c)},t.prototype.render=function(){var e=this,t=Object.keys(this.props).reduce((function(t,n){return-1!==fk.indexOf(n)||(t[n]=e.props[n]),t}),{}),n=rk(rk(rk({position:"relative",userSelect:this.state.isResizing?"none":"auto"},this.props.style),this.sizeStyle),{maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight,minWidth:this.props.minWidth,minHeight:this.props.minHeight,boxSizing:"border-box",flexShrink:0});this.state.flexBasis&&(n.flexBasis=this.state.flexBasis);var r=this.props.as||"div";return i.createElement(r,rk({style:n,className:this.props.className},t,{ref:function(t){t&&(e.resizable=t)}}),this.state.isResizing&&i.createElement("div",{style:this.state.backgroundStyle}),this.renderResizer(["topLeft","top","topRight","left"]),this.props.children,this.renderResizer(["right","bottomLeft","bottom","bottomRight"]))},t.defaultProps={as:"div",onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},enable:{top:!0,right:!0,bottom:!0,left:!0,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},style:{},grid:[1,1],gridGap:[0,0],lockAspectRatio:!1,lockAspectRatioExtraWidth:0,lockAspectRatioExtraHeight:0,scale:1,resizeRatio:1,snapGap:0},t}(i.PureComponent),gk=function(e,t){return gk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},gk(e,t)};var mk=function(){return mk=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},mk.apply(this,arguments)};var yk,_k={width:"auto",height:"auto",display:"inline-block",position:"absolute",top:0,left:0};!function(e){function t(t){var n=e.call(this,t)||this;return n.resizingPosition={x:0,y:0},n.offsetFromParent={left:0,top:0},n.resizableElement={current:null},n.originalPosition={x:0,y:0},n.state={resizing:!1,bounds:{top:0,right:0,bottom:0,left:0},maxWidth:t.maxWidth,maxHeight:t.maxHeight},n.onResizeStart=n.onResizeStart.bind(n),n.onResize=n.onResize.bind(n),n.onResizeStop=n.onResizeStop.bind(n),n.onDragStart=n.onDragStart.bind(n),n.onDrag=n.onDrag.bind(n),n.onDragStop=n.onDragStop.bind(n),n.getMaxSizesFromProps=n.getMaxSizesFromProps.bind(n),n}(function(e,t){function n(){this.constructor=e}gk(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)})(t,e),t.prototype.componentDidMount=function(){this.updateOffsetFromParent();var e=this.offsetFromParent,t=e.left,n=e.top,i=this.getDraggablePosition(),r=i.x,o=i.y;this.draggable.setState({x:r-t,y:o-n}),this.forceUpdate()},t.prototype.getDraggablePosition=function(){var e=this.draggable.state;return{x:e.x,y:e.y}},t.prototype.getParent=function(){return this.resizable&&this.resizable.parentNode},t.prototype.getParentSize=function(){return this.resizable.getParentSize()},t.prototype.getMaxSizesFromProps=function(){return{maxWidth:"undefined"===typeof this.props.maxWidth?Number.MAX_SAFE_INTEGER:this.props.maxWidth,maxHeight:"undefined"===typeof this.props.maxHeight?Number.MAX_SAFE_INTEGER:this.props.maxHeight}},t.prototype.getSelfElement=function(){return this.resizable&&this.resizable.resizable},t.prototype.getOffsetHeight=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerHeight/t;case"body":return document.body.offsetHeight/t;default:return e.offsetHeight}},t.prototype.getOffsetWidth=function(e){var t=this.props.scale;switch(this.props.bounds){case"window":return window.innerWidth/t;case"body":return document.body.offsetWidth/t;default:return e.offsetWidth}},t.prototype.onDragStart=function(e,t){this.props.onDragStart&&this.props.onDragStart(e,t);var n=this.getDraggablePosition();if(this.originalPosition=n,this.props.bounds){var i,r=this.getParent(),o=this.props.scale;if("parent"===this.props.bounds)i=r;else{if("body"===this.props.bounds){var a=r.getBoundingClientRect(),s=a.left,l=a.top,u=document.body.getBoundingClientRect(),c=-(s-r.offsetLeft*o-u.left)/o,h=-(l-r.offsetTop*o-u.top)/o,d=(document.body.offsetWidth-this.resizable.size.width*o)/o+c,f=(document.body.offsetHeight-this.resizable.size.height*o)/o+h;return this.setState({bounds:{top:h,right:d,bottom:f,left:c}})}if("window"===this.props.bounds){if(!this.resizable)return;var p=r.getBoundingClientRect(),v=p.left,g=p.top,m=-(v-r.offsetLeft*o)/o,y=-(g-r.offsetTop*o)/o;d=(window.innerWidth-this.resizable.size.width*o)/o+m,f=(window.innerHeight-this.resizable.size.height*o)/o+y;return this.setState({bounds:{top:y,right:d,bottom:f,left:m}})}"string"===typeof this.props.bounds?i=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(i=this.props.bounds)}if(i instanceof HTMLElement&&r instanceof HTMLElement){var _=i.getBoundingClientRect(),b=_.left,k=_.top,T=r.getBoundingClientRect(),E=(b-T.left)/o,x=k-T.top;if(this.resizable){this.updateOffsetFromParent();var w=this.offsetFromParent;this.setState({bounds:{top:x-w.top,right:E+(i.offsetWidth-this.resizable.size.width)-w.left/o,bottom:x+(i.offsetHeight-this.resizable.size.height)-w.top,left:E-w.left/o}})}}}},t.prototype.onDrag=function(e,t){if(this.props.onDrag){var n=this.offsetFromParent,i=n.left,r=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDrag(e,mk(mk({},t),{x:t.x+i,y:this.originalPosition.y+r,deltaY:0})):"y"===this.props.dragAxis?this.props.onDrag(e,mk(mk({},t),{x:this.originalPosition.x+i,y:t.y+r,deltaX:0})):void 0:this.props.onDrag(e,mk(mk({},t),{x:t.x+i,y:t.y+r}))}},t.prototype.onDragStop=function(e,t){if(this.props.onDragStop){var n=this.offsetFromParent,i=n.left,r=n.top;return this.props.dragAxis&&"both"!==this.props.dragAxis?"x"===this.props.dragAxis?this.props.onDragStop(e,mk(mk({},t),{x:t.x+i,y:this.originalPosition.y+r,deltaY:0})):"y"===this.props.dragAxis?this.props.onDragStop(e,mk(mk({},t),{x:this.originalPosition.x+i,y:t.y+r,deltaX:0})):void 0:this.props.onDragStop(e,mk(mk({},t),{x:t.x+i,y:t.y+r}))}},t.prototype.onResizeStart=function(e,t,n){e.stopPropagation(),this.setState({resizing:!0});var i=this.props.scale,r=this.offsetFromParent,o=this.getDraggablePosition();if(this.resizingPosition={x:o.x+r.left,y:o.y+r.top},this.originalPosition=o,this.props.bounds){var a=this.getParent(),s=void 0;"parent"===this.props.bounds?s=a:"body"===this.props.bounds?s=document.body:"window"===this.props.bounds?s=window:"string"===typeof this.props.bounds?s=document.querySelector(this.props.bounds):this.props.bounds instanceof HTMLElement&&(s=this.props.bounds);var l=this.getSelfElement();if(l instanceof Element&&(s instanceof HTMLElement||s===window)&&a instanceof HTMLElement){var u=this.getMaxSizesFromProps(),c=u.maxWidth,h=u.maxHeight,d=this.getParentSize();if(c&&"string"===typeof c)if(c.endsWith("%")){var f=Number(c.replace("%",""))/100;c=d.width*f}else c.endsWith("px")&&(c=Number(c.replace("px","")));if(h&&"string"===typeof h)if(h.endsWith("%")){f=Number(h.replace("%",""))/100;h=d.height*f}else h.endsWith("px")&&(h=Number(h.replace("px","")));var p=l.getBoundingClientRect(),v=p.left,g=p.top,m="window"===this.props.bounds?{left:0,top:0}:s.getBoundingClientRect(),y=m.left,_=m.top,b=this.getOffsetWidth(s),k=this.getOffsetHeight(s),T=t.toLowerCase().endsWith("left"),E=t.toLowerCase().endsWith("right"),x=t.startsWith("top"),w=t.startsWith("bottom");if((T||x)&&this.resizable){var S=(v-y)/i+this.resizable.size.width;this.setState({maxWidth:S>Number(c)?c:S})}if(E||this.props.lockAspectRatio&&!T&&!x){S=b+(y-v)/i;this.setState({maxWidth:S>Number(c)?c:S})}if((x||T)&&this.resizable){S=(g-_)/i+this.resizable.size.height;this.setState({maxHeight:S>Number(h)?h:S})}if(w||this.props.lockAspectRatio&&!x&&!T){S=k+(_-g)/i;this.setState({maxHeight:S>Number(h)?h:S})}}}else this.setState({maxWidth:this.props.maxWidth,maxHeight:this.props.maxHeight});this.props.onResizeStart&&this.props.onResizeStart(e,t,n)},t.prototype.onResize=function(e,t,n,i){var r=this,o={x:this.originalPosition.x,y:this.originalPosition.y},a=-i.width,s=-i.height;["top","left","topLeft","bottomLeft","topRight"].includes(t)&&("bottomLeft"===t?o.x+=a:("topRight"===t||(o.x+=a),o.y+=s));var l=this.draggable.state;o.x===l.x&&o.y===l.y||(0,zi.flushSync)((function(){r.draggable.setState(o)})),this.updateOffsetFromParent();var u=this.offsetFromParent,c=this.getDraggablePosition().x+u.left,h=this.getDraggablePosition().y+u.top;this.resizingPosition={x:c,y:h},this.props.onResize&&this.props.onResize(e,t,n,i,{x:c,y:h})},t.prototype.onResizeStop=function(e,t,n,i){this.setState({resizing:!1});var r=this.getMaxSizesFromProps(),o=r.maxWidth,a=r.maxHeight;this.setState({maxWidth:o,maxHeight:a}),this.props.onResizeStop&&this.props.onResizeStop(e,t,n,i,this.resizingPosition)},t.prototype.updateSize=function(e){this.resizable&&this.resizable.updateSize({width:e.width,height:e.height})},t.prototype.updatePosition=function(e){this.draggable.setState(e)},t.prototype.updateOffsetFromParent=function(){var e=this.props.scale,t=this.getParent(),n=this.getSelfElement();if(!t||null===n)return{top:0,left:0};var i=t.getBoundingClientRect(),r=i.left,o=i.top,a=n.getBoundingClientRect(),s=this.getDraggablePosition(),l=t.scrollLeft,u=t.scrollTop;this.offsetFromParent={left:a.left-r+l-s.x*e,top:a.top-o+u-s.y*e}},t.prototype.render=function(){var e=this,t=this.props,n=t.disableDragging,r=t.style,o=t.dragHandleClassName,a=t.position,s=t.onMouseDown,l=t.onMouseUp,u=t.dragAxis,c=t.dragGrid,h=t.bounds,d=t.enableUserSelectHack,f=t.cancel,p=t.children,v=(t.onResizeStart,t.onResize,t.onResizeStop,t.onDragStart,t.onDrag,t.onDragStop,t.resizeHandleStyles),g=t.resizeHandleClasses,m=t.resizeHandleComponent,y=t.enableResizing,_=t.resizeGrid,b=t.resizeHandleWrapperClass,k=t.resizeHandleWrapperStyle,T=t.scale,E=t.allowAnyClick,x=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]])}return n}(t,["disableDragging","style","dragHandleClassName","position","onMouseDown","onMouseUp","dragAxis","dragGrid","bounds","enableUserSelectHack","cancel","children","onResizeStart","onResize","onResizeStop","onDragStart","onDrag","onDragStop","resizeHandleStyles","resizeHandleClasses","resizeHandleComponent","enableResizing","resizeGrid","resizeHandleWrapperClass","resizeHandleWrapperStyle","scale","allowAnyClick"]),w=this.props.default?mk({},this.props.default):void 0;delete x.default;var S,C=n||o?{cursor:"auto"}:{cursor:"move"},I=mk(mk(mk({},_k),C),r),R=this.offsetFromParent,O=R.left,A=R.top;a&&(S={x:a.x-O,y:a.y-A});var M,L=this.state.resizing?void 0:S,N=this.state.resizing?"both":u;return(0,i.createElement)(Yb(),{ref:function(t){t&&(e.draggable=t)},handle:o?".".concat(o):void 0,defaultPosition:w,onMouseDown:s,onMouseUp:l,onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop,axis:N,disabled:n,grid:c,bounds:h?this.state.bounds:void 0,position:L,enableUserSelectHack:d,cancel:f,scale:T,allowAnyClick:E,nodeRef:this.resizableElement},(0,i.createElement)(vk,mk({},x,{ref:function(t){t&&(e.resizable=t,e.resizableElement.current=t.resizable)},defaultSize:w,size:this.props.size,enable:"boolean"===typeof y?(M=y,{bottom:M,bottomLeft:M,bottomRight:M,left:M,right:M,top:M,topLeft:M,topRight:M}):y,onResizeStart:this.onResizeStart,onResize:this.onResize,onResizeStop:this.onResizeStop,style:I,minWidth:this.props.minWidth,minHeight:this.props.minHeight,maxWidth:this.state.resizing?this.state.maxWidth:this.props.maxWidth,maxHeight:this.state.resizing?this.state.maxHeight:this.props.maxHeight,grid:_,handleWrapperClass:b,handleWrapperStyle:k,lockAspectRatio:this.props.lockAspectRatio,lockAspectRatioExtraWidth:this.props.lockAspectRatioExtraWidth,lockAspectRatioExtraHeight:this.props.lockAspectRatioExtraHeight,handleStyles:v,handleClasses:g,handleComponent:m,scale:this.props.scale}),p))},t.defaultProps={maxWidth:Number.MAX_SAFE_INTEGER,maxHeight:Number.MAX_SAFE_INTEGER,scale:1,onResizeStart:function(){},onResize:function(){},onResizeStop:function(){},onDragStart:function(){},onDrag:function(){},onDragStop:function(){}}}(i.PureComponent);function bk(){if(yk)return yk;var e=document.createElement("div"),t=document.createElement("div");return t.style.width="10px",t.style.height="1px",e.appendChild(t),e.dir="rtl",e.style.fontSize="14px",e.style.width="4px",e.style.height="1px",e.style.position="absolute",e.style.top="-1000px",e.style.overflow="scroll",document.body.appendChild(e),yk="reverse",e.scrollLeft>0?yk="default":(e.scrollLeft=1,0===e.scrollLeft&&(yk="negative")),document.body.removeChild(e),yk}function kk(e,t){var n=e.scrollLeft;if("rtl"!==t)return n;switch(bk()){case"negative":return e.scrollWidth-e.clientWidth+n;case"reverse":return e.scrollWidth-e.clientWidth-n;default:return n}}function Tk(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2}var Ek=["onChange"],xk={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};var wk=(0,f.Z)((0,p.jsx)("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),Sk=(0,f.Z)((0,p.jsx)("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function Ck(e){return(0,H.ZP)("MuiTabScrollButton",e)}var Ik=(0,N.Z)("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),Rk=["className","slots","slotProps","direction","orientation","disabled"],Ok=(0,U.ZP)(Ue,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.orientation&&t[n.orientation]]}})((function(e){var t=e.ownerState;return(0,_.Z)((0,K.Z)({width:40,flexShrink:0,opacity:.8},"&.".concat(Ik.disabled),{opacity:0}),"vertical"===t.orientation&&{width:"100%",height:40,"& svg":{transform:"rotate(".concat(t.isRtl?-90:90,"deg)")}})})),Ak=i.forwardRef((function(e,t){var n,i,r=(0,j.i)({props:e,name:"MuiTabScrollButton"}),o=r.className,a=r.slots,s=void 0===a?{}:a,l=r.slotProps,u=void 0===l?{}:l,c=r.direction,h=(0,b.Z)(r,Rk),d=_i(),f=(0,_.Z)({isRtl:d},r),v=function(e){var t=e.classes,n={root:["root",e.orientation,e.disabled&&"disabled"]};return(0,F.Z)(n,Ck,t)}(f),g=null!=(n=s.StartScrollButtonIcon)?n:wk,m=null!=(i=s.EndScrollButtonIcon)?i:Sk,y=Ci({elementType:g,externalSlotProps:u.startScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f}),T=Ci({elementType:m,externalSlotProps:u.endScrollButtonIcon,additionalProps:{fontSize:"small"},ownerState:f});return(0,p.jsx)(Ok,(0,_.Z)({component:"div",className:(0,k.Z)(v.root,o),ref:t,role:null,ownerState:f,tabIndex:null},h,{children:"left"===c?(0,p.jsx)(g,(0,_.Z)({},y)):(0,p.jsx)(m,(0,_.Z)({},T))}))}));function Mk(e){return(0,H.ZP)("MuiTabs",e)}var Lk=(0,N.Z)("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),Nk=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","slots","slotProps","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],$k=function(e,t){return e===t?e.firstChild:t&&t.nextElementSibling?t.nextElementSibling:e.firstChild},Pk=function(e,t){return e===t?e.lastChild:t&&t.previousElementSibling?t.previousElementSibling:e.lastChild},Dk=function(e,t,n){for(var i=!1,r=n(e,t);r;){if(r===e.firstChild){if(i)return;i=!0}var o=r.disabled||"true"===r.getAttribute("aria-disabled");if(r.hasAttribute("tabindex")&&!o)return void r.focus();r=n(e,r)}},Bk=(0,U.ZP)("div",{name:"MuiTabs",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[(0,K.Z)({},"& .".concat(Lk.scrollButtons),t.scrollButtons),(0,K.Z)({},"& .".concat(Lk.scrollButtons),n.scrollButtonsHideMobile&&t.scrollButtonsHideMobile),t.root,n.vertical&&t.vertical]}})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},t.vertical&&{flexDirection:"column"},t.scrollButtonsHideMobile&&(0,K.Z)({},"& .".concat(Lk.scrollButtons),(0,K.Z)({},n.breakpoints.down("sm"),{display:"none"})))})),Fk=(0,U.ZP)("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:function(e,t){var n=e.ownerState;return[t.scroller,n.fixed&&t.fixed,n.hideScrollbar&&t.hideScrollbar,n.scrollableX&&t.scrollableX,n.scrollableY&&t.scrollableY]}})((function(e){var t=e.ownerState;return(0,_.Z)({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},t.fixed&&{overflowX:"hidden",width:"100%"},t.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},t.scrollableX&&{overflowX:"auto",overflowY:"hidden"},t.scrollableY&&{overflowY:"auto",overflowX:"hidden"})})),Uk=(0,U.ZP)("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:function(e,t){var n=e.ownerState;return[t.flexContainer,n.vertical&&t.flexContainerVertical,n.centered&&t.centered]}})((function(e){var t=e.ownerState;return(0,_.Z)({display:"flex"},t.vertical&&{flexDirection:"column"},t.centered&&{justifyContent:"center"})})),jk=(0,U.ZP)("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:function(e,t){return t.indicator}})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({position:"absolute",height:2,bottom:0,width:"100%",transition:n.transitions.create()},"primary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.primary.main},"secondary"===t.indicatorColor&&{backgroundColor:(n.vars||n).palette.secondary.main},t.vertical&&{height:"100%",width:2,right:0})})),Zk=(0,U.ZP)((function(e){var t=e.onChange,n=(0,b.Z)(e,Ek),r=i.useRef(),o=i.useRef(null),a=function(){r.current=o.current.offsetHeight-o.current.clientHeight};return(0,nn.Z)((function(){var e=(0,Zi.Z)((function(){var e=r.current;a(),e!==r.current&&t(r.current)})),n=(0,Hi.Z)(o.current);return n.addEventListener("resize",e),function(){e.clear(),n.removeEventListener("resize",e)}}),[t]),i.useEffect((function(){a(),t(r.current)}),[t]),(0,p.jsx)("div",(0,_.Z)({style:xk,ref:o},n))}))({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),Hk={},zk=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiTabs"}),r=er(),o=_i(),a=n["aria-label"],s=n["aria-labelledby"],l=n.action,u=n.centered,c=void 0!==u&&u,h=n.children,f=n.className,v=n.component,g=void 0===v?"div":v,m=n.allowScrollButtonsMobile,y=void 0!==m&&m,T=n.indicatorColor,E=void 0===T?"primary":T,x=n.onChange,w=n.orientation,S=void 0===w?"horizontal":w,C=n.ScrollButtonComponent,I=void 0===C?Ak:C,R=n.scrollButtons,O=void 0===R?"auto":R,A=n.selectionFollowsFocus,M=n.slots,L=void 0===M?{}:M,N=n.slotProps,$=void 0===N?{}:N,P=n.TabIndicatorProps,D=void 0===P?{}:P,B=n.TabScrollButtonProps,U=void 0===B?{}:B,Z=n.textColor,H=void 0===Z?"primary":Z,z=n.value,V=n.variant,W=void 0===V?"standard":V,G=n.visibleScrollbar,X=void 0!==G&&G,Y=(0,b.Z)(n,Nk),q="scrollable"===W,J="vertical"===S,Q=J?"scrollTop":"scrollLeft",ee=J?"top":"left",ne=J?"bottom":"right",ie=J?"clientHeight":"clientWidth",re=J?"height":"width",oe=(0,_.Z)({},n,{component:g,allowScrollButtonsMobile:y,indicatorColor:E,orientation:S,vertical:J,scrollButtons:O,textColor:H,variant:W,visibleScrollbar:X,fixed:!q,hideScrollbar:q&&!X,scrollableX:q&&!J,scrollableY:q&&J,centered:c&&!q,scrollButtonsHideMobile:!y}),ae=function(e){var t=e.vertical,n=e.fixed,i=e.hideScrollbar,r=e.scrollableX,o=e.scrollableY,a=e.centered,s=e.scrollButtonsHideMobile,l=e.classes,u={root:["root",t&&"vertical"],scroller:["scroller",n&&"fixed",i&&"hideScrollbar",r&&"scrollableX",o&&"scrollableY"],flexContainer:["flexContainer",t&&"flexContainerVertical",a&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",s&&"scrollButtonsHideMobile"],scrollableX:[r&&"scrollableX"],hideScrollbar:[i&&"hideScrollbar"]};return(0,F.Z)(u,Mk,l)}(oe),se=Ci({elementType:L.StartScrollButtonIcon,externalSlotProps:$.startScrollButtonIcon,ownerState:oe}),le=Ci({elementType:L.EndScrollButtonIcon,externalSlotProps:$.endScrollButtonIcon,ownerState:oe});var ue=i.useState(!1),ce=(0,d.Z)(ue,2),he=ce[0],de=ce[1],fe=i.useState(Hk),pe=(0,d.Z)(fe,2),ve=pe[0],ge=pe[1],me=i.useState(!1),ye=(0,d.Z)(me,2),_e=ye[0],be=ye[1],ke=i.useState(!1),Te=(0,d.Z)(ke,2),Ee=Te[0],xe=Te[1],we=i.useState(!1),Se=(0,d.Z)(we,2),Ce=Se[0],Ie=Se[1],Re=i.useState({overflow:"hidden",scrollbarWidth:0}),Oe=(0,d.Z)(Re,2),Ae=Oe[0],Me=Oe[1],Le=new Map,Ne=i.useRef(null),$e=i.useRef(null),Pe=function(){var e,t,n=Ne.current;if(n){var i=n.getBoundingClientRect();e={clientWidth:n.clientWidth,scrollLeft:n.scrollLeft,scrollTop:n.scrollTop,scrollLeftNormalized:kk(n,o?"rtl":"ltr"),scrollWidth:n.scrollWidth,top:i.top,bottom:i.bottom,left:i.left,right:i.right}}if(n&&!1!==z){var r=$e.current.children;if(r.length>0){var a=r[Le.get(z)];0,t=a?a.getBoundingClientRect():null}}return{tabsMeta:e,tabMeta:t}},De=(0,te.Z)((function(){var e,t,n=Pe(),i=n.tabsMeta,r=n.tabMeta,a=0;if(J)t="top",r&&i&&(a=r.top-i.top+i.scrollTop);else if(t=o?"right":"left",r&&i){var s=o?i.scrollLeftNormalized+i.clientWidth-i.scrollWidth:i.scrollLeft;a=(o?-1:1)*(r[t]-i[t]+s)}var l=(e={},(0,K.Z)(e,t,a),(0,K.Z)(e,re,r?r[re]:0),e);if(isNaN(ve[t])||isNaN(ve[re]))ge(l);else{var u=Math.abs(ve[t]-l[t]),c=Math.abs(ve[re]-l[re]);(u>=1||c>=1)&&ge(l)}})),Be=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).animation;void 0===t||t?function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(){},o=i.ease,a=void 0===o?Tk:o,s=i.duration,l=void 0===s?300:s,u=null,c=t[e],h=!1,d=function(){h=!0};c===n?r(new Error("Element already at target position")):requestAnimationFrame((function i(o){if(h)r(new Error("Animation cancelled"));else{null===u&&(u=o);var s=Math.min(1,(o-u)/l);t[e]=a(s)*(n-c)+c,s>=1?requestAnimationFrame((function(){r(null)})):requestAnimationFrame(i)}}))}(Q,Ne.current,e,{duration:r.transitions.duration.standard}):Ne.current[Q]=e},Fe=function(e){var t=Ne.current[Q];J?t+=e:(t+=e*(o?-1:1),t*=o&&"reverse"===bk()?-1:1),Be(t)},Ue=function(){for(var e=Ne.current[ie],t=0,n=Array.from($e.current.children),i=0;i<n.length;i+=1){var r=n[i];if(t+r[ie]>e){0===i&&(t=e);break}t+=r[ie]}return t},je=function(){Fe(-1*Ue())},Ze=function(){Fe(Ue())},He=i.useCallback((function(e){Me({overflow:null,scrollbarWidth:e})}),[]),ze=(0,te.Z)((function(e){var t=Pe(),n=t.tabsMeta,i=t.tabMeta;if(i&&n)if(i[ee]<n[ee]){var r=n[Q]+(i[ee]-n[ee]);Be(r,{animation:e})}else if(i[ne]>n[ne]){var o=n[Q]+(i[ne]-n[ne]);Be(o,{animation:e})}})),Ve=(0,te.Z)((function(){q&&!1!==O&&Ie(!Ce)}));i.useEffect((function(){var e,t,n=(0,Zi.Z)((function(){Ne.current&&De()})),i=(0,Hi.Z)(Ne.current);return i.addEventListener("resize",n),"undefined"!==typeof ResizeObserver&&(e=new ResizeObserver(n),Array.from($e.current.children).forEach((function(t){e.observe(t)}))),"undefined"!==typeof MutationObserver&&(t=new MutationObserver((function(t){t.forEach((function(t){t.removedNodes.forEach((function(t){var n;null==(n=e)||n.unobserve(t)})),t.addedNodes.forEach((function(t){var n;null==(n=e)||n.observe(t)}))})),n(),Ve()}))).observe($e.current,{childList:!0}),function(){var r,o;n.clear(),i.removeEventListener("resize",n),null==(r=t)||r.disconnect(),null==(o=e)||o.disconnect()}}),[De,Ve]),i.useEffect((function(){var e=Array.from($e.current.children),t=e.length;if("undefined"!==typeof IntersectionObserver&&t>0&&q&&!1!==O){var n=e[0],i=e[t-1],r={root:Ne.current,threshold:.99},o=new IntersectionObserver((function(e){be(!e[0].isIntersecting)}),r);o.observe(n);var a=new IntersectionObserver((function(e){xe(!e[0].isIntersecting)}),r);return a.observe(i),function(){o.disconnect(),a.disconnect()}}}),[q,O,Ce,null==h?void 0:h.length]),i.useEffect((function(){de(!0)}),[]),i.useEffect((function(){De()})),i.useEffect((function(){ze(Hk!==ve)}),[ze,ve]),i.useImperativeHandle(l,(function(){return{updateIndicator:De,updateScrollButtons:Ve}}),[De,Ve]);var We=(0,p.jsx)(jk,(0,_.Z)({},D,{className:(0,k.Z)(ae.indicator,D.className),ownerState:oe,style:(0,_.Z)({},ve,D.style)})),Ge=0,Xe=i.Children.map(h,(function(e){if(!i.isValidElement(e))return null;var t=void 0===e.props.value?Ge:e.props.value;Le.set(t,Ge);var n=t===z;return Ge+=1,i.cloneElement(e,(0,_.Z)({fullWidth:"fullWidth"===W,indicator:n&&!he&&We,selected:n,selectionFollowsFocus:A,onChange:x,textColor:H,value:t},1!==Ge||!1!==z||e.props.tabIndex?{}:{tabIndex:0}))})),Ye=function(){var e={};e.scrollbarSizeListener=q?(0,p.jsx)(Zk,{onChange:He,className:(0,k.Z)(ae.scrollableX,ae.hideScrollbar)}):null;var t=q&&("auto"===O&&(_e||Ee)||!0===O);return e.scrollButtonStart=t?(0,p.jsx)(I,(0,_.Z)({slots:{StartScrollButtonIcon:L.StartScrollButtonIcon},slotProps:{startScrollButtonIcon:se},orientation:S,direction:o?"right":"left",onClick:je,disabled:!_e},U,{className:(0,k.Z)(ae.scrollButtons,U.className)})):null,e.scrollButtonEnd=t?(0,p.jsx)(I,(0,_.Z)({slots:{EndScrollButtonIcon:L.EndScrollButtonIcon},slotProps:{endScrollButtonIcon:le},orientation:S,direction:o?"left":"right",onClick:Ze,disabled:!Ee},U,{className:(0,k.Z)(ae.scrollButtons,U.className)})):null,e}();return(0,p.jsxs)(Bk,(0,_.Z)({className:(0,k.Z)(ae.root,f),ownerState:oe,ref:t,as:g},Y,{children:[Ye.scrollButtonStart,Ye.scrollbarSizeListener,(0,p.jsxs)(Fk,{className:ae.scroller,ownerState:oe,style:(0,K.Z)({overflow:Ae.overflow},J?"margin".concat(o?"Left":"Right"):"marginBottom",X?void 0:-Ae.scrollbarWidth),ref:Ne,children:[(0,p.jsx)(Uk,{"aria-label":a,"aria-labelledby":s,"aria-orientation":"vertical"===S?"vertical":null,className:ae.flexContainer,ownerState:oe,onKeyDown:function(e){var t=$e.current,n=(0,gi.Z)(t).activeElement;if("tab"===n.getAttribute("role")){var i="horizontal"===S?"ArrowLeft":"ArrowUp",r="horizontal"===S?"ArrowRight":"ArrowDown";switch("horizontal"===S&&o&&(i="ArrowRight",r="ArrowLeft"),e.key){case i:e.preventDefault(),Dk(t,n,Pk);break;case r:e.preventDefault(),Dk(t,n,$k);break;case"Home":e.preventDefault(),Dk(t,null,$k);break;case"End":e.preventDefault(),Dk(t,null,Pk)}}},ref:$e,role:"tablist",children:Xe}),he&&We]}),Ye.scrollButtonEnd]}))})),Vk=zk;function Wk(e){return(0,H.ZP)("MuiTab",e)}var Gk=(0,N.Z)("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),Xk=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],Yk=(0,U.ZP)(Ue,{name:"MuiTab",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.label&&n.icon&&t.labelIcon,t["textColor".concat((0,Z.Z)(n.textColor))],n.fullWidth&&t.fullWidth,n.wrapped&&t.wrapped,(0,K.Z)({},"& .".concat(Gk.iconWrapper),t.iconWrapper)]}})((function(e){var t,n,i,r=e.theme,o=e.ownerState;return(0,_.Z)({},r.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},o.label&&{flexDirection:"top"===o.iconPosition||"bottom"===o.iconPosition?"column":"row"},{lineHeight:1.25},o.icon&&o.label&&(0,K.Z)({minHeight:72,paddingTop:9,paddingBottom:9},"& > .".concat(Gk.iconWrapper),(0,_.Z)({},"top"===o.iconPosition&&{marginBottom:6},"bottom"===o.iconPosition&&{marginTop:6},"start"===o.iconPosition&&{marginRight:r.spacing(1)},"end"===o.iconPosition&&{marginLeft:r.spacing(1)})),"inherit"===o.textColor&&(t={color:"inherit",opacity:.6},(0,K.Z)(t,"&.".concat(Gk.selected),{opacity:1}),(0,K.Z)(t,"&.".concat(Gk.disabled),{opacity:(r.vars||r).palette.action.disabledOpacity}),t),"primary"===o.textColor&&(n={color:(r.vars||r).palette.text.secondary},(0,K.Z)(n,"&.".concat(Gk.selected),{color:(r.vars||r).palette.primary.main}),(0,K.Z)(n,"&.".concat(Gk.disabled),{color:(r.vars||r).palette.text.disabled}),n),"secondary"===o.textColor&&(i={color:(r.vars||r).palette.text.secondary},(0,K.Z)(i,"&.".concat(Gk.selected),{color:(r.vars||r).palette.secondary.main}),(0,K.Z)(i,"&.".concat(Gk.disabled),{color:(r.vars||r).palette.text.disabled}),i),o.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},o.wrapped&&{fontSize:r.typography.pxToRem(12)})})),Kk=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiTab"}),r=n.className,o=n.disabled,a=void 0!==o&&o,s=n.disableFocusRipple,l=void 0!==s&&s,u=n.fullWidth,c=n.icon,h=n.iconPosition,d=void 0===h?"top":h,f=n.indicator,v=n.label,g=n.onChange,m=n.onClick,y=n.onFocus,T=n.selected,E=n.selectionFollowsFocus,x=n.textColor,w=void 0===x?"inherit":x,S=n.value,C=n.wrapped,I=void 0!==C&&C,R=(0,b.Z)(n,Xk),O=(0,_.Z)({},n,{disabled:a,disableFocusRipple:l,selected:T,icon:!!c,iconPosition:d,label:!!v,fullWidth:u,textColor:w,wrapped:I}),A=function(e){var t=e.classes,n=e.textColor,i=e.fullWidth,r=e.wrapped,o=e.icon,a=e.label,s=e.selected,l=e.disabled,u={root:["root",o&&a&&"labelIcon","textColor".concat((0,Z.Z)(n)),i&&"fullWidth",r&&"wrapped",s&&"selected",l&&"disabled"],iconWrapper:["iconWrapper"]};return(0,F.Z)(u,Wk,t)}(O),M=c&&v&&i.isValidElement(c)?i.cloneElement(c,{className:(0,k.Z)(A.iconWrapper,c.props.className)}):c;return(0,p.jsxs)(Yk,(0,_.Z)({focusRipple:!l,className:(0,k.Z)(A.root,r),ref:t,role:"tab","aria-selected":T,disabled:a,onClick:function(e){!T&&g&&g(e,S),m&&m(e)},onFocus:function(e){E&&!T&&g&&g(e,S),y&&y(e)},ownerState:O,tabIndex:T?0:-1},R,{children:["top"===d||"start"===d?(0,p.jsxs)(i.Fragment,{children:[M,v]}):(0,p.jsxs)(i.Fragment,{children:[v,M]}),f]}))})),qk=Kk;var Jk=(0,N.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);function Qk(e){return(0,H.ZP)("MuiListItemIcon",e)}var eT=(0,N.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]);function tT(e){return(0,H.ZP)("MuiMenuItem",e)}var nT=(0,N.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),iT=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],rT=(0,U.ZP)(Ue,{shouldForwardProp:function(e){return(0,Q.Z)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})((function(e){var t,n=e.theme,i=e.ownerState;return(0,_.Z)({},n.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:"1px solid ".concat((n.vars||n).palette.divider),backgroundClip:"padding-box"},(t={"&:hover":{textDecoration:"none",backgroundColor:(n.vars||n).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,K.Z)(t,"&.".concat(nT.selected),(0,K.Z)({backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)},"&.".concat(nT.focusVisible),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.focusOpacity,"))"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.focusOpacity)})),(0,K.Z)(t,"&.".concat(nT.selected,":hover"),{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / calc(").concat(n.vars.palette.action.selectedOpacity," + ").concat(n.vars.palette.action.hoverOpacity,"))"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:n.vars?"rgba(".concat(n.vars.palette.primary.mainChannel," / ").concat(n.vars.palette.action.selectedOpacity,")"):(0,J.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}),(0,K.Z)(t,"&.".concat(nT.focusVisible),{backgroundColor:(n.vars||n).palette.action.focus}),(0,K.Z)(t,"&.".concat(nT.disabled),{opacity:(n.vars||n).palette.action.disabledOpacity}),(0,K.Z)(t,"& + .".concat(Jk.root),{marginTop:n.spacing(1),marginBottom:n.spacing(1)}),(0,K.Z)(t,"& + .".concat(Jk.inset),{marginLeft:52}),(0,K.Z)(t,"& .".concat(Vm.root),{marginTop:0,marginBottom:0}),(0,K.Z)(t,"& .".concat(Vm.inset),{paddingLeft:36}),(0,K.Z)(t,"& .".concat(eT.root),{minWidth:36}),t),!i.dense&&(0,K.Z)({},n.breakpoints.up("sm"),{minHeight:"auto"}),i.dense&&(0,_.Z)({minHeight:32,paddingTop:4,paddingBottom:4},n.typography.body2,(0,K.Z)({},"& .".concat(eT.root," svg"),{fontSize:"1.25rem"})))})),oT=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiMenuItem"}),r=n.autoFocus,o=void 0!==r&&r,a=n.component,s=void 0===a?"li":a,l=n.dense,u=void 0!==l&&l,c=n.divider,h=void 0!==c&&c,d=n.disableGutters,f=void 0!==d&&d,v=n.focusVisibleClassName,g=n.role,m=void 0===g?"menuitem":g,y=n.tabIndex,T=n.className,E=(0,b.Z)(n,iT),x=i.useContext(Ii),w=i.useMemo((function(){return{dense:u||x.dense||!1,disableGutters:f}}),[x.dense,u,f]),S=i.useRef(null);(0,nn.Z)((function(){o&&S.current&&S.current.focus()}),[o]);var C,I=(0,_.Z)({},n,{dense:w.dense,divider:h,disableGutters:f}),R=function(e){var t=e.disabled,n=e.dense,i=e.divider,r=e.disableGutters,o=e.selected,a=e.classes,s={root:["root",n&&"dense",t&&"disabled",!r&&"gutters",i&&"divider",o&&"selected"]},l=(0,F.Z)(s,tT,a);return(0,_.Z)({},a,l)}(n),O=(0,ee.Z)(S,t);return n.disabled||(C=void 0!==y?y:-1),(0,p.jsx)(Ii.Provider,{value:w,children:(0,p.jsx)(rT,(0,_.Z)({ref:O,role:m,tabIndex:C,component:s,focusVisibleClassName:(0,k.Z)(R.focusVisible,v),className:(0,k.Z)(R.root,T)},E,{ownerState:I,classes:R}))})}));function aT(e){return(0,H.ZP)("MuiLinearProgress",e)}(0,N.Z)("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);var sT,lT,uT,cT,hT,dT,fT,pT,vT,gT,mT,yT,_T=["className","color","value","valueBuffer","variant"],bT=(0,pe.F4)(fT||(fT=sT||(sT=ie(["\n  0% {\n    left: -35%;\n    right: 100%;\n  }\n\n  60% {\n    left: 100%;\n    right: -90%;\n  }\n\n  100% {\n    left: 100%;\n    right: -90%;\n  }\n"])))),kT=(0,pe.F4)(pT||(pT=lT||(lT=ie(["\n  0% {\n    left: -200%;\n    right: 100%;\n  }\n\n  60% {\n    left: 107%;\n    right: -8%;\n  }\n\n  100% {\n    left: 107%;\n    right: -8%;\n  }\n"])))),TT=(0,pe.F4)(vT||(vT=uT||(uT=ie(["\n  0% {\n    opacity: 1;\n    background-position: 0 -23px;\n  }\n\n  60% {\n    opacity: 0;\n    background-position: 0 -23px;\n  }\n\n  100% {\n    opacity: 1;\n    background-position: -200px -23px;\n  }\n"])))),ET=function(e,t){return"inherit"===t?"currentColor":e.vars?e.vars.palette.LinearProgress["".concat(t,"Bg")]:"light"===e.palette.mode?(0,J.$n)(e.palette[t].main,.62):(0,J._j)(e.palette[t].main,.5)},xT=(0,U.ZP)("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["color".concat((0,Z.Z)(n.color))],t[n.variant]]}})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:ET(n,t.color)},"inherit"===t.color&&"buffer"!==t.variant&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},"buffer"===t.variant&&{backgroundColor:"transparent"},"query"===t.variant&&{transform:"rotate(180deg)"})})),wT=(0,U.ZP)("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:function(e,t){var n=e.ownerState;return[t.dashed,t["dashedColor".concat((0,Z.Z)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme,i=ET(n,t.color);return(0,_.Z)({position:"absolute",marginTop:0,height:"100%",width:"100%"},"inherit"===t.color&&{opacity:.3},{backgroundImage:"radial-gradient(".concat(i," 0%, ").concat(i," 16%, transparent 42%)"),backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})}),(0,pe.iv)(gT||(gT=cT||(cT=ie(["\n    animation: "," 3s infinite linear;\n  "]))),TT)),ST=(0,U.ZP)("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Z.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar1Indeterminate,"determinate"===n.variant&&t.bar1Determinate,"buffer"===n.variant&&t.bar1Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"determinate"===t.variant&&{transition:"transform .".concat(4,"s linear")},"buffer"===t.variant&&{zIndex:1,transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,pe.iv)(mT||(mT=hT||(hT=ie(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;\n    "]))),bT)})),CT=(0,U.ZP)("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:function(e,t){var n=e.ownerState;return[t.bar,t["barColor".concat((0,Z.Z)(n.color))],("indeterminate"===n.variant||"query"===n.variant)&&t.bar2Indeterminate,"buffer"===n.variant&&t.bar2Buffer]}})((function(e){var t=e.ownerState,n=e.theme;return(0,_.Z)({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},"buffer"!==t.variant&&{backgroundColor:"inherit"===t.color?"currentColor":(n.vars||n).palette[t.color].main},"inherit"===t.color&&{opacity:.3},"buffer"===t.variant&&{backgroundColor:ET(n,t.color),transition:"transform .".concat(4,"s linear")})}),(function(e){var t=e.ownerState;return("indeterminate"===t.variant||"query"===t.variant)&&(0,pe.iv)(yT||(yT=dT||(dT=ie(["\n      width: auto;\n      animation: "," 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;\n    "]))),kT)})),IT=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiLinearProgress"}),i=n.className,r=n.color,o=void 0===r?"primary":r,a=n.value,s=n.valueBuffer,l=n.variant,u=void 0===l?"indeterminate":l,c=(0,b.Z)(n,_T),h=(0,_.Z)({},n,{color:o,variant:u}),d=function(e){var t=e.classes,n=e.variant,i=e.color,r={root:["root","color".concat((0,Z.Z)(i)),n],dashed:["dashed","dashedColor".concat((0,Z.Z)(i))],bar1:["bar","barColor".concat((0,Z.Z)(i)),("indeterminate"===n||"query"===n)&&"bar1Indeterminate","determinate"===n&&"bar1Determinate","buffer"===n&&"bar1Buffer"],bar2:["bar","buffer"!==n&&"barColor".concat((0,Z.Z)(i)),"buffer"===n&&"color".concat((0,Z.Z)(i)),("indeterminate"===n||"query"===n)&&"bar2Indeterminate","buffer"===n&&"bar2Buffer"]};return(0,F.Z)(r,aT,t)}(h),f=_i(),v={},g={bar1:{},bar2:{}};if("determinate"===u||"buffer"===u)if(void 0!==a){v["aria-valuenow"]=Math.round(a),v["aria-valuemin"]=0,v["aria-valuemax"]=100;var m=a-100;f&&(m=-m),g.bar1.transform="translateX(".concat(m,"%)")}else 0;if("buffer"===u)if(void 0!==s){var y=(s||0)-100;f&&(y=-y),g.bar2.transform="translateX(".concat(y,"%)")}else 0;return(0,p.jsxs)(xT,(0,_.Z)({className:(0,k.Z)(d.root,i),ownerState:h,role:"progressbar"},v,{ref:t},c,{children:["buffer"===u?(0,p.jsx)(wT,{className:d.dashed,ownerState:h}):null,(0,p.jsx)(ST,{className:d.bar1,ownerState:h,style:g.bar1}),"determinate"===u?null:(0,p.jsx)(CT,{className:d.bar2,ownerState:h,style:g.bar2})]}))})),RT=IT,OT=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useState)("Laser 1"),o=(0,d.Z)(r,2),a=o[0],l=o[1],c=(0,i.useState)(128),f=(0,d.Z)(c,2),v=f[0],g=f[1],m=(0,i.useState)("300"),y=(0,d.Z)(m,2),_=y[0],b=y[1],k=(0,i.useState)("300"),T=(0,d.Z)(k,2),E=T[0],x=T[1],w=(0,i.useState)("2"),S=(0,d.Z)(w,2),C=S[0],I=S[1],R=(0,i.useState)("2"),O=(0,d.Z)(R,2),A=O[0],M=O[1],L=(0,i.useState)({mouseX:null,mouseY:null}),N=(0,d.Z)(L,2),$=N[0],P=N[1],D=(0,i.useState)("Default Path"),F=(0,d.Z)(D,2),U=F[0],j=F[1],Z=(0,i.useState)(""),H=(0,d.Z)(Z,2),z=H[0],V=H[1],W=(0,i.useState)(""),G=(0,d.Z)(W,2),X=G[0],K=G[1],q=(0,i.useState)(!1),J=(0,d.Z)(q,2),Q=J[0],ee=J[1],te=(0,i.useState)(0),ne=(0,d.Z)(te,2),ie=ne[0],re=ne[1],oe=(0,i.useState)(0),ae=(0,d.Z)(oe,2),se=ae[0],le=ae[1],ue=(0,i.useState)(!1),ce=(0,d.Z)(ue,2),he=ce[0],de=ce[1],fe=(0,i.useState)(!1),pe=(0,d.Z)(fe,2),ve=pe[0],ge=pe[1],me=(0,i.useState)(!1),ye=(0,d.Z)(me,2),_e=ye[0],be=ye[1],ke=(0,i.useState)(!1),Te=(0,d.Z)(ke,2),Ee=Te[0],xe=Te[1],we=(0,i.useState)(1),Se=(0,d.Z)(we,2),Ce=Se[0],Ie=Se[1],Re=(0,i.useState)(""),Oe=(0,d.Z)(Re,2),Ae=Oe[0],Me=Oe[1],Le=(0,i.useState)(""),Ne=(0,d.Z)(Le,2),$e=Ne[0],Pe=Ne[1],De=(0,i.useState)(""),Be=(0,d.Z)(De,2),Fe=Be[0],Ue=Be[1],je=(0,i.useState)(""),Ze=(0,d.Z)(je,2),He=Ze[0],ze=Ze[1],Ve=(0,i.useState)(null),We=(0,d.Z)(Ve,2),Ge=We[0],Xe=We[1],Ye=(0,i.useState)({x:0,y:0}),qe=(0,d.Z)(Ye,2),Je=qe[0],Qe=qe[1],et=(0,i.useState)([]),tt=(0,d.Z)(et,2),nt=tt[0],it=tt[1],rt=(0,i.useState)(0),ot=(0,d.Z)(rt,2),at=ot[0],st=ot[1],lt=(0,i.useState)(!0),ut=(0,d.Z)(lt,2),ct=ut[0],ht=ut[1],dt=(0,i.useState)({x:0,y:0}),ft=(0,d.Z)(dt,2),pt=ft[0],vt=(ft[1],(0,i.useState)(null)),gt=(0,d.Z)(vt,2),mt=gt[0],yt=gt[1],_t=(0,i.useState)([]),bt=(0,d.Z)(_t,2),kt=bt[0],Tt=bt[1],Et=(0,i.useState)(""),xt=(0,d.Z)(Et,2),wt=xt[0],St=xt[1],Ct=(0,i.useState)(null),It=(0,d.Z)(Ct,2),Rt=It[0],Ot=It[1],At=(0,i.useState)([]),Mt=(0,d.Z)(At,2),Lt=Mt[0],Nt=Mt[1],$t=(0,i.useState)([]),Pt=(0,d.Z)($t,2),Dt=Pt[0],Bt=Pt[1],Ft=(0,i.useState)(1),Ut=(0,d.Z)(Ft,2),jt=(Ut[0],Ut[1]),Zt=(0,i.useState)(1),Ht=(0,d.Z)(Zt,2),zt=(Ht[0],Ht[1]),Vt=C_(),Wt=(0,i.useState)({A:0,X:0,Y:0,Z:0}),Gt=(0,d.Z)(Wt,2),Xt=Gt[0],Yt=Gt[1],Kt=(0,i.useState)(""),qt=(0,d.Z)(Kt,2),Jt=qt[0],Qt=qt[1],en=(0,i.useState)(1),tn=(0,d.Z)(en,2),nn=(tn[0],tn[1],(0,i.useState)(1)),rn=(0,d.Z)(nn,2),on=rn[0],an=rn[1],sn=(0,i.useState)(1),ln=(0,d.Z)(sn,2),un=ln[0],cn=ln[1],hn=(0,i.useState)("".concat(t,":").concat(n,"/RecordingController/video_feeder")),dn=(0,d.Z)(hn,2),fn=(dn[0],dn[1],(0,i.useState)({width:320,height:180})),pn=(0,d.Z)(fn,2),vn=(pn[0],pn[1],(0,i.useState)({x:50,y:50})),gn=(0,d.Z)(vn,2);gn[0],gn[1];(0,i.useEffect)((function(){if(Vt){var e=function(e){try{var t=JSON.parse(e);if("sigUpdateScanCoordinatesLayout"===t.name)console.log("Signal received in HistoScanController",t),mn(t);else if("sigUpdateMotorPosition"===t.name){var n=JSON.parse(t.args.p0.replace(/'/g,'"')),i=Object.keys(n);if(i.length>0){var r=i[0],o=n[r];console.log("Corrected positions for ".concat(r,":"),o),Yt((function(e){return ic(ic({},e),o)}))}else console.warn("No positioner data found in the signal.")}}catch(a){console.error("Error parsing signal data:",a)}};return Vt.on("signal",e),function(){Vt.off("signal",e)}}}),[Vt]);var mn=function(e){try{var t=document.getElementById("map");if(!t||!Rt)return;for(var n=t.offsetWidth,i=t.offsetHeight,r=JSON.parse(e.args.p0.replace(/'/g,'"')),o=(r.shape,r.data),a=[],s=0;s<o.length;s++)for(var l=o[s],u=(0,d.Z)(l,2),c=u[0],h=u[1],f=0;f<c.length;f++){var p=parseFloat(c[f]),v=parseFloat(h[f]);an(r.pixelToMMFactor*(n/r.pixelImageX)),cn(r.pixelToMMFactor*(i/r.pixelImageY));var g=p*r.pixelToMMFactor*(n/r.pixelImageX),m=v*r.pixelToMMFactor*(i/r.pixelImageY);a.push({wellID:s+1,scaledX:g,scaledY:m})}Bt(a)}catch(y){console.error("Error parsing signal data:",y)}},yn=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/PositionerController/getPositionerPositions"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,console.log("Fetched Positions from positionerName ",Jt,":",r[Jt]),Yt({A:r[Jt].A||0,X:r[Jt].X||0,Y:r[Jt].Y||0,Z:r[Jt].Z||0}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching positioner positions:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){console.log("Fetching positioner name and positions..."),_n()}),[t,n]),(0,i.useEffect)((function(){Jt&&yn(Jt)}),[Jt]),(0,i.useEffect)((function(){console.log("Fetching positioner name and positions..."),_n()}),[t,n]);var _n=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/PositionerController/getPositionerNames"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,Qt(r[0]),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching positioner name:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/HistoScanController/getHistoStatus"));case 3:if((i=e.sent).ok){e.next=6;break}throw new Error("Error: ".concat(i.statusText));case 6:return e.next=8,i.json();case 8:r=e.sent,ee(r.ishistoscanRunning),de(r.stitchResultAvailable),le(r.mScanIndex),re(r.mScanCount),b(parseInt(r.currentStepSizeX)),x(parseInt(r.currentStepSizeY)),I(r.currentNX.toString()),M(r.currentNY.toString()),ge(r.currentAshlarStitching),be(r.currentAshlarFlipX),xe(r.currentAshlarFlipY),Ie(r.currentResizeFactor.toString()),Me(parseInt(r.currentIinitialPosX).toString()),Pe(parseInt(r.currentIinitialPosY).toString()),V(r.currentTimeInterval.toString()),K(r.currentNtimes.toString()),console.log("Pixel Size: ".concat(r.pixelSize)),e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.error("Error fetching HistoScan status:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(){return e.apply(this,arguments)}}();e()}),[]);(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/HistoScanController/getSampleLayoutFilePaths"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,Tt(r),St(r[0]),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching layout files:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]);var bn=function(){var e=h(u().mark((function e(i){var r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return St(i),e.prev=1,e.next=4,fetch("".concat(t,":").concat(n,"/").concat(i));case 4:return r=e.sent,e.next=7,r.json();case 7:return o=e.sent,e.next=10,fetch("".concat(t,":").concat(n,"/HistoScanController/setActiveSampleLayoutFilePath?filePath=").concat(i));case 10:Ot(o),ze("".concat(t,":").concat(n,"/").concat(o.ScanParameters.imagePath)),Nt([]),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.error("Error loading layout:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}(),kn=function(e){if(e&&Rt){var t=e.offsetWidth,n=e.offsetHeight,i=t/Rt.ScanParameters.pixelImageX,r=n/Rt.ScanParameters.pixelImageY,o=Rt.ScanParameters.wells.map((function(e){return ic(ic({},e),{},{scaledX:e.positionXpx*i,scaledY:e.positionYpx*r})}));jt(i),zt(r),Nt(o)}},Tn=function(e){e.preventDefault(),console.log("Right-clicked on the image");var t=e.target.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;Qe({x:n,y:i}),P({mouseX:e.clientX,mouseY:e.clientY}),Xe(e.currentTarget),ht(!1)},En=function(){Xe(null),P({mouseX:null,mouseY:null}),ht(!0)},xn=function(e,i){"X"===e?i=i/on*1e3:"Y"===e?i=i/un*1e3:"XY"===e&&(i={x:i[0]/on*1e3,y:i[1]/un*1e3});var r="".concat(t,":").concat(n,"/PositionerController/movePositioner?axis=").concat(e,"&dist=").concat(i,"&isAbsolute=true&isBlocking=false");"XY"===e&&(r="".concat(t,":").concat(n,"/PositionerController/movePositioner?axis=XY&dist=").concat(i.x,",").concat(i.y,"&isAbsolute=true&isBlocking=false")),fetch(r,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return console.log("Positioner moved:",e)})).catch((function(e){return console.error("Error:",e)}))},wn=function(){it([].concat((0,s.Z)(nt),[Je])),yt(Je),En()},Sn=function(){yt(Je),setTimeout((function(){xn("X",Je.x)}),500),xn("Y",Je.y),En()};(0,i.useEffect)((function(){var e=Cn((function(){var e=document.querySelector("img[alt='Map']");e&&kn(e)}),100);return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[Rt]);var Cn=function(e,t){var n;return function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];clearTimeout(n),n=setTimeout((function(){return e.apply(void 0,r)}),t)}};return(0,p.jsxs)(Wr,{style:{padding:"20px"},children:[(0,p.jsxs)(Vk,{value:at,onChange:function(e,t){st(t)},children:[(0,p.jsx)(qk,{label:"Control"}),(0,p.jsx)(qk,{label:"Result"}),(0,p.jsx)(qk,{label:"Map"})]}),0===at&&(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Y,{variant:"h6",children:"HistoScan Controller"})}),(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsx)(Y,{children:"Illumination Source:"}),(0,p.jsxs)(zo,{value:a,onChange:function(e){return l(e.target.value)},fullWidth:!0,children:[(0,p.jsx)(oT,{value:"Laser 1",children:"Laser 1"}),(0,p.jsx)(oT,{value:"Laser 2",children:"Laser 2"}),(0,p.jsx)(oT,{value:"LED",children:"LED"})]})]}),(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsxs)(Y,{children:["Illumination Value: ",v]}),(0,p.jsx)(ja,{value:v,onChange:function(e,t){return g(t)},max:255,step:1})]}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Step Size X",value:_,onChange:function(e){return b(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Step Size Y",value:E,onChange:function(e){return x(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"N-Steps X",value:C,onChange:function(e){return I(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"N-Steps Y",value:A,onChange:function(e){return M(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{label:"Path",value:U,onChange:function(e){return j(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Time Interval (s)",value:z,onChange:function(e){return V(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Number of Scans",value:X,onChange:function(e){return K(e.target.value)},fullWidth:!0})}),(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsx)(Ja,{checked:ve,onChange:function(e){return ge(e.target.checked)}}),(0,p.jsx)(Y,{children:"Stitch Ashlar"})]}),(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsx)(Ja,{checked:_e,onChange:function(e){return be(e.target.checked)}}),(0,p.jsx)(Y,{children:"Stitch Ashlar Flip X"})]}),(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsx)(Ja,{checked:Ee,onChange:function(e){return xe(e.target.checked)}}),(0,p.jsx)(Y,{children:"Stitch Ashlar Flip Y"})]}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Resize Factor",value:Ce,onChange:function(e){return Ie(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Initial Position X",value:Ae,onChange:function(e){return Me(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Initial Position Y",value:$e,onChange:function(e){return Pe(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:function(){var e=X||1,i=z||1,r=Ae,o=$e,a="".concat(t,":").concat(n,"/HistoScanController/startHistoScanTileBasedByParameters?")+"numberTilesX=".concat(C,"&numberTilesY=").concat(A,"&stepSizeX=").concat(_,"&stepSizeY=").concat(E,"&")+"nTimes=".concat(e,"&tPeriod=").concat(i,"&")+"initPosX=".concat(r,"&initPosY=").concat(o,"&isStitchAshlar=").concat(ve,"&")+"isStitchAshlarFlipX=".concat(_e,"&isStitchAshlarFlipY=").concat(Ee,"&resizeFactor=").concat(Ce,"&")+"overlap=0.75";fetch(a,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error("Error:",e)}))},disabled:Q,fullWidth:!0,children:"Start"})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ke,{variant:"contained",color:"secondary",onClick:function(){var e="".concat(t,":").concat(n,"/HistoScanController/stopHistoScan");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error("Error:",e)}))},disabled:!Q,fullWidth:!0,children:"Stop"})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsxs)(Y,{variant:"body1",color:Q?"green":"red",children:["Scan Status: ",Q?"Running":"Stopped"]}),ie>0&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(Y,{variant:"body2",children:["Scanning: ",se+1," / ",ie]}),(0,p.jsx)(RT,{variant:"determinate",value:(se+1)/ie*100})]}),(0,p.jsxs)(Y,{variant:"body2",children:["Result Available: ",he?"Yes":"No",", Current Position:"," ",Xt&&Xt.length>1?"".concat(Xt[0],", ").concat(Xt[1]):"Loading..."]})]})]}),1===at&&(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:function(){fetch("".concat(t,":").concat(n,"/HistoScanController/getLastStitchedImage")).then((function(e){if(!e.ok)throw new Error("Network response was not ok");return e.blob()})).then((function(e){var t=URL.createObjectURL(e);Ue(t)})).catch((function(e){return console.error("Error fetching image:",e)}))},children:"Fetch Last Stitched Image"})}),Fe&&(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Ke,{variant:"contained",color:"secondary",onClick:function(){var e=document.createElement("a");e.href=Fe,e.download="stitched_image.png",e.click()},children:"Download Image"}),(0,p.jsx)("div",{style:{marginTop:"20px"},children:(0,p.jsx)(zb,{panning:{disabled:!ct},children:(0,p.jsx)(Gb,{children:(0,p.jsx)("img",{src:Fe,alt:"Map",style:{maxWidth:"100%"}})})})})]})]}),2===at&&(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Select Layout"}),(0,p.jsx)(zo,{value:wt,onChange:function(e){return bn(e.target.value)},fullWidth:!0,children:kt.map((function(e,t){return(0,p.jsx)(oT,{value:e,children:e.split("/").pop()},t)}))})]}),(0,p.jsx)("div",{children:Rt&&(0,p.jsxs)("div",{style:{position:"relative",padding:0,margin:0},children:[(0,p.jsx)("img",{src:He,alt:"Map",id:"map",style:{maxWidth:"100%",display:"block",margin:0,padding:0},onLoad:function(e){return kn(e.target)}}),(0,p.jsxs)("svg",{onContextMenu:Tn,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[Lt.map((function(e){return(0,p.jsx)("circle",{cx:e.scaledX,cy:e.scaledY,r:5,fill:"blue",title:e.wellID},e.wellID)})),Xt&&(0,p.jsx)("circle",{cx:Xt.X*on/1e3,cy:Xt.Y*un/1e3,r:10,fill:"green",title:"Pos: (".concat(Xt.X*on/1e3,", ").concat(Xt.Y*un/1e3,")")}),Dt.map((function(e,t){return(0,p.jsx)("rect",{x:e.scaledX-2.5,y:e.scaledY-2.5,width:5,height:5,fill:"red",title:"Scan Point ".concat(t+1)},t)})),(0,p.jsxs)(po,{anchorReference:"anchorPosition",anchorPosition:null!==$.mouseY&&null!==$.mouseX?{top:$.mouseY,left:$.mouseX}:void 0,open:Boolean(Ge),onClose:En,children:[(0,p.jsx)(oT,{onClick:function(){return xn("X",Je.x)},children:"Go to X Position"}),(0,p.jsx)(oT,{onClick:function(){return xn("Y",Je.y)},children:"Go to Y Position"}),(0,p.jsx)(oT,{onClick:Sn,children:"Go to X & Y Position"}),(0,p.jsx)(oT,{onClick:wn,children:"Save Position"})]}),(0,p.jsx)(B,{mt:2,children:(0,p.jsxs)(Y,{variant:"h6",children:["Current XY Position: X = ",pt.x.toFixed(2),", Y ="," ",pt.y.toFixed(2)]})})]})]})})]}),3===at&&(0,p.jsxs)(la,{container:!0,spacing:2,children:[He&&(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsxs)("div",{style:{marginTop:"20px",position:"relative"},children:[(0,p.jsx)("img",{src:He,alt:"Map",style:{maxWidth:"100%"},onContextMenu:Tn}),mt&&(0,p.jsx)("div",{style:{position:"absolute",top:"".concat(mt.y,"px"),left:"".concat(mt.x,"px"),width:"10px",height:"10px",backgroundColor:"red",borderRadius:"50%",transform:"translate(-50%, -50%)"}}),pt&&(0,p.jsx)("div",{style:{position:"absolute",top:"".concat(pt.y,"px"),left:"".concat(pt.x,"px"),width:"10px",height:"10px",backgroundColor:"blue",borderRadius:"50%",transform:"translate(-50%, -50%)"}}),(0,p.jsx)(zb,{onPanningStart:function(e){return e.preventDefault()},onPinchingStart:function(e){return e.preventDefault()},panning:{disabled:!ct},children:(0,p.jsx)(Gb,{})}),(0,p.jsxs)(po,{anchorReference:"anchorPosition",anchorPosition:null!==$.mouseY&&null!==$.mouseX?{top:$.mouseY,left:$.mouseX}:void 0,open:Boolean(Ge),onClose:En,children:[(0,p.jsx)(oT,{onClick:function(){return xn("X",Je.x)},children:"Go to X Position"}),(0,p.jsx)(oT,{onClick:function(){return xn("Y",Je.y)},children:"Go to Y Position"}),(0,p.jsx)(oT,{onClick:Sn,children:"Go to X & Y Position"}),(0,p.jsx)(oT,{onClick:wn,children:"Save Position"})]}),(0,p.jsx)(B,{mt:2,children:(0,p.jsxs)(Y,{variant:"h6",children:["Current XY Position: X = ",pt.x.toFixed(2),", Y ="," ",pt.y.toFixed(2)]})})]})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Saved Positions"}),(0,p.jsx)(Mi,{children:nt.map((function(e,t){return(0,p.jsxs)(Hm,{children:["Position ",t+1,": X = ",e.x,", Y = ",e.y]},t)}))})]})]})]})};var AT=function(){function e(t){(0,Sr.Z)(this,e),this.propagationStopped,this.defaultPrevented,this.type=t,this.target=null}return(0,Cr.Z)(e,[{key:"preventDefault",value:function(){this.defaultPrevented=!0}},{key:"stopPropagation",value:function(){this.propagationStopped=!0}}]),e}(),MT="propertychange",LT=function(){function e(){(0,Sr.Z)(this,e),this.disposed=!1}return(0,Cr.Z)(e,[{key:"dispose",value:function(){this.disposed||(this.disposed=!0,this.disposeInternal())}},{key:"disposeInternal",value:function(){}}]),e}();function NT(e,t){return e>t?1:e<t?-1:0}function $T(e,t,n){if(e[0]<=t)return 0;var i=e.length;if(t<=e[i-1])return i-1;if("function"===typeof n){for(var r=1;r<i;++r){var o=e[r];if(o===t)return r;if(o<t)return n(t,e[r-1],o)>0?r-1:r}return i-1}if(n>0){for(var a=1;a<i;++a)if(e[a]<t)return a-1;return i-1}if(n<0){for(var s=1;s<i;++s)if(e[s]<=t)return s;return i-1}for(var l=1;l<i;++l){if(e[l]==t)return l;if(e[l]<t)return e[l-1]-t<t-e[l]?l-1:l}return i-1}function PT(e,t){var n=e.length;if(n!==t.length)return!1;for(var i=0;i<n;i++)if(e[i]!==t[i])return!1;return!0}function DT(){return!0}function BT(){return!1}function FT(){}function UT(e){for(var t in e)delete e[t]}function jT(e){var t;for(t in e)return!1;return!t}var ZT=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).eventTarget_=e,i.pendingRemovals_=null,i.dispatching_=null,i.listeners_=null,i}return(0,Cr.Z)(n,[{key:"addEventListener",value:function(e,t){if(e&&t){var n=this.listeners_||(this.listeners_={}),i=n[e]||(n[e]=[]);i.includes(t)||i.push(t)}}},{key:"dispatchEvent",value:function(e){var t="string"===typeof e,n=t?e:e.type,i=this.listeners_&&this.listeners_[n];if(i){var r=t?new AT(e):e;r.target||(r.target=this.eventTarget_||this);var o,a=this.dispatching_||(this.dispatching_={}),s=this.pendingRemovals_||(this.pendingRemovals_={});n in a||(a[n]=0,s[n]=0),++a[n];for(var l=0,u=i.length;l<u;++l)if(!1===(o="handleEvent"in i[l]?i[l].handleEvent(r):i[l].call(this,r))||r.propagationStopped){o=!1;break}if(0===--a[n]){var c=s[n];for(delete s[n];c--;)this.removeEventListener(n,FT);delete a[n]}return o}}},{key:"disposeInternal",value:function(){this.listeners_&&UT(this.listeners_)}},{key:"getListeners",value:function(e){return this.listeners_&&this.listeners_[e]||void 0}},{key:"hasListener",value:function(e){return!!this.listeners_&&(e?e in this.listeners_:Object.keys(this.listeners_).length>0)}},{key:"removeEventListener",value:function(e,t){if(this.listeners_){var n=this.listeners_[e];if(n){var i=n.indexOf(t);-1!==i&&(this.pendingRemovals_&&e in this.pendingRemovals_?(n[i]=FT,++this.pendingRemovals_[e]):(n.splice(i,1),0===n.length&&delete this.listeners_[e]))}}}}]),n}(LT),HT=ZT,zT="change",VT="error",WT="contextmenu",GT="click",XT="dblclick",YT="keydown",KT="keypress",qT="load",JT="touchmove",QT="wheel";function eE(e,t,n,i,r){if(r){var o=n;n=function(){e.removeEventListener(t,n),o.apply(null!==i&&void 0!==i?i:this,arguments)}}else i&&i!==e&&(n=n.bind(i));var a={target:e,type:t,listener:n};return e.addEventListener(t,n),a}function tE(e,t,n,i){return eE(e,t,n,i,!0)}function nE(e){e&&e.target&&(e.target.removeEventListener(e.type,e.listener),UT(e))}var iE=function(e){ac(n,e);var t=uc(n);function n(){var e;return(0,Sr.Z)(this,n),(e=t.call(this)).on=e.onInternal,e.once=e.onceInternal,e.un=e.unInternal,e.revision_=0,e}return(0,Cr.Z)(n,[{key:"changed",value:function(){++this.revision_,this.dispatchEvent(zT)}},{key:"getRevision",value:function(){return this.revision_}},{key:"onInternal",value:function(e,t){if(Array.isArray(e)){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=eE(this,e[r],t);return i}return eE(this,e,t)}},{key:"onceInternal",value:function(e,t){var n;if(Array.isArray(e)){var i=e.length;n=new Array(i);for(var r=0;r<i;++r)n[r]=tE(this,e[r],t)}else n=tE(this,e,t);return t.ol_key=n,n}},{key:"unInternal",value:function(e,t){var n=t.ol_key;if(n)!function(e){if(Array.isArray(e))for(var t=0,n=e.length;t<n;++t)nE(e[t]);else nE(e)}(n);else if(Array.isArray(e))for(var i=0,r=e.length;i<r;++i)this.removeEventListener(e[i],t);else this.removeEventListener(e,t)}}]),n}(HT);iE.prototype.on,iE.prototype.once,iE.prototype.un;var rE=iE;function oE(){throw new Error("Unimplemented abstract method.")}var aE=0;function sE(e){return e.ol_uid||(e.ol_uid=String(++aE))}var lE=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this,e)).key=i,o.oldValue=r,o}return(0,Cr.Z)(n)}(AT),uE=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).on,i.once,i.un,sE(re(i)),i.values_=null,void 0!==e&&i.setProperties(e),i}return(0,Cr.Z)(n,[{key:"get",value:function(e){var t;return this.values_&&this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t}},{key:"getKeys",value:function(){return this.values_&&Object.keys(this.values_)||[]}},{key:"getProperties",value:function(){return this.values_&&Object.assign({},this.values_)||{}}},{key:"getPropertiesInternal",value:function(){return this.values_}},{key:"hasProperties",value:function(){return!!this.values_}},{key:"notify",value:function(e,t){var n;n="change:".concat(e),this.hasListener(n)&&this.dispatchEvent(new lE(n,e,t)),n=MT,this.hasListener(n)&&this.dispatchEvent(new lE(n,e,t))}},{key:"addChangeListener",value:function(e,t){this.addEventListener("change:".concat(e),t)}},{key:"removeChangeListener",value:function(e,t){this.removeEventListener("change:".concat(e),t)}},{key:"set",value:function(e,t,n){var i=this.values_||(this.values_={});if(n)i[e]=t;else{var r=i[e];i[e]=t,r!==t&&this.notify(e,r)}}},{key:"setProperties",value:function(e,t){for(var n in e)this.set(n,e[n],t)}},{key:"applyProperties",value:function(e){e.values_&&Object.assign(this.values_||(this.values_={}),e.values_)}},{key:"unset",value:function(e,t){if(this.values_&&e in this.values_){var n=this.values_[e];delete this.values_[e],jT(this.values_)&&(this.values_=null),t||this.notify(e,n)}}}]),n}(rE),cE=uE,hE="add",dE="remove",fE="length",pE=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this,e)).element=i,o.index=r,o}return(0,Cr.Z)(n)}(AT),vE=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;if((0,Sr.Z)(this,n),(r=t.call(this)).on,r.once,r.un,i=i||{},r.unique_=!!i.unique,r.array_=e||[],r.unique_)for(var o=0,a=r.array_.length;o<a;++o)r.assertUnique_(r.array_[o],o);return r.updateLength_(),r}return(0,Cr.Z)(n,[{key:"clear",value:function(){for(;this.getLength()>0;)this.pop()}},{key:"extend",value:function(e){for(var t=0,n=e.length;t<n;++t)this.push(e[t]);return this}},{key:"forEach",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)e(t[n],n,t)}},{key:"getArray",value:function(){return this.array_}},{key:"item",value:function(e){return this.array_[e]}},{key:"getLength",value:function(){return this.get(fE)}},{key:"insertAt",value:function(e,t){if(e<0||e>this.getLength())throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new pE(hE,t,e))}},{key:"pop",value:function(){return this.removeAt(this.getLength()-1)}},{key:"push",value:function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()}},{key:"remove",value:function(e){for(var t=this.array_,n=0,i=t.length;n<i;++n)if(t[n]===e)return this.removeAt(n)}},{key:"removeAt",value:function(e){if(!(e<0||e>=this.getLength())){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new pE(dE,t,e)),t}}},{key:"setAt",value:function(e,t){if(e>=this.getLength())this.insertAt(e,t);else{if(e<0)throw new Error("Index out of bounds: "+e);this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new pE(dE,n,e)),this.dispatchEvent(new pE(hE,t,e))}}},{key:"updateLength_",value:function(){this.set(fE,this.array_.length)}},{key:"assertUnique_",value:function(e,t){for(var n=0,i=this.array_.length;n<i;++n)if(this.array_[n]===e&&n!==t)throw new Error("Duplicate item added to a unique collection")}}]),n}(cE),gE=vE,mE="opacity",yE="visible",_E="extent",bE="zIndex",kE="maxResolution",TE="minResolution",EE="maxZoom",xE="minZoom",wE="source",SE="map";function CE(e,t){if(!e)throw new Error(t)}function IE(e,t,n){return Math.min(Math.max(e,t),n)}function RE(e,t,n,i,r,o){var a=r-n,s=o-i;if(0!==a||0!==s){var l=((e-n)*a+(t-i)*s)/(a*a+s*s);l>1?(n=r,i=o):l>0&&(n+=a*l,i+=s*l)}return OE(e,t,n,i)}function OE(e,t,n,i){var r=n-e,o=i-t;return r*r+o*o}function AE(e){return 180*e/Math.PI}function ME(e){return e*Math.PI/180}function LE(e,t){var n=e%t;return n*t<0?n+t:n}function NE(e,t,n){return e+n*(t-e)}function $E(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n}function PE(e,t){return Math.floor($E(e,t))}function DE(e,t){return Math.ceil($E(e,t))}function BE(e,t,n){if(e>=t&&e<n)return e;var i=n-t;return((e-t)%i+i)%i+t}var FE=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),(i=t.call(this)).on,i.once,i.un,i.background_=e.background;var r=Object.assign({},e);return"object"===typeof e.properties&&(delete r.properties,Object.assign(r,e.properties)),r[mE]=void 0!==e.opacity?e.opacity:1,CE("number"===typeof r[mE],"Layer opacity must be a number"),r[yE]=void 0===e.visible||e.visible,r[bE]=e.zIndex,r[kE]=void 0!==e.maxResolution?e.maxResolution:1/0,r[TE]=void 0!==e.minResolution?e.minResolution:0,r[xE]=void 0!==e.minZoom?e.minZoom:-1/0,r[EE]=void 0!==e.maxZoom?e.maxZoom:1/0,i.className_=void 0!==r.className?r.className:"ol-layer",delete r.className,i.setProperties(r),i.state_=null,i}return(0,Cr.Z)(n,[{key:"getBackground",value:function(){return this.background_}},{key:"getClassName",value:function(){return this.className_}},{key:"getLayerState",value:function(e){var t=this.state_||{layer:this,managed:void 0===e||e},n=this.getZIndex();return t.opacity=IE(Math.round(100*this.getOpacity())/100,0,1),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=void 0!==n||t.managed?n:1/0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t}},{key:"getLayersArray",value:function(e){return oE()}},{key:"getLayerStatesArray",value:function(e){return oE()}},{key:"getExtent",value:function(){return this.get(_E)}},{key:"getMaxResolution",value:function(){return this.get(kE)}},{key:"getMinResolution",value:function(){return this.get(TE)}},{key:"getMinZoom",value:function(){return this.get(xE)}},{key:"getMaxZoom",value:function(){return this.get(EE)}},{key:"getOpacity",value:function(){return this.get(mE)}},{key:"getSourceState",value:function(){return oE()}},{key:"getVisible",value:function(){return this.get(yE)}},{key:"getZIndex",value:function(){return this.get(bE)}},{key:"setBackground",value:function(e){this.background_=e,this.changed()}},{key:"setExtent",value:function(e){this.set(_E,e)}},{key:"setMaxResolution",value:function(e){this.set(kE,e)}},{key:"setMinResolution",value:function(e){this.set(TE,e)}},{key:"setMaxZoom",value:function(e){this.set(EE,e)}},{key:"setMinZoom",value:function(e){this.set(xE,e)}},{key:"setOpacity",value:function(e){CE("number"===typeof e,"Layer opacity must be a number"),this.set(mE,e)}},{key:"setVisible",value:function(e){this.set(yE,e)}},{key:"setZIndex",value:function(e){this.set(bE,e)}},{key:"disposeInternal",value:function(){this.state_&&(this.state_.layer=null,this.state_=null),oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(cE),UE="prerender",jE="postrender",ZE="precompose",HE="postcompose",zE="rendercomplete",VE=0,WE=1,GE={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"},XE=42,YE=256;var KE={radians:6370997/(2*Math.PI),degrees:2*Math.PI*6370997/360,ft:.3048,m:1,"us-ft":1200/3937},qE=function(){function e(t){(0,Sr.Z)(this,e),this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit}return(0,Cr.Z)(e,[{key:"canWrapX",value:function(){return this.canWrapX_}},{key:"getCode",value:function(){return this.code_}},{key:"getExtent",value:function(){return this.extent_}},{key:"getUnits",value:function(){return this.units_}},{key:"getMetersPerUnit",value:function(){return this.metersPerUnit_||KE[this.units_]}},{key:"getWorldExtent",value:function(){return this.worldExtent_}},{key:"getAxisOrientation",value:function(){return this.axisOrientation_}},{key:"isGlobal",value:function(){return this.global_}},{key:"setGlobal",value:function(e){this.global_=e,this.canWrapX_=!(!e||!this.extent_)}},{key:"getDefaultTileGrid",value:function(){return this.defaultTileGrid_}},{key:"setDefaultTileGrid",value:function(e){this.defaultTileGrid_=e}},{key:"setExtent",value:function(e){this.extent_=e,this.canWrapX_=!(!this.global_||!e)}},{key:"setWorldExtent",value:function(e){this.worldExtent_=e}},{key:"setGetPointResolution",value:function(e){this.getPointResolutionFunc_=e}},{key:"getPointResolutionFunc",value:function(){return this.getPointResolutionFunc_}}]),e}(),JE=6378137,QE=Math.PI*JE,ex=[-QE,-QE,QE,QE],tx=[-180,-85,180,85],nx=JE*Math.log(Math.tan(Math.PI/2)),ix=function(e){ac(n,e);var t=uc(n);function n(e){return(0,Sr.Z)(this,n),t.call(this,{code:e,units:"m",extent:ex,global:!0,worldExtent:tx,getPointResolution:function(e,t){return e/Math.cosh(t[1]/JE)}})}return(0,Cr.Z)(n)}(qE),rx=[new ix("EPSG:3857"),new ix("EPSG:102100"),new ix("EPSG:102113"),new ix("EPSG:900913"),new ix("http://www.opengis.net/def/crs/EPSG/0/3857"),new ix("http://www.opengis.net/gml/srs/epsg.xml#3857")];function ox(e,t,n,i){var r,o=e.length;n=n>1?n:2,i=null!==(r=i)&&void 0!==r?r:n,void 0===t&&(t=n>2?e.slice():new Array(o));for(var a=0;a<o;a+=i){t[a]=QE*e[a]/180;var s=JE*Math.log(Math.tan(Math.PI*(+e[a+1]+90)/360));s>nx?s=nx:s<-nx&&(s=-nx),t[a+1]=s}return t}function ax(e,t,n,i){var r,o=e.length;n=n>1?n:2,i=null!==(r=i)&&void 0!==r?r:n,void 0===t&&(t=n>2?e.slice():new Array(o));for(var a=0;a<o;a+=i)t[a]=180*e[a]/QE,t[a+1]=360*Math.atan(Math.exp(e[a+1]/JE))/Math.PI-90;return t}var sx=[-180,-90,180,90],lx=6378137*Math.PI/180,ux=function(e){ac(n,e);var t=uc(n);function n(e,i){return(0,Sr.Z)(this,n),t.call(this,{code:e,units:"degrees",extent:sx,axisOrientation:i,global:!0,metersPerUnit:lx,worldExtent:sx})}return(0,Cr.Z)(n)}(qE),cx=[new ux("CRS:84"),new ux("EPSG:4326","neu"),new ux("urn:ogc:def:crs:OGC:1.3:CRS84"),new ux("urn:ogc:def:crs:OGC:2:84"),new ux("http://www.opengis.net/def/crs/OGC/1.3/CRS84"),new ux("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new ux("http://www.opengis.net/def/crs/EPSG/0/4326","neu")],hx={};var dx={};function fx(e,t,n){var i=e.getCode(),r=t.getCode();i in dx||(dx[i]={}),dx[i][r]=n}function px(e,t){return e in dx&&t in dx[e]?dx[e][t]:null}var vx={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};function gx(e){for(var t=kx(),n=0,i=e.length;n<i;++n)Sx(t,e[n]);return t}function mx(e,t,n){var i,r;return(i=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0)*i+(r=n<e[1]?e[1]-n:e[3]<n?n-e[3]:0)*r}function yx(e,t){return _x(e,t[0],t[1])}function _x(e,t,n){return e[0]<=t&&t<=e[2]&&e[1]<=n&&n<=e[3]}function bx(e,t){var n=e[0],i=e[1],r=e[2],o=e[3],a=t[0],s=t[1],l=vx.UNKNOWN;return a<n?l|=vx.LEFT:a>r&&(l|=vx.RIGHT),s<i?l|=vx.BELOW:s>o&&(l|=vx.ABOVE),l===vx.UNKNOWN&&(l=vx.INTERSECTING),l}function kx(){return[1/0,1/0,-1/0,-1/0]}function Tx(e,t,n,i,r){return r?(r[0]=e,r[1]=t,r[2]=n,r[3]=i,r):[e,t,n,i]}function Ex(e){return Tx(1/0,1/0,-1/0,-1/0,e)}function xx(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]}function wx(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e}function Sx(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function Cx(e,t,n,i,r){for(;n<i;n+=r)Ix(e,t[n],t[n+1]);return e}function Ix(e,t,n){e[0]=Math.min(e[0],t),e[1]=Math.min(e[1],n),e[2]=Math.max(e[2],t),e[3]=Math.max(e[3],n)}function Rx(e,t){var n;return(n=t(Ax(e)))||(n=t(Mx(e)))||(n=t(Fx(e)))?n:(n=t(Bx(e)))||!1}function Ox(e){var t=0;return Zx(e)||(t=Ux(e)*Px(e)),t}function Ax(e){return[e[0],e[1]]}function Mx(e){return[e[2],e[1]]}function Lx(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]}function Nx(e,t){var n;if("bottom-left"===t)n=Ax(e);else if("bottom-right"===t)n=Mx(e);else if("top-left"===t)n=Bx(e);else{if("top-right"!==t)throw new Error("Invalid corner");n=Fx(e)}return n}function $x(e,t,n,i,r){var o=function(e,t,n,i){var r=t*i[0]/2,o=t*i[1]/2,a=Math.cos(n),s=Math.sin(n),l=r*a,u=r*s,c=o*a,h=o*s,d=e[0],f=e[1];return[d-l+h,f-u-c,d-l-h,f-u+c,d+l-h,f+u+c,d+l+h,f+u-c,d-l+h,f-u-c]}(e,t,n,i),a=(0,d.Z)(o,8),s=a[0],l=a[1],u=a[2],c=a[3],h=a[4],f=a[5],p=a[6],v=a[7];return Tx(Math.min(s,u,h,p),Math.min(l,c,f,v),Math.max(s,u,h,p),Math.max(l,c,f,v),r)}function Px(e){return e[3]-e[1]}function Dx(e,t,n){var i=n||[1/0,1/0,-1/0,-1/0];return jx(e,t)?(e[0]>t[0]?i[0]=e[0]:i[0]=t[0],e[1]>t[1]?i[1]=e[1]:i[1]=t[1],e[2]<t[2]?i[2]=e[2]:i[2]=t[2],e[3]<t[3]?i[3]=e[3]:i[3]=t[3]):Ex(i),i}function Bx(e){return[e[0],e[3]]}function Fx(e){return[e[2],e[3]]}function Ux(e){return e[2]-e[0]}function jx(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]}function Zx(e){return e[2]<e[0]||e[3]<e[1]}function Hx(e,t,n,i){if(Zx(e))return Ex(n);var r=[];if(i>1)for(var o=e[2]-e[0],a=e[3]-e[1],s=0;s<i;++s)r.push(e[0]+o*s/i,e[1],e[2],e[1]+a*s/i,e[2]-o*s/i,e[3],e[0],e[3]-a*s/i);else r=[e[0],e[1],e[2],e[1],e[2],e[3],e[0],e[3]];t(r,r,2);for(var l=[],u=[],c=0,h=r.length;c<h;c+=2)l.push(r[c]),u.push(r[c+1]);return function(e,t,n){return Tx(Math.min.apply(null,e),Math.min.apply(null,t),Math.max.apply(null,e),Math.max.apply(null,t),n)}(l,u,n)}function zx(e,t,n){if(t.canWrapX()){var i=t.getExtent();if(!isFinite(e[0])||!isFinite(e[2]))return[[i[0],e[1],i[2],e[3]]];!function(e,t){var n=t.getExtent(),i=Lx(e);if(t.canWrapX()&&(i[0]<n[0]||i[0]>=n[2])){var r=Ux(n),o=Math.floor((i[0]-n[0])/r)*r;e[0]-=o,e[2]-=o}}(e,t);var r=Ux(i);if(Ux(e)>r&&!n)return[[i[0],e[1],i[2],e[3]]];if(e[0]<i[0])return[[e[0]+r,e[1],i[2],e[3]],[i[0],e[1],e[2],e[3]]];if(e[2]>i[2])return[[e[0],e[1],i[2],e[3]],[i[0],e[1],e[2]-r,e[3]]]}return[e]}function Vx(e,t){for(var n=!0,i=e.length-1;i>=0;--i)if(e[i]!=t[i]){n=!1;break}return n}function Wx(e,t){var n=Math.cos(t),i=Math.sin(t),r=e[0]*n-e[1]*i,o=e[1]*n+e[0]*i;return e[0]=r,e[1]=o,e}function Gx(e,t){if(t.canWrapX()){var n=Ux(t.getExtent()),i=function(e,t,n){var i=t.getExtent(),r=0;t.canWrapX()&&(e[0]<i[0]||e[0]>i[2])&&(n=n||Ux(i),r=Math.floor((e[0]-i[0])/n));return r}(e,t,n);i&&(e[0]-=i*n)}return e}var Xx=6371008.8;function Yx(e,t,n){n=n||Xx;var i=ME(e[1]),r=ME(t[1]),o=(r-i)/2,a=ME(t[0]-e[0])/2,s=Math.sin(o)*Math.sin(o)+Math.sin(a)*Math.sin(a)*Math.cos(i)*Math.cos(r);return 2*n*Math.atan2(Math.sqrt(s),Math.sqrt(1-s))}var Kx=.9996,qx=.00669438,Jx=qx*qx,Qx=Jx*qx,ew=qx/(1-qx),tw=Math.sqrt(1-qx),nw=(1-tw)/(1+tw),iw=nw*nw,rw=iw*nw,ow=rw*nw,aw=ow*nw,sw=1-qx/4-3*Jx/64-5*Qx/256,lw=3*qx/8+3*Jx/32+45*Qx/1024,uw=15*Jx/256+45*Qx/1024,cw=35*Qx/3072,hw=1.5*nw-27/32*rw+269/512*aw,dw=21/16*iw-55/32*ow,fw=151/96*rw-417/128*aw,pw=1097/512*ow,vw=6378137;function gw(e,t,n){var i=e-5e5,r=(n.north?t:t-1e7)/Kx/(vw*sw),o=r+hw*Math.sin(2*r)+dw*Math.sin(4*r)+fw*Math.sin(6*r)+pw*Math.sin(8*r),a=Math.sin(o),s=a*a,l=Math.cos(o),u=a/l,c=u*u,h=c*c,d=1-qx*s,f=Math.sqrt(1-qx*s),p=vw/f,v=(1-qx)/d,g=ew*Math.pow(l,2),m=g*g,y=i/(p*Kx),_=y*y,b=_*y,k=b*y,T=k*y,E=o-u/v*(_/2-k/24*(5+3*c+10*g-4*m-9*ew))+T*y/720*(61+90*c+298*g+45*h-252*ew-3*m),x=(y-b/6*(1+2*c+g)+T/120*(5-2*g+28*c-3*m+8*ew+24*h))/l;return[AE(x=BE(x+ME(Tw(n.number)),-Math.PI,Math.PI)),AE(E)]}var mw=-80,yw=84,_w=-180,bw=180;function kw(e,t,n){e=BE(e,_w,bw),t<mw?t=mw:t>yw&&(t=yw);var i=ME(t),r=Math.sin(i),o=Math.cos(i),a=r/o,s=a*a,l=s*s,u=ME(e),c=ME(Tw(n.number)),h=vw/Math.sqrt(1-qx*Math.pow(r,2)),d=ew*Math.pow(o,2),f=o*BE(u-c,-Math.PI,Math.PI),p=f*f,v=p*f,g=v*f,m=g*f,y=m*f,_=vw*(sw*i-lw*Math.sin(2*i)+uw*Math.sin(4*i)-cw*Math.sin(6*i)),b=Kx*h*(f+v/6*(1-s+d)+m/120*(5-18*s+l+72*d-58*ew))+5e5,k=Kx*(_+h*a*(p/2+g/24*(5-s+9*d+4*Math.pow(d,2))+y/720*(61-58*s+l+600*d-330*ew)));return n.north||(k+=1e7),[b,k]}function Tw(e){return 6*(e-1)-180+3}var Ew=[/^EPSG:(\d+)$/,/^urn:ogc:def:crs:EPSG::(\d+)$/,/^http:\/\/www\.opengis\.net\/def\/crs\/EPSG\/0\/(\d+)$/];function xw(e){var t,n=0,i=a(Ew);try{for(i.s();!(t=i.n()).done;){var r=t.value,o=e.match(r);if(o){n=parseInt(o[1]);break}}}catch(PU){i.e(PU)}finally{i.f()}if(!n)return null;var s=0,l=!1;return n>32700&&n<32761?s=n-32700:n>32600&&n<32661&&(l=!0,s=n-32600),s?{number:s,north:l}:null}function ww(e,t){return function(n,i,r,o){var a,s=n.length;r=r>1?r:2,o=null!==(a=o)&&void 0!==a?a:r,i||(i=r>2?n.slice():new Array(s));for(var l=0;l<s;l+=o){var u=n[l],c=n[l+1],h=e(u,c,t);i[l]=h[0],i[l+1]=h[1]}return i}}var Sw={info:1,warn:2,error:3,none:4},Cw=Sw.info;function Iw(){var e;Cw>Sw.warn||(e=console).warn.apply(e,arguments)}var Rw=[function(e){var t=xw(e.getCode());return t?{forward:ww(kw,t),inverse:ww(gw,t)}:null}],Ow=[function(e){return xw(e)?new qE({code:e,units:"m"}):null}],Aw=!0;function Mw(e){Aw=!(void 0===e||e)}function Lw(e,t){if(void 0!==t)for(var n=0,i=e.length;n<i;++n)t[n]=e[n];else t=e.slice();return t}function Nw(e){!function(e,t){hx[e]=t}(e.getCode(),e),fx(e,e,Lw)}function $w(e){if("string"!==typeof e)return e;var t,n=hx[t=e]||hx[t.replace(/urn:(x-)?ogc:def:crs:EPSG:(.*:)?(\w+)$/,"EPSG:$3")]||null;if(n)return n;var i,r=a(Ow);try{for(r.s();!(i=r.n()).done;){var o=(0,i.value)(e);if(o)return o}}catch(PU){r.e(PU)}finally{r.f()}return null}function Pw(e,t,n,i){var r,o=(e=$w(e)).getPointResolutionFunc();if(o){if(r=o(t,n),i&&i!==e.getUnits()){var a=e.getMetersPerUnit();a&&(r=r*a/KE[i])}}else{var s=e.getUnits();if("degrees"==s&&!i||"degrees"==i)r=t;else{var l=jw(e,$w("EPSG:4326"));if(l||"degrees"===s){var u=[n[0]-t/2,n[1],n[0]+t/2,n[1],n[0],n[1]-t/2,n[0],n[1]+t/2];r=(Yx((u=l(u,u,2)).slice(0,2),u.slice(2,4))+Yx(u.slice(4,6),u.slice(6,8)))/2}else r=t*e.getMetersPerUnit();var c=i?KE[i]:e.getMetersPerUnit();void 0!==c&&(r/=c)}}return r}function Dw(e){!function(e){e.forEach(Nw)}(e),e.forEach((function(t){e.forEach((function(e){t!==e&&fx(t,e,Lw)}))}))}function Bw(e,t){return e?"string"===typeof e?$w(e):e:$w(t)}function Fw(e){return function(t,n,i,r){var o,a=t.length;i=void 0!==i?i:2,r=null!==(o=r)&&void 0!==o?o:i,n=void 0!==n?n:new Array(a);for(var s=0;s<a;s+=r)for(var l=e(t.slice(s,s+i)),u=l.length,c=0,h=r;c<h;++c)n[s+c]=c>=u?t[s+c]:l[c];return n}}function Uw(e,t){if(e===t)return!0;var n=e.getUnits()===t.getUnits();return(e.getCode()===t.getCode()||jw(e,t)===Lw)&&n}function jw(e,t){var n=e.getCode(),i=t.getCode(),r=px(n,i);if(r)return r;var o,s=null,l=null,u=a(Rw);try{for(u.s();!(o=u.n()).done;){var c=o.value;s||(s=c(e)),l||(l=c(t))}}catch(PU){u.e(PU)}finally{u.f()}if(!s&&!l)return null;var h="EPSG:4326";if(l)if(s)r=Zw(s.inverse,l.forward);else{var d=px(n,h);d&&(r=Zw(d,l.forward))}else{var f=px(h,i);f&&(r=Zw(s.inverse,f))}return r&&(Nw(e),Nw(t),fx(e,t,r)),r}function Zw(e,t){return function(n,i,r,o){return i=e(n,i,r,o),t(i,i,r,o)}}function Hw(e,t){return jw($w(e),$w(t))}function zw(e,t,n){var i=Hw(t,n);if(!i){var r=$w(t).getCode(),o=$w(n).getCode();throw new Error("No transform available between ".concat(r," and ").concat(o))}return i(e,void 0,e.length)}function Vw(e,t,n,i){return Hx(e,Hw(t,n),void 0,i)}var Ww=null;function Gw(){return Ww}function Xw(e,t){return Ww?zw(e,t,Ww):e}function Yw(e,t){return Ww?zw(e,Ww,t):(Aw&&!Vx(e,[0,0])&&e[0]>=-180&&e[0]<=180&&e[1]>=-90&&e[1]<=90&&(Aw=!1,Iw("Call useGeographic() from ol/proj once to work with [longitude, latitude] coordinates.")),e)}function Kw(e,t){return Ww?Vw(e,Ww,t):e}function qw(e,t,n){return function(i,r,o,a,s){if(i){if(!r&&!t)return i;var l=t?0:o[0]*r,u=t?0:o[1]*r,c=s?s[0]:0,h=s?s[1]:0,d=e[0]+l/2+c,f=e[2]-l/2+c,p=e[1]+u/2+h,v=e[3]-u/2+h;d>f&&(f=d=(f+d)/2),p>v&&(v=p=(v+p)/2);var g=IE(i[0],d,f),m=IE(i[1],p,v);if(a&&n&&r){var y=30*r;g+=-y*Math.log(1+Math.max(0,d-i[0])/y)+y*Math.log(1+Math.max(0,i[0]-f)/y),m+=-y*Math.log(1+Math.max(0,p-i[1])/y)+y*Math.log(1+Math.max(0,i[1]-v)/y)}return[g,m]}}}function Jw(e){return e}function Qw(e,t,n,i){var r=Ux(t)/n[0],o=Px(t)/n[1];return i?Math.min(e,Math.max(r,o)):Math.min(e,Math.min(r,o))}function eS(e,t,n){var i=Math.min(e,t);return i*=Math.log(1+50*Math.max(0,e/t-1))/50+1,n&&(i=Math.max(i,n),i/=Math.log(1+50*Math.max(0,n/e-1))/50+1),IE(i,n/2,2*t)}function tS(e,t,n,i,r){return n=void 0===n||n,function(o,a,s,l){if(void 0!==o){var u=i?Qw(e,i,s,r):e;return n&&l?eS(o,u,t):IE(o,t,u)}}}function nS(e){if(void 0!==e)return 0}function iS(e){if(void 0!==e)return e}function rS(e){return Math.pow(e,3)}function oS(e){return 1-rS(1-e)}function aS(e){return 3*e*e-2*e*e*e}function sS(e){return e}!function(){var e,t,n;Dw(rx),Dw(cx),e=rx,t=ox,n=ax,cx.forEach((function(i){e.forEach((function(e){fx(i,e,t),fx(e,i,n)}))}))}();new Array(6);function lS(e,t){var n=t[0],i=t[1];return t[0]=e[0]*n+e[2]*i+e[4],t[1]=e[1]*n+e[3]*i+e[5],t}function uS(e,t,n,i,r,o,a,s){var l=Math.sin(o),u=Math.cos(o);return e[0]=i*u,e[1]=r*l,e[2]=-i*l,e[3]=r*u,e[4]=a*i*u-s*i*l+t,e[5]=a*r*l+s*r*u+n,e}function cS(e,t){var n,i=(n=t)[0]*n[3]-n[1]*n[2];CE(0!==i,"Transformation matrix cannot be inverted");var r=t[0],o=t[1],a=t[2],s=t[3],l=t[4],u=t[5];return e[0]=s/i,e[1]=-o/i,e[2]=-a/i,e[3]=r/i,e[4]=(a*u-s*l)/i,e[5]=-(r*u-o*l)/i,e}var hS=[1e6,1e6,1e6,1e6,2,2];function dS(e){var t="matrix("+e.map((function(e,t){return Math.round(e*hS[t])/hS[t]})).join(", ")+")";return t}var fS=[1,0,0,1,0,0],pS=function(e){ac(n,e);var t=uc(n);function n(){var e;return(0,Sr.Z)(this,n),(e=t.call(this)).extent_=[1/0,1/0,-1/0,-1/0],e.extentRevision_=-1,e.simplifiedGeometryMaxMinSquaredTolerance=0,e.simplifiedGeometryRevision=0,e.simplifyTransformedInternal=function(e){var t,n,i;return function(){var r=Array.prototype.slice.call(arguments);return n&&this===i&&PT(r,n)||(i=this,n=r,t=e.apply(this,arguments)),t}}((function(t,n,i){if(!i)return e.getSimplifiedGeometry(n);var r=e.clone();return r.applyTransform(i),r.getSimplifiedGeometry(n)})),e}return(0,Cr.Z)(n,[{key:"simplifyTransformed",value:function(e,t){return this.simplifyTransformedInternal(this.getRevision(),e,t)}},{key:"clone",value:function(){return oE()}},{key:"closestPointXY",value:function(e,t,n,i){return oE()}},{key:"containsXY",value:function(e,t){var n=this.getClosestPoint([e,t]);return n[0]===e&&n[1]===t}},{key:"getClosestPoint",value:function(e,t){return t=t||[NaN,NaN],this.closestPointXY(e[0],e[1],t,1/0),t}},{key:"intersectsCoordinate",value:function(e){return this.containsXY(e[0],e[1])}},{key:"computeExtent",value:function(e){return oE()}},{key:"getExtent",value:function(e){if(this.extentRevision_!=this.getRevision()){var t=this.computeExtent(this.extent_);(isNaN(t[0])||isNaN(t[1]))&&Ex(t),this.extentRevision_=this.getRevision()}return function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e}(this.extent_,e)}},{key:"rotate",value:function(e,t){oE()}},{key:"scale",value:function(e,t,n){oE()}},{key:"simplify",value:function(e){return this.getSimplifiedGeometry(e*e)}},{key:"getSimplifiedGeometry",value:function(e){return oE()}},{key:"getType",value:function(){return oE()}},{key:"applyTransform",value:function(e){oE()}},{key:"intersectsExtent",value:function(e){return oE()}},{key:"translate",value:function(e,t){oE()}},{key:"transform",value:function(e,t){var n=$w(e),i="tile-pixels"==n.getUnits()?function(e,i,r){var o=n.getExtent(),a=n.getWorldExtent(),s=Px(a)/Px(o);uS(fS,a[0],a[3],s,-s,0,0,0);var l=function(e,t,n,i,r,o,a){o=o||[],a=a||2;for(var s=0,l=t;l<n;l+=i){var u=e[l],c=e[l+1];o[s++]=r[0]*u+r[2]*c+r[4],o[s++]=r[1]*u+r[3]*c+r[5];for(var h=2;h<a;h++)o[s++]=e[l+h]}return o&&o.length!=s&&(o.length=s),o}(e,0,e.length,r,fS,i),u=Hw(n,t);return u?u(l,l,r):l}:Hw(n,t);return this.applyTransform(i),this}}]),n}(cE),vS=function(e){ac(n,e);var t=uc(n);function n(){var e;return(0,Sr.Z)(this,n),(e=t.call(this)).layout="XY",e.stride=2,e.flatCoordinates,e}return(0,Cr.Z)(n,[{key:"computeExtent",value:function(e){return function(e,t,n,i,r){return Cx(Ex(r),e,t,n,i)}(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)}},{key:"getCoordinates",value:function(){return oE()}},{key:"getFirstCoordinate",value:function(){return this.flatCoordinates.slice(0,this.stride)}},{key:"getFlatCoordinates",value:function(){return this.flatCoordinates}},{key:"getLastCoordinate",value:function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)}},{key:"getLayout",value:function(){return this.layout}},{key:"getSimplifiedGeometry",value:function(e){if(this.simplifiedGeometryRevision!==this.getRevision()&&(this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),e<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=this.getSimplifiedGeometryInternal(e);return t.getFlatCoordinates().length<this.flatCoordinates.length?t:(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)}},{key:"getSimplifiedGeometryInternal",value:function(e){return this}},{key:"getStride",value:function(){return this.stride}},{key:"setFlatCoordinates",value:function(e,t){this.stride=gS(e),this.layout=e,this.flatCoordinates=t}},{key:"setCoordinates",value:function(e,t){oE()}},{key:"setLayout",value:function(e,t,n){var i;if(e)i=gS(e);else{for(var r=0;r<n;++r){if(0===t.length)return this.layout="XY",void(this.stride=2);t=t[0]}e=function(e){var t;2==e?t="XY":3==e?t="XYZ":4==e&&(t="XYZM");return t}(i=t.length)}this.layout=e,this.stride=i}},{key:"applyTransform",value:function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.layout.startsWith("XYZ")?3:2,this.stride),this.changed())}},{key:"rotate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(e,t,n,i,r,o,a){a=a||[];for(var s=Math.cos(r),l=Math.sin(r),u=o[0],c=o[1],h=0,d=t;d<n;d+=i){var f=e[d]-u,p=e[d+1]-c;a[h++]=u+f*s-p*l,a[h++]=c+f*l+p*s;for(var v=d+2;v<d+i;++v)a[h++]=e[v]}a&&a.length!=h&&(a.length=h)}(n,0,n.length,i,e,t,n),this.changed()}}},{key:"scale",value:function(e,t,n){void 0===t&&(t=e),n||(n=Lx(this.getExtent()));var i=this.getFlatCoordinates();if(i){var r=this.getStride();!function(e,t,n,i,r,o,a,s){s=s||[];for(var l=a[0],u=a[1],c=0,h=t;h<n;h+=i){var d=e[h]-l,f=e[h+1]-u;s[c++]=l+r*d,s[c++]=u+o*f;for(var p=h+2;p<h+i;++p)s[c++]=e[p]}s&&s.length!=c&&(s.length=c)}(i,0,i.length,r,e,t,n,i),this.changed()}}},{key:"translate",value:function(e,t){var n=this.getFlatCoordinates();if(n){var i=this.getStride();!function(e,t,n,i,r,o,a){a=a||[];for(var s=0,l=t;l<n;l+=i){a[s++]=e[l]+r,a[s++]=e[l+1]+o;for(var u=l+2;u<l+i;++u)a[s++]=e[u]}a&&a.length!=s&&(a.length=s)}(n,0,n.length,i,e,t,n),this.changed()}}}]),n}(pS);function gS(e){var t;return"XY"==e?t=2:"XYZ"==e||"XYM"==e?t=3:"XYZM"==e&&(t=4),t}var mS=vS;function yS(e,t,n,i,r,o,a){var s,l=e[t],u=e[t+1],c=e[n]-l,h=e[n+1]-u;if(0===c&&0===h)s=t;else{var d=((r-l)*c+(o-u)*h)/(c*c+h*h);if(d>1)s=n;else{if(d>0){for(var f=0;f<i;++f)a[f]=NE(e[t+f],e[n+f],d);return void(a.length=i)}s=t}}for(var p=0;p<i;++p)a[p]=e[s+p];a.length=i}function _S(e,t,n,i,r){var o=e[t],a=e[t+1];for(t+=i;t<n;t+=i){var s=e[t],l=e[t+1],u=OE(o,a,s,l);u>r&&(r=u),o=s,a=l}return r}function bS(e,t,n,i,r){for(var o=0,a=n.length;o<a;++o){var s=n[o];r=_S(e,t,s,i,r),t=s}return r}function kS(e,t,n,i,r,o,a,s,l,u,c){if(t==n)return u;var h,d;if(0===r){if((d=OE(a,s,e[t],e[t+1]))<u){for(h=0;h<i;++h)l[h]=e[t+h];return l.length=i,d}return u}c=c||[NaN,NaN];for(var f=t+i;f<n;)if(yS(e,f-i,f,i,a,s,c),(d=OE(a,s,c[0],c[1]))<u){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i,f+=i}else f+=i*Math.max((Math.sqrt(d)-Math.sqrt(u))/r|0,1);if(o&&(yS(e,n-i,t,i,a,s,c),(d=OE(a,s,c[0],c[1]))<u)){for(u=d,h=0;h<i;++h)l[h]=c[h];l.length=i}return u}function TS(e,t,n,i,r,o,a,s,l,u,c){c=c||[NaN,NaN];for(var h=0,d=n.length;h<d;++h){var f=n[h];u=kS(e,t,f,i,r,o,a,s,l,u,c),t=f}return u}function ES(e,t,n,i){for(var r=0,o=n.length;r<o;++r)for(var a=n[r],s=0;s<i;++s)e[t++]=a[s];return t}function xS(e,t,n,i,r){r=r||[];for(var o=0,a=0,s=n.length;a<s;++a){var l=ES(e,t,n[a],i);r[o++]=l,t=l}return r.length=o,r}function wS(e,t,n,i,r,o,a){var s=(n-t)/i;if(s<3){for(;t<n;t+=i)o[a++]=e[t],o[a++]=e[t+1];return a}var l=new Array(s);l[0]=1,l[s-1]=1;for(var u=[t,n-i],c=0;u.length>0;){for(var h=u.pop(),d=u.pop(),f=0,p=e[d],v=e[d+1],g=e[h],m=e[h+1],y=d+i;y<h;y+=i){var _=RE(e[y],e[y+1],p,v,g,m);_>f&&(c=y,f=_)}f>r&&(l[(c-t)/i]=1,d+i<c&&u.push(d,c),c+i<h&&u.push(c,h))}for(var b=0;b<s;++b)l[b]&&(o[a++]=e[t+b*i],o[a++]=e[t+b*i+1]);return a}function SS(e,t){return t*Math.round(e/t)}function CS(e,t,n,i,r,o,a){if(t==n)return a;var s,l,u=SS(e[t],r),c=SS(e[t+1],r);t+=i,o[a++]=u,o[a++]=c;do{if(s=SS(e[t],r),l=SS(e[t+1],r),(t+=i)==n)return o[a++]=s,o[a++]=l,a}while(s==u&&l==c);for(;t<n;){var h=SS(e[t],r),d=SS(e[t+1],r);if(t+=i,h!=s||d!=l){var f=s-u,p=l-c,v=h-u,g=d-c;f*g==p*v&&(f<0&&v<f||f==v||f>0&&v>f)&&(p<0&&g<p||p==g||p>0&&g>p)?(s=h,l=d):(o[a++]=s,o[a++]=l,u=s,c=l,s=h,l=d)}}return o[a++]=s,o[a++]=l,a}function IS(e,t,n,i,r,o,a,s){for(var l=0,u=n.length;l<u;++l){var c=n[l];a=CS(e,t,c,i,r,o,a),s.push(a),t=c}return a}function RS(e,t,n,i,r){r=void 0!==r?r:[];for(var o=0,a=t;a<n;a+=i)r[o++]=e.slice(a,a+i);return r.length=o,r}function OS(e,t,n,i,r){r=void 0!==r?r:[];for(var o=0,a=0,s=n.length;a<s;++a){var l=n[a];r[o++]=RS(e,t,l,i,r[o]),t=l}return r.length=o,r}function AS(e,t,n,i){for(var r=0,o=e[n-i],a=e[n-i+1],s=0,l=0;t<n;t+=i){var u=e[t]-o,c=e[t+1]-a;r+=l*u-s*c,s=u,l=c}return r/2}function MS(e,t,n,i){for(var r=0,o=0,a=n.length;o<a;++o){var s=n[o];r+=AS(e,t,s,i),t=s}return r}var LS=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this)).maxDelta_=-1,r.maxDeltaRevision_=-1,void 0===i||Array.isArray(e[0])?r.setCoordinates(e,i):r.setFlatCoordinates(i,e),r}return(0,Cr.Z)(n,[{key:"clone",value:function(){return new n(this.flatCoordinates.slice(),this.layout)}},{key:"closestPointXY",value:function(e,t,n,i){return i<mx(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(_S(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),kS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"getArea",value:function(){return AS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getCoordinates",value:function(){return RS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[];return t.length=wS(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t,0),new n(t,"XY")}},{key:"getType",value:function(){return"LinearRing"}},{key:"intersectsExtent",value:function(e){return!1}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=ES(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(mS),NS=LS,$S=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this)).setCoordinates(e,i),r}return(0,Cr.Z)(n,[{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout);return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){var r=this.flatCoordinates,o=OE(e,t,r[0],r[1]);if(o<i){for(var a=this.stride,s=0;s<a;++s)n[s]=r[s];return n.length=a,o}return i}},{key:"getCoordinates",value:function(){return this.flatCoordinates.slice()}},{key:"computeExtent",value:function(e){return function(e,t){var n=e[0],i=e[1];return Tx(n,i,n,i,t)}(this.flatCoordinates,e)}},{key:"getType",value:function(){return"Point"}},{key:"intersectsExtent",value:function(e){return _x(e,this.flatCoordinates[0],this.flatCoordinates[1])}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=function(e,t,n,i){for(var r=0,o=n.length;r<o;++r)e[t++]=n[r];return t}(this.flatCoordinates,0,e,this.stride),this.changed()}}]),n}(mS),PS=$S;function DS(e,t,n,i,r){return!Rx(r,(function(r){return!BS(e,t,n,i,r[0],r[1])}))}function BS(e,t,n,i,r,o){for(var a=0,s=e[n-i],l=e[n-i+1];t<n;t+=i){var u=e[t],c=e[t+1];l<=o?c>o&&(u-s)*(o-l)-(r-s)*(c-l)>0&&a++:c<=o&&(u-s)*(o-l)-(r-s)*(c-l)<0&&a--,s=u,l=c}return 0!==a}function FS(e,t,n,i,r,o){if(0===n.length)return!1;if(!BS(e,t,n[0],i,r,o))return!1;for(var a=1,s=n.length;a<s;++a)if(BS(e,n[a-1],n[a],i,r,o))return!1;return!0}function US(e,t,n,i,r,o,a){for(var s,l,u,c,h,d,f,p=r[o+1],v=[],g=0,m=n.length;g<m;++g){var y=n[g];for(c=e[y-i],d=e[y-i+1],s=t;s<y;s+=i)h=e[s],f=e[s+1],(p<=d&&f<=p||d<=p&&p<=f)&&(u=(p-d)/(f-d)*(h-c)+c,v.push(u)),c=h,d=f}var _=NaN,b=-1/0;for(v.sort(NT),c=v[0],s=1,l=v.length;s<l;++s){h=v[s];var k=Math.abs(h-c);k>b&&FS(e,t,n,i,u=(c+h)/2,p)&&(_=u,b=k),c=h}return isNaN(_)&&(_=r[o]),a?(a.push(_,p,b),a):[_,p,b]}function jS(e,t,n,i,r){var o,a,s=Cx([1/0,1/0,-1/0,-1/0],e,t,n,i);return!!jx(r,s)&&(a=s,(o=r)[0]<=a[0]&&a[2]<=o[2]&&o[1]<=a[1]&&a[3]<=o[3]||(s[0]>=r[0]&&s[2]<=r[2]||(s[1]>=r[1]&&s[3]<=r[3]||function(e,t,n,i,r){var o;for(t+=i;t<n;t+=i)if(o=r(e.slice(t-i,t),e.slice(t,t+i)))return o;return!1}(e,t,n,i,(function(e,t){return function(e,t,n){var i=!1,r=bx(e,t),o=bx(e,n);if(r===vx.INTERSECTING||o===vx.INTERSECTING)i=!0;else{var a,s,l=e[0],u=e[1],c=e[2],h=e[3],d=t[0],f=t[1],p=n[0],v=n[1],g=(v-f)/(p-d);o&vx.ABOVE&&!(r&vx.ABOVE)&&(i=(a=p-(v-h)/g)>=l&&a<=c),i||!(o&vx.RIGHT)||r&vx.RIGHT||(i=(s=v-(p-c)*g)>=u&&s<=h),i||!(o&vx.BELOW)||r&vx.BELOW||(i=(a=p-(v-u)/g)>=l&&a<=c),i||!(o&vx.LEFT)||r&vx.LEFT||(i=(s=v-(p-l)*g)>=u&&s<=h)}return i}(r,e,t)})))))}function ZS(e,t,n,i,r){return!!jS(e,t,n,i,r)||(!!BS(e,t,n,i,r[0],r[1])||(!!BS(e,t,n,i,r[0],r[3])||(!!BS(e,t,n,i,r[2],r[1])||!!BS(e,t,n,i,r[2],r[3]))))}function HS(e,t,n,i,r){if(!ZS(e,t,n[0],i,r))return!1;if(1===n.length)return!0;for(var o=1,a=n.length;o<a;++o)if(DS(e,n[o-1],n[o],i,r)&&!jS(e,n[o-1],n[o],i,r))return!1;return!0}function zS(e,t,n,i){for(;t<n-i;){for(var r=0;r<i;++r){var o=e[t+r];e[t+r]=e[n-i+r],e[n-i+r]=o}t+=i,n-=i}}function VS(e,t,n,i){for(var r=0,o=e[n-i],a=e[n-i+1];t<n;t+=i){var s=e[t],l=e[t+1];r+=(s-o)*(l+a),o=s,a=l}return 0===r?void 0:r>0}function WS(e,t,n,i,r){r=void 0!==r&&r;for(var o=0,a=n.length;o<a;++o){var s=n[o],l=VS(e,t,s,i);if(0===o){if(r&&l||!r&&!l)return!1}else if(r&&!l||!r&&l)return!1;t=s}return!0}function GS(e,t,n,i,r){r=void 0!==r&&r;for(var o=0,a=n.length;o<a;++o){var s=n[o],l=VS(e,t,s,i);(0===o?r&&l||!r&&!l:r&&!l||!r&&l)&&zS(e,t,s,i),t=s}return t}var XS=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this)).ends_=[],o.flatInteriorPointRevision_=-1,o.flatInteriorPoint_=null,o.maxDelta_=-1,o.maxDeltaRevision_=-1,o.orientedRevision_=-1,o.orientedFlatCoordinates_=null,void 0!==i&&r?(o.setFlatCoordinates(i,e),o.ends_=r):o.setCoordinates(e,i),o}return(0,Cr.Z)(n,[{key:"appendLinearRing",value:function(e){this.flatCoordinates?function(e,t){for(var n=Array.isArray(t)?t:[t],i=n.length,r=0;r<i;r++)e[e.length]=n[r]}(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()}},{key:"clone",value:function(){var e=new n(this.flatCoordinates.slice(),this.layout,this.ends_.slice());return e.applyProperties(this),e}},{key:"closestPointXY",value:function(e,t,n,i){return i<mx(this.getExtent(),e,t)?i:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt(bS(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),TS(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,n,i))}},{key:"containsXY",value:function(e,t){return FS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)}},{key:"getArea",value:function(){return MS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)}},{key:"getCoordinates",value:function(e){var t;return void 0!==e?GS(t=this.getOrientedFlatCoordinates().slice(),0,this.ends_,this.stride,e):t=this.flatCoordinates,OS(t,0,this.ends_,this.stride)}},{key:"getEnds",value:function(){return this.ends_}},{key:"getFlatInteriorPoint",value:function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Lx(this.getExtent());this.flatInteriorPoint_=US(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_}},{key:"getInteriorPoint",value:function(){return new PS(this.getFlatInteriorPoint(),"XYM")}},{key:"getLinearRingCount",value:function(){return this.ends_.length}},{key:"getLinearRing",value:function(e){return e<0||this.ends_.length<=e?null:new NS(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)}},{key:"getLinearRings",value:function(){for(var e=this.layout,t=this.flatCoordinates,n=this.ends_,i=[],r=0,o=0,a=n.length;o<a;++o){var s=n[o],l=new NS(t.slice(r,s),e);i.push(l),r=s}return i}},{key:"getOrientedFlatCoordinates",value:function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;WS(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=GS(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_}},{key:"getSimplifiedGeometryInternal",value:function(e){var t=[],i=[];return t.length=IS(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(e),t,0,i),new n(t,"XY",i)}},{key:"getType",value:function(){return"Polygon"}},{key:"intersectsExtent",value:function(e){return HS(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)}},{key:"setCoordinates",value:function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var n=xS(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===n.length?0:n[n.length-1],this.changed()}}]),n}(mS),YS=XS;function KS(e){if(Zx(e))throw new Error("Cannot create polygon from empty extent");var t=e[0],n=e[1],i=e[2],r=e[3],o=[t,n,t,r,i,r,i,n,t,n];return new XS(o,"XY",[o.length])}var qS=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).on,i.once,i.un,e=Object.assign({},e),i.hints_=[0,0],i.animations_=[],i.updateAnimationKey_,i.projection_=Bw(e.projection,"EPSG:3857"),i.viewportSize_=[100,100],i.targetCenter_=null,i.targetResolution_,i.targetRotation_,i.nextCenter_=null,i.nextResolution_,i.nextRotation_,i.cancelAnchor_=void 0,e.projection&&Mw(),e.center&&(e.center=Yw(e.center,i.projection_)),e.extent&&(e.extent=Kw(e.extent,i.projection_)),i.applyOptions_(e),i}return(0,Cr.Z)(n,[{key:"applyOptions_",value:function(e){var t=Object.assign({},e);for(var n in GE)delete t[n];this.setProperties(t,!0);var i=function(e){var t,n,i,r=28,o=2,a=void 0!==e.minZoom?e.minZoom:0,s=void 0!==e.maxZoom?e.maxZoom:r,l=void 0!==e.zoomFactor?e.zoomFactor:o,u=void 0!==e.multiWorld&&e.multiWorld,c=void 0===e.smoothResolutionConstraint||e.smoothResolutionConstraint,h=void 0!==e.showFullExtent&&e.showFullExtent,d=Bw(e.projection,"EPSG:3857"),f=d.getExtent(),p=e.constrainOnlyCenter,v=e.extent;u||v||!d.isGlobal()||(p=!1,v=f);if(void 0!==e.resolutions){var g=e.resolutions;n=g[a],i=void 0!==g[s]?g[s]:g[g.length-1],t=e.constrainResolution?function(e,t,n,i){return t=void 0===t||t,function(r,o,a,s){if(void 0!==r){var l=e[0],u=e[e.length-1],c=n?Qw(l,n,a,i):l;if(s)return t?eS(r,c,u):IE(r,u,c);var h=Math.min(c,r),d=Math.floor($T(e,h,o));return e[d]>c&&d<e.length-1?e[d+1]:e[d]}}}(g,c,!p&&v,h):tS(n,i,c,!p&&v,h)}else{var m=(f?Math.max(Ux(f),Px(f)):360*KE.degrees/d.getMetersPerUnit())/YE/Math.pow(o,0),y=m/Math.pow(o,r-0);void 0!==(n=e.maxResolution)?a=0:n=m/Math.pow(l,a),void 0===(i=e.minResolution)&&(i=void 0!==e.maxZoom?void 0!==e.maxResolution?n/Math.pow(l,s):m/Math.pow(l,s):y),s=a+Math.floor(Math.log(n/i)/Math.log(l)),i=n/Math.pow(l,s-a),t=e.constrainResolution?function(e,t,n,i,r,o){return i=void 0===i||i,n=void 0!==n?n:0,function(a,s,l,u){if(void 0!==a){var c=r?Qw(t,r,l,o):t;if(u)return i?eS(a,c,n):IE(a,n,c);var h=Math.ceil(Math.log(t/c)/Math.log(e)-1e-9),d=-s*(.5-1e-9)+.5,f=Math.min(c,a),p=Math.floor(Math.log(t/f)/Math.log(e)+d),v=Math.max(h,p);return IE(t/Math.pow(e,v),n,c)}}}(l,n,i,c,!p&&v,h):tS(n,i,c,!p&&v,h)}return{constraint:t,maxResolution:n,minResolution:i,minZoom:a,zoomFactor:l}}(e);this.maxResolution_=i.maxResolution,this.minResolution_=i.minResolution,this.zoomFactor_=i.zoomFactor,this.resolutions_=e.resolutions,this.padding_=e.padding,this.minZoom_=i.minZoom;var r=function(e){if(void 0!==e.extent){var t=void 0===e.smoothExtentConstraint||e.smoothExtentConstraint;return qw(e.extent,e.constrainOnlyCenter,t)}var n=Bw(e.projection,"EPSG:3857");if(!0!==e.multiWorld&&n.isGlobal()){var i=n.getExtent().slice();return i[0]=-1/0,i[2]=1/0,qw(i,!1,!1)}return Jw}(e),o=i.constraint,a=function(e){var t=void 0===e.enableRotation||e.enableRotation;if(t){var n=e.constrainRotation;return void 0===n||!0===n?function(e){var t=void 0===e?ME(5):e;return function(e,n){return n||void 0===e?e:Math.abs(e)<=t?0:e}}():!1===n?iS:"number"===typeof n?function(e){var t=2*Math.PI/e;return function(e,n){return n?e:void 0!==e?e=Math.floor(e/t+.5)*t:void 0}}(n):iS}return nS}(e);this.constraints_={center:r,resolution:o,rotation:a},this.setRotation(void 0!==e.rotation?e.rotation:0),this.setCenterInternal(void 0!==e.center?e.center:null),void 0!==e.resolution?this.setResolution(e.resolution):void 0!==e.zoom&&this.setZoom(e.zoom)}},{key:"padding",get:function(){return this.padding_},set:function(e){var t=this.padding_;this.padding_=e;var n=this.getCenterInternal();if(n){var i=e||[0,0,0,0];t=t||[0,0,0,0];var r=this.getResolution(),o=r/2*(i[3]-t[3]+t[1]-i[1]),a=r/2*(i[0]-t[0]+t[2]-i[2]);this.setCenterInternal([n[0]+o,n[1]-a])}}},{key:"getUpdatedOptions_",value:function(e){var t=this.getProperties();return void 0!==t.resolution?t.resolution=this.getResolution():t.zoom=this.getZoom(),t.center=this.getCenterInternal(),t.rotation=this.getRotation(),Object.assign({},t,e)}},{key:"animate",value:function(e){this.isDef()&&!this.getAnimating()&&this.resolveConstraints(0);for(var t=new Array(arguments.length),n=0;n<t.length;++n){var i=arguments[n];i.center&&((i=Object.assign({},i)).center=Yw(i.center,this.getProjection())),i.anchor&&((i=Object.assign({},i)).anchor=Yw(i.anchor,this.getProjection())),t[n]=i}this.animateInternal.apply(this,t)}},{key:"animateInternal",value:function(e){var t,n=arguments.length;n>1&&"function"===typeof arguments[n-1]&&(t=arguments[n-1],--n);for(var i=0;i<n&&!this.isDef();++i){var r=arguments[i];r.center&&this.setCenterInternal(r.center),void 0!==r.zoom?this.setZoom(r.zoom):r.resolution&&this.setResolution(r.resolution),void 0!==r.rotation&&this.setRotation(r.rotation)}if(i!==n){for(var o=Date.now(),a=this.targetCenter_.slice(),s=this.targetResolution_,l=this.targetRotation_,u=[];i<n;++i){var c=arguments[i],h={start:o,complete:!1,anchor:c.anchor,duration:void 0!==c.duration?c.duration:1e3,easing:c.easing||aS,callback:t};if(c.center&&(h.sourceCenter=a,h.targetCenter=c.center.slice(),a=h.targetCenter),void 0!==c.zoom?(h.sourceResolution=s,h.targetResolution=this.getResolutionForZoom(c.zoom),s=h.targetResolution):c.resolution&&(h.sourceResolution=s,h.targetResolution=c.resolution,s=h.targetResolution),void 0!==c.rotation){h.sourceRotation=l;var d=LE(c.rotation-l+Math.PI,2*Math.PI)-Math.PI;h.targetRotation=l+d,l=h.targetRotation}QS(h)?h.complete=!0:o+=h.duration,u.push(h)}this.animations_.push(u),this.setHint(VE,1),this.updateAnimations_()}else t&&JS(t,!0)}},{key:"getAnimating",value:function(){return this.hints_[VE]>0}},{key:"getInteracting",value:function(){return this.hints_[WE]>0}},{key:"cancelAnimations",value:function(){var e;this.setHint(VE,-this.hints_[VE]);for(var t=0,n=this.animations_.length;t<n;++t){var i=this.animations_[t];if(i[0].callback&&JS(i[0].callback,!1),!e)for(var r=0,o=i.length;r<o;++r){var a=i[r];if(!a.complete){e=a.anchor;break}}}this.animations_.length=0,this.cancelAnchor_=e,this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN}},{key:"updateAnimations_",value:function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var e=Date.now(),t=!1,n=this.animations_.length-1;n>=0;--n){for(var i=this.animations_[n],r=!0,o=0,a=i.length;o<a;++o){var s=i[o];if(!s.complete){var l=e-s.start,u=s.duration>0?l/s.duration:1;u>=1?(s.complete=!0,u=1):r=!1;var c=s.easing(u);if(s.sourceCenter){var h=s.sourceCenter[0],d=s.sourceCenter[1],f=s.targetCenter[0],p=s.targetCenter[1];this.nextCenter_=s.targetCenter;var v=h+c*(f-h),g=d+c*(p-d);this.targetCenter_=[v,g]}if(s.sourceResolution&&s.targetResolution){var m=1===c?s.targetResolution:s.sourceResolution+c*(s.targetResolution-s.sourceResolution);if(s.anchor){var y=this.getViewportSize_(this.getRotation()),_=this.constraints_.resolution(m,0,y,!0);this.targetCenter_=this.calculateCenterZoom(_,s.anchor)}this.nextResolution_=s.targetResolution,this.targetResolution_=m,this.applyTargetState_(!0)}if(void 0!==s.sourceRotation&&void 0!==s.targetRotation){var b=1===c?LE(s.targetRotation+Math.PI,2*Math.PI)-Math.PI:s.sourceRotation+c*(s.targetRotation-s.sourceRotation);if(s.anchor){var k=this.constraints_.rotation(b,!0);this.targetCenter_=this.calculateCenterRotate(k,s.anchor)}this.nextRotation_=s.targetRotation,this.targetRotation_=b}if(this.applyTargetState_(!0),t=!0,!s.complete)break}}if(r){this.animations_[n]=null,this.setHint(VE,-1),this.nextCenter_=null,this.nextResolution_=NaN,this.nextRotation_=NaN;var T=i[0].callback;T&&JS(T,!0)}}this.animations_=this.animations_.filter(Boolean),t&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_.bind(this)))}}},{key:"calculateCenterRotate",value:function(e,t){var n,i,r,o=this.getCenterInternal();return void 0!==o&&(Wx(n=[o[0]-t[0],o[1]-t[1]],e-this.getRotation()),r=t,(i=n)[0]+=+r[0],i[1]+=+r[1]),n}},{key:"calculateCenterZoom",value:function(e,t){var n,i=this.getCenterInternal(),r=this.getResolution();void 0!==i&&void 0!==r&&(n=[t[0]-e*(t[0]-i[0])/r,t[1]-e*(t[1]-i[1])/r]);return n}},{key:"getViewportSize_",value:function(e){var t=this.viewportSize_;if(e){var n=t[0],i=t[1];return[Math.abs(n*Math.cos(e))+Math.abs(i*Math.sin(e)),Math.abs(n*Math.sin(e))+Math.abs(i*Math.cos(e))]}return t}},{key:"setViewportSize",value:function(e){this.viewportSize_=Array.isArray(e)?e.slice():[100,100],this.getAnimating()||this.resolveConstraints(0)}},{key:"getCenter",value:function(){var e=this.getCenterInternal();return e?Xw(e,this.getProjection()):e}},{key:"getCenterInternal",value:function(){return this.get(GE.CENTER)}},{key:"getConstraints",value:function(){return this.constraints_}},{key:"getConstrainResolution",value:function(){return this.get("constrainResolution")}},{key:"getHints",value:function(e){return void 0!==e?(e[0]=this.hints_[0],e[1]=this.hints_[1],e):this.hints_.slice()}},{key:"calculateExtent",value:function(e){return function(e,t){return Ww?Vw(e,t,Ww):e}(this.calculateExtentInternal(e),this.getProjection())}},{key:"calculateExtentInternal",value:function(e){e=e||this.getViewportSizeMinusPadding_();var t=this.getCenterInternal();CE(t,"The view center is not defined");var n=this.getResolution();CE(void 0!==n,"The view resolution is not defined");var i=this.getRotation();return CE(void 0!==i,"The view rotation is not defined"),$x(t,n,i,e)}},{key:"getMaxResolution",value:function(){return this.maxResolution_}},{key:"getMinResolution",value:function(){return this.minResolution_}},{key:"getMaxZoom",value:function(){return this.getZoomForResolution(this.minResolution_)}},{key:"setMaxZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({maxZoom:e}))}},{key:"getMinZoom",value:function(){return this.getZoomForResolution(this.maxResolution_)}},{key:"setMinZoom",value:function(e){this.applyOptions_(this.getUpdatedOptions_({minZoom:e}))}},{key:"setConstrainResolution",value:function(e){this.applyOptions_(this.getUpdatedOptions_({constrainResolution:e}))}},{key:"getProjection",value:function(){return this.projection_}},{key:"getResolution",value:function(){return this.get(GE.RESOLUTION)}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getResolutionForExtent",value:function(e,t){return this.getResolutionForExtentInternal(Kw(e,this.getProjection()),t)}},{key:"getResolutionForExtentInternal",value:function(e,t){t=t||this.getViewportSizeMinusPadding_();var n=Ux(e)/t[0],i=Px(e)/t[1];return Math.max(n,i)}},{key:"getResolutionForValueFunction",value:function(e){e=e||2;var t=this.getConstrainedResolution(this.maxResolution_),n=this.minResolution_,i=Math.log(t/n)/Math.log(e);return function(n){return t/Math.pow(e,n*i)}}},{key:"getRotation",value:function(){return this.get(GE.ROTATION)}},{key:"getValueForResolutionFunction",value:function(e){var t=Math.log(e||2),n=this.getConstrainedResolution(this.maxResolution_),i=this.minResolution_,r=Math.log(n/i)/t;return function(e){return Math.log(n/e)/t/r}}},{key:"getViewportSizeMinusPadding_",value:function(e){var t=this.getViewportSize_(e),n=this.padding_;return n&&(t=[t[0]-n[1]-n[3],t[1]-n[0]-n[2]]),t}},{key:"getState",value:function(){var e=this.getProjection(),t=this.getResolution(),n=this.getRotation(),i=this.getCenterInternal(),r=this.padding_;if(r){var o=this.getViewportSizeMinusPadding_();i=eC(i,this.getViewportSize_(),[o[0]/2+r[3],o[1]/2+r[0]],t,n)}return{center:i.slice(0),projection:void 0!==e?e:null,resolution:t,nextCenter:this.nextCenter_,nextResolution:this.nextResolution_,nextRotation:this.nextRotation_,rotation:n,zoom:this.getZoom()}}},{key:"getViewStateAndExtent",value:function(){return{viewState:this.getState(),extent:this.calculateExtent()}}},{key:"getZoom",value:function(){var e,t=this.getResolution();return void 0!==t&&(e=this.getZoomForResolution(t)),e}},{key:"getZoomForResolution",value:function(e){var t,n,i=this.minZoom_||0;if(this.resolutions_){var r=$T(this.resolutions_,e,1);i=r,t=this.resolutions_[r],n=r==this.resolutions_.length-1?2:t/this.resolutions_[r+1]}else t=this.maxResolution_,n=this.zoomFactor_;return i+Math.log(t/e)/Math.log(n)}},{key:"getResolutionForZoom",value:function(e){var t;if(null!==(t=this.resolutions_)&&void 0!==t&&t.length){if(1===this.resolutions_.length)return this.resolutions_[0];var n=IE(Math.floor(e),0,this.resolutions_.length-2),i=this.resolutions_[n]/this.resolutions_[n+1];return this.resolutions_[n]/Math.pow(i,IE(e-n,0,1))}return this.maxResolution_/Math.pow(this.zoomFactor_,e-this.minZoom_)}},{key:"fit",value:function(e,t){var n;if(CE(Array.isArray(e)||"function"===typeof e.getSimplifiedGeometry,"Invalid extent or geometry provided as `geometry`"),Array.isArray(e))CE(!Zx(e),"Cannot fit empty extent provided as `geometry`"),n=KS(Kw(e,this.getProjection()));else if("Circle"===e.getType()){var i=Kw(e.getExtent(),this.getProjection());(n=KS(i)).rotate(this.getRotation(),Lx(i))}else{var r=Gw();n=r?e.clone().transform(r,this.getProjection()):e}this.fitInternal(n,t)}},{key:"rotatedExtentForGeometry",value:function(e){for(var t=this.getRotation(),n=Math.cos(t),i=Math.sin(-t),r=e.getFlatCoordinates(),o=e.getStride(),a=1/0,s=1/0,l=-1/0,u=-1/0,c=0,h=r.length;c<h;c+=o){var d=r[c]*n-r[c+1]*i,f=r[c]*i+r[c+1]*n;a=Math.min(a,d),s=Math.min(s,f),l=Math.max(l,d),u=Math.max(u,f)}return[a,s,l,u]}},{key:"fitInternal",value:function(e,t){var n=(t=t||{}).size;n||(n=this.getViewportSizeMinusPadding_());var i,r=void 0!==t.padding?t.padding:[0,0,0,0],o=void 0!==t.nearest&&t.nearest;i=void 0!==t.minResolution?t.minResolution:void 0!==t.maxZoom?this.getResolutionForZoom(t.maxZoom):0;var a=this.rotatedExtentForGeometry(e),s=this.getResolutionForExtentInternal(a,[n[0]-r[1]-r[3],n[1]-r[0]-r[2]]);s=isNaN(s)?i:Math.max(s,i),s=this.getConstrainedResolution(s,o?0:1);var l=this.getRotation(),u=Math.sin(l),c=Math.cos(l),h=Lx(a);h[0]+=(r[1]-r[3])/2*s,h[1]+=(r[0]-r[2])/2*s;var d=h[0]*c-h[1]*u,f=h[1]*c+h[0]*u,p=this.getConstrainedCenter([d,f],s),v=t.callback?t.callback:FT;void 0!==t.duration?this.animateInternal({resolution:s,center:p,duration:t.duration,easing:t.easing},v):(this.targetResolution_=s,this.targetCenter_=p,this.applyTargetState_(!1,!0),JS(v,!0))}},{key:"centerOn",value:function(e,t,n){this.centerOnInternal(Yw(e,this.getProjection()),t,n)}},{key:"centerOnInternal",value:function(e,t,n){this.setCenterInternal(eC(e,t,n,this.getResolution(),this.getRotation()))}},{key:"calculateCenterShift",value:function(e,t,n,i){var r,o=this.padding_;if(o&&e){var a=this.getViewportSizeMinusPadding_(-n),s=eC(e,i,[a[0]/2+o[3],a[1]/2+o[0]],t,n);r=[e[0]-s[0],e[1]-s[1]]}return r}},{key:"isDef",value:function(){return!!this.getCenterInternal()&&void 0!==this.getResolution()}},{key:"adjustCenter",value:function(e){var t=Xw(this.targetCenter_,this.getProjection());this.setCenter([t[0]+e[0],t[1]+e[1]])}},{key:"adjustCenterInternal",value:function(e){var t=this.targetCenter_;this.setCenterInternal([t[0]+e[0],t[1]+e[1]])}},{key:"adjustResolution",value:function(e,t){t=t&&Yw(t,this.getProjection()),this.adjustResolutionInternal(e,t)}},{key:"adjustResolutionInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.getViewportSize_(this.getRotation()),r=this.constraints_.resolution(this.targetResolution_*e,0,i,n);t&&(this.targetCenter_=this.calculateCenterZoom(r,t)),this.targetResolution_*=e,this.applyTargetState_()}},{key:"adjustZoom",value:function(e,t){this.adjustResolution(Math.pow(this.zoomFactor_,-e),t)}},{key:"adjustRotation",value:function(e,t){t&&(t=Yw(t,this.getProjection())),this.adjustRotationInternal(e,t)}},{key:"adjustRotationInternal",value:function(e,t){var n=this.getAnimating()||this.getInteracting(),i=this.constraints_.rotation(this.targetRotation_+e,n);t&&(this.targetCenter_=this.calculateCenterRotate(i,t)),this.targetRotation_+=e,this.applyTargetState_()}},{key:"setCenter",value:function(e){this.setCenterInternal(e?Yw(e,this.getProjection()):e)}},{key:"setCenterInternal",value:function(e){this.targetCenter_=e,this.applyTargetState_()}},{key:"setHint",value:function(e,t){return this.hints_[e]+=t,this.changed(),this.hints_[e]}},{key:"setResolution",value:function(e){this.targetResolution_=e,this.applyTargetState_()}},{key:"setRotation",value:function(e){this.targetRotation_=e,this.applyTargetState_()}},{key:"setZoom",value:function(e){this.setResolution(this.getResolutionForZoom(e))}},{key:"applyTargetState_",value:function(e,t){var n=this.getAnimating()||this.getInteracting()||t,i=this.constraints_.rotation(this.targetRotation_,n),r=this.getViewportSize_(i),o=this.constraints_.resolution(this.targetResolution_,0,r,n),a=this.constraints_.center(this.targetCenter_,o,r,n,this.calculateCenterShift(this.targetCenter_,o,i,r));this.get(GE.ROTATION)!==i&&this.set(GE.ROTATION,i),this.get(GE.RESOLUTION)!==o&&(this.set(GE.RESOLUTION,o),this.set("zoom",this.getZoom(),!0)),a&&this.get(GE.CENTER)&&Vx(this.get(GE.CENTER),a)||this.set(GE.CENTER,a),this.getAnimating()&&!e&&this.cancelAnimations(),this.cancelAnchor_=void 0}},{key:"resolveConstraints",value:function(e,t,n){e=void 0!==e?e:200;var i=t||0,r=this.constraints_.rotation(this.targetRotation_),o=this.getViewportSize_(r),a=this.constraints_.resolution(this.targetResolution_,i,o),s=this.constraints_.center(this.targetCenter_,a,o,!1,this.calculateCenterShift(this.targetCenter_,a,r,o));if(0===e&&!this.cancelAnchor_)return this.targetResolution_=a,this.targetRotation_=r,this.targetCenter_=s,void this.applyTargetState_();n=n||(0===e?this.cancelAnchor_:void 0),this.cancelAnchor_=void 0,this.getResolution()===a&&this.getRotation()===r&&this.getCenterInternal()&&Vx(this.getCenterInternal(),s)||(this.getAnimating()&&this.cancelAnimations(),this.animateInternal({rotation:r,center:s,resolution:a,duration:e,easing:oS,anchor:n}))}},{key:"beginInteraction",value:function(){this.resolveConstraints(0),this.setHint(WE,1)}},{key:"endInteraction",value:function(e,t,n){n=n&&Yw(n,this.getProjection()),this.endInteractionInternal(e,t,n)}},{key:"endInteractionInternal",value:function(e,t,n){this.getInteracting()&&(this.setHint(WE,-1),this.resolveConstraints(e,t,n))}},{key:"getConstrainedCenter",value:function(e,t){var n=this.getViewportSize_(this.getRotation());return this.constraints_.center(e,t||this.getResolution(),n)}},{key:"getConstrainedZoom",value:function(e,t){var n=this.getResolutionForZoom(e);return this.getZoomForResolution(this.getConstrainedResolution(n,t))}},{key:"getConstrainedResolution",value:function(e,t){t=t||0;var n=this.getViewportSize_(this.getRotation());return this.constraints_.resolution(e,t,n)}}]),n}(cE);function JS(e,t){setTimeout((function(){e(t)}),0)}function QS(e){return!(e.sourceCenter&&e.targetCenter&&!Vx(e.sourceCenter,e.targetCenter))&&(e.sourceResolution===e.targetResolution&&e.sourceRotation===e.targetRotation)}function eC(e,t,n,i,r){var o=Math.cos(-r),a=Math.sin(-r),s=e[0]*o-e[1]*a,l=e[1]*o+e[0]*a;return[(s+=(t[0]/2-n[0])*i)*o-(l+=(n[1]-t[1]/2)*i)*(a=-a),l*o+s*a]}var tC=qS,nC=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=Object.assign({},e);delete r.source,(i=t.call(this,r)).on,i.once,i.un,i.mapPrecomposeKey_=null,i.mapRenderKey_=null,i.sourceChangeKey_=null,i.renderer_=null,i.sourceReady_=!1,i.rendered=!1,e.render&&(i.render=e.render),e.map&&i.setMap(e.map),i.addChangeListener(wE,i.handleSourcePropertyChange_);var o=e.source?e.source:null;return i.setSource(o),i}return(0,Cr.Z)(n,[{key:"getLayersArray",value:function(e){return(e=e||[]).push(this),e}},{key:"getLayerStatesArray",value:function(e){return(e=e||[]).push(this.getLayerState()),e}},{key:"getSource",value:function(){return this.get(wE)||null}},{key:"getRenderSource",value:function(){return this.getSource()}},{key:"getSourceState",value:function(){var e=this.getSource();return e?e.getState():"undefined"}},{key:"handleSourceChange_",value:function(){this.changed(),this.sourceReady_||"ready"!==this.getSource().getState()||(this.sourceReady_=!0,this.dispatchEvent("sourceready"))}},{key:"handleSourcePropertyChange_",value:function(){var e=this;this.sourceChangeKey_&&(nE(this.sourceChangeKey_),this.sourceChangeKey_=null),this.sourceReady_=!1;var t=this.getSource();t&&(this.sourceChangeKey_=eE(t,zT,this.handleSourceChange_,this),"ready"===t.getState()&&(this.sourceReady_=!0,setTimeout((function(){e.dispatchEvent("sourceready")}),0))),this.changed()}},{key:"getFeatures",value:function(e){return this.renderer_?this.renderer_.getFeatures(e):Promise.resolve([])}},{key:"getData",value:function(e){return this.renderer_&&this.rendered?this.renderer_.getData(e):null}},{key:"isVisible",value:function(e){var t,n,i=this,r=this.getMapInternal();if(!e&&r&&(e=r.getView()),!(t=e instanceof tC?{viewState:e.getState(),extent:e.calculateExtent()}:e).layerStatesArray&&r&&(t.layerStatesArray=r.getLayerGroup().getLayerStatesArray()),t.layerStatesArray){if(!(n=t.layerStatesArray.find((function(e){return e.layer===i}))))return!1}else n=this.getLayerState();var o=this.getExtent();return iC(n,t.viewState)&&(!o||jx(o,t.extent))}},{key:"getAttributions",value:function(e){var t;if(!this.isVisible(e))return[];var n=null===(t=this.getSource())||void 0===t?void 0:t.getAttributions();if(!n)return[];var i=n(e instanceof tC?e.getViewStateAndExtent():e);return Array.isArray(i)||(i=[i]),i}},{key:"render",value:function(e,t){var n=this.getRenderer();return n.prepareFrame(e)?(this.rendered=!0,n.renderFrame(e,t)):null}},{key:"unrender",value:function(){this.rendered=!1}},{key:"getDeclutter",value:function(){}},{key:"renderDeclutter",value:function(e,t){}},{key:"renderDeferred",value:function(e){var t=this.getRenderer();t&&t.renderDeferred(e)}},{key:"setMapInternal",value:function(e){e||this.unrender(),this.set(SE,e)}},{key:"getMapInternal",value:function(){return this.get(SE)}},{key:"setMap",value:function(e){this.mapPrecomposeKey_&&(nE(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(nE(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=eE(e,ZE,this.handlePrecompose_,this),this.mapRenderKey_=eE(this,zT,e.render,e),this.changed())}},{key:"handlePrecompose_",value:function(e){var t=e.frameState.layerStatesArray,n=this.getLayerState(!1);CE(!t.some((function(e){return e.layer===n.layer})),"A layer can only be added to the map once. Use either `layer.setMap()` or `map.addLayer()`, not both."),t.push(n)}},{key:"setSource",value:function(e){this.set(wE,e)}},{key:"getRenderer",value:function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_}},{key:"hasRenderer",value:function(){return!!this.renderer_}},{key:"createRenderer",value:function(){return null}},{key:"clearRenderer",value:function(){this.renderer_&&(this.renderer_.dispose(),delete this.renderer_)}},{key:"disposeInternal",value:function(){this.clearRenderer(),this.setSource(null),oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(FE);function iC(e,t){if(!e.visible)return!1;var n=t.resolution;if(n<e.minResolution||n>=e.maxResolution)return!1;var i=t.zoom;return i>e.minZoom&&i<=e.maxZoom}var rC=nC;function oC(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.length-1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:sC;i>n;){if(i-n>600){var o=i-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),u=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);oC(e,t,Math.max(n,Math.floor(t-a*l/o+u)),Math.min(i,Math.floor(t+(o-a)*l/o+u)),r)}var c=e[t],h=n,d=i;for(aC(e,n,t),r(e[i],c)>0&&aC(e,n,i);h<d;){for(aC(e,h,d),h++,d--;r(e[h],c)<0;)h++;for(;r(e[d],c)>0;)d--}0===r(e[n],c)?aC(e,n,d):aC(e,++d,i),d<=t&&(n=d+1),t<=d&&(i=d-1)}}function aC(e,t,n){var i=e[t];e[t]=e[n],e[n]=i}function sC(e,t){return e<t?-1:e>t?1:0}var lC=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;(0,Sr.Z)(this,e),this._maxEntries=Math.max(4,t),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()}return(0,Cr.Z)(e,[{key:"all",value:function(){return this._all(this.data,[])}},{key:"search",value:function(e){var t=this.data,n=[];if(!_C(e,t))return n;for(var i=this.toBBox,r=[];t;){for(var o=0;o<t.children.length;o++){var a=t.children[o],s=t.leaf?i(a):a;_C(e,s)&&(t.leaf?n.push(a):yC(e,s)?this._all(a,n):r.push(a))}t=r.pop()}return n}},{key:"collides",value:function(e){var t=this.data;if(!_C(e,t))return!1;for(var n=[];t;){for(var i=0;i<t.children.length;i++){var r=t.children[i],o=t.leaf?this.toBBox(r):r;if(_C(e,o)){if(t.leaf||yC(e,o))return!0;n.push(r)}}t=n.pop()}return!1}},{key:"load",value:function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var t=0;t<e.length;t++)this.insert(e[t]);return this}var n=this._build(e.slice(),0,e.length-1,0);if(this.data.children.length)if(this.data.height===n.height)this._splitRoot(this.data,n);else{if(this.data.height<n.height){var i=this.data;this.data=n,n=i}this._insert(n,this.data.height-n.height-1,!0)}else this.data=n;return this}},{key:"insert",value:function(e){return e&&this._insert(e,this.data.height-1),this}},{key:"clear",value:function(){return this.data=bC([]),this}},{key:"remove",value:function(e,t){if(!e)return this;for(var n,i,r,o=this.data,a=this.toBBox(e),s=[],l=[];o||s.length;){if(o||(o=s.pop(),i=s[s.length-1],n=l.pop(),r=!0),o.leaf){var u=uC(e,o.children,t);if(-1!==u)return o.children.splice(u,1),s.push(o),this._condense(s),this}r||o.leaf||!yC(o,a)?i?(n++,o=i.children[n],r=!1):o=null:(s.push(o),l.push(n),n=0,i=o,o=o.children[0])}return this}},{key:"toBBox",value:function(e){return e}},{key:"compareMinX",value:function(e,t){return e.minX-t.minX}},{key:"compareMinY",value:function(e,t){return e.minY-t.minY}},{key:"toJSON",value:function(){return this.data}},{key:"fromJSON",value:function(e){return this.data=e,this}},{key:"_all",value:function(e,t){for(var n=[];e;)e.leaf?t.push.apply(t,(0,s.Z)(e.children)):n.push.apply(n,(0,s.Z)(e.children)),e=n.pop();return t}},{key:"_build",value:function(e,t,n,i){var r,o=n-t+1,a=this._maxEntries;if(o<=a)return cC(r=bC(e.slice(t,n+1)),this.toBBox),r;i||(i=Math.ceil(Math.log(o)/Math.log(a)),a=Math.ceil(o/Math.pow(a,i-1))),(r=bC([])).leaf=!1,r.height=i;var s=Math.ceil(o/a),l=s*Math.ceil(Math.sqrt(a));kC(e,t,n,l,this.compareMinX);for(var u=t;u<=n;u+=l){var c=Math.min(u+l-1,n);kC(e,u,c,s,this.compareMinY);for(var h=u;h<=c;h+=s){var d=Math.min(h+s-1,c);r.children.push(this._build(e,h,d,i-1))}}return cC(r,this.toBBox),r}},{key:"_chooseSubtree",value:function(e,t,n,i){for(;i.push(t),!t.leaf&&i.length-1!==n;){for(var r=1/0,o=1/0,a=void 0,s=0;s<t.children.length;s++){var l=t.children[s],u=vC(l),c=(h=e,d=l,(Math.max(d.maxX,h.maxX)-Math.min(d.minX,h.minX))*(Math.max(d.maxY,h.maxY)-Math.min(d.minY,h.minY))-u);c<o?(o=c,r=u<r?u:r,a=l):c===o&&u<r&&(r=u,a=l)}t=a||t.children[0]}var h,d;return t}},{key:"_insert",value:function(e,t,n){var i=n?e:this.toBBox(e),r=[],o=this._chooseSubtree(i,this.data,t,r);for(o.children.push(e),dC(o,i);t>=0&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(i,r,t)}},{key:"_split",value:function(e,t){var n=e[t],i=n.children.length,r=this._minEntries;this._chooseSplitAxis(n,r,i);var o=this._chooseSplitIndex(n,r,i),a=bC(n.children.splice(o,n.children.length-o));a.height=n.height,a.leaf=n.leaf,cC(n,this.toBBox),cC(a,this.toBBox),t?e[t-1].children.push(a):this._splitRoot(n,a)}},{key:"_splitRoot",value:function(e,t){this.data=bC([e,t]),this.data.height=e.height+1,this.data.leaf=!1,cC(this.data,this.toBBox)}},{key:"_chooseSplitIndex",value:function(e,t,n){for(var i,r=1/0,o=1/0,a=t;a<=n-t;a++){var s=hC(e,0,a,this.toBBox),l=hC(e,a,n,this.toBBox),u=mC(s,l),c=vC(s)+vC(l);u<r?(r=u,i=a,o=c<o?c:o):u===r&&c<o&&(o=c,i=a)}return i||n-t}},{key:"_chooseSplitAxis",value:function(e,t,n){var i=e.leaf?this.compareMinX:fC,r=e.leaf?this.compareMinY:pC;this._allDistMargin(e,t,n,i)<this._allDistMargin(e,t,n,r)&&e.children.sort(i)}},{key:"_allDistMargin",value:function(e,t,n,i){e.children.sort(i);for(var r=this.toBBox,o=hC(e,0,t,r),a=hC(e,n-t,n,r),s=gC(o)+gC(a),l=t;l<n-t;l++){var u=e.children[l];dC(o,e.leaf?r(u):u),s+=gC(o)}for(var c=n-t-1;c>=t;c--){var h=e.children[c];dC(a,e.leaf?r(h):h),s+=gC(a)}return s}},{key:"_adjustParentBBoxes",value:function(e,t,n){for(var i=n;i>=0;i--)dC(t[i],e)}},{key:"_condense",value:function(e){for(var t,n=e.length-1;n>=0;n--)0===e[n].children.length?n>0?(t=e[n-1].children).splice(t.indexOf(e[n]),1):this.clear():cC(e[n],this.toBBox)}}]),e}();function uC(e,t,n){if(!n)return t.indexOf(e);for(var i=0;i<t.length;i++)if(n(e,t[i]))return i;return-1}function cC(e,t){hC(e,0,e.children.length,t,e)}function hC(e,t,n,i,r){r||(r=bC(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var o=t;o<n;o++){var a=e.children[o];dC(r,e.leaf?i(a):a)}return r}function dC(e,t){return e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),e}function fC(e,t){return e.minX-t.minX}function pC(e,t){return e.minY-t.minY}function vC(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function gC(e){return e.maxX-e.minX+(e.maxY-e.minY)}function mC(e,t){var n=Math.max(e.minX,t.minX),i=Math.max(e.minY,t.minY),r=Math.min(e.maxX,t.maxX),o=Math.min(e.maxY,t.maxY);return Math.max(0,r-n)*Math.max(0,o-i)}function yC(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function _C(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function bC(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function kC(e,t,n,i,r){for(var o=[t,n];o.length;)if(!((n=o.pop())-(t=o.pop())<=i)){var a=t+Math.ceil((n-t)/i/2)*i;oC(e,a,t,n,r),o.push(t,a,a,n)}}var TC={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4},EC={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},xC={name:"xyz",min:[0,0,0],channel:["X","Y","Z"],alias:["XYZ","ciexyz","cie1931"],whitepoint:{2:{A:[109.85,100,35.585],C:[98.074,100,118.232],D50:[96.422,100,82.521],D55:[95.682,100,92.149],D65:[95.045592705167,100,108.9057750759878],D75:[94.972,100,122.638],F2:[99.187,100,67.395],F7:[95.044,100,108.755],F11:[100.966,100,64.37],E:[100,100,100]},10:{A:[111.144,100,35.2],C:[97.285,100,116.145],D50:[96.72,100,81.427],D55:[95.799,100,90.926],D65:[94.811,100,107.304],D75:[94.416,100,120.641],F2:[103.28,100,69.026],F7:[95.792,100,107.687],F11:[103.866,100,65.627],E:[100,100,100]}}};xC.max=xC.whitepoint[2].D65,xC.rgb=function(e,t){t=t||xC.whitepoint[2].E;var n,i,r,o=e[0]/t[0],a=e[1]/t[1],s=e[2]/t[2];return i=-.96924363628087*o+1.87596750150772*a+.041555057407175*s,r=.055630079696993*o+-.20397695888897*a+1.056971514242878*s,n=(n=3.240969941904521*o+-1.537383177570093*a+-.498610760293*s)>.0031308?1.055*Math.pow(n,1/2.4)-.055:n*=12.92,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:i*=12.92,r=r>.0031308?1.055*Math.pow(r,1/2.4)-.055:r*=12.92,[255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1)),255*(r=Math.min(Math.max(0,r),1))]},EC.xyz=function(e,t){var n=e[0]/255,i=e[1]/255,r=e[2]/255,o=.21263900587151*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.71516867876775*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)+.072192315360733*(r=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92),a=.019330818715591*n+.11919477979462*i+.95053215224966*r;return[(.41239079926595*n+.35758433938387*i+.18048078840183*r)*(t=t||xC.whitepoint[2].E)[0],o*t[1],a*t[2]]};var wC=xC,SC={name:"luv",min:[0,-134,-140],max:[100,224,122],channel:["lightness","u","v"],alias:["LUV","cieluv","cie1976"],xyz:function(e,t,n){var i,r,o,a,s,l,u,c,h;if(o=e[0],a=e[1],s=e[2],0===o)return[0,0,0];return t=t||"D65",n=n||2,i=a/(13*o)+4*(u=wC.whitepoint[n][t][0])/(u+15*(c=wC.whitepoint[n][t][1])+3*(h=wC.whitepoint[n][t][2]))||0,r=s/(13*o)+9*c/(u+15*c+3*h)||0,[9*(l=o>8?c*Math.pow((o+16)/116,3):c*o*.0011070564598794539)*i/(4*r)||0,l,l*(12-3*i-20*r)/(4*r)||0]}};wC.luv=function(e,t,n){var i,r,o,a,s,l,u,c,h,d,f;t=t||"D65",n=n||2,d=4*(u=wC.whitepoint[n][t][0])/(u+15*(c=wC.whitepoint[n][t][1])+3*(h=wC.whitepoint[n][t][2])),f=9*c/(u+15*c+3*h),i=4*(a=e[0])/(a+15*(s=e[1])+3*(l=e[2]))||0,r=9*s/(a+15*s+3*l)||0;var p=s/c;return[o=p<=.008856451679035631?903.2962962962961*p:116*Math.pow(p,1/3)-16,13*o*(i-d),13*o*(r-f)]};var CC={name:"lchuv",channel:["lightness","chroma","hue"],alias:["LCHuv","cielchuv"],min:[0,0,0],max:[100,100,360],luv:function(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]},xyz:function(e){return SC.xyz(CC.luv(e))}},IC=CC;SC.lchuv=function(e){var t=e[0],n=e[1],i=e[2],r=Math.sqrt(n*n+i*i),o=360*Math.atan2(i,n)/2/Math.PI;return o<0&&(o+=360),[t,r,o]},wC.lchuv=function(e){return SC.lchuv(wC.luv(e))};var RC={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},OC=function(e){var t,n,i=[],r=1;if("number"===typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if("number"===typeof e)return{space:"rgb",values:[e>>>16,(65280&e)>>>8,255&e],alpha:1};if(e=String(e).toLowerCase(),RC[e])i=RC[e].slice(),n="rgb";else if("transparent"===e)r=0,n="rgb",i=[0,0,0];else if("#"===e[0]){var o=e.slice(1),a=o.length;r=1,a<=4?(i=[parseInt(o[0]+o[0],16),parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16)],4===a&&(r=parseInt(o[3]+o[3],16)/255)):(i=[parseInt(o[0]+o[1],16),parseInt(o[2]+o[3],16),parseInt(o[4]+o[5],16)],8===a&&(r=parseInt(o[6]+o[7],16)/255)),i[0]||(i[0]=0),i[1]||(i[1]=0),i[2]||(i[2]=0),n="rgb"}else if(t=/^((?:rgba?|hs[lvb]a?|hwba?|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms|oklch|oklab|color))\s*\(([^\)]*)\)/.exec(e)){var s=t[1],l="cmyk"===(n=s.replace(/a$/,""))?4:"gray"===n?1:3;i=t[2].trim().split(/\s*[,\/]\s*|\s+/),"color"===n&&(n=i.shift()),i=i.map((function(e,t){if("%"===e[e.length-1])return e=parseFloat(e)/100,3===t?e:"rgb"===n?255*e:"h"===n[0]?100*e:"l"!==n[0]||t?"lab"===n?125*e:"lch"===n?t<2?150*e:360*e:"o"!==n[0]||t?"oklab"===n?.4*e:"oklch"===n?t<2?.4*e:360*e:e:e:100*e;if("h"===n[t]||2===t&&"h"===n[n.length-1]){if(void 0!==AC[e])return AC[e];if(e.endsWith("deg"))return parseFloat(e);if(e.endsWith("turn"))return 360*parseFloat(e);if(e.endsWith("grad"))return 360*parseFloat(e)/400;if(e.endsWith("rad"))return 180*parseFloat(e)/Math.PI}return"none"===e?0:parseFloat(e)})),r=i.length>l?i.pop():1}else if(/[0-9](?:\s|\/|,)/.test(e)){var u;i=e.match(/([0-9]+)/g).map((function(e){return parseFloat(e)})),n=(null===(u=e.match(/([a-z])/gi))||void 0===u||null===(u=u.join(""))||void 0===u?void 0:u.toLowerCase())||"rgb"}return{space:n,values:i,alpha:r}},AC={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};var MC={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(e){var t,n,i,r,o,a=e[0]/360,s=e[1]/100,l=e[2]/100,u=0;if(0===s)return[o=255*l,o,o];for(t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];u<3;)(i=a+1/3*-(u-1))<0?i++:i>1&&i--,o=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[u++]=255*o;return r}};EC.hsl=function(e){var t,n,i=e[0]/255,r=e[1]/255,o=e[2]/255,a=Math.min(i,r,o),s=Math.max(i,r,o),l=s-a;return s===a?t=0:i===s?t=(r-o)/l:r===s?t=2+(o-i)/l:o===s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(a+s)/2,[t,100*(s===a?0:n<=.5?l/(s+a):l/(2-s-a)),100*n]};var LC=[NaN,NaN,NaN,0];var NC=1024,$C={},PC=0;function DC(e){if(4===e.length)return e;var t=e.slice();return t[3]=1,t}function BC(e){var t=wC.lchuv(EC.xyz(e));return t[3]=e[3],t}function FC(e){if("none"===e)return LC;if($C.hasOwnProperty(e))return $C[e];if(PC>=NC){var t=0;for(var n in $C)0===(3&t++)&&(delete $C[n],--PC)}var i=function(e){var t;Array.isArray(e)&&e.raw&&(e=String.raw.apply(String,arguments)),e instanceof Number&&(e=+e);var n=OC(e);if(!n.space)return[];var i="h"===n.space[0]?MC.min:EC.min,r="h"===n.space[0]?MC.max:EC.max;return(t=Array(3))[0]=Math.min(Math.max(n.values[0],i[0]),r[0]),t[1]=Math.min(Math.max(n.values[1],i[1]),r[1]),t[2]=Math.min(Math.max(n.values[2],i[2]),r[2]),"h"===n.space[0]&&(t=MC.rgb(t)),t.push(Math.min(Math.max(n.alpha,0),1)),t}(e);if(4!==i.length)throw new Error('failed to parse "'+e+'" as color');var r,o=a(i);try{for(o.s();!(r=o.n()).done;){var s=r.value;if(isNaN(s))throw new Error('failed to parse "'+e+'" as color')}}catch(PU){o.e(PU)}finally{o.f()}return jC(i),$C[e]=i,++PC,i}function UC(e){return Array.isArray(e)?e:FC(e)}function jC(e){return e[0]=IE(e[0]+.5|0,0,255),e[1]=IE(e[1]+.5|0,0,255),e[2]=IE(e[2]+.5|0,0,255),e[3]=IE(e[3],0,1),e}function ZC(e){var t=e[0];t!=(0|t)&&(t=t+.5|0);var n=e[1];n!=(0|n)&&(n=n+.5|0);var i=e[2];return i!=(0|i)&&(i=i+.5|0),"rgba("+t+","+n+","+i+","+(void 0===e[3]?1:Math.round(1e3*e[3])/1e3)+")"}var HC,zC="undefined"!==typeof navigator&&"undefined"!==typeof navigator.userAgent?navigator.userAgent.toLowerCase():"",VC=zC.includes("firefox"),WC=(zC.includes("safari")&&!zC.includes("chrom")&&(zC.includes("version/15.4")||/cpu (os|iphone os) 15_4 like mac os x/.test(zC)),zC.includes("webkit")&&!zC.includes("edge")),GC=zC.includes("macintosh"),XC="undefined"!==typeof devicePixelRatio?devicePixelRatio:1,YC="undefined"!==typeof WorkerGlobalScope&&"undefined"!==typeof OffscreenCanvas&&self instanceof WorkerGlobalScope,KC="undefined"!==typeof Image&&Image.prototype.decode,qC=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("_",null,t),window.removeEventListener("_",null,t)}catch(n){}return e}();function JC(e,t,n,i){var r;return r=n&&n.length?n.shift():YC?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("2d",i)}function QC(){return HC||(HC=JC(1,1)),HC}function eI(e){var t=e.canvas;t.width=1,t.height=1,e.clearRect(0,0,1,1)}function tI(e,t){var n=t.parentNode;n&&n.replaceChild(e,t)}function nI(e){for(;e.lastChild;)e.lastChild.remove()}function iI(e,t){return t&&(e.src=t),e.src&&KC?new Promise((function(t,n){return e.decode().then((function(){return t(e)})).catch((function(i){return e.complete&&e.width?t(e):n(i)}))})):function(e,t){return new Promise((function(n,i){function r(){a(),n(e)}function o(){a(),i(new Error("Image load error"))}function a(){e.removeEventListener("load",r),e.removeEventListener("error",o)}e.addEventListener("load",r),e.addEventListener("error",o),t&&(e.src=t)}))}(e)}var rI=function(){function e(){(0,Sr.Z)(this,e),this.cache_={},this.patternCache_={},this.cacheSize_=0,this.maxCacheSize_=1024}return(0,Cr.Z)(e,[{key:"clear",value:function(){this.cache_={},this.patternCache_={},this.cacheSize_=0}},{key:"canExpireCache",value:function(){return this.cacheSize_>this.maxCacheSize_}},{key:"expire",value:function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var n=this.cache_[t];0!==(3&e++)||n.hasListener()||(delete this.cache_[t],delete this.patternCache_[t],--this.cacheSize_)}}}},{key:"get",value:function(e,t,n){var i=oI(e,t,n);return i in this.cache_?this.cache_[i]:null}},{key:"getPattern",value:function(e,t,n){var i=oI(e,t,n);return i in this.patternCache_?this.patternCache_[i]:null}},{key:"set",value:function(e,t,n,i,r){var o=this,a=oI(e,t,n),s=a in this.cache_;this.cache_[a]=i,r&&(i.getImageState()===TC.IDLE&&i.load(),i.getImageState()===TC.LOADING?i.ready().then((function(){o.patternCache_[a]=QC().createPattern(i.getImage(1),"repeat")})):this.patternCache_[a]=QC().createPattern(i.getImage(1),"repeat")),s||++this.cacheSize_}},{key:"setSize",value:function(e){this.maxCacheSize_=e,this.expire()}}]),e}();function oI(e,t,n){return t+":"+e+":"+(n?UC(n):"null")}var aI=new rI,sI=null,lI=function(e){ac(n,e);var t=uc(n);function n(e,i,r,o,a){var s;return(0,Sr.Z)(this,n),(s=t.call(this)).hitDetectionImage_=null,s.image_=e,s.crossOrigin_=r,s.canvas_={},s.color_=a,s.imageState_=void 0===o?TC.IDLE:o,s.size_=e&&e.width&&e.height?[e.width,e.height]:null,s.src_=i,s.tainted_,s.ready_=null,s}return(0,Cr.Z)(n,[{key:"initializeImage_",value:function(){this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)}},{key:"isTainted_",value:function(){if(void 0===this.tainted_&&this.imageState_===TC.LOADED){sI||(sI=JC(1,1,void 0,{willReadFrequently:!0})),sI.drawImage(this.image_,0,0);try{sI.getImageData(0,0,1,1),this.tainted_=!1}catch(e){sI=null,this.tainted_=!0}}return!0===this.tainted_}},{key:"dispatchChangeEvent_",value:function(){this.dispatchEvent(zT)}},{key:"handleImageError_",value:function(){this.imageState_=TC.ERROR,this.dispatchChangeEvent_()}},{key:"handleImageLoad_",value:function(){this.imageState_=TC.LOADED,this.size_=[this.image_.width,this.image_.height],this.dispatchChangeEvent_()}},{key:"getImage",value:function(e){return this.image_||this.initializeImage_(),this.replaceColor_(e),this.canvas_[e]?this.canvas_[e]:this.image_}},{key:"getPixelRatio",value:function(e){return this.replaceColor_(e),this.canvas_[e]?e:1}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getHitDetectionImage",value:function(){if(this.image_||this.initializeImage_(),!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],n=JC(e,t);n.fillRect(0,0,e,t),this.hitDetectionImage_=n.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_}},{key:"getSize",value:function(){return this.size_}},{key:"getSrc",value:function(){return this.src_}},{key:"load",value:function(){var e=this;if(this.imageState_===TC.IDLE){this.image_||this.initializeImage_(),this.imageState_=TC.LOADING;try{void 0!==this.src_&&(this.image_.src=this.src_)}catch(t){this.handleImageError_()}this.image_ instanceof HTMLImageElement&&iI(this.image_,this.src_).then((function(t){e.image_=t,e.handleImageLoad_()})).catch(this.handleImageError_.bind(this))}}},{key:"replaceColor_",value:function(e){if(this.color_&&!this.canvas_[e]&&this.imageState_===TC.LOADED){var t,n=this.image_,i=JC(Math.ceil(n.width*e),Math.ceil(n.height*e)),r=i.canvas;i.scale(e,e),i.drawImage(n,0,0),i.globalCompositeOperation="multiply",i.fillStyle="string"===typeof(t=this.color_)?t:ZC(t),i.fillRect(0,0,r.width/e,r.height/e),i.globalCompositeOperation="destination-in",i.drawImage(n,0,0),this.canvas_[e]=r}}},{key:"ready",value:function(){var e=this;return this.ready_||(this.ready_=new Promise((function(t){if(e.imageState_===TC.LOADED||e.imageState_===TC.ERROR)t();else{e.addEventListener(zT,(function n(){e.imageState_!==TC.LOADED&&e.imageState_!==TC.ERROR||(e.removeEventListener(zT,n),t())}))}}))),this.ready_}}]),n}(HT);function uI(e,t,n,i,r,o){var a=void 0===t?void 0:aI.get(t,n,r);return a||(a=new lI(e,e&&"src"in e?e.src||void 0:t,n,i,r),aI.set(t,n,r,a,o)),o&&a&&!aI.getPattern(t,n,r)&&aI.set(t,n,r,a,o),a}var cI=lI;function hI(e){return e[0]>0&&e[1]>0}function dI(e,t){return Array.isArray(e)?e:(void 0===t?t=[e,e]:(t[0]=e,t[1]=e),t)}var fI=function(){function e(t){(0,Sr.Z)(this,e),this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale,this.scaleArray_=dI(t.scale),this.displacement_=t.displacement,this.declutterMode_=t.declutterMode}return(0,Cr.Z)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({opacity:this.getOpacity(),scale:Array.isArray(t)?t.slice():t,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getOpacity",value:function(){return this.opacity_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getDisplacement",value:function(){return this.displacement_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"getAnchor",value:function(){return oE()}},{key:"getImage",value:function(e){return oE()}},{key:"getHitDetectionImage",value:function(){return oE()}},{key:"getPixelRatio",value:function(e){return 1}},{key:"getImageState",value:function(){return oE()}},{key:"getImageSize",value:function(){return oE()}},{key:"getOrigin",value:function(){return oE()}},{key:"getSize",value:function(){return oE()}},{key:"setDisplacement",value:function(e){this.displacement_=e}},{key:"setOpacity",value:function(e){this.opacity_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=dI(e)}},{key:"listenImageChange",value:function(e){oE()}},{key:"load",value:function(){oE()}},{key:"unlistenImageChange",value:function(e){oE()}},{key:"ready",value:function(){return Promise.resolve()}}]),e}(),pI=fI;function vI(e){return e?Array.isArray(e)?ZC(e):"object"===typeof e&&"src"in e?function(e){if(!e.offset||!e.size)return aI.getPattern(e.src,"anonymous",e.color);var t=e.src+":"+e.offset,n=aI.getPattern(t,void 0,e.color);if(n)return n;var i=aI.get(e.src,"anonymous",null);if(i.getImageState()!==TC.LOADED)return null;var r=JC(e.size[0],e.size[1]);return r.drawImage(i.getImage(1),e.offset[0],e.offset[1],e.size[0],e.size[1],0,0,e.size[0],e.size[1]),uI(r.canvas,t,void 0,TC.LOADED,e.color,!0),aI.getPattern(t,void 0,e.color)}(e):e:null}var gI,mI="ol-hidden",yI="ol-unselectable",_I="ol-control",bI="ol-collapsed",kI=new RegExp(["^\\s*(?=(?:(?:[-a-z]+\\s*){0,2}(italic|oblique))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(small-caps))?)","(?=(?:(?:[-a-z]+\\s*){0,2}(bold(?:er)?|lighter|[1-9]00 ))?)","(?:(?:normal|\\1|\\2|\\3)\\s*){0,3}((?:xx?-)?","(?:small|large)|medium|smaller|larger|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx]))","(?:\\s*\\/\\s*(normal|[\\.\\d]+(?:\\%|in|[cem]m|ex|p[ctx])?))","?\\s*([-,\\\"\\'\\sa-z]+?)\\s*$"].join(""),"i"),TI=["style","variant","weight","size","lineHeight","family"],EI=function(e){var t=e.match(kI);if(!t)return null;for(var n={lineHeight:"normal",size:"1.2em",style:"normal",weight:"normal",variant:"normal"},i=0,r=TI.length;i<r;++i){var o=t[i+1];void 0!==o&&(n[TI[i]]=o)}return n.families=n.family.split(/,\s?/),n},xI="#000",wI="round",SI="round",CI=new cE,II=null,RI={};(function(){var e,t,n="32px ",i=["monospace","serif"],r=i.length,o="wmytzilWMYTZIL@#/&?$%10\uf013";function a(e,a,s){for(var l=!0,u=0;u<r;++u){var c=i[u];if(AI(e+" "+a+" "+n+c,o),s!=c){var h=AI(e+" "+a+" "+n+s+","+c,o);l&&h!=t}}return!!l}function s(){for(var t=!0,n=CI.getKeys(),i=0,r=n.length;i<r;++i){var o=n[i];if(CI.get(o)<100){var s=o.split("\n"),l=(0,d.Z)(s,3);a(l[0],l[1],l[2])?(UT(RI),null,void 0,CI.set(o,100)):(CI.set(o,CI.get(o)+1,!0),!1)}}t&&(clearInterval(e),void 0)}})(),function(){var e}();function OI(e,t){return II||JC(1,1),e!=gI&&(II.font=e,II.font),II.measureText(t)}function AI(e,t){return OI(e,t).width}var MI=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,{opacity:1,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,rotation:void 0!==e.rotation?e.rotation:0,scale:void 0!==e.scale?e.scale:1,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})).hitDetectionCanvas_=null,i.fill_=void 0!==e.fill?e.fill:null,i.origin_=[0,0],i.points_=e.points,i.radius=e.radius,i.radius2_=e.radius2,i.angle_=void 0!==e.angle?e.angle:0,i.stroke_=void 0!==e.stroke?e.stroke:null,i.size_,i.renderOptions_,i.imageState_=i.fill_&&i.fill_.loading()?TC.LOADING:TC.LOADED,i.imageState_===TC.LOADING&&i.ready().then((function(){return i.imageState_=TC.LOADED})),i.render(),i}return(0,Cr.Z)(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:Array.isArray(e)?e.slice():e,displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"getAnchor",value:function(){var e=this.size_,t=this.getDisplacement(),n=this.getScaleArray();return[e[0]/2-t[0]/n[0],e[1]/2+t[1]/n[1]]}},{key:"getAngle",value:function(){return this.angle_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e,this.render()}},{key:"getHitDetectionImage",value:function(){return this.hitDetectionCanvas_||(this.hitDetectionCanvas_=this.createHitDetectionCanvas_(this.renderOptions_)),this.hitDetectionCanvas_}},{key:"getImage",value:function(e){var t,n,i=null===(t=this.fill_)||void 0===t?void 0:t.getKey(),r="".concat(e,",").concat(this.angle_,",").concat(this.radius,",").concat(this.radius2_,",").concat(this.points_,",").concat(i)+Object.values(this.renderOptions_).join(","),o=null===(n=aI.get(r,null,null))||void 0===n?void 0:n.getImage(1);if(!o){var a=this.renderOptions_,s=Math.ceil(a.size*e),l=JC(s,s);this.draw_(a,l,e),o=l.canvas,aI.set(r,null,null,new cI(o,void 0,null,TC.LOADED,null))}return o}},{key:"getPixelRatio",value:function(e){return e}},{key:"getImageSize",value:function(){return this.size_}},{key:"getImageState",value:function(){return this.imageState_}},{key:"getOrigin",value:function(){return this.origin_}},{key:"getPoints",value:function(){return this.points_}},{key:"getRadius",value:function(){return this.radius}},{key:"getRadius2",value:function(){return this.radius2_}},{key:"getSize",value:function(){return this.size_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e,this.render()}},{key:"listenImageChange",value:function(e){}},{key:"load",value:function(){}},{key:"unlistenImageChange",value:function(e){}},{key:"calculateLineJoinSize_",value:function(e,t,n){if(0===t||this.points_===1/0||"bevel"!==e&&"miter"!==e)return t;var i=this.radius,r=void 0===this.radius2_?i:this.radius2_;if(i<r){var o=i;i=r,r=o}var a=void 0===this.radius2_?this.points_:2*this.points_,s=2*Math.PI/a,l=r*Math.sin(s),u=i-Math.sqrt(r*r-l*l),c=Math.sqrt(l*l+u*u),h=c/l;if("miter"===e&&h<=n)return h*t;var d=t/2/h,f=t/2*(u/c),p=Math.sqrt((i+d)*(i+d)+f*f)-i;if(void 0===this.radius2_||"bevel"===e)return 2*p;var v=i*Math.sin(s),g=r-Math.sqrt(i*i-v*v),m=Math.sqrt(v*v+g*g)/v;if(m<=n){var y=m*t/2-r-i;return 2*Math.max(p,y)}return 2*p}},{key:"createRenderOptions",value:function(){var e,t,n,i,r,o,a,s=wI,l=SI,u=0,c=null,h=0,d=0;this.stroke_&&(e=vI(null!==(t=this.stroke_.getColor())&&void 0!==t?t:"#000"),d=null!==(n=this.stroke_.getWidth())&&void 0!==n?n:1,c=this.stroke_.getLineDash(),h=null!==(i=this.stroke_.getLineDashOffset())&&void 0!==i?i:0,l=null!==(r=this.stroke_.getLineJoin())&&void 0!==r?r:SI,s=null!==(o=this.stroke_.getLineCap())&&void 0!==o?o:wI,u=null!==(a=this.stroke_.getMiterLimit())&&void 0!==a?a:10);var f=this.calculateLineJoinSize_(l,d,u),p=Math.max(this.radius,this.radius2_||0);return{strokeStyle:e,strokeWidth:d,size:Math.ceil(2*p+f),lineCap:s,lineDash:c,lineDashOffset:h,lineJoin:l,miterLimit:u}}},{key:"render",value:function(){this.renderOptions_=this.createRenderOptions();var e=this.renderOptions_.size;this.hitDetectionCanvas_=null,this.size_=[e,e]}},{key:"draw_",value:function(e,t,n){if(t.scale(n,n),t.translate(e.size/2,e.size/2),this.createPath_(t),this.fill_){var i=this.fill_.getColor();null===i&&(i=xI),t.fillStyle=vI(i),t.fill()}e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}},{key:"createHitDetectionCanvas_",value:function(e){var t;if(this.fill_){var n=this.fill_.getColor(),i=0;"string"===typeof n&&(n=UC(n)),null===n?i=1:Array.isArray(n)&&(i=4===n.length?n[3]:1),0===i&&(t=JC(e.size,e.size),this.drawHitDetectionCanvas_(e,t))}return t?t.canvas:this.getImage(1)}},{key:"createPath_",value:function(e){var t=this.points_,n=this.radius;if(t===1/0)e.arc(0,0,n,0,2*Math.PI);else{var i=void 0===this.radius2_?n:this.radius2_;void 0!==this.radius2_&&(t*=2);for(var r=this.angle_-Math.PI/2,o=2*Math.PI/t,a=0;a<t;a++){var s=r+a*o,l=a%2===0?n:i;e.lineTo(l*Math.cos(s),l*Math.sin(s))}e.closePath()}}},{key:"drawHitDetectionCanvas_",value:function(e,t){t.translate(e.size/2,e.size/2),this.createPath_(t),t.fillStyle=xI,t.fill(),e.strokeStyle&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke())}},{key:"ready",value:function(){return this.fill_?this.fill_.ready():Promise.resolve()}}]),n}(pI),LI=MI,NI=function(e){ac(n,e);var t=uc(n);function n(e){return(0,Sr.Z)(this,n),e=e||{radius:5},t.call(this,{points:1/0,fill:e.fill,radius:e.radius,stroke:e.stroke,scale:void 0!==e.scale?e.scale:1,rotation:void 0!==e.rotation?e.rotation:0,rotateWithView:void 0!==e.rotateWithView&&e.rotateWithView,displacement:void 0!==e.displacement?e.displacement:[0,0],declutterMode:e.declutterMode})}return(0,Cr.Z)(n,[{key:"clone",value:function(){var e=this.getScale(),t=new n({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),scale:Array.isArray(e)?e.slice():e,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()});return t.setOpacity(this.getOpacity()),t}},{key:"setRadius",value:function(e){this.radius=e,this.render()}}]),n}(LI),$I=NI,PI=function(){function e(t){(0,Sr.Z)(this,e),t=t||{},this.patternImage_=null,this.color_=null,void 0!==t.color&&this.setColor(t.color)}return(0,Cr.Z)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})}},{key:"getColor",value:function(){return this.color_}},{key:"setColor",value:function(e){var t=this;if(null!==e&&"object"===typeof e&&"src"in e){var n=uI(null,e.src,"anonymous",void 0,e.offset?null:e.color?e.color:null,!(e.offset&&e.size));n.ready().then((function(){t.patternImage_=null})),n.getImageState()===TC.IDLE&&n.load(),n.getImageState()===TC.LOADING&&(this.patternImage_=n)}this.color_=e}},{key:"getKey",value:function(){var e=this.getColor();return e?e instanceof CanvasPattern||e instanceof CanvasGradient?sE(e):"object"===typeof e&&"src"in e?e.src+":"+e.offset:UC(e).toString():""}},{key:"loading",value:function(){return!!this.patternImage_}},{key:"ready",value:function(){return this.patternImage_?this.patternImage_.ready():Promise.resolve()}}]),e}(),DI=PI,BI=function(){function e(t){(0,Sr.Z)(this,e),t=t||{},this.color_=void 0!==t.color?t.color:null,this.lineCap_=t.lineCap,this.lineDash_=void 0!==t.lineDash?t.lineDash:null,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return(0,Cr.Z)(e,[{key:"clone",value:function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})}},{key:"getColor",value:function(){return this.color_}},{key:"getLineCap",value:function(){return this.lineCap_}},{key:"getLineDash",value:function(){return this.lineDash_}},{key:"getLineDashOffset",value:function(){return this.lineDashOffset_}},{key:"getLineJoin",value:function(){return this.lineJoin_}},{key:"getMiterLimit",value:function(){return this.miterLimit_}},{key:"getWidth",value:function(){return this.width_}},{key:"setColor",value:function(e){this.color_=e}},{key:"setLineCap",value:function(e){this.lineCap_=e}},{key:"setLineDash",value:function(e){this.lineDash_=e}},{key:"setLineDashOffset",value:function(e){this.lineDashOffset_=e}},{key:"setLineJoin",value:function(e){this.lineJoin_=e}},{key:"setMiterLimit",value:function(e){this.miterLimit_=e}},{key:"setWidth",value:function(e){this.width_=e}}]),e}(),FI=function(){function e(t){(0,Sr.Z)(this,e),t=t||{},this.geometry_=null,this.geometryFunction_=ZI,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.hitDetectionRenderer_=void 0!==t.hitDetectionRenderer?t.hitDetectionRenderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex}return(0,Cr.Z)(e,[{key:"clone",value:function(){var t,n,i=this.getGeometry();return i&&"object"===typeof i&&(i=i.clone()),new e({geometry:null!==(t=i)&&void 0!==t?t:void 0,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,renderer:null!==(n=this.getRenderer())&&void 0!==n?n:void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"setRenderer",value:function(e){this.renderer_=e}},{key:"setHitDetectionRenderer",value:function(e){this.hitDetectionRenderer_=e}},{key:"getHitDetectionRenderer",value:function(){return this.hitDetectionRenderer_}},{key:"getGeometry",value:function(){return this.geometry_}},{key:"getGeometryFunction",value:function(){return this.geometryFunction_}},{key:"getFill",value:function(){return this.fill_}},{key:"setFill",value:function(e){this.fill_=e}},{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e}},{key:"getStroke",value:function(){return this.stroke_}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"getText",value:function(){return this.text_}},{key:"setText",value:function(e){this.text_=e}},{key:"getZIndex",value:function(){return this.zIndex_}},{key:"setGeometry",value:function(e){"function"===typeof e?this.geometryFunction_=e:"string"===typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=ZI,this.geometry_=e}},{key:"setZIndex",value:function(e){this.zIndex_=e}}]),e}();var UI=null;function jI(e,t){if(!UI){var n=new DI({color:"rgba(255,255,255,0.4)"}),i=new BI({color:"#3399CC",width:1.25});UI=[new FI({image:new $I({fill:n,stroke:i,radius:5}),fill:n,stroke:i})]}return UI}function ZI(e){return e.getGeometry()}var HI=FI;function zI(e,t,n,i){return void 0!==n&&void 0!==i?[n/e,i/t]:void 0!==n?n/e:void 0!==i?i/t:1}var VI,WI,GI=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=void 0!==(e=e||{}).opacity?e.opacity:1,o=void 0!==e.rotation?e.rotation:0,a=void 0!==e.scale?e.scale:1,s=void 0!==e.rotateWithView&&e.rotateWithView;(i=t.call(this,{opacity:r,rotation:o,scale:a,displacement:void 0!==e.displacement?e.displacement:[0,0],rotateWithView:s,declutterMode:e.declutterMode})).anchor_=void 0!==e.anchor?e.anchor:[.5,.5],i.normalizedAnchor_=null,i.anchorOrigin_=void 0!==e.anchorOrigin?e.anchorOrigin:"top-left",i.anchorXUnits_=void 0!==e.anchorXUnits?e.anchorXUnits:"fraction",i.anchorYUnits_=void 0!==e.anchorYUnits?e.anchorYUnits:"fraction",i.crossOrigin_=void 0!==e.crossOrigin?e.crossOrigin:null;var l,u=void 0!==e.img?e.img:null,c=e.src;if(CE(!(void 0!==c&&u),"`image` and `src` cannot be provided at the same time"),void 0!==c&&0!==c.length||!u||(c=u.src||sE(u)),CE(void 0!==c&&c.length>0,"A defined and non-empty `src` or `image` must be provided"),CE(!((void 0!==e.width||void 0!==e.height)&&void 0!==e.scale),"`width` or `height` cannot be provided together with `scale`"),void 0!==e.src?l=TC.IDLE:void 0!==u&&(l="complete"in u?u.complete?u.src?TC.LOADED:TC.IDLE:TC.LOADING:TC.LOADED),i.color_=void 0!==e.color?UC(e.color):null,i.iconImage_=uI(u,c,i.crossOrigin_,l,i.color_),i.offset_=void 0!==e.offset?e.offset:[0,0],i.offsetOrigin_=void 0!==e.offsetOrigin?e.offsetOrigin:"top-left",i.origin_=null,i.size_=void 0!==e.size?e.size:null,i.initialOptions_,void 0!==e.width||void 0!==e.height){var h,f;if(e.size){var p=(0,d.Z)(e.size,2);h=p[0],f=p[1]}else{var v=i.getImage(1);if(v.width&&v.height)h=v.width,f=v.height;else if(v instanceof HTMLImageElement){i.initialOptions_=e;return i.listenImageChange((function t(){if(i.unlistenImageChange(t),i.initialOptions_){var n=i.iconImage_.getSize();i.setScale(zI(n[0],n[1],e.width,e.height))}})),lc(i)}}void 0!==h&&i.setScale(zI(h,f,e.width,e.height))}return i}return(0,Cr.Z)(n,[{key:"clone",value:function(){var e,t,i;return this.initialOptions_?(t=this.initialOptions_.width,i=this.initialOptions_.height):(e=this.getScale(),e=Array.isArray(e)?e.slice():e),new n({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,crossOrigin:this.crossOrigin_,offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,opacity:this.getOpacity(),rotateWithView:this.getRotateWithView(),rotation:this.getRotation(),scale:e,width:t,height:i,size:null!==this.size_?this.size_.slice():void 0,src:this.getSrc(),displacement:this.getDisplacement().slice(),declutterMode:this.getDeclutterMode()})}},{key:"getAnchor",value:function(){var e=this.normalizedAnchor_;if(!e){e=this.anchor_;var t=this.getSize();if("fraction"==this.anchorXUnits_||"fraction"==this.anchorYUnits_){if(!t)return null;e=this.anchor_.slice(),"fraction"==this.anchorXUnits_&&(e[0]*=t[0]),"fraction"==this.anchorYUnits_&&(e[1]*=t[1])}if("top-left"!=this.anchorOrigin_){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),"top-right"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[0]=-e[0]+t[0]),"bottom-left"!=this.anchorOrigin_&&"bottom-right"!=this.anchorOrigin_||(e[1]=-e[1]+t[1])}this.normalizedAnchor_=e}var n=this.getDisplacement(),i=this.getScaleArray();return[e[0]-n[0]/i[0],e[1]+n[1]/i[1]]}},{key:"setAnchor",value:function(e){this.anchor_=e,this.normalizedAnchor_=null}},{key:"getColor",value:function(){return this.color_}},{key:"getImage",value:function(e){return this.iconImage_.getImage(e)}},{key:"getPixelRatio",value:function(e){return this.iconImage_.getPixelRatio(e)}},{key:"getImageSize",value:function(){return this.iconImage_.getSize()}},{key:"getImageState",value:function(){return this.iconImage_.getImageState()}},{key:"getHitDetectionImage",value:function(){return this.iconImage_.getHitDetectionImage()}},{key:"getOrigin",value:function(){if(this.origin_)return this.origin_;var e=this.offset_;if("top-left"!=this.offsetOrigin_){var t=this.getSize(),n=this.iconImage_.getSize();if(!t||!n)return null;e=e.slice(),"top-right"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[0]=n[0]-t[0]-e[0]),"bottom-left"!=this.offsetOrigin_&&"bottom-right"!=this.offsetOrigin_||(e[1]=n[1]-t[1]-e[1])}return this.origin_=e,this.origin_}},{key:"getSrc",value:function(){return this.iconImage_.getSrc()}},{key:"getSize",value:function(){return this.size_?this.size_:this.iconImage_.getSize()}},{key:"getWidth",value:function(){var e=this.getScaleArray();return this.size_?this.size_[0]*e[0]:this.iconImage_.getImageState()==TC.LOADED?this.iconImage_.getSize()[0]*e[0]:void 0}},{key:"getHeight",value:function(){var e=this.getScaleArray();return this.size_?this.size_[1]*e[1]:this.iconImage_.getImageState()==TC.LOADED?this.iconImage_.getSize()[1]*e[1]:void 0}},{key:"setScale",value:function(e){delete this.initialOptions_,oc(rc(n.prototype),"setScale",this).call(this,e)}},{key:"listenImageChange",value:function(e){this.iconImage_.addEventListener(zT,e)}},{key:"load",value:function(){this.iconImage_.load()}},{key:"unlistenImageChange",value:function(e){this.iconImage_.removeEventListener(zT,e)}},{key:"ready",value:function(){return this.iconImage_.ready()}}]),n}(pI),XI=GI,YI=function(){function e(t){(0,Sr.Z)(this,e),t=t||{},this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.keepUpright_=t.keepUpright,this.scale_=t.scale,this.scaleArray_=dI(void 0!==t.scale?t.scale:1),this.text_=t.text,this.textAlign_=t.textAlign,this.justify_=t.justify,this.repeat_=t.repeat,this.textBaseline_=t.textBaseline,this.fill_=void 0!==t.fill?t.fill:new DI({color:"#333"}),this.maxAngle_=void 0!==t.maxAngle?t.maxAngle:Math.PI/4,this.placement_=void 0!==t.placement?t.placement:"point",this.overflow_=!!t.overflow,this.stroke_=void 0!==t.stroke?t.stroke:null,this.offsetX_=void 0!==t.offsetX?t.offsetX:0,this.offsetY_=void 0!==t.offsetY?t.offsetY:0,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding,this.declutterMode_=t.declutterMode}return(0,Cr.Z)(e,[{key:"clone",value:function(){var t=this.getScale();return new e({font:this.getFont(),placement:this.getPlacement(),repeat:this.getRepeat(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),keepUpright:this.getKeepUpright(),scale:Array.isArray(t)?t.slice():t,text:this.getText(),textAlign:this.getTextAlign(),justify:this.getJustify(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0,padding:this.getPadding()||void 0,declutterMode:this.getDeclutterMode()})}},{key:"getOverflow",value:function(){return this.overflow_}},{key:"getFont",value:function(){return this.font_}},{key:"getMaxAngle",value:function(){return this.maxAngle_}},{key:"getPlacement",value:function(){return this.placement_}},{key:"getRepeat",value:function(){return this.repeat_}},{key:"getOffsetX",value:function(){return this.offsetX_}},{key:"getOffsetY",value:function(){return this.offsetY_}},{key:"getFill",value:function(){return this.fill_}},{key:"getRotateWithView",value:function(){return this.rotateWithView_}},{key:"getKeepUpright",value:function(){return this.keepUpright_}},{key:"getRotation",value:function(){return this.rotation_}},{key:"getScale",value:function(){return this.scale_}},{key:"getScaleArray",value:function(){return this.scaleArray_}},{key:"getStroke",value:function(){return this.stroke_}},{key:"getText",value:function(){return this.text_}},{key:"getTextAlign",value:function(){return this.textAlign_}},{key:"getJustify",value:function(){return this.justify_}},{key:"getTextBaseline",value:function(){return this.textBaseline_}},{key:"getBackgroundFill",value:function(){return this.backgroundFill_}},{key:"getBackgroundStroke",value:function(){return this.backgroundStroke_}},{key:"getPadding",value:function(){return this.padding_}},{key:"getDeclutterMode",value:function(){return this.declutterMode_}},{key:"setOverflow",value:function(e){this.overflow_=e}},{key:"setFont",value:function(e){this.font_=e}},{key:"setMaxAngle",value:function(e){this.maxAngle_=e}},{key:"setOffsetX",value:function(e){this.offsetX_=e}},{key:"setOffsetY",value:function(e){this.offsetY_=e}},{key:"setPlacement",value:function(e){this.placement_=e}},{key:"setRepeat",value:function(e){this.repeat_=e}},{key:"setRotateWithView",value:function(e){this.rotateWithView_=e}},{key:"setKeepUpright",value:function(e){this.keepUpright_=e}},{key:"setFill",value:function(e){this.fill_=e}},{key:"setRotation",value:function(e){this.rotation_=e}},{key:"setScale",value:function(e){this.scale_=e,this.scaleArray_=dI(void 0!==e?e:1)}},{key:"setStroke",value:function(e){this.stroke_=e}},{key:"setText",value:function(e){this.text_=e}},{key:"setTextAlign",value:function(e){this.textAlign_=e}},{key:"setJustify",value:function(e){this.justify_=e}},{key:"setTextBaseline",value:function(e){this.textBaseline_=e}},{key:"setBackgroundFill",value:function(e){this.backgroundFill_=e}},{key:"setBackgroundStroke",value:function(e){this.backgroundStroke_=e}},{key:"setPadding",value:function(e){this.padding_=e}}]),e}(),KI=YI,qI=0,JI=1<<qI++,QI=1<<qI++,eR=1<<qI++,tR=1<<qI++,nR=1<<qI++,iR=1<<qI++,rR=Math.pow(2,6)-1,oR=(VI={},(0,K.Z)(VI,JI,"boolean"),(0,K.Z)(VI,QI,"number"),(0,K.Z)(VI,eR,"string"),(0,K.Z)(VI,tR,"color"),(0,K.Z)(VI,nR,"number[]"),(0,K.Z)(VI,iR,"size"),VI),aR=Object.keys(oR).map(Number).sort(NT);function sR(e){var t,n=[],i=a(aR);try{for(i.s();!(t=i.n()).done;){var r=t.value;lR(e,r)&&n.push(oR[r])}}catch(PU){i.e(PU)}finally{i.f()}return 0===n.length?"untyped":n.length<3?n.join(" or "):n.slice(0,-1).join(", ")+", or "+n[n.length-1]}function lR(e,t){return(e&t)===t}function uR(e,t){return e===t}var cR=(0,Cr.Z)((function e(t,n){if((0,Sr.Z)(this,e),!function(e){return e in oR}(t))throw new Error("literal expressions must have a specific type, got ".concat(sR(t)));this.type=t,this.value=n})),hR=(0,Cr.Z)((function e(t,n){(0,Sr.Z)(this,e),this.type=t,this.operator=n;for(var i=arguments.length,r=new Array(i>2?i-2:0),o=2;o<i;o++)r[o-2]=arguments[o];this.args=r}));function dR(){return{variables:new Set,properties:new Set,featureId:!1,geometryType:!1}}function fR(e,t,n){switch(typeof e){case"boolean":if(uR(t,eR))return new cR(eR,e?"true":"false");if(!lR(t,JI))throw new Error("got a boolean, but expected ".concat(sR(t)));return new cR(JI,e);case"number":if(uR(t,iR))return new cR(iR,dI(e));if(uR(t,JI))return new cR(JI,!!e);if(uR(t,eR))return new cR(eR,e.toString());if(!lR(t,QI))throw new Error("got a number, but expected ".concat(sR(t)));return new cR(QI,e);case"string":if(uR(t,tR))return new cR(tR,FC(e));if(uR(t,JI))return new cR(JI,!!e);if(!lR(t,eR))throw new Error("got a string, but expected ".concat(sR(t)));return new cR(eR,e)}if(!Array.isArray(e))throw new Error("expression must be an array or a primitive value");if(0===e.length)throw new Error("empty expression");if("string"===typeof e[0])return function(e,t,n){var i=e[0],r=vR[i];if(!r)throw new Error("unknown operator: ".concat(i));return r(e,t,n)}(e,t,n);var i,r=a(e);try{for(r.s();!(i=r.n()).done;){if("number"!==typeof i.value)throw new Error("expected an array of numbers")}}catch(PU){r.e(PU)}finally{r.f()}if(uR(t,iR)){if(2!==e.length)throw new Error("expected an array of two values for a size, got ".concat(e.length));return new cR(iR,e)}if(uR(t,tR)){if(3===e.length)return new cR(tR,[].concat((0,s.Z)(e),[1]));if(4===e.length)return new cR(tR,e);throw new Error("expected an array of 3 or 4 values for a color, got ".concat(e.length))}if(!lR(t,nR))throw new Error("got an array of numbers, but expected ".concat(sR(t)));return new cR(nR,e)}var pR={Get:"get",Var:"var",Concat:"concat",GeometryType:"geometry-type",LineMetric:"line-metric",Any:"any",All:"all",Not:"!",Resolution:"resolution",Zoom:"zoom",Time:"time",Equal:"==",NotEqual:"!=",GreaterThan:">",GreaterThanOrEqualTo:">=",LessThan:"<",LessThanOrEqualTo:"<=",Multiply:"*",Divide:"/",Add:"+",Subtract:"-",Clamp:"clamp",Mod:"%",Pow:"^",Abs:"abs",Floor:"floor",Ceil:"ceil",Round:"round",Sin:"sin",Cos:"cos",Atan:"atan",Sqrt:"sqrt",Match:"match",Between:"between",Interpolate:"interpolate",Coalesce:"coalesce",Case:"case",In:"in",Number:"number",String:"string",Array:"array",Color:"color",Id:"id",Band:"band",Palette:"palette",ToString:"to-string",Has:"has"},vR=(WI={},(0,K.Z)(WI,pR.Get,TR(yR(1,1/0),gR)),(0,K.Z)(WI,pR.Var,TR(yR(1,1),(function(e,t,n){var i=e[1];if("string"!==typeof i)throw new Error("expected a string argument for var operation");return n.variables.add(i),[new cR(eR,i)]}))),(0,K.Z)(WI,pR.Has,TR(yR(1,1/0),gR)),(0,K.Z)(WI,pR.Id,TR((function(e,t,n){n.featureId=!0}),mR)),(0,K.Z)(WI,pR.Concat,TR(yR(2,1/0),bR(eR))),(0,K.Z)(WI,pR.GeometryType,TR((function(e,t,n){n.geometryType=!0}),mR)),(0,K.Z)(WI,pR.LineMetric,TR(mR)),(0,K.Z)(WI,pR.Resolution,TR(mR)),(0,K.Z)(WI,pR.Zoom,TR(mR)),(0,K.Z)(WI,pR.Time,TR(mR)),(0,K.Z)(WI,pR.Any,TR(yR(2,1/0),bR(JI))),(0,K.Z)(WI,pR.All,TR(yR(2,1/0),bR(JI))),(0,K.Z)(WI,pR.Not,TR(yR(1,1),bR(JI))),(0,K.Z)(WI,pR.Equal,TR(yR(2,2),bR(rR))),(0,K.Z)(WI,pR.NotEqual,TR(yR(2,2),bR(rR))),(0,K.Z)(WI,pR.GreaterThan,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.GreaterThanOrEqualTo,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.LessThan,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.LessThanOrEqualTo,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.Multiply,TR(yR(2,1/0),_R)),(0,K.Z)(WI,pR.Coalesce,TR(yR(2,1/0),_R)),(0,K.Z)(WI,pR.Divide,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.Add,TR(yR(2,1/0),bR(QI))),(0,K.Z)(WI,pR.Subtract,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.Clamp,TR(yR(3,3),bR(QI))),(0,K.Z)(WI,pR.Mod,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.Pow,TR(yR(2,2),bR(QI))),(0,K.Z)(WI,pR.Abs,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Floor,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Ceil,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Round,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Sin,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Cos,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Atan,TR(yR(1,2),bR(QI))),(0,K.Z)(WI,pR.Sqrt,TR(yR(1,1),bR(QI))),(0,K.Z)(WI,pR.Match,TR(yR(4,1/0),kR,(function(e,t,n){for(var i=e.length-1,r=eR|QI|JI,o=fR(e[1],r,n),a=fR(e[e.length-1],t,n),s=new Array(i-2),l=0;l<i-2;l+=2){try{var u=fR(e[l+2],o.type,n);s[l]=u}catch(PU){throw new Error("failed to parse argument ".concat(l+1," of match expression: ").concat(PU.message))}try{var c=fR(e[l+3],a.type,n);s[l+1]=c}catch(PU){throw new Error("failed to parse argument ".concat(l+2," of match expression: ").concat(PU.message))}}return[o].concat(s,[a])}))),(0,K.Z)(WI,pR.Between,TR(yR(3,3),bR(QI))),(0,K.Z)(WI,pR.Interpolate,TR(yR(6,1/0),kR,(function(e,t,n){var i,r=e[1];switch(r[0]){case"linear":i=1;break;case"exponential":var o=r[1];if("number"!==typeof o||o<=0)throw new Error("expected a number base for exponential interpolation"+", got ".concat(JSON.stringify(o)," instead"));i=o;break;default:throw new Error("invalid interpolation type: ".concat(JSON.stringify(r)))}var a,s=new cR(QI,i);try{a=fR(e[2],QI,n)}catch(PU){throw new Error("failed to parse argument 1 in interpolate expression: ".concat(PU.message))}for(var l=new Array(e.length-3),u=0;u<l.length;u+=2){try{var c=fR(e[u+3],QI,n);l[u]=c}catch(PU){throw new Error("failed to parse argument ".concat(u+2," for interpolate expression: ").concat(PU.message))}try{var h=fR(e[u+4],t,n);l[u+1]=h}catch(PU){throw new Error("failed to parse argument ".concat(u+3," for interpolate expression: ").concat(PU.message))}}return[s,a].concat(l)}))),(0,K.Z)(WI,pR.Case,TR(yR(3,1/0),(function(e,t,n){var i=e[0],r=e.length-1;if(r%2===0)throw new Error("expected an odd number of arguments for ".concat(i,", got ").concat(r," instead"))}),(function(e,t,n){for(var i=fR(e[e.length-1],t,n),r=new Array(e.length-1),o=0;o<r.length-1;o+=2){try{var a=fR(e[o+1],JI,n);r[o]=a}catch(PU){throw new Error("failed to parse argument ".concat(o," of case expression: ").concat(PU.message))}try{var s=fR(e[o+2],i.type,n);r[o+1]=s}catch(PU){throw new Error("failed to parse argument ".concat(o+1," of case expression: ").concat(PU.message))}}return r[r.length-1]=i,r}))),(0,K.Z)(WI,pR.In,TR(yR(2,2),(function(e,t,n){var i,r=e[2];if(!Array.isArray(r))throw new Error('the second argument for the "in" operator must be an array');if("string"===typeof r[0]){if("literal"!==r[0])throw new Error('for the "in" operator, a string array should be wrapped in a "literal" operator to disambiguate from expressions');if(!Array.isArray(r[1]))throw new Error('failed to parse "in" expression: the literal operator must be followed by an array');r=r[1],i=eR}else i=QI;for(var o=new Array(r.length),a=0;a<o.length;a++)try{var s=fR(r[a],i,n);o[a]=s}catch(PU){throw new Error("failed to parse haystack item ".concat(a,' for "in" expression: ').concat(PU.message))}return[fR(e[1],i,n)].concat(o)}))),(0,K.Z)(WI,pR.Number,TR(yR(1,1/0),bR(rR))),(0,K.Z)(WI,pR.String,TR(yR(1,1/0),bR(rR))),(0,K.Z)(WI,pR.Array,TR(yR(1,1/0),bR(QI))),(0,K.Z)(WI,pR.Color,TR(yR(1,4),bR(QI))),(0,K.Z)(WI,pR.Band,TR(yR(1,3),bR(QI))),(0,K.Z)(WI,pR.Palette,TR(yR(2,2),(function(e,t,n){var i;try{i=fR(e[1],QI,n)}catch(PU){throw new Error("failed to parse first argument in palette expression: ".concat(PU.message))}var r=e[2];if(!Array.isArray(r))throw new Error("the second argument of palette must be an array");for(var o=new Array(r.length),a=0;a<o.length;a++){var s=void 0;try{s=fR(r[a],tR,n)}catch(PU){throw new Error("failed to parse color at index ".concat(a," in palette expression: ").concat(PU.message))}if(!(s instanceof cR))throw new Error("the palette color at index ".concat(a," must be a literal value"));o[a]=s}return[i].concat(o)}))),(0,K.Z)(WI,pR.ToString,TR(yR(1,1),bR(JI|QI|eR|tR))),WI);function gR(e,t,n){for(var i=e.length-1,r=new Array(i),o=0;o<i;++o){var a=e[o+1];switch(typeof a){case"number":r[o]=new cR(QI,a);break;case"string":r[o]=new cR(eR,a);break;default:throw new Error("expected a string key or numeric array index for a get operation, got ".concat(a))}0===o&&n.properties.add(String(a))}return r}function mR(e,t,n){var i=e[0];if(1!==e.length)throw new Error("expected no arguments for ".concat(i," operation"));return[]}function yR(e,t){return function(n,i,r){var o=n[0],a=n.length-1;if(e===t){if(a!==e){var s=1===e?"":"s";throw new Error("expected ".concat(e," argument").concat(s," for ").concat(o,", got ").concat(a))}}else if(a<e||a>t){var l=t===1/0?"".concat(e," or more"):"".concat(e," to ").concat(t);throw new Error("expected ".concat(l," arguments for ").concat(o,", got ").concat(a))}}}function _R(e,t,n){for(var i=e.length-1,r=new Array(i),o=0;o<i;++o){var a=fR(e[o+1],t,n);r[o]=a}return r}function bR(e){return function(t,n,i){for(var r=t.length-1,o=new Array(r),a=0;a<r;++a){var s=fR(t[a+1],e,i);o[a]=s}return o}}function kR(e,t,n){var i=e[0],r=e.length-1;if(r%2===1)throw new Error("expected an even number of arguments for operation ".concat(i,", got ").concat(r," instead"))}function TR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e,n,i){for(var r,o=e[0],a=0;a<t.length;a++){var l=t[a](e,n,i);if(a==t.length-1){if(!l)throw new Error("expected last argument validator to return the parsed args");r=l}}return Km(hR,[n,o].concat((0,s.Z)(r)))}}function ER(e){if(!e)return"";var t=e.getType();switch(t){case"Point":case"LineString":case"Polygon":return t;case"MultiPoint":case"MultiLineString":case"MultiPolygon":return t.substring(5);case"Circle":return"Polygon";case"GeometryCollection":return ER(e.getGeometries()[0]);default:return""}}function xR(e,t,n){return wR(fR(e,t,n),n)}function wR(e,t){if(e instanceof cR){if(e.type===tR&&"string"===typeof e.value){var n=FC(e.value);return function(){return n}}return function(){return e.value}}var i=e.operator;switch(i){case pR.Number:case pR.String:case pR.Coalesce:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=wR(e.args[o],t);switch(n){case pR.Coalesce:return function(e){for(var t=0;t<i;++t){var n=r[t](e);if("undefined"!==typeof n&&null!==n)return n}throw new Error("Expected one of the values to be non-null")};case pR.Number:case pR.String:return function(e){for(var t=0;t<i;++t){var o=r[t](e);if(typeof o===n)return o}throw new Error("Expected one of the values to be a ".concat(n))};default:throw new Error("Unsupported assertion operator ".concat(n))}}(e,t);case pR.Get:case pR.Var:case pR.Has:return function(e,t){var n=e.args[0],i=n.value;switch(e.operator){case pR.Get:return function(t){for(var n=e.args,r=t.properties[i],o=1,a=n.length;o<a;++o){r=r[n[o].value]}return r};case pR.Var:return function(e){return e.variables[i]};case pR.Has:return function(t){var n=e.args;if(!(i in t.properties))return!1;for(var r=t.properties[i],o=1,a=n.length;o<a;++o){var s=n[o].value;if(!r||!Object.hasOwn(r,s))return!1;r=r[s]}return!0};default:throw new Error("Unsupported accessor operator ".concat(e.operator))}}(e);case pR.Id:return function(e){return e.featureId};case pR.GeometryType:return function(e){return e.geometryType};case pR.Concat:var r=e.args.map((function(e){return wR(e,t)}));return function(e){var t;return(t="").concat.apply(t,(0,s.Z)(r.map((function(t){return t(e).toString()}))))};case pR.Resolution:return function(e){return e.resolution};case pR.Any:case pR.All:case pR.Between:case pR.In:case pR.Not:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=wR(e.args[o],t);switch(n){case pR.Any:return function(e){for(var t=0;t<i;++t)if(r[t](e))return!0;return!1};case pR.All:return function(e){for(var t=0;t<i;++t)if(!r[t](e))return!1;return!0};case pR.Between:return function(e){var t=r[0](e),n=r[1](e),i=r[2](e);return t>=n&&t<=i};case pR.In:return function(e){for(var t=r[0](e),n=1;n<i;++n)if(t===r[n](e))return!0;return!1};case pR.Not:return function(e){return!r[0](e)};default:throw new Error("Unsupported logical operator ".concat(n))}}(e,t);case pR.Equal:case pR.NotEqual:case pR.LessThan:case pR.LessThanOrEqualTo:case pR.GreaterThan:case pR.GreaterThanOrEqualTo:return function(e,t){var n=e.operator,i=wR(e.args[0],t),r=wR(e.args[1],t);switch(n){case pR.Equal:return function(e){return i(e)===r(e)};case pR.NotEqual:return function(e){return i(e)!==r(e)};case pR.LessThan:return function(e){return i(e)<r(e)};case pR.LessThanOrEqualTo:return function(e){return i(e)<=r(e)};case pR.GreaterThan:return function(e){return i(e)>r(e)};case pR.GreaterThanOrEqualTo:return function(e){return i(e)>=r(e)};default:throw new Error("Unsupported comparison operator ".concat(n))}}(e,t);case pR.Multiply:case pR.Divide:case pR.Add:case pR.Subtract:case pR.Clamp:case pR.Mod:case pR.Pow:case pR.Abs:case pR.Floor:case pR.Ceil:case pR.Round:case pR.Sin:case pR.Cos:case pR.Atan:case pR.Sqrt:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=wR(e.args[o],t);switch(n){case pR.Multiply:return function(e){for(var t=1,n=0;n<i;++n)t*=r[n](e);return t};case pR.Divide:return function(e){return r[0](e)/r[1](e)};case pR.Add:return function(e){for(var t=0,n=0;n<i;++n)t+=r[n](e);return t};case pR.Subtract:return function(e){return r[0](e)-r[1](e)};case pR.Clamp:return function(e){var t=r[0](e),n=r[1](e);if(t<n)return n;var i=r[2](e);return t>i?i:t};case pR.Mod:return function(e){return r[0](e)%r[1](e)};case pR.Pow:return function(e){return Math.pow(r[0](e),r[1](e))};case pR.Abs:return function(e){return Math.abs(r[0](e))};case pR.Floor:return function(e){return Math.floor(r[0](e))};case pR.Ceil:return function(e){return Math.ceil(r[0](e))};case pR.Round:return function(e){return Math.round(r[0](e))};case pR.Sin:return function(e){return Math.sin(r[0](e))};case pR.Cos:return function(e){return Math.cos(r[0](e))};case pR.Atan:return 2===i?function(e){return Math.atan2(r[0](e),r[1](e))}:function(e){return Math.atan(r[0](e))};case pR.Sqrt:return function(e){return Math.sqrt(r[0](e))};default:throw new Error("Unsupported numeric operator ".concat(n))}}(e,t);case pR.Case:return function(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=wR(e.args[r],t);return function(e){for(var t=0;t<n-1;t+=2){if(i[t](e))return i[t+1](e)}return i[n-1](e)}}(e,t);case pR.Match:return function(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=wR(e.args[r],t);return function(e){for(var t=i[0](e),r=1;r<n;r+=2)if(t===i[r](e))return i[r+1](e);return i[n-1](e)}}(e,t);case pR.Interpolate:return function(e,t){for(var n=e.args.length,i=new Array(n),r=0;r<n;++r)i[r]=wR(e.args[r],t);return function(e){for(var t,r,o=i[0](e),a=i[1](e),s=2;s<n;s+=2){var l=i[s](e),u=i[s+1](e),c=Array.isArray(u);if(c&&(u=DC(u)),l>=a)return 2===s?u:c?CR(o,a,t,r,l,u):SR(o,a,t,r,l,u);t=l,r=u}return r}}(e,t);case pR.ToString:return function(e,t){for(var n=e.operator,i=e.args.length,r=new Array(i),o=0;o<i;++o)r[o]=wR(e.args[o],t);if(n===pR.ToString)return function(t){var n=r[0](t);return e.args[0].type===tR?ZC(n):n.toString()};throw new Error("Unsupported convert operator ".concat(n))}(e,t);default:throw new Error("Unsupported operator ".concat(i))}}function SR(e,t,n,i,r,o){var a=r-n;if(0===a)return i;var s=t-n;return i+(1===e?s/a:(Math.pow(e,s)-1)/(Math.pow(e,a)-1))*(o-i)}function CR(e,t,n,i,r,o){if(0===r-n)return i;var a=BC(i),s=BC(o),l=s[2]-a[2];return l>180?l-=360:l<-180&&(l+=360),jC(function(e){var t=wC.rgb(IC.xyz(e));return t[3]=e[3],t}([SR(e,t,n,a[0],r,s[0]),SR(e,t,n,a[1],r,s[1]),a[2]+SR(e,t,n,0,r,l),SR(e,t,n,i[3],r,o[3])]))}function IR(e){return!0}function RR(e){var t=dR(),n=function(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r){var o=e[r],s="filter"in o?xR(o.filter,JI,t):IR,l=void 0;if(Array.isArray(o.style)){var u=o.style.length;l=new Array(u);for(var c=0;c<u;++c)l[c]=AR(o.style[c],t)}else l=[AR(o.style,t)];i[r]={filter:s,styles:l}}return function(t){for(var r=[],o=!1,s=0;s<n;++s){if((0,i[s].filter)(t)&&(!e[s].else||!o)){o=!0;var l,u=a(i[s].styles);try{for(u.s();!(l=u.n()).done;){var c=(0,l.value)(t);c&&r.push(c)}}catch(PU){u.e(PU)}finally{u.f()}}}return r}}(e,t),i={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""};return function(e,r){if(i.properties=e.getPropertiesInternal(),i.resolution=r,t.featureId){var o=e.getId();i.featureId=void 0!==o?o:null}return t.geometryType&&(i.geometryType=ER(e.getGeometry())),n(i)}}function OR(e){for(var t=dR(),n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=AR(e[r],t);var o={variables:{},properties:{},resolution:NaN,featureId:null,geometryType:""},a=new Array(n);return function(e,r){if(o.properties=e.getPropertiesInternal(),o.resolution=r,t.featureId){var s=e.getId();o.featureId=void 0!==s?s:null}for(var l=0,u=0;u<n;++u){var c=i[u](o);c&&(a[l]=c,l+=1)}return a.length=l,a}}function AR(e,t){var n=MR(e,"",t),i=LR(e,"",t),r=function(e,t){var n="text-",i=$R(e,n+"value",t);if(!i)return null;var r=MR(e,n,t),o=MR(e,n+"background-",t),a=LR(e,n,t),s=LR(e,n+"background-",t),l=$R(e,n+"font",t),u=NR(e,n+"max-angle",t),c=NR(e,n+"offset-x",t),h=NR(e,n+"offset-y",t),d=PR(e,n+"overflow",t),f=$R(e,n+"placement",t),p=NR(e,n+"repeat",t),v=jR(e,n+"scale",t),g=PR(e,n+"rotate-with-view",t),m=NR(e,n+"rotation",t),y=$R(e,n+"align",t),_=$R(e,n+"justify",t),b=$R(e,n+"baseline",t),k=PR(e,n+"keep-upright",t),T=BR(e,n+"padding",t),E=VR(e,n+"declutter-mode"),x=new KI({declutterMode:E});return function(e){if(x.setText(i(e)),r&&x.setFill(r(e)),o&&x.setBackgroundFill(o(e)),a&&x.setStroke(a(e)),s&&x.setBackgroundStroke(s(e)),l&&x.setFont(l(e)),u&&x.setMaxAngle(u(e)),c&&x.setOffsetX(c(e)),h&&x.setOffsetY(h(e)),d&&x.setOverflow(d(e)),f){var t=f(e);if("point"!==t&&"line"!==t)throw new Error("Expected point or line for text-placement");x.setPlacement(t)}if(p&&x.setRepeat(p(e)),v&&x.setScale(v(e)),g&&x.setRotateWithView(g(e)),m&&x.setRotation(m(e)),y){var n=y(e);if("left"!==n&&"center"!==n&&"right"!==n&&"end"!==n&&"start"!==n)throw new Error("Expected left, right, center, start, or end for text-align");x.setTextAlign(n)}if(_){var E=_(e);if("left"!==E&&"right"!==E&&"center"!==E)throw new Error("Expected left, right, or center for text-justify");x.setJustify(E)}if(b){var w=b(e);if("bottom"!==w&&"top"!==w&&"middle"!==w&&"alphabetic"!==w&&"hanging"!==w)throw new Error("Expected bottom, top, middle, alphabetic, or hanging for text-baseline");x.setTextBaseline(w)}return T&&x.setPadding(T(e)),k&&x.setKeepUpright(k(e)),x}}(e,t),o=function(e,t){if("icon-src"in e)return function(e,t){var n="icon-",i=n+"src",r=GR(e[i],i),o=FR(e,n+"anchor",t),a=jR(e,n+"scale",t),s=NR(e,n+"opacity",t),l=FR(e,n+"displacement",t),u=NR(e,n+"rotation",t),c=PR(e,n+"rotate-with-view",t),h=HR(e,n+"anchor-origin"),d=zR(e,n+"anchor-x-units"),f=zR(e,n+"anchor-y-units"),p=function(e,t){var n=e[t];if(void 0===n)return;return YR(n,t)}(e,n+"color"),v=function(e,t){var n=e[t];if(void 0===n)return;if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));return n}(e,n+"cross-origin"),g=function(e,t){var n=e[t];if(void 0===n)return;return WR(n,t)}(e,n+"offset"),m=HR(e,n+"offset-origin"),y=ZR(e,n+"width"),_=ZR(e,n+"height"),b=function(e,t){var n=e[t];if(void 0===n)return;if("number"===typeof n)return dI(n);if(!Array.isArray(n))throw new Error("Expected a number or size array for ".concat(t));if(2!==n.length||"number"!==typeof n[0]||"number"!==typeof n[1])throw new Error("Expected a number or size array for ".concat(t));return n}(e,n+"size"),k=VR(e,n+"declutter-mode"),T=new XI({src:r,anchorOrigin:h,anchorXUnits:d,anchorYUnits:f,color:p,crossOrigin:v,offset:g,offsetOrigin:m,height:_,width:y,size:b,declutterMode:k});return function(e){return s&&T.setOpacity(s(e)),l&&T.setDisplacement(l(e)),u&&T.setRotation(u(e)),c&&T.setRotateWithView(c(e)),a&&T.setScale(a(e)),o&&T.setAnchor(o(e)),T}}(e,t);if("shape-points"in e)return function(e,t){var n="shape-",i=n+"points",r=n+"radius",o=XR(e[i],i),a=XR(e[r],r),s=MR(e,n,t),l=LR(e,n,t),u=jR(e,n+"scale",t),c=FR(e,n+"displacement",t),h=NR(e,n+"rotation",t),d=PR(e,n+"rotate-with-view",t),f=ZR(e,n+"radius2"),p=ZR(e,n+"angle"),v=VR(e,n+"declutter-mode"),g=new LI({points:o,radius:a,radius2:f,angle:p,declutterMode:v});return function(e){return s&&g.setFill(s(e)),l&&g.setStroke(l(e)),c&&g.setDisplacement(c(e)),h&&g.setRotation(h(e)),d&&g.setRotateWithView(d(e)),u&&g.setScale(u(e)),g}}(e,t);if("circle-radius"in e)return function(e,t){var n="circle-",i=MR(e,n,t),r=LR(e,n,t),o=NR(e,n+"radius",t),a=jR(e,n+"scale",t),s=FR(e,n+"displacement",t),l=NR(e,n+"rotation",t),u=PR(e,n+"rotate-with-view",t),c=VR(e,n+"declutter-mode"),h=new $I({radius:5,declutterMode:c});return function(e){return o&&h.setRadius(o(e)),i&&h.setFill(i(e)),r&&h.setStroke(r(e)),s&&h.setDisplacement(s(e)),l&&h.setRotation(l(e)),u&&h.setRotateWithView(u(e)),a&&h.setScale(a(e)),h}}(e,t);return null}(e,t),a=NR(e,"z-index",t);if(!n&&!i&&!r&&!o&&!jT(e))throw new Error("No fill, stroke, point, or text symbolizer properties in style: "+JSON.stringify(e));var s=new HI;return function(e){var t=!0;if(n){var l=n(e);l&&(t=!1),s.setFill(l)}if(i){var u=i(e);u&&(t=!1),s.setStroke(u)}if(r){var c=r(e);c&&(t=!1),s.setText(c)}if(o){var h=o(e);h&&(t=!1),s.setImage(h)}return a&&s.setZIndex(a(e)),t?null:s}}function MR(e,t,n){var i;if(t+"fill-pattern-src"in e)i=function(e,t,n){var i=$R(e,t+"pattern-src",n),r=UR(e,t+"pattern-offset",n),o=UR(e,t+"pattern-size",n),a=DR(e,t+"color",n);return function(e){return{src:i(e),offset:r&&r(e),size:o&&o(e),color:a&&a(e)}}}(e,t+"fill-",n);else{if("none"===e[t+"fill-color"])return function(e){return null};i=DR(e,t+"fill-color",n)}if(!i)return null;var r=new DI;return function(e){var t=i(e);return t===LC?null:(r.setColor(t),r)}}function LR(e,t,n){var i=NR(e,t+"stroke-width",n),r=DR(e,t+"stroke-color",n);if(!i&&!r)return null;var o=$R(e,t+"stroke-line-cap",n),a=$R(e,t+"stroke-line-join",n),s=BR(e,t+"stroke-line-dash",n),l=NR(e,t+"stroke-line-dash-offset",n),u=NR(e,t+"stroke-miter-limit",n),c=new BI;return function(e){if(r){var t=r(e);if(t===LC)return null;c.setColor(t)}if(i&&c.setWidth(i(e)),o){var n=o(e);if("butt"!==n&&"round"!==n&&"square"!==n)throw new Error("Expected butt, round, or square line cap");c.setLineCap(n)}if(a){var h=a(e);if("bevel"!==h&&"round"!==h&&"miter"!==h)throw new Error("Expected bevel, round, or miter line join");c.setLineJoin(h)}return s&&c.setLineDash(s(e)),l&&c.setLineDashOffset(l(e)),u&&c.setMiterLimit(u(e)),c}}function NR(e,t,n){if(t in e){var i=xR(e[t],QI,n);return function(e){return XR(i(e),t)}}}function $R(e,t,n){if(!(t in e))return null;var i=xR(e[t],eR,n);return function(e){return GR(i(e),t)}}function PR(e,t,n){if(!(t in e))return null;var i=xR(e[t],JI,n);return function(e){var n=i(e);if("boolean"!==typeof n)throw new Error("Expected a boolean for ".concat(t));return n}}function DR(e,t,n){if(!(t in e))return null;var i=xR(e[t],tR,n);return function(e){return YR(i(e),t)}}function BR(e,t,n){if(!(t in e))return null;var i=xR(e[t],nR,n);return function(e){return WR(i(e),t)}}function FR(e,t,n){if(!(t in e))return null;var i=xR(e[t],nR,n);return function(e){var n=WR(i(e),t);if(2!==n.length)throw new Error("Expected two numbers for ".concat(t));return n}}function UR(e,t,n){if(!(t in e))return null;var i=xR(e[t],nR,n);return function(e){return KR(i(e),t)}}function jR(e,t,n){if(!(t in e))return null;var i=xR(e[t],nR|QI,n);return function(e){return function(e,t){if("number"===typeof e)return e;return KR(e,t)}(i(e),t)}}function ZR(e,t){var n=e[t];if(void 0!==n){if("number"!==typeof n)throw new Error("Expected a number for ".concat(t));return n}}function HR(e,t){var n=e[t];if(void 0!==n){if("bottom-left"!==n&&"bottom-right"!==n&&"top-left"!==n&&"top-right"!==n)throw new Error("Expected bottom-left, bottom-right, top-left, or top-right for ".concat(t));return n}}function zR(e,t){var n=e[t];if(void 0!==n){if("pixels"!==n&&"fraction"!==n)throw new Error("Expected pixels or fraction for ".concat(t));return n}}function VR(e,t){var n=e[t];if(void 0!==n){if("string"!==typeof n)throw new Error("Expected a string for ".concat(t));if("declutter"!==n&&"obstacle"!==n&&"none"!==n)throw new Error("Expected declutter, obstacle, or none for ".concat(t));return n}}function WR(e,t){if(!Array.isArray(e))throw new Error("Expected an array for ".concat(t));for(var n=e.length,i=0;i<n;++i)if("number"!==typeof e[i])throw new Error("Expected an array of numbers for ".concat(t));return e}function GR(e,t){if("string"!==typeof e)throw new Error("Expected a string for ".concat(t));return e}function XR(e,t){if("number"!==typeof e)throw new Error("Expected a number for ".concat(t));return e}function YR(e,t){if("string"===typeof e)return e;var n=WR(e,t),i=n.length;if(i<3||i>4)throw new Error("Expected a color with 3 or 4 values for ".concat(t));return n}function KR(e,t){var n=WR(e,t);if(2!==n.length)throw new Error("Expected an array of two numbers for ".concat(t));return n}var qR="renderOrder",JR=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{};var r=Object.assign({},e);return delete r.style,delete r.renderBuffer,delete r.updateWhileAnimating,delete r.updateWhileInteracting,(i=t.call(this,r)).declutter_=e.declutter?String(e.declutter):void 0,i.renderBuffer_=void 0!==e.renderBuffer?e.renderBuffer:100,i.style_=null,i.styleFunction_=void 0,i.setStyle(e.style),i.updateWhileAnimating_=void 0!==e.updateWhileAnimating&&e.updateWhileAnimating,i.updateWhileInteracting_=void 0!==e.updateWhileInteracting&&e.updateWhileInteracting,i}return(0,Cr.Z)(n,[{key:"getDeclutter",value:function(){return this.declutter_}},{key:"getFeatures",value:function(e){return oc(rc(n.prototype),"getFeatures",this).call(this,e)}},{key:"getRenderBuffer",value:function(){return this.renderBuffer_}},{key:"getRenderOrder",value:function(){return this.get(qR)}},{key:"getStyle",value:function(){return this.style_}},{key:"getStyleFunction",value:function(){return this.styleFunction_}},{key:"getUpdateWhileAnimating",value:function(){return this.updateWhileAnimating_}},{key:"getUpdateWhileInteracting",value:function(){return this.updateWhileInteracting_}},{key:"renderDeclutter",value:function(e,t){var n=this.getDeclutter();n in e.declutter===!1&&(e.declutter[n]=new lC(9)),this.getRenderer().renderDeclutter(e,t)}},{key:"setRenderOrder",value:function(e){this.set(qR,e)}},{key:"setStyle",value:function(e){this.style_=void 0===e?jI:e;var t=function(e){if(void 0===e)return jI;if(!e)return null;if("function"===typeof e)return e;if(e instanceof HI)return e;if(!Array.isArray(e))return OR([e]);if(0===e.length)return[];var t=e.length,n=e[0];if(n instanceof HI){for(var i=new Array(t),r=0;r<t;++r){var o=e[r];if(!(o instanceof HI))throw new Error("Expected a list of style instances");i[r]=o}return i}if("style"in n){for(var a=new Array(t),s=0;s<t;++s){var l=e[s];if(!("style"in l))throw new Error("Expected a list of rules with a style property");a[s]=l}return RR(a)}var u=e;return OR(u)}(e);this.styleFunction_=null===e?void 0:function(e){var t;if("function"===typeof e)t=e;else{var n;Array.isArray(e)?n=e:(CE("function"===typeof e.getZIndex,"Expected an `Style` or an array of `Style`"),n=[e]),t=function(){return n}}return t}(t),this.changed()}},{key:"setDeclutter",value:function(e){this.declutter_=e?String(e):void 0,this.changed()}}]),n}(rC);var QR=JR,eO=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).map_=e,i}return(0,Cr.Z)(n,[{key:"dispatchRenderEvent",value:function(e,t){oE()}},{key:"calculateMatrices2D",value:function(e){var t=e.viewState,n=e.coordinateToPixelTransform,i=e.pixelToCoordinateTransform;uS(n,e.size[0]/2,e.size[1]/2,1/t.resolution,-1/t.resolution,-t.rotation,-t.center[0],-t.center[1]),cS(i,n)}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r,o,a,s){var l,u=t.viewState;function c(e,t,n,i){return r.call(o,t,e?n:null,i)}var h=u.projection,d=Gx(e.slice(),h),f=[[0,0]];if(h.canWrapX()&&i){var p=Ux(h.getExtent());f.push([-p,0],[p,0])}for(var v=t.layerStatesArray,g=v.length,m=[],y=[],_=0;_<f.length;_++)for(var b=g-1;b>=0;--b){var k=v[b],T=k.layer;if(T.hasRenderer()&&iC(k,u)&&a.call(s,T)){var E=T.getRenderer(),x=T.getSource();if(E&&x){var w=x.getWrapX()?d:e,S=c.bind(null,k.managed);y[0]=w[0]+f[_][0],y[1]=w[1]+f[_][1],l=E.forEachFeatureAtCoordinate(y,t,n,S,m)}if(l)return l}}if(0!==m.length){var C=1/m.length;return m.forEach((function(e,t){return e.distanceSq+=t*C})),m.sort((function(e,t){return e.distanceSq-t.distanceSq})),m.some((function(e){return l=e.callback(e.feature,e.layer,e.geometry)})),l}}},{key:"hasFeatureAtCoordinate",value:function(e,t,n,i,r,o){return void 0!==this.forEachFeatureAtCoordinate(e,t,n,i,DT,this,r,o)}},{key:"getMap",value:function(){return this.map_}},{key:"renderFrame",value:function(e){oE()}},{key:"scheduleExpireIconCache",value:function(e){aI.canExpireCache()&&e.postRenderFunctions.push(tO)}}]),n}(LT);function tO(e,t){aI.expire()}var nO=eO,iO=function(e){ac(n,e);var t=uc(n);function n(e,i,r,o){var a;return(0,Sr.Z)(this,n),(a=t.call(this,e)).inversePixelTransform=i,a.frameState=r,a.context=o,a}return(0,Cr.Z)(n)}(AT),rO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),(i=t.call(this,e)).fontChangeListenerKey_=eE(CI,MT,e.redrawText,e),i.element_=document.createElement("div");var r=i.element_.style;r.position="absolute",r.width="100%",r.height="100%",r.zIndex="0",i.element_.className=yI+" ol-layers";var o=e.getViewport();return o.insertBefore(i.element_,o.firstChild||null),i.children_=[],i.renderedVisible_=!0,i}return(0,Cr.Z)(n,[{key:"dispatchRenderEvent",value:function(e,t){var n=this.getMap();if(n.hasListener(e)){var i=new iO(e,void 0,t);n.dispatchEvent(i)}}},{key:"disposeInternal",value:function(){nE(this.fontChangeListenerKey_),this.element_.remove(),oc(rc(n.prototype),"disposeInternal",this).call(this)}},{key:"renderFrame",value:function(e){if(e){this.calculateMatrices2D(e),this.dispatchRenderEvent(ZE,e);var t=e.layerStatesArray.sort((function(e,t){return e.zIndex-t.zIndex})),n=t.some((function(e){return e.layer instanceof QR&&e.layer.getDeclutter()}));n&&(e.declutter={});var i=e.viewState;this.children_.length=0;for(var r=[],o=null,a=0,s=t.length;a<s;++a){var l=t[a];e.layerIndex=a;var u=l.layer,c=u.getSourceState();if(!iC(l,i)||"ready"!=c&&"undefined"!=c)u.unrender();else{var h=u.render(e,o);h&&(h!==o&&(this.children_.push(h),o=h),r.push(l))}}this.declutter(e,r),function(e,t){for(var n=e.childNodes,i=0;;++i){var r=n[i],o=t[i];if(!r&&!o)break;r!==o&&(r?o?e.insertBefore(o,r):(e.removeChild(r),--i):e.appendChild(o))}}(this.element_,this.children_),this.dispatchRenderEvent(HE,e),this.renderedVisible_||(this.element_.style.display="",this.renderedVisible_=!0),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.element_.style.display="none",this.renderedVisible_=!1)}},{key:"declutter",value:function(e,t){if(e.declutter){for(var n=t.length-1;n>=0;--n){var i=t[n],r=i.layer;r.getDeclutter()&&r.renderDeclutter(e,i)}t.forEach((function(t){return t.layer.renderDeferred(e)}))}}}]),n}(nO),oO=rO,aO=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this,e)).layer=i,r}return(0,Cr.Z)(n)}(AT),sO="layers",lO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{};var r=Object.assign({},e);delete r.layers;var o=e.layers;return(i=t.call(this,r)).on,i.once,i.un,i.layersListenerKeys_=[],i.listenerKeys_={},i.addChangeListener(sO,i.handleLayersChanged_),o?Array.isArray(o)?o=new gE(o.slice(),{unique:!0}):CE("function"===typeof o.getArray,"Expected `layers` to be an array or a `Collection`"):o=new gE(void 0,{unique:!0}),i.setLayers(o),i}return(0,Cr.Z)(n,[{key:"handleLayerChange_",value:function(){this.changed()}},{key:"handleLayersChanged_",value:function(){this.layersListenerKeys_.forEach(nE),this.layersListenerKeys_.length=0;var e=this.getLayers();for(var t in this.layersListenerKeys_.push(eE(e,hE,this.handleLayersAdd_,this),eE(e,dE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[t].forEach(nE);UT(this.listenerKeys_);for(var n=e.getArray(),i=0,r=n.length;i<r;i++){var o=n[i];this.registerLayerListeners_(o),this.dispatchEvent(new aO("addlayer",o))}this.changed()}},{key:"registerLayerListeners_",value:function(e){var t=[eE(e,MT,this.handleLayerChange_,this),eE(e,zT,this.handleLayerChange_,this)];e instanceof n&&t.push(eE(e,"addlayer",this.handleLayerGroupAdd_,this),eE(e,"removelayer",this.handleLayerGroupRemove_,this)),this.listenerKeys_[sE(e)]=t}},{key:"handleLayerGroupAdd_",value:function(e){this.dispatchEvent(new aO("addlayer",e.layer))}},{key:"handleLayerGroupRemove_",value:function(e){this.dispatchEvent(new aO("removelayer",e.layer))}},{key:"handleLayersAdd_",value:function(e){var t=e.element;this.registerLayerListeners_(t),this.dispatchEvent(new aO("addlayer",t)),this.changed()}},{key:"handleLayersRemove_",value:function(e){var t=e.element,n=sE(t);this.listenerKeys_[n].forEach(nE),delete this.listenerKeys_[n],this.dispatchEvent(new aO("removelayer",t)),this.changed()}},{key:"getLayers",value:function(){return this.get(sO)}},{key:"setLayers",value:function(e){var t=this.getLayers();if(t)for(var n=t.getArray(),i=0,r=n.length;i<r;++i)this.dispatchEvent(new aO("removelayer",n[i]));this.set(sO,e)}},{key:"getLayersArray",value:function(e){return e=void 0!==e?e:[],this.getLayers().forEach((function(t){t.getLayersArray(e)})),e}},{key:"getLayerStatesArray",value:function(e){var t=void 0!==e?e:[],n=t.length;this.getLayers().forEach((function(e){e.getLayerStatesArray(t)}));var i=this.getLayerState(),r=i.zIndex;e||void 0!==i.zIndex||(r=0);for(var o=n,a=t.length;o<a;o++){var s=t[o];s.opacity*=i.opacity,s.visible=s.visible&&i.visible,s.maxResolution=Math.min(s.maxResolution,i.maxResolution),s.minResolution=Math.max(s.minResolution,i.minResolution),s.minZoom=Math.max(s.minZoom,i.minZoom),s.maxZoom=Math.min(s.maxZoom,i.maxZoom),void 0!==i.extent&&(void 0!==s.extent?s.extent=Dx(s.extent,i.extent):s.extent=i.extent),void 0===s.zIndex&&(s.zIndex=r)}return t}},{key:"getSourceState",value:function(){return"ready"}}]),n}(FE),uO=lO,cO=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this,e)).map=i,o.frameState=void 0!==r?r:null,o}return(0,Cr.Z)(n)}(AT),hO=cO,dO=function(e){ac(n,e);var t=uc(n);function n(e,i,r,o,a,s){var l;return(0,Sr.Z)(this,n),(l=t.call(this,e,i,a)).originalEvent=r,l.pixel_=null,l.coordinate_=null,l.dragging=void 0!==o&&o,l.activePointers=s,l}return(0,Cr.Z)(n,[{key:"pixel",get:function(){return this.pixel_||(this.pixel_=this.map.getEventPixel(this.originalEvent)),this.pixel_},set:function(e){this.pixel_=e}},{key:"coordinate",get:function(){return this.coordinate_||(this.coordinate_=this.map.getCoordinateFromPixel(this.pixel)),this.coordinate_},set:function(e){this.coordinate_=e}},{key:"preventDefault",value:function(){oc(rc(n.prototype),"preventDefault",this).call(this),"preventDefault"in this.originalEvent&&this.originalEvent.preventDefault()}},{key:"stopPropagation",value:function(){oc(rc(n.prototype),"stopPropagation",this).call(this),"stopPropagation"in this.originalEvent&&this.originalEvent.stopPropagation()}}]),n}(hO),fO=dO,pO={SINGLECLICK:"singleclick",CLICK:GT,DBLCLICK:XT,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"},vO="pointermove",gO="pointerdown",mO=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;(0,Sr.Z)(this,n),(r=t.call(this,e)).map_=e,r.clickTimeoutId_,r.emulateClicks_=!1,r.dragging_=!1,r.dragListenerKeys_=[],r.moveTolerance_=void 0===i?1:i,r.down_=null;var o=r.map_.getViewport();return r.activePointers_=[],r.trackedTouches_={},r.element_=o,r.pointerdownListenerKey_=eE(o,gO,r.handlePointerDown_,re(r)),r.originalPointerMoveEvent_,r.relayedListenerKey_=eE(o,vO,r.relayMoveEvent_,re(r)),r.boundHandleTouchMove_=r.handleTouchMove_.bind(re(r)),r.element_.addEventListener(JT,r.boundHandleTouchMove_,!!qC&&{passive:!1}),r}return(0,Cr.Z)(n,[{key:"emulateClick_",value:function(e){var t=this,n=new fO(pO.CLICK,this.map_,e);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new fO(pO.DBLCLICK,this.map_,e),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout((function(){t.clickTimeoutId_=void 0;var n=new fO(pO.SINGLECLICK,t.map_,e);t.dispatchEvent(n)}),250)}},{key:"updateActivePointers_",value:function(e){var t=e,n=t.pointerId;if(t.type==pO.POINTERUP||t.type==pO.POINTERCANCEL){for(var i in delete this.trackedTouches_[n],this.trackedTouches_)if(this.trackedTouches_[i].target!==t.target){delete this.trackedTouches_[i];break}}else t.type!=pO.POINTERDOWN&&t.type!=pO.POINTERMOVE||(this.trackedTouches_[n]=t);this.activePointers_=Object.values(this.trackedTouches_)}},{key:"handlePointerUp_",value:function(e){this.updateActivePointers_(e);var t=new fO(pO.POINTERUP,this.map_,e,void 0,void 0,this.activePointers_);this.dispatchEvent(t),this.emulateClicks_&&!t.defaultPrevented&&!this.dragging_&&this.isMouseActionButton_(e)&&this.emulateClick_(this.down_),0===this.activePointers_.length&&(this.dragListenerKeys_.forEach(nE),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null)}},{key:"isMouseActionButton_",value:function(e){return 0===e.button}},{key:"handlePointerDown_",value:function(e){this.emulateClicks_=0===this.activePointers_.length,this.updateActivePointers_(e);var t=new fO(pO.POINTERDOWN,this.map_,e,void 0,void 0,this.activePointers_);if(this.dispatchEvent(t),this.down_=new PointerEvent(e.type,e),Object.defineProperty(this.down_,"target",{writable:!1,value:e.target}),0===this.dragListenerKeys_.length){var n=this.map_.getOwnerDocument();this.dragListenerKeys_.push(eE(n,pO.POINTERMOVE,this.handlePointerMove_,this),eE(n,pO.POINTERUP,this.handlePointerUp_,this),eE(this.element_,pO.POINTERCANCEL,this.handlePointerUp_,this)),this.element_.getRootNode&&this.element_.getRootNode()!==n&&this.dragListenerKeys_.push(eE(this.element_.getRootNode(),pO.POINTERUP,this.handlePointerUp_,this))}}},{key:"handlePointerMove_",value:function(e){if(this.isMoving_(e)){this.updateActivePointers_(e),this.dragging_=!0;var t=new fO(pO.POINTERDRAG,this.map_,e,this.dragging_,void 0,this.activePointers_);this.dispatchEvent(t)}}},{key:"relayMoveEvent_",value:function(e){this.originalPointerMoveEvent_=e;var t=!(!this.down_||!this.isMoving_(e));this.dispatchEvent(new fO(pO.POINTERMOVE,this.map_,e,t))}},{key:"handleTouchMove_",value:function(e){var t=this.originalPointerMoveEvent_;t&&!t.defaultPrevented||"boolean"===typeof e.cancelable&&!0!==e.cancelable||e.preventDefault()}},{key:"isMoving_",value:function(e){return this.dragging_||Math.abs(e.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(e.clientY-this.down_.clientY)>this.moveTolerance_}},{key:"disposeInternal",value:function(){this.relayedListenerKey_&&(nE(this.relayedListenerKey_),this.relayedListenerKey_=null),this.element_.removeEventListener(JT,this.boundHandleTouchMove_),this.pointerdownListenerKey_&&(nE(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(nE),this.dragListenerKeys_.length=0,this.element_=null,oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(HT),yO=mO,_O="postrender",bO="movestart",kO="moveend",TO="loadstart",EO="loadend",xO="layergroup",wO="size",SO="target",CO="view",IO=1/0,RO=function(){function e(t,n){(0,Sr.Z)(this,e),this.priorityFunction_=t,this.keyFunction_=n,this.elements_=[],this.priorities_=[],this.queuedElements_={}}return(0,Cr.Z)(e,[{key:"clear",value:function(){this.elements_.length=0,this.priorities_.length=0,UT(this.queuedElements_)}},{key:"dequeue",value:function(){var e=this.elements_,t=this.priorities_,n=e[0];1==e.length?(e.length=0,t.length=0):(e[0]=e.pop(),t[0]=t.pop(),this.siftUp_(0));var i=this.keyFunction_(n);return delete this.queuedElements_[i],n}},{key:"enqueue",value:function(e){CE(!(this.keyFunction_(e)in this.queuedElements_),"Tried to enqueue an `element` that was already added to the queue");var t=this.priorityFunction_(e);return t!=IO&&(this.elements_.push(e),this.priorities_.push(t),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)}},{key:"getCount",value:function(){return this.elements_.length}},{key:"getLeftChildIndex_",value:function(e){return 2*e+1}},{key:"getRightChildIndex_",value:function(e){return 2*e+2}},{key:"getParentIndex_",value:function(e){return e-1>>1}},{key:"heapify_",value:function(){var e;for(e=(this.elements_.length>>1)-1;e>=0;e--)this.siftUp_(e)}},{key:"isEmpty",value:function(){return 0===this.elements_.length}},{key:"isKeyQueued",value:function(e){return e in this.queuedElements_}},{key:"isQueued",value:function(e){return this.isKeyQueued(this.keyFunction_(e))}},{key:"siftUp_",value:function(e){for(var t=this.elements_,n=this.priorities_,i=t.length,r=t[e],o=n[e],a=e;e<i>>1;){var s=this.getLeftChildIndex_(e),l=this.getRightChildIndex_(e),u=l<i&&n[l]<n[s]?l:s;t[e]=t[u],n[e]=n[u],e=u}t[e]=r,n[e]=o,this.siftDown_(a,e)}},{key:"siftDown_",value:function(e,t){for(var n=this.elements_,i=this.priorities_,r=n[t],o=i[t];t>e;){var a=this.getParentIndex_(t);if(!(i[a]>o))break;n[t]=n[a],i[t]=i[a],t=a}n[t]=r,i[t]=o}},{key:"reprioritize",value:function(){var e,t,n,i=this.priorityFunction_,r=this.elements_,o=this.priorities_,a=0,s=r.length;for(t=0;t<s;++t)(n=i(e=r[t]))==IO?delete this.queuedElements_[this.keyFunction_(e)]:(o[a]=n,r[a++]=e);r.length=a,o.length=a,this.heapify_()}}]),e}(),OO=0,AO=1,MO=2,LO=3,NO=4,$O=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this,(function(t){return e.apply(null,t)}),(function(e){return e[0].getKey()}))).boundHandleTileChange_=r.handleTileChange.bind(re(r)),r.tileChangeCallback_=i,r.tilesLoading_=0,r.tilesLoadingKeys_={},r}return(0,Cr.Z)(n,[{key:"enqueue",value:function(e){var t=oc(rc(n.prototype),"enqueue",this).call(this,e);t&&e[0].addEventListener(zT,this.boundHandleTileChange_);return t}},{key:"getTilesLoading",value:function(){return this.tilesLoading_}},{key:"handleTileChange",value:function(e){var t=e.target,n=t.getState();if(n===MO||n===LO||n===NO){n!==LO&&t.removeEventListener(zT,this.boundHandleTileChange_);var i=t.getKey();i in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[i],--this.tilesLoading_),this.tileChangeCallback_()}}},{key:"loadMoreTiles",value:function(e,t){for(var n=0;this.tilesLoading_<e&&n<t&&this.getCount()>0;){var i=this.dequeue()[0],r=i.getKey();i.getState()!==OO||r in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[r]=!0,++this.tilesLoading_,++n,i.load())}}}]),n}(RO);var PO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),i=t.call(this);var r=e.element;return!r||e.target||r.style.pointerEvents||(r.style.pointerEvents="auto"),i.element=r||null,i.target_=null,i.map_=null,i.listenerKeys=[],e.render&&(i.render=e.render),e.target&&i.setTarget(e.target),i}return(0,Cr.Z)(n,[{key:"disposeInternal",value:function(){var e;null===(e=this.element)||void 0===e||e.remove(),oc(rc(n.prototype),"disposeInternal",this).call(this)}},{key:"getMap",value:function(){return this.map_}},{key:"setMap",value:function(e){var t;this.map_&&(null===(t=this.element)||void 0===t||t.remove());for(var n=0,i=this.listenerKeys.length;n<i;++n)nE(this.listenerKeys[n]);if(this.listenerKeys.length=0,this.map_=e,e){var r,o=null!==(r=this.target_)&&void 0!==r?r:e.getOverlayContainerStopEvent();this.element&&o.appendChild(this.element),this.render!==FT&&this.listenerKeys.push(eE(e,_O,this.render,this)),e.render()}}},{key:"render",value:function(e){}},{key:"setTarget",value:function(e){this.target_="string"===typeof e?document.getElementById(e):e}}]),n}(cE),DO=PO,BO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},(i=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target})).ulElement_=document.createElement("ul"),i.collapsed_=void 0===e.collapsed||e.collapsed,i.userCollapsed_=i.collapsed_,i.overrideCollapsible_=void 0!==e.collapsible,i.collapsible_=void 0===e.collapsible||e.collapsible,i.collapsible_||(i.collapsed_=!1),i.attributions_=e.attributions;var r=void 0!==e.className?e.className:"ol-attribution",o=void 0!==e.tipLabel?e.tipLabel:"Attributions",a=void 0!==e.expandClassName?e.expandClassName:r+"-expand",s=void 0!==e.collapseLabel?e.collapseLabel:"\u203a",l=void 0!==e.collapseClassName?e.collapseClassName:r+"-collapse";"string"===typeof s?(i.collapseLabel_=document.createElement("span"),i.collapseLabel_.textContent=s,i.collapseLabel_.className=l):i.collapseLabel_=s;var u=void 0!==e.label?e.label:"i";"string"===typeof u?(i.label_=document.createElement("span"),i.label_.textContent=u,i.label_.className=a):i.label_=u;var c=i.collapsible_&&!i.collapsed_?i.collapseLabel_:i.label_;i.toggleButton_=document.createElement("button"),i.toggleButton_.setAttribute("type","button"),i.toggleButton_.setAttribute("aria-expanded",String(!i.collapsed_)),i.toggleButton_.title=o,i.toggleButton_.appendChild(c),i.toggleButton_.addEventListener(GT,i.handleClick_.bind(re(i)),!1);var h=r+" "+yI+" "+_I+(i.collapsed_&&i.collapsible_?" "+bI:"")+(i.collapsible_?"":" ol-uncollapsible"),d=i.element;return d.className=h,d.appendChild(i.toggleButton_),d.appendChild(i.ulElement_),i.renderedAttributions_=[],i.renderedVisible_=!0,i}return(0,Cr.Z)(n,[{key:"collectSourceAttributions_",value:function(e){var t=this.getMap().getAllLayers(),n=new Set(t.flatMap((function(t){return t.getAttributions(e)})));if(void 0!==this.attributions_&&(Array.isArray(this.attributions_)?this.attributions_.forEach((function(e){return n.add(e)})):n.add(this.attributions_)),!this.overrideCollapsible_){var i=!t.some((function(e){var t;return!1===(null===(t=e.getSource())||void 0===t?void 0:t.getAttributionsCollapsible())}));this.setCollapsible(i)}return Array.from(n)}},{key:"updateElement_",value:function(){var e=h(u().mark((function e(t){var n,i,r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=3;break}return this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1),e.abrupt("return");case 3:return e.next=5,Promise.all(this.collectSourceAttributions_(t).map((function(e){return t=function(){return e},function(){var e;try{e=t()}catch(PU){return Promise.reject(PU)}return e instanceof Promise?e:Promise.resolve(e)}();var t})));case 5:if(n=e.sent,i=n.length>0,this.renderedVisible_!=i&&(this.element.style.display=i?"":"none",this.renderedVisible_=i),!PT(n,this.renderedAttributions_)){e.next=10;break}return e.abrupt("return");case 10:for(nI(this.ulElement_),r=0,o=n.length;r<o;++r)(a=document.createElement("li")).innerHTML=n[r],this.ulElement_.appendChild(a);this.renderedAttributions_=n;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleClick_",value:function(e){e.preventDefault(),this.handleToggle_(),this.userCollapsed_=this.collapsed_}},{key:"handleToggle_",value:function(){this.element.classList.toggle(bI),this.collapsed_?tI(this.collapseLabel_,this.label_):tI(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_,this.toggleButton_.setAttribute("aria-expanded",String(!this.collapsed_))}},{key:"getCollapsible",value:function(){return this.collapsible_}},{key:"setCollapsible",value:function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),this.userCollapsed_&&this.handleToggle_())}},{key:"setCollapsed",value:function(e){this.userCollapsed_=e,this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()}},{key:"getCollapsed",value:function(){return this.collapsed_}},{key:"render",value:function(e){this.updateElement_(e.frameState)}}]),n}(DO),FO=BO,UO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},i=t.call(this,{element:document.createElement("div"),render:e.render,target:e.target});var r=void 0!==e.className?e.className:"ol-rotate",o=void 0!==e.label?e.label:"\u21e7",a=void 0!==e.compassClassName?e.compassClassName:"ol-compass";i.label_=null,"string"===typeof o?(i.label_=document.createElement("span"),i.label_.className=a,i.label_.textContent=o):(i.label_=o,i.label_.classList.add(a));var s=e.tipLabel?e.tipLabel:"Reset rotation",l=document.createElement("button");l.className=r+"-reset",l.setAttribute("type","button"),l.title=s,l.appendChild(i.label_),l.addEventListener(GT,i.handleClick_.bind(re(i)),!1);var u=r+" "+yI+" "+_I,c=i.element;return c.className=u,c.appendChild(l),i.callResetNorth_=e.resetNorth?e.resetNorth:void 0,i.duration_=void 0!==e.duration?e.duration:250,i.autoHide_=void 0===e.autoHide||e.autoHide,i.rotation_=void 0,i.autoHide_&&i.element.classList.add(mI),i}return(0,Cr.Z)(n,[{key:"handleClick_",value:function(e){e.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()}},{key:"resetNorth_",value:function(){var e=this.getMap().getView();if(e){var t=e.getRotation();void 0!==t&&(this.duration_>0&&t%(2*Math.PI)!==0?e.animate({rotation:0,duration:this.duration_,easing:oS}):e.setRotation(0))}}},{key:"render",value:function(e){var t=e.frameState;if(t){var n=t.viewState.rotation;if(n!=this.rotation_){var i="rotate("+n+"rad)";if(this.autoHide_){var r=this.element.classList.contains(mI);r||0!==n?r&&0!==n&&this.element.classList.remove(mI):this.element.classList.add(mI)}this.label_.style.transform=i}this.rotation_=n}}}]),n}(DO),jO=UO,ZO=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},i=t.call(this,{element:document.createElement("div"),target:e.target});var r=void 0!==e.className?e.className:"ol-zoom",o=void 0!==e.delta?e.delta:1,a=void 0!==e.zoomInClassName?e.zoomInClassName:r+"-in",s=void 0!==e.zoomOutClassName?e.zoomOutClassName:r+"-out",l=void 0!==e.zoomInLabel?e.zoomInLabel:"+",u=void 0!==e.zoomOutLabel?e.zoomOutLabel:"\u2013",c=void 0!==e.zoomInTipLabel?e.zoomInTipLabel:"Zoom in",h=void 0!==e.zoomOutTipLabel?e.zoomOutTipLabel:"Zoom out",d=document.createElement("button");d.className=a,d.setAttribute("type","button"),d.title=c,d.appendChild("string"===typeof l?document.createTextNode(l):l),d.addEventListener(GT,i.handleClick_.bind(re(i),o),!1);var f=document.createElement("button");f.className=s,f.setAttribute("type","button"),f.title=h,f.appendChild("string"===typeof u?document.createTextNode(u):u),f.addEventListener(GT,i.handleClick_.bind(re(i),-o),!1);var p=r+" "+yI+" "+_I,v=i.element;return v.className=p,v.appendChild(d),v.appendChild(f),i.duration_=void 0!==e.duration?e.duration:250,i}return(0,Cr.Z)(n,[{key:"handleClick_",value:function(e,t){t.preventDefault(),this.zoomByDelta_(e)}},{key:"zoomByDelta_",value:function(e){var t=this.getMap().getView();if(t){var n=t.getZoom();if(void 0!==n){var i=t.getConstrainedZoom(n+e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({zoom:i,duration:this.duration_,easing:oS})):t.setZoom(i)}}}}]),n}(DO);var HO="active",zO=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).on,i.once,i.un,e&&e.handleEvent&&(i.handleEvent=e.handleEvent),i.map_=null,i.setActive(!0),i}return(0,Cr.Z)(n,[{key:"getActive",value:function(){return this.get(HO)}},{key:"getMap",value:function(){return this.map_}},{key:"handleEvent",value:function(e){return!0}},{key:"setActive",value:function(e){this.set(HO,e)}},{key:"setMap",value:function(e){this.map_=e}}]),n}(cE);function VO(e,t,n,i){var r=e.getZoom();if(void 0!==r){var o=e.getConstrainedZoom(r+t),a=e.getResolutionForZoom(o);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:a,anchor:n,duration:void 0!==i?i:250,easing:oS})}}var WO=zO,GO=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),e=e||{},(i=t.call(this)).delta_=e.delta?e.delta:1,i.duration_=void 0!==e.duration?e.duration:250,i}return(0,Cr.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==pO.DBLCLICK){var n=e.originalEvent,i=e.map,r=e.coordinate,o=n.shiftKey?-this.delta_:this.delta_;VO(i.getView(),o,r,this.duration_),n.preventDefault(),t=!0}return!t}}]),n}(WO),XO=GO;function YO(e){for(var t=e.length,n=0,i=0,r=0;r<t;r++)n+=e[r].clientX,i+=e[r].clientY;return{clientX:n/t,clientY:i/t}}var KO=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),e=e||{},i=t.call(this,e),e.handleDownEvent&&(i.handleDownEvent=e.handleDownEvent),e.handleDragEvent&&(i.handleDragEvent=e.handleDragEvent),e.handleMoveEvent&&(i.handleMoveEvent=e.handleMoveEvent),e.handleUpEvent&&(i.handleUpEvent=e.handleUpEvent),e.stopDown&&(i.stopDown=e.stopDown),i.handlingDownUpSequence=!1,i.targetPointers=[],i}return(0,Cr.Z)(n,[{key:"getPointerCount",value:function(){return this.targetPointers.length}},{key:"handleDownEvent",value:function(e){return!1}},{key:"handleDragEvent",value:function(e){}},{key:"handleEvent",value:function(e){if(!e.originalEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==pO.POINTERDRAG)this.handleDragEvent(e),e.originalEvent.preventDefault();else if(e.type==pO.POINTERUP){var n=this.handleUpEvent(e);this.handlingDownUpSequence=n&&this.targetPointers.length>0}}else if(e.type==pO.POINTERDOWN){var i=this.handleDownEvent(e);this.handlingDownUpSequence=i,t=this.stopDown(i)}else e.type==pO.POINTERMOVE&&this.handleMoveEvent(e);return!t}},{key:"handleMoveEvent",value:function(e){}},{key:"handleUpEvent",value:function(e){return!1}},{key:"stopDown",value:function(e){return e}},{key:"updateTrackedPointers_",value:function(e){e.activePointers&&(this.targetPointers=e.activePointers)}}]),n}(WO);function qO(e){var t=arguments;return function(e){for(var n=!0,i=0,r=t.length;i<r&&(n=n&&t[i](e));++i);return n}}var JO=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},QO=function(e){var t=e.map.getTargetElement(),n=t.getRootNode();return!(n instanceof ShadowRoot?n.host:t).hasAttribute("tabindex")||function(e){var t=e.map.getTargetElement(),n=t.getRootNode(),i=e.map.getOwnerDocument().activeElement;return n instanceof ShadowRoot?n.host.contains(i):t.contains(i)}(e)},eA=DT,tA=function(e){var t=e.originalEvent;return 0==t.button&&!(WC&&GC&&t.ctrlKey)},nA=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},iA=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},rA=function(e){var t=e.originalEvent,n=t.target.tagName;return"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&!t.target.isContentEditable},oA=function(e){var t=e.originalEvent;return CE(void 0!==t,"mapBrowserEvent must originate from a pointer event"),"mouse"==t.pointerType},aA=function(e){var t=e.originalEvent;return CE(void 0!==t,"mapBrowserEvent must originate from a pointer event"),t.isPrimary&&0===t.button},sA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},(i=t.call(this,{stopDown:BT})).kinetic_=e.kinetic,i.lastCentroid=null,i.lastPointersCount_,i.panning_=!1;var r=e.condition?e.condition:qO(nA,aA);return i.condition_=e.onFocusOnly?qO(QO,r):r,i.noKinetic_=!1,i}return(0,Cr.Z)(n,[{key:"handleDragEvent",value:function(e){var t=e.map;this.panning_||(this.panning_=!0,t.getView().beginInteraction());var n=this.targetPointers,i=t.getEventPixel(YO(n));if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(i[0],i[1]),this.lastCentroid){var r=[this.lastCentroid[0]-i[0],i[1]-this.lastCentroid[1]],o=e.map.getView();!function(e,t){e[0]*=t,e[1]*=t}(r,o.getResolution()),Wx(r,o.getRotation()),o.adjustCenterInternal(r)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=i,this.lastPointersCount_=n.length,e.originalEvent.preventDefault()}},{key:"handleUpEvent",value:function(e){var t=e.map,n=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var i=this.kinetic_.getDistance(),r=this.kinetic_.getAngle(),o=n.getCenterInternal(),a=t.getPixelFromCoordinateInternal(o),s=t.getCoordinateFromPixelInternal([a[0]-i*Math.cos(r),a[1]-i*Math.sin(r)]);n.animateInternal({center:n.getConstrainedCenter(s),duration:500,easing:oS})}return this.panning_&&(this.panning_=!1,n.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>0&&this.condition_(e)){var t=e.map.getView();return this.lastCentroid=null,t.getAnimating()&&t.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1}}]),n}(KO),lA=sA,uA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),e=e||{},(i=t.call(this,{stopDown:BT})).condition_=e.condition?e.condition:JO,i.lastAngle_=void 0,i.duration_=void 0!==e.duration?e.duration:250,i}return(0,Cr.Z)(n,[{key:"handleDragEvent",value:function(e){if(oA(e)){var t=e.map,n=t.getView();if(n.getConstraints().rotation!==nS){var i=t.getSize(),r=e.pixel,o=Math.atan2(i[1]/2-r[1],r[0]-i[0]/2);if(void 0!==this.lastAngle_){var a=o-this.lastAngle_;n.adjustRotationInternal(-a)}this.lastAngle_=o}}}},{key:"handleUpEvent",value:function(e){return!oA(e)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){return!!oA(e)&&(!(!tA(e)||!this.condition_(e))&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,!0))}}]),n}(KO),cA=uA,hA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).geometry_=null,i.element_=document.createElement("div"),i.element_.style.position="absolute",i.element_.style.pointerEvents="auto",i.element_.className="ol-box "+e,i.map_=null,i.startPixel_=null,i.endPixel_=null,i}return(0,Cr.Z)(n,[{key:"disposeInternal",value:function(){this.setMap(null)}},{key:"render_",value:function(){var e=this.startPixel_,t=this.endPixel_,n="px",i=this.element_.style;i.left=Math.min(e[0],t[0])+n,i.top=Math.min(e[1],t[1])+n,i.width=Math.abs(t[0]-e[0])+n,i.height=Math.abs(t[1]-e[1])+n}},{key:"setMap",value:function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left="inherit",t.top="inherit",t.width="inherit",t.height="inherit"}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)}},{key:"setPixels",value:function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()}},{key:"createOrUpdateGeometry",value:function(){if(this.map_){var e=this.startPixel_,t=this.endPixel_,n=[e,[e[0],t[1]],t,[t[0],e[1]]].map(this.map_.getCoordinateFromPixelInternal,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new YS([n])}}},{key:"getGeometry",value:function(){return this.geometry_}}]),n}(LT),dA=hA,fA="boxstart",pA="boxdrag",vA="boxend",gA="boxcancel",mA=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),(o=t.call(this,e)).coordinate=i,o.mapBrowserEvent=r,o}return(0,Cr.Z)(n)}(AT),yA=function(e){ac(n,e);var t=uc(n);function n(e){var i,r,o,a,s;return(0,Sr.Z)(this,n),(s=t.call(this)).on,s.once,s.un,e=null!==(i=e)&&void 0!==i?i:{},s.box_=new dA(e.className||"ol-dragbox"),s.minArea_=null!==(r=e.minArea)&&void 0!==r?r:64,e.onBoxEnd&&(s.onBoxEnd=e.onBoxEnd),s.startPixel_=null,s.condition_=null!==(o=e.condition)&&void 0!==o?o:tA,s.boxEndCondition_=null!==(a=e.boxEndCondition)&&void 0!==a?a:s.defaultBoxEndCondition,s}return(0,Cr.Z)(n,[{key:"defaultBoxEndCondition",value:function(e,t,n){var i=n[0]-t[0],r=n[1]-t[1];return i*i+r*r>=this.minArea_}},{key:"getGeometry",value:function(){return this.box_.getGeometry()}},{key:"handleDragEvent",value:function(e){this.startPixel_&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new mA(pA,e.coordinate,e)))}},{key:"handleUpEvent",value:function(e){if(!this.startPixel_)return!1;var t=this.boxEndCondition_(e,this.startPixel_,e.pixel);return t&&this.onBoxEnd(e),this.dispatchEvent(new mA(t?vA:gA,e.coordinate,e)),this.box_.setMap(null),this.startPixel_=null,!1}},{key:"handleDownEvent",value:function(e){return!!this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new mA(fA,e.coordinate,e)),!0)}},{key:"onBoxEnd",value:function(e){}},{key:"setActive",value:function(e){e||(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new mA(gA,this.startPixel_,null)),this.startPixel_=null)),oc(rc(n.prototype),"setActive",this).call(this,e)}},{key:"setMap",value:function(e){this.getMap()&&(this.box_.setMap(null),this.startPixel_&&(this.dispatchEvent(new mA(gA,this.startPixel_,null)),this.startPixel_=null)),oc(rc(n.prototype),"setMap",this).call(this,e)}}]),n}(KO),_A=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=(e=e||{}).condition?e.condition:iA;return(i=t.call(this,{condition:r,className:e.className||"ol-dragzoom",minArea:e.minArea})).duration_=void 0!==e.duration?e.duration:200,i.out_=void 0!==e.out&&e.out,i}return(0,Cr.Z)(n,[{key:"onBoxEnd",value:function(e){var t=this.getMap().getView(),n=this.getGeometry();if(this.out_){var i=t.rotatedExtentForGeometry(n),r=t.getResolutionForExtentInternal(i),o=t.getResolution()/r;(n=n.clone()).scale(o*o)}t.fitInternal(n,{duration:this.duration_,easing:oS})}}]),n}(yA),bA="ArrowLeft",kA="ArrowUp",TA="ArrowRight",EA="ArrowDown",xA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),e=e||{},(i=t.call(this)).defaultCondition_=function(e){return nA(e)&&rA(e)},i.condition_=void 0!==e.condition?e.condition:i.defaultCondition_,i.duration_=void 0!==e.duration?e.duration:100,i.pixelDelta_=void 0!==e.pixelDelta?e.pixelDelta:128,i}return(0,Cr.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==YT){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&(i==EA||i==bA||i==TA||i==kA)){var r=e.map.getView(),o=r.getResolution()*this.pixelDelta_,a=0,s=0;i==EA?s=-o:i==bA?a=-o:i==TA?a=o:s=o;var l=[a,s];Wx(l,r.getRotation()),function(e,t,n){var i=e.getCenterInternal();if(i){var r=[i[0]+t[0],i[1]+t[1]];e.animateInternal({duration:void 0!==n?n:250,easing:sS,center:e.getConstrainedCenter(r)})}}(r,l,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(WO),wA=xA,SA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),e=e||{},(i=t.call(this)).condition_=e.condition?e.condition:function(e){return!function(e){var t=e.originalEvent;return GC?t.metaKey:t.ctrlKey}(e)&&rA(e)},i.delta_=e.delta?e.delta:1,i.duration_=void 0!==e.duration?e.duration:100,i}return(0,Cr.Z)(n,[{key:"handleEvent",value:function(e){var t=!1;if(e.type==YT||e.type==KT){var n=e.originalEvent,i=n.key;if(this.condition_(e)&&("+"===i||"-"===i)){var r=e.map,o="+"===i?this.delta_:-this.delta_;VO(r.getView(),o,void 0,this.duration_),n.preventDefault(),t=!0}}return!t}}]),n}(WO),CA=SA,IA=function(){function e(t,n,i){(0,Sr.Z)(this,e),this.decay_=t,this.minVelocity_=n,this.delay_=i,this.points_=[],this.angle_=0,this.initialVelocity_=0}return(0,Cr.Z)(e,[{key:"begin",value:function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0}},{key:"update",value:function(e,t){this.points_.push(e,t,Date.now())}},{key:"end",value:function(){if(this.points_.length<6)return!1;var e=Date.now()-this.delay_,t=this.points_.length-3;if(this.points_[t+2]<e)return!1;for(var n=t-3;n>0&&this.points_[n+2]>e;)n-=3;var i=this.points_[t+2]-this.points_[n+2];if(i<1e3/60)return!1;var r=this.points_[t]-this.points_[n],o=this.points_[t+1]-this.points_[n+1];return this.angle_=Math.atan2(o,r),this.initialVelocity_=Math.sqrt(r*r+o*o)/i,this.initialVelocity_>this.minVelocity_}},{key:"getDistance",value:function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_}},{key:"getAngle",value:function(){return this.angle_}}]),e}(),RA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},(i=t.call(this,e)).totalDelta_=0,i.lastDelta_=0,i.maxDelta_=void 0!==e.maxDelta?e.maxDelta:1,i.duration_=void 0!==e.duration?e.duration:250,i.timeout_=void 0!==e.timeout?e.timeout:80,i.useAnchor_=void 0===e.useAnchor||e.useAnchor,i.constrainResolution_=void 0!==e.constrainResolution&&e.constrainResolution;var r=e.condition?e.condition:eA;return i.condition_=e.onFocusOnly?qO(QO,r):r,i.lastAnchor_=null,i.startTime_=void 0,i.timeoutId_,i.mode_=void 0,i.trackpadEventGap_=400,i.trackpadTimeoutId_,i.deltaPerZoom_=300,i}return(0,Cr.Z)(n,[{key:"endInteraction_",value:function(){this.trackpadTimeoutId_=void 0;var e=this.getMap();e&&e.getView().endInteraction(void 0,this.lastDelta_?this.lastDelta_>0?1:-1:0,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null)}},{key:"handleEvent",value:function(e){if(!this.condition_(e))return!0;if(e.type!==QT)return!0;var t,n=e.map,i=e.originalEvent;if(i.preventDefault(),this.useAnchor_&&(this.lastAnchor_=e.pixel),e.type==QT&&(t=i.deltaY,VC&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(t/=XC),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(t*=40)),0===t)return!1;this.lastDelta_=t;var r=Date.now();void 0===this.startTime_&&(this.startTime_=r),(!this.mode_||r-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(t)<4?"trackpad":"wheel");var o=n.getView();if("trackpad"===this.mode_&&!o.getConstrainResolution()&&!this.constrainResolution_)return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):(o.getAnimating()&&o.cancelAnimations(),o.beginInteraction()),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.timeout_),o.adjustZoom(-t/this.deltaPerZoom_,this.lastAnchor_?n.getCoordinateFromPixel(this.lastAnchor_):null),this.startTime_=r,!1;this.totalDelta_+=t;var a=Math.max(this.timeout_-(r-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,n),a),!1}},{key:"handleWheelZoom_",value:function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var n=-IE(this.totalDelta_,-this.maxDelta_*this.deltaPerZoom_,this.maxDelta_*this.deltaPerZoom_)/this.deltaPerZoom_;(t.getConstrainResolution()||this.constrainResolution_)&&(n=n?n>0?1:-1:0),VO(t,n,this.lastAnchor_?e.getCoordinateFromPixel(this.lastAnchor_):null,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0}},{key:"setMouseAnchor",value:function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)}}]),n}(WO),OA=RA,AA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=e=e||{};return r.stopDown||(r.stopDown=BT),(i=t.call(this,r)).anchor_=null,i.lastAngle_=void 0,i.rotating_=!1,i.rotationDelta_=0,i.threshold_=void 0!==e.threshold?e.threshold:.3,i.duration_=void 0!==e.duration?e.duration:250,i}return(0,Cr.Z)(n,[{key:"handleDragEvent",value:function(e){var t=0,n=this.targetPointers[0],i=this.targetPointers[1],r=Math.atan2(i.clientY-n.clientY,i.clientX-n.clientX);if(void 0!==this.lastAngle_){var o=r-this.lastAngle_;this.rotationDelta_+=o,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),t=o}this.lastAngle_=r;var a=e.map,s=a.getView();s.getConstraints().rotation!==nS&&(this.anchor_=a.getCoordinateFromPixelInternal(a.getEventPixel(YO(this.targetPointers))),this.rotating_&&(a.render(),s.adjustRotationInternal(t,this.anchor_)))}},{key:"handleUpEvent",value:function(e){return!(this.targetPointers.length<2)||(e.map.getView().endInteraction(this.duration_),!1)}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(KO),MA=AA,LA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=e=e||{};return r.stopDown||(r.stopDown=BT),(i=t.call(this,r)).anchor_=null,i.duration_=void 0!==e.duration?e.duration:400,i.lastDistance_=void 0,i.lastScaleDelta_=1,i}return(0,Cr.Z)(n,[{key:"handleDragEvent",value:function(e){var t=1,n=this.targetPointers[0],i=this.targetPointers[1],r=n.clientX-i.clientX,o=n.clientY-i.clientY,a=Math.sqrt(r*r+o*o);void 0!==this.lastDistance_&&(t=this.lastDistance_/a),this.lastDistance_=a;var s=e.map,l=s.getView();1!=t&&(this.lastScaleDelta_=t),this.anchor_=s.getCoordinateFromPixelInternal(s.getEventPixel(YO(this.targetPointers))),s.render(),l.adjustResolutionInternal(t,this.anchor_)}},{key:"handleUpEvent",value:function(e){if(this.targetPointers.length<2){var t=e.map.getView(),n=this.lastScaleDelta_>1?1:-1;return t.endInteraction(this.duration_,n),!1}return!0}},{key:"handleDownEvent",value:function(e){if(this.targetPointers.length>=2){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1}}]),n}(KO),NA=LA;function $A(e){e instanceof rC?e.setMapInternal(null):e instanceof uO&&e.getLayers().forEach($A)}function PA(e,t){if(e instanceof rC)e.setMapInternal(t);else if(e instanceof uO)for(var n=e.getLayers().getArray(),i=0,r=n.length;i<r;++i)PA(n[i],t)}var DA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{},(i=t.call(this)).on,i.once,i.un;var r=function(e){var t=null;void 0!==e.keyboardEventTarget&&(t="string"===typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var n,i,r,o={},a=e.layers&&"function"===typeof e.layers.getLayers?e.layers:new uO({layers:e.layers});o[xO]=a,o[SO]=e.target,o[CO]=e.view instanceof tC?e.view:new tC,void 0!==e.controls&&(Array.isArray(e.controls)?n=new gE(e.controls.slice()):(CE("function"===typeof e.controls.getArray,"Expected `controls` to be an array or an `ol/Collection.js`"),n=e.controls));void 0!==e.interactions&&(Array.isArray(e.interactions)?i=new gE(e.interactions.slice()):(CE("function"===typeof e.interactions.getArray,"Expected `interactions` to be an array or an `ol/Collection.js`"),i=e.interactions));void 0!==e.overlays?Array.isArray(e.overlays)?r=new gE(e.overlays.slice()):(CE("function"===typeof e.overlays.getArray,"Expected `overlays` to be an array or an `ol/Collection.js`"),r=e.overlays):r=new gE;return{controls:n,interactions:i,keyboardEventTarget:t,overlays:r,values:o}}(e);i.renderComplete_=!1,i.loaded_=!0,i.boundHandleBrowserEvent_=i.handleBrowserEvent.bind(re(i)),i.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,i.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:XC,i.postRenderTimeoutHandle_,i.animationDelayKey_,i.animationDelay_=i.animationDelay_.bind(re(i)),i.coordinateToPixelTransform_=[1,0,0,1,0,0],i.pixelToCoordinateTransform_=[1,0,0,1,0,0],i.frameIndex_=0,i.frameState_=null,i.previousExtent_=null,i.viewPropertyListenerKey_=null,i.viewChangeListenerKey_=null,i.layerGroupPropertyListenerKeys_=null,i.viewport_=document.createElement("div"),i.viewport_.className="ol-viewport"+("ontouchstart"in window?" ol-touch":""),i.viewport_.style.position="relative",i.viewport_.style.overflow="hidden",i.viewport_.style.width="100%",i.viewport_.style.height="100%",i.overlayContainer_=document.createElement("div"),i.overlayContainer_.style.position="absolute",i.overlayContainer_.style.zIndex="0",i.overlayContainer_.style.width="100%",i.overlayContainer_.style.height="100%",i.overlayContainer_.style.pointerEvents="none",i.overlayContainer_.className="ol-overlaycontainer",i.viewport_.appendChild(i.overlayContainer_),i.overlayContainerStopEvent_=document.createElement("div"),i.overlayContainerStopEvent_.style.position="absolute",i.overlayContainerStopEvent_.style.zIndex="0",i.overlayContainerStopEvent_.style.width="100%",i.overlayContainerStopEvent_.style.height="100%",i.overlayContainerStopEvent_.style.pointerEvents="none",i.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent",i.viewport_.appendChild(i.overlayContainerStopEvent_),i.mapBrowserEventHandler_=null,i.moveTolerance_=e.moveTolerance,i.keyboardEventTarget_=r.keyboardEventTarget,i.targetChangeHandlerKeys_=null,i.targetElement_=null,i.resizeObserver_=new ResizeObserver((function(){return i.updateSize()})),i.controls=r.controls||function(e){e=e||{};var t=new gE;return(void 0===e.zoom||e.zoom)&&t.push(new ZO(e.zoomOptions)),(void 0===e.rotate||e.rotate)&&t.push(new jO(e.rotateOptions)),(void 0===e.attribution||e.attribution)&&t.push(new FO(e.attributionOptions)),t}(),i.interactions=r.interactions||function(e){e=e||{};var t=new gE,n=new IA(-.005,.05,100);return(void 0===e.altShiftDragRotate||e.altShiftDragRotate)&&t.push(new cA),(void 0===e.doubleClickZoom||e.doubleClickZoom)&&t.push(new XO({delta:e.zoomDelta,duration:e.zoomDuration})),(void 0===e.dragPan||e.dragPan)&&t.push(new lA({onFocusOnly:e.onFocusOnly,kinetic:n})),(void 0===e.pinchRotate||e.pinchRotate)&&t.push(new MA),(void 0===e.pinchZoom||e.pinchZoom)&&t.push(new NA({duration:e.zoomDuration})),(void 0===e.keyboard||e.keyboard)&&(t.push(new wA),t.push(new CA({delta:e.zoomDelta,duration:e.zoomDuration}))),(void 0===e.mouseWheelZoom||e.mouseWheelZoom)&&t.push(new OA({onFocusOnly:e.onFocusOnly,duration:e.zoomDuration})),(void 0===e.shiftDragZoom||e.shiftDragZoom)&&t.push(new _A({duration:e.zoomDuration})),t}({onFocusOnly:!0}),i.overlays_=r.overlays,i.overlayIdIndex_={},i.renderer_=null,i.postRenderFunctions_=[],i.tileQueue_=new $O(i.getTilePriority.bind(re(i)),i.handleTileChange_.bind(re(i))),i.addChangeListener(xO,i.handleLayerGroupChanged_),i.addChangeListener(CO,i.handleViewChanged_),i.addChangeListener(wO,i.handleSizeChanged_),i.addChangeListener(SO,i.handleTargetChanged_),i.setProperties(r.values);var o=re(i);return!e.view||e.view instanceof tC||e.view.then((function(e){o.setView(new tC(e))})),i.controls.addEventListener(hE,(function(e){e.element.setMap(re(i))})),i.controls.addEventListener(dE,(function(e){e.element.setMap(null)})),i.interactions.addEventListener(hE,(function(e){e.element.setMap(re(i))})),i.interactions.addEventListener(dE,(function(e){e.element.setMap(null)})),i.overlays_.addEventListener(hE,(function(e){i.addOverlayInternal_(e.element)})),i.overlays_.addEventListener(dE,(function(e){var t=e.element.getId();void 0!==t&&delete i.overlayIdIndex_[t.toString()],e.element.setMap(null)})),i.controls.forEach((function(e){e.setMap(re(i))})),i.interactions.forEach((function(e){e.setMap(re(i))})),i.overlays_.forEach(i.addOverlayInternal_.bind(re(i))),i}return(0,Cr.Z)(n,[{key:"addControl",value:function(e){this.getControls().push(e)}},{key:"addInteraction",value:function(e){this.getInteractions().push(e)}},{key:"addLayer",value:function(e){this.getLayerGroup().getLayers().push(e)}},{key:"handleLayerAdd_",value:function(e){PA(e.layer,this)}},{key:"addOverlay",value:function(e){this.getOverlays().push(e)}},{key:"addOverlayInternal_",value:function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)}},{key:"disposeInternal",value:function(){this.controls.clear(),this.interactions.clear(),this.overlays_.clear(),this.resizeObserver_.disconnect(),this.setTarget(null),oc(rc(n.prototype),"disposeInternal",this).call(this)}},{key:"forEachFeatureAtPixel",value:function(e,t,n){if(this.frameState_&&this.renderer_){var i=this.getCoordinateFromPixelInternal(e),r=void 0!==(n=void 0!==n?n:{}).hitTolerance?n.hitTolerance:0,o=void 0!==n.layerFilter?n.layerFilter:DT,a=!1!==n.checkWrapped;return this.renderer_.forEachFeatureAtCoordinate(i,this.frameState_,r,a,t,null,o,null)}}},{key:"getFeaturesAtPixel",value:function(e,t){var n=[];return this.forEachFeatureAtPixel(e,(function(e){n.push(e)}),t),n}},{key:"getAllLayers",value:function(){var e=[];return function t(n){n.forEach((function(n){n instanceof uO?t(n.getLayers()):e.push(n)}))}(this.getLayers()),e}},{key:"hasFeatureAtPixel",value:function(e,t){if(!this.frameState_||!this.renderer_)return!1;var n=this.getCoordinateFromPixelInternal(e),i=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:DT,r=void 0!==t.hitTolerance?t.hitTolerance:0,o=!1!==t.checkWrapped;return this.renderer_.hasFeatureAtCoordinate(n,this.frameState_,r,o,i,null)}},{key:"getEventCoordinate",value:function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))}},{key:"getEventCoordinateInternal",value:function(e){return this.getCoordinateFromPixelInternal(this.getEventPixel(e))}},{key:"getEventPixel",value:function(e){var t=this.viewport_.getBoundingClientRect(),n=this.getSize(),i=t.width/n[0],r=t.height/n[1],o="changedTouches"in e?e.changedTouches[0]:e;return[(o.clientX-t.left)/i,(o.clientY-t.top)/r]}},{key:"getTarget",value:function(){return this.get(SO)}},{key:"getTargetElement",value:function(){return this.targetElement_}},{key:"getCoordinateFromPixel",value:function(e){return Xw(this.getCoordinateFromPixelInternal(e),this.getView().getProjection())}},{key:"getCoordinateFromPixelInternal",value:function(e){var t=this.frameState_;return t?lS(t.pixelToCoordinateTransform,e.slice()):null}},{key:"getControls",value:function(){return this.controls}},{key:"getOverlays",value:function(){return this.overlays_}},{key:"getOverlayById",value:function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null}},{key:"getInteractions",value:function(){return this.interactions}},{key:"getLayerGroup",value:function(){return this.get(xO)}},{key:"setLayers",value:function(e){var t=this.getLayerGroup();if(e instanceof gE)t.setLayers(e);else{var n=t.getLayers();n.clear(),n.extend(e)}}},{key:"getLayers",value:function(){return this.getLayerGroup().getLayers()}},{key:"getLoadingOrNotReady",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t];if(i.visible){var r=i.layer.getRenderer();if(r&&!r.ready)return!0;var o=i.layer.getSource();if(o&&o.loading)return!0}}return!1}},{key:"getPixelFromCoordinate",value:function(e){var t=Yw(e,this.getView().getProjection());return this.getPixelFromCoordinateInternal(t)}},{key:"getPixelFromCoordinateInternal",value:function(e){var t=this.frameState_;return t?lS(t.coordinateToPixelTransform,e.slice(0,2)):null}},{key:"getRenderer",value:function(){return this.renderer_}},{key:"getSize",value:function(){return this.get(wO)}},{key:"getView",value:function(){return this.get(CO)}},{key:"getViewport",value:function(){return this.viewport_}},{key:"getOverlayContainer",value:function(){return this.overlayContainer_}},{key:"getOverlayContainerStopEvent",value:function(){return this.overlayContainerStopEvent_}},{key:"getOwnerDocument",value:function(){var e=this.getTargetElement();return e?e.ownerDocument:document}},{key:"getTilePriority",value:function(e,t,n,i){return function(e,t,n,i,r){if(!e||!(n in e.wantedTiles))return IO;if(!e.wantedTiles[n][t.getKey()])return IO;var o=e.viewState.center,a=i[0]-o[0],s=i[1]-o[1];return 65536*Math.log(r)+Math.sqrt(a*a+s*s)/r}(this.frameState_,e,t,n,i)}},{key:"handleBrowserEvent",value:function(e,t){t=t||e.type;var n=new fO(t,this,e);this.handleMapBrowserEvent(n)}},{key:"handleMapBrowserEvent",value:function(e){if(this.frameState_){var t=e.originalEvent,n=t.type;if(n===gO||n===QT||n===YT){var i=this.getOwnerDocument(),r=this.viewport_.getRootNode?this.viewport_.getRootNode():i,o=t.target,a=r instanceof ShadowRoot?r.host===o?r.host.ownerDocument:r:r===i?i.documentElement:r;if(this.overlayContainerStopEvent_.contains(o)||!a.contains(o))return}if(e.frameState=this.frameState_,!1!==this.dispatchEvent(e))for(var s=this.getInteractions().getArray().slice(),l=s.length-1;l>=0;l--){var u=s[l];if(u.getMap()===this&&u.getActive()&&this.getTargetElement())if(!u.handleEvent(e)||e.propagationStopped)break}}}},{key:"handlePostRender",value:function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var n=this.maxTilesLoading_,i=n;if(e){var r=e.viewHints;if(r[VE]||r[WE]){var o=Date.now()-e.time>8;n=o?0:8,i=o?0:2}}t.getTilesLoading()<n&&(t.reprioritize(),t.loadMoreTiles(n,i))}e&&this.renderer_&&!e.animate&&(this.renderComplete_?(this.hasListener(zE)&&this.renderer_.dispatchRenderEvent(zE,e),!1===this.loaded_&&(this.loaded_=!0,this.dispatchEvent(new hO(EO,this,e)))):!0===this.loaded_&&(this.loaded_=!1,this.dispatchEvent(new hO(TO,this,e))));var a=this.postRenderFunctions_;if(e)for(var s=0,l=a.length;s<l;++s)a[s](this,e);a.length=0}},{key:"handleSizeChanged_",value:function(){this.getView()&&!this.getView().getAnimating()&&this.getView().resolveConstraints(0),this.render()}},{key:"handleTargetChanged_",value:function(){if(this.mapBrowserEventHandler_){for(var e=0,t=this.targetChangeHandlerKeys_.length;e<t;++e)nE(this.targetChangeHandlerKeys_[e]);this.targetChangeHandlerKeys_=null,this.viewport_.removeEventListener(WT,this.boundHandleBrowserEvent_),this.viewport_.removeEventListener(QT,this.boundHandleBrowserEvent_),this.mapBrowserEventHandler_.dispose(),this.mapBrowserEventHandler_=null,this.viewport_.remove()}if(this.targetElement_){this.resizeObserver_.unobserve(this.targetElement_);var n=this.targetElement_.getRootNode();n instanceof ShadowRoot&&this.resizeObserver_.unobserve(n.host),this.setSize(void 0)}var i=this.getTarget(),r="string"===typeof i?document.getElementById(i):i;if(this.targetElement_=r,r){for(var o in r.appendChild(this.viewport_),this.renderer_||(this.renderer_=new oO(this)),this.mapBrowserEventHandler_=new yO(this,this.moveTolerance_),pO)this.mapBrowserEventHandler_.addEventListener(pO[o],this.handleMapBrowserEvent.bind(this));var a;if(this.viewport_.addEventListener(WT,this.boundHandleBrowserEvent_,!1),this.viewport_.addEventListener(QT,this.boundHandleBrowserEvent_,!!qC&&{passive:!1}),this.keyboardEventTarget_)a=this.keyboardEventTarget_;else{var s=r.getRootNode();a=s instanceof ShadowRoot?s.host:r}this.targetChangeHandlerKeys_=[eE(a,YT,this.handleBrowserEvent,this),eE(a,KT,this.handleBrowserEvent,this)];var l=r.getRootNode();l instanceof ShadowRoot&&this.resizeObserver_.observe(l.host),this.resizeObserver_.observe(r)}else this.renderer_&&(clearTimeout(this.postRenderTimeoutHandle_),this.postRenderTimeoutHandle_=void 0,this.postRenderFunctions_.length=0,this.renderer_.dispose(),this.renderer_=null),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0);this.updateSize()}},{key:"handleTileChange_",value:function(){this.render()}},{key:"handleViewPropertyChanged_",value:function(){this.render()}},{key:"handleViewChanged_",value:function(){this.viewPropertyListenerKey_&&(nE(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&(nE(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var e=this.getView();e&&(this.updateViewportSize_(this.getSize()),this.viewPropertyListenerKey_=eE(e,MT,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=eE(e,zT,this.handleViewPropertyChanged_,this),e.resolveConstraints(0)),this.render()}},{key:"handleLayerGroupChanged_",value:function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(nE),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.handleLayerAdd_(new aO("addlayer",e)),this.layerGroupPropertyListenerKeys_=[eE(e,MT,this.render,this),eE(e,zT,this.render,this),eE(e,"addlayer",this.handleLayerAdd_,this),eE(e,"removelayer",this.handleLayerRemove_,this)]),this.render()}},{key:"isRendered",value:function(){return!!this.frameState_}},{key:"animationDelay_",value:function(){this.animationDelayKey_=void 0,this.renderFrame_(Date.now())}},{key:"renderSync",value:function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()}},{key:"redrawText",value:function(){for(var e=this.getLayerGroup().getLayerStatesArray(),t=0,n=e.length;t<n;++t){var i=e[t].layer;i.hasRenderer()&&i.getRenderer().handleFontsChanged()}}},{key:"render",value:function(){this.renderer_&&void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))}},{key:"removeControl",value:function(e){return this.getControls().remove(e)}},{key:"removeInteraction",value:function(e){return this.getInteractions().remove(e)}},{key:"removeLayer",value:function(e){return this.getLayerGroup().getLayers().remove(e)}},{key:"handleLayerRemove_",value:function(e){$A(e.layer)}},{key:"removeOverlay",value:function(e){return this.getOverlays().remove(e)}},{key:"renderFrame_",value:function(e){var t,n,i=this,r=this.getSize(),o=this.getView(),a=this.frameState_,s=null;if(void 0!==r&&hI(r)&&o&&o.isDef()){var l=o.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=o.getState();if(s={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,declutter:null,extent:$x(u.center,u.resolution,u.rotation,r),index:this.frameIndex_++,layerIndex:0,layerStatesArray:this.getLayerGroup().getLayerStatesArray(),pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,tileQueue:this.tileQueue_,time:e,usedTiles:{},viewState:u,viewHints:l,wantedTiles:{},mapId:sE(this),renderTargets:{}},u.nextCenter&&u.nextResolution){var c=isNaN(u.nextRotation)?u.rotation:u.nextRotation;s.nextExtent=$x(u.nextCenter,u.nextResolution,c,r)}}if(this.frameState_=s,this.renderer_.renderFrame(s),s){if(s.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,s.postRenderFunctions),a)(!this.previousExtent_||!Zx(this.previousExtent_)&&!xx(s.extent,this.previousExtent_))&&(this.dispatchEvent(new hO(bO,this,a)),this.previousExtent_=Ex(this.previousExtent_));this.previousExtent_&&!s.viewHints[VE]&&!s.viewHints[WE]&&!xx(s.extent,this.previousExtent_)&&(this.dispatchEvent(new hO(kO,this,s)),t=s.extent,(n=this.previousExtent_)?(n[0]=t[0],n[1]=t[1],n[2]=t[2],n[3]=t[3]):t.slice())}this.dispatchEvent(new hO(_O,this,s)),this.renderComplete_=(this.hasListener(TO)||this.hasListener(EO)||this.hasListener(zE))&&!this.tileQueue_.getTilesLoading()&&!this.tileQueue_.getCount()&&!this.getLoadingOrNotReady(),this.postRenderTimeoutHandle_||(this.postRenderTimeoutHandle_=setTimeout((function(){i.postRenderTimeoutHandle_=void 0,i.handlePostRender()}),0))}},{key:"setLayerGroup",value:function(e){var t=this.getLayerGroup();t&&this.handleLayerRemove_(new aO("removelayer",t)),this.set(xO,e)}},{key:"setSize",value:function(e){this.set(wO,e)}},{key:"setTarget",value:function(e){this.set(SO,e)}},{key:"setView",value:function(e){if(!e||e instanceof tC)this.set(CO,e);else{this.set(CO,new tC);var t=this;e.then((function(e){t.setView(new tC(e))}))}}},{key:"updateSize",value:function(){var e=this.getTargetElement(),t=void 0;if(e){var n=getComputedStyle(e),i=e.offsetWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.paddingLeft)-parseFloat(n.paddingRight)-parseFloat(n.borderRightWidth),r=e.offsetHeight-parseFloat(n.borderTopWidth)-parseFloat(n.paddingTop)-parseFloat(n.paddingBottom)-parseFloat(n.borderBottomWidth);isNaN(i)||isNaN(r)||!hI(t=[Math.max(0,i),Math.max(0,r)])&&(e.offsetWidth||e.offsetHeight||e.getClientRects().length)&&Iw("No map visible because the map container's width or height are 0.")}var o=this.getSize();!t||o&&PT(t,o)||(this.setSize(t),this.updateViewportSize_(t))}},{key:"updateViewportSize_",value:function(e){var t=this.getView();t&&t.setViewportSize(e)}}]),n}(cE);var BA=DA,FA="preload",UA="useInterimTilesOnError",jA=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),e=e||{};var r=Object.assign({},e),o=e.cacheSize;return delete e.cacheSize,delete r.preload,delete r.useInterimTilesOnError,(i=t.call(this,r)).on,i.once,i.un,i.cacheSize_=o,i.setPreload(void 0!==e.preload?e.preload:0),i.setUseInterimTilesOnError(void 0===e.useInterimTilesOnError||e.useInterimTilesOnError),i}return(0,Cr.Z)(n,[{key:"getCacheSize",value:function(){return this.cacheSize_}},{key:"getPreload",value:function(){return this.get(FA)}},{key:"setPreload",value:function(e){this.set(FA,e)}},{key:"getUseInterimTilesOnError",value:function(){return this.get(UA)}},{key:"setUseInterimTilesOnError",value:function(e){this.set(UA,e)}},{key:"getData",value:function(e){return oc(rc(n.prototype),"getData",this).call(this,e)}}]),n}(rC),ZA=jA,HA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this)).ready=!0,i.boundHandleImageChange_=i.handleImageChange_.bind(re(i)),i.layer_=e,i.staleKeys_=new Array,i.maxStaleKeys=5,i}return(0,Cr.Z)(n,[{key:"getStaleKeys",value:function(){return this.staleKeys_}},{key:"prependStaleKey",value:function(e){this.staleKeys_.unshift(e),this.staleKeys_.length>this.maxStaleKeys&&(this.staleKeys_.length=this.maxStaleKeys)}},{key:"getFeatures",value:function(e){return oE()}},{key:"getData",value:function(e){return null}},{key:"prepareFrame",value:function(e){return oE()}},{key:"renderFrame",value:function(e,t){return oE()}},{key:"forEachFeatureAtCoordinate",value:function(e,t,n,i,r){}},{key:"getLayer",value:function(){return this.layer_}},{key:"handleFontsChanged",value:function(){}},{key:"handleImageChange_",value:function(e){var t=e.target;t.getState()!==TC.LOADED&&t.getState()!==TC.ERROR||this.renderIfReadyAndVisible()}},{key:"loadImage",value:function(e){var t=e.getState();return t!=TC.LOADED&&t!=TC.ERROR&&e.addEventListener(zT,this.boundHandleImageChange_),t==TC.IDLE&&(e.load(),t=e.getState()),t==TC.LOADED}},{key:"renderIfReadyAndVisible",value:function(){var e=this.getLayer();e&&e.getVisible()&&"ready"===e.getSourceState()&&e.changed()}},{key:"renderDeferred",value:function(e){}},{key:"disposeInternal",value:function(){delete this.layer_,oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(rE),zA=HA,VA=function(){function e(){var t=this;(0,Sr.Z)(this,e),(0,K.Z)(this,"pushMethodArgs_",(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return t.instructions_[t.zIndex+t.offset_].push(n),t})),this.instructions_=[],this.zIndex=0,this.offset_=0,this.context_=new Proxy(QC(),{get:function(e,n){if("function"===typeof QC()[n])return t.instructions_[t.zIndex+t.offset_]||(t.instructions_[t.zIndex+t.offset_]=[]),t.instructions_[t.zIndex+t.offset_].push(n),t.pushMethodArgs_},set:function(e,n,i){return t.instructions_[t.zIndex+t.offset_]||(t.instructions_[t.zIndex+t.offset_]=[]),t.instructions_[t.zIndex+t.offset_].push(n,i),!0}})}return(0,Cr.Z)(e,[{key:"pushFunction",value:function(e){this.instructions_[this.zIndex+this.offset_].push(e)}},{key:"getContext",value:function(){return this.context_}},{key:"draw",value:function(e){this.instructions_.forEach((function(t){for(var n=0,i=t.length;n<i;++n){var r=t[n];if("function"!==typeof r){var o=t[++n];if("function"===typeof e[r])e[r].apply(e,(0,s.Z)(o));else{if("function"===typeof o){e[r]=o(e);continue}e[r]=o}}else r(e)}}))}},{key:"clear",value:function(){this.instructions_.length=0,this.zIndex=0,this.offset_=0}},{key:"offset",value:function(){this.offset_=this.instructions_.length,this.zIndex=0}}]),e}(),WA=VA,GA=null;var XA=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e)).container=null,i.renderedResolution,i.tempTransform=[1,0,0,1,0,0],i.pixelTransform=[1,0,0,1,0,0],i.inversePixelTransform=[1,0,0,1,0,0],i.context=null,i.deferredContext_=null,i.containerReused=!1,i.frameState=null,i}return(0,Cr.Z)(n,[{key:"getImageData",value:function(e,t,n){var i;GA||(GA=JC(1,1,void 0,{willReadFrequently:!0})),GA.clearRect(0,0,1,1);try{GA.drawImage(e,t,n,1,1,0,0,1,1),i=GA.getImageData(0,0,1,1).data}catch(PU){return GA=null,null}return i}},{key:"getBackground",value:function(e){var t=this.getLayer().getBackground();return"function"===typeof t&&(t=t(e.viewState.resolution)),t||void 0}},{key:"useContainer",value:function(e,t,n){var i,r,o=this.getLayer().getClassName();if(e&&e.className===o&&(!n||e&&e.style.backgroundColor&&PT(UC(e.style.backgroundColor),UC(n)))){var a=e.firstElementChild;a instanceof HTMLCanvasElement&&(r=a.getContext("2d"))}if(r&&r.canvas.style.transform===t?(this.container=e,this.context=r,this.containerReused=!0):this.containerReused?(this.container=null,this.context=null,this.containerReused=!1):this.container&&(this.container.style.backgroundColor=null),!this.container){(i=document.createElement("div")).className=o;var s=i.style;s.position="absolute",s.width="100%",s.height="100%";var l=(r=JC()).canvas;i.appendChild(l),(s=l.style).position="absolute",s.left="0",s.transformOrigin="top left",this.container=i,this.context=r}this.containerReused||!n||this.container.style.backgroundColor||(this.container.style.backgroundColor=n)}},{key:"clipUnrotated",value:function(e,t,n){var i=Bx(n),r=Fx(n),o=Mx(n),a=Ax(n);lS(t.coordinateToPixelTransform,i),lS(t.coordinateToPixelTransform,r),lS(t.coordinateToPixelTransform,o),lS(t.coordinateToPixelTransform,a);var s=this.inversePixelTransform;lS(s,i),lS(s,r),lS(s,o),lS(s,a),e.save(),e.beginPath(),e.moveTo(Math.round(i[0]),Math.round(i[1])),e.lineTo(Math.round(r[0]),Math.round(r[1])),e.lineTo(Math.round(o[0]),Math.round(o[1])),e.lineTo(Math.round(a[0]),Math.round(a[1])),e.clip()}},{key:"prepareContainer",value:function(e,t){var n=e.extent,i=e.viewState.resolution,r=e.viewState.rotation,o=e.pixelRatio,a=Math.round(Ux(n)/i*o),s=Math.round(Px(n)/i*o);uS(this.pixelTransform,e.size[0]/2,e.size[1]/2,1/o,1/o,r,-a/2,-s/2),cS(this.inversePixelTransform,this.pixelTransform);var l=dS(this.pixelTransform);if(this.useContainer(t,l,this.getBackground(e)),!this.containerReused){var u=this.context.canvas;u.width!=a||u.height!=s?(u.width=a,u.height=s):this.context.clearRect(0,0,a,s),l!==u.style.transform&&(u.style.transform=l)}}},{key:"dispatchRenderEvent_",value:function(e,t,n){var i=this.getLayer();if(i.hasListener(e)){var r=new iO(e,this.inversePixelTransform,n,t);i.dispatchEvent(r)}}},{key:"preRender",value:function(e,t){this.frameState=t,t.declutter||this.dispatchRenderEvent_(UE,e,t)}},{key:"postRender",value:function(e,t){t.declutter||this.dispatchRenderEvent_(jE,e,t)}},{key:"renderDeferredInternal",value:function(e){}},{key:"getRenderContext",value:function(e){return e.declutter&&!this.deferredContext_&&(this.deferredContext_=new WA),e.declutter?this.deferredContext_.getContext():this.context}},{key:"renderDeferred",value:function(e){e.declutter&&(this.dispatchRenderEvent_(UE,this.context,e),e.declutter&&this.deferredContext_&&(this.deferredContext_.draw(this.context),this.deferredContext_.clear()),this.renderDeferredInternal(e),this.dispatchRenderEvent_(jE,this.context,e))}},{key:"getRenderTransform",value:function(e,t,n,i,r,o,a){var s=r/2,l=o/2,u=i/t,c=-u,h=-e[0]+a,d=-e[1];return uS(this.tempTransform,s,l,u,c,-n,h,d)}},{key:"disposeInternal",value:function(){delete this.frameState,oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(zA),YA=XA,KA=function(e){ac(n,e);var t=uc(n);function n(e,i,r){var o;return(0,Sr.Z)(this,n),r=r||{},(o=t.call(this)).tileCoord=e,o.state=i,o.key="",o.transition_=void 0===r.transition?250:r.transition,o.transitionStarts_={},o.interpolate=!!r.interpolate,o}return(0,Cr.Z)(n,[{key:"changed",value:function(){this.dispatchEvent(zT)}},{key:"release",value:function(){this.state===LO&&this.setState(NO)}},{key:"getKey",value:function(){return this.key+"/"+this.tileCoord}},{key:"getTileCoord",value:function(){return this.tileCoord}},{key:"getState",value:function(){return this.state}},{key:"setState",value:function(e){if(this.state!==LO&&this.state>e)throw new Error("Tile load sequence violation");this.state=e,this.changed()}},{key:"load",value:function(){oE()}},{key:"getAlpha",value:function(e,t){if(!this.transition_)return 1;var n=this.transitionStarts_[e];if(n){if(-1===n)return 1}else n=t,this.transitionStarts_[e]=n;var i=t-n+1e3/60;return i>=this.transition_?1:rS(i/this.transition_)}},{key:"inTransition",value:function(e){return!!this.transition_&&-1!==this.transitionStarts_[e]}},{key:"endTransition",value:function(e){this.transition_&&(this.transitionStarts_[e]=-1)}},{key:"disposeInternal",value:function(){this.release(),oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(HT);function qA(e){return e instanceof Image||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageBitmap?e:null}var JA=new Error("disposed"),QA=null;var eM=[256,256],tM=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=OO;return(i=t.call(this,e.tileCoord,r,{transition:e.transition,interpolate:e.interpolate})).loader_=e.loader,i.data_=null,i.error_=null,i.size_=e.size||null,i.controller_=e.controller||null,i}return(0,Cr.Z)(n,[{key:"getSize",value:function(){if(this.size_)return this.size_;var e=qA(this.data_);return e?[e.width,e.height]:eM}},{key:"getData",value:function(){return this.data_}},{key:"getError",value:function(){return this.error_}},{key:"load",value:function(){if(this.state===OO||this.state===LO){this.state=AO,this.changed();var e=this;this.loader_().then((function(t){e.data_=t,e.state=MO,e.changed()})).catch((function(t){e.error_=t,e.state=LO,e.changed()}))}}},{key:"disposeInternal",value:function(){this.controller_&&(this.controller_.abort(JA),this.controller_=null),oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(KA),nM=tM,iM=function(e){ac(n,e);var t=uc(n);function n(e,i,r,o,a,s){var l;return(0,Sr.Z)(this,n),(l=t.call(this,e,i,s)).crossOrigin_=o,l.src_=r,l.key=r,l.image_=new Image,null!==o&&(l.image_.crossOrigin=o),l.unlisten_=null,l.tileLoadFunction_=a,l}return(0,Cr.Z)(n,[{key:"getImage",value:function(){return this.image_}},{key:"setImage",value:function(e){this.image_=e,this.state=MO,this.unlistenImage_(),this.changed()}},{key:"handleImageError_",value:function(){this.state=LO,this.unlistenImage_(),this.image_=function(){var e=JC(1,1);return e.fillStyle="rgba(0,0,0,0)",e.fillRect(0,0,1,1),e.canvas}(),this.changed()}},{key:"handleImageLoad_",value:function(){var e=this.image_;e.naturalWidth&&e.naturalHeight?this.state=MO:this.state=NO,this.unlistenImage_(),this.changed()}},{key:"load",value:function(){this.state==LO&&(this.state=OO,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==OO&&(this.state=AO,this.changed(),this.tileLoadFunction_(this,this.src_),this.unlisten_=function(e,t,n){var i=e,r=!0,o=!1,a=!1,s=[tE(i,qT,(function(){a=!0,o||t()}))];return i.src&&KC?(o=!0,i.decode().then((function(){r&&t()})).catch((function(e){r&&(a?t():n())}))):s.push(tE(i,VT,n)),function(){r=!1,s.forEach(nE)}}(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))}},{key:"unlistenImage_",value:function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)}},{key:"disposeInternal",value:function(){this.unlistenImage_(),this.image_=null,oc(rc(n.prototype),"disposeInternal",this).call(this)}}]),n}(KA);var rM,oM=iM,aM=function(){function e(t){(0,Sr.Z)(this,e),this.highWaterMark=void 0!==t?t:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return(0,Cr.Z)(e,[{key:"deleteOldest",value:function(){var e=this.pop();e instanceof LT&&e.dispose()}},{key:"canExpireCache",value:function(){return this.highWaterMark>0&&this.getCount()>this.highWaterMark}},{key:"expireCache",value:function(e){for(;this.canExpireCache();)this.deleteOldest()}},{key:"clear",value:function(){for(;this.oldest_;)this.deleteOldest()}},{key:"containsKey",value:function(e){return this.entries_.hasOwnProperty(e)}},{key:"forEach",value:function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer}},{key:"get",value:function(e,t){var n=this.entries_[e];return CE(void 0!==n,"Tried to get a value for a key that does not exist in the cache"),n===this.newest_||(n===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(n.newer.older=n.older,n.older.newer=n.newer),n.newer=null,n.older=this.newest_,this.newest_.newer=n,this.newest_=n),n.value_}},{key:"remove",value:function(e){var t=this.entries_[e];return CE(void 0!==t,"Tried to get a value for a key that does not exist in the cache"),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_}},{key:"getCount",value:function(){return this.count_}},{key:"getKeys",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.key_;return t}},{key:"getValues",value:function(){var e,t=new Array(this.count_),n=0;for(e=this.newest_;e;e=e.older)t[n++]=e.value_;return t}},{key:"peekLast",value:function(){return this.oldest_.value_}},{key:"peekLastKey",value:function(){return this.oldest_.key_}},{key:"peekFirstKey",value:function(){return this.newest_.key_}},{key:"peek",value:function(e){var t;return null===(t=this.entries_[e])||void 0===t?void 0:t.value_}},{key:"pop",value:function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_}},{key:"replace",value:function(e,t){this.get(e),this.entries_[e].value_=t}},{key:"set",value:function(e,t){CE(!(e in this.entries_),"Tried to set a value for a key that is used already");var n={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=n:this.oldest_=n,this.newest_=n,this.entries_[e]=n,++this.count_}},{key:"setSize",value:function(e){this.highWaterMark=e}}]),e}(),sM=aM,lM=function(){function e(t,n,i,r,o,a,s){var l=this;(0,Sr.Z)(this,e),this.sourceProj_=t,this.targetProj_=n;var u={},c=s?Fw((function(e){return lS(s,zw(e,l.targetProj_,l.sourceProj_))})):Hw(this.targetProj_,this.sourceProj_);this.transformInv_=function(e){var t=e[0]+"/"+e[1];return u[t]||(u[t]=c(e)),u[t]},this.maxSourceExtent_=r,this.errorThresholdSquared_=o*o,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&Ux(r)>=Ux(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?Ux(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?Ux(this.targetProj_.getExtent()):null;var h=Bx(i),d=Fx(i),f=Mx(i),p=Ax(i),v=this.transformInv_(h),g=this.transformInv_(d),m=this.transformInv_(f),y=this.transformInv_(p),_=10+(a?Math.max(0,Math.ceil(Math.log2(Ox(i)/(a*a*256*256)))):0);if(this.addQuad_(h,d,f,p,v,g,m,y,_),this.wrapsXInSource_){var b=1/0;this.triangles_.forEach((function(e,t,n){b=Math.min(b,e.source[0][0],e.source[1][0],e.source[2][0])})),this.triangles_.forEach((function(e){if(Math.max(e.source[0][0],e.source[1][0],e.source[2][0])-b>l.sourceWorldWidth_/2){var t=[[e.source[0][0],e.source[0][1]],[e.source[1][0],e.source[1][1]],[e.source[2][0],e.source[2][1]]];t[0][0]-b>l.sourceWorldWidth_/2&&(t[0][0]-=l.sourceWorldWidth_),t[1][0]-b>l.sourceWorldWidth_/2&&(t[1][0]-=l.sourceWorldWidth_),t[2][0]-b>l.sourceWorldWidth_/2&&(t[2][0]-=l.sourceWorldWidth_);var n=Math.min(t[0][0],t[1][0],t[2][0]);Math.max(t[0][0],t[1][0],t[2][0])-n<l.sourceWorldWidth_/2&&(e.source=t)}}))}u={}}return(0,Cr.Z)(e,[{key:"addTriangle_",value:function(e,t,n,i,r,o){this.triangles_.push({source:[i,r,o],target:[e,t,n]})}},{key:"addQuad_",value:function(e,t,n,i,r,o,a,s,l){var u=gx([r,o,a,s]),c=this.sourceWorldWidth_?Ux(u)/this.sourceWorldWidth_:null,h=this.sourceWorldWidth_,d=this.sourceProj_.canWrapX()&&c>.5&&c<1,f=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_)f=Ux(gx([e,t,n,i]))/this.targetWorldWidth_>.25||f;!d&&this.sourceProj_.isGlobal()&&c&&(f=c>.25||f)}if(!(!f&&this.maxSourceExtent_&&isFinite(u[0])&&isFinite(u[1])&&isFinite(u[2])&&isFinite(u[3]))||jx(u,this.maxSourceExtent_)){var p=0;if(!f&&(!isFinite(r[0])||!isFinite(r[1])||!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(s[0])||!isFinite(s[1])))if(l>0)f=!0;else if(1!=(p=(isFinite(r[0])&&isFinite(r[1])?0:8)+(isFinite(o[0])&&isFinite(o[1])?0:4)+(isFinite(a[0])&&isFinite(a[1])?0:2)+(isFinite(s[0])&&isFinite(s[1])?0:1))&&2!=p&&4!=p&&8!=p)return;if(l>0){if(!f){var v,g=[(e[0]+n[0])/2,(e[1]+n[1])/2],m=this.transformInv_(g);if(d)v=(LE(r[0],h)+LE(a[0],h))/2-LE(m[0],h);else v=(r[0]+a[0])/2-m[0];var y=(r[1]+a[1])/2-m[1];f=v*v+y*y>this.errorThresholdSquared_}if(f){if(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])){var _=[(t[0]+n[0])/2,(t[1]+n[1])/2],b=this.transformInv_(_),k=[(i[0]+e[0])/2,(i[1]+e[1])/2],T=this.transformInv_(k);this.addQuad_(e,t,_,k,r,o,b,T,l-1),this.addQuad_(k,_,n,i,T,b,a,s,l-1)}else{var E=[(e[0]+t[0])/2,(e[1]+t[1])/2],x=this.transformInv_(E),w=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(w);this.addQuad_(e,E,w,i,r,x,S,s,l-1),this.addQuad_(E,t,n,w,x,o,a,S,l-1)}return}}if(d){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&p)&&this.addTriangle_(e,n,i,r,a,s),0==(14&p)&&this.addTriangle_(e,n,t,r,a,o),p&&(0==(13&p)&&this.addTriangle_(t,i,e,o,s,r),0==(7&p)&&this.addTriangle_(t,i,n,o,s,a))}}},{key:"calculateSourceExtent",value:function(){var e=[1/0,1/0,-1/0,-1/0];return this.triangles_.forEach((function(t,n,i){var r=t.source;Sx(e,r[0]),Sx(e,r[1]),Sx(e,r[2])})),e}},{key:"getTriangles",value:function(){return this.triangles_}}]),e}(),uM=lM,cM=[];function hM(e,t,n,i,r){e.beginPath(),e.moveTo(0,0),e.lineTo(t,n),e.lineTo(i,r),e.closePath(),e.save(),e.clip(),e.fillRect(0,0,Math.max(t,i)+1,Math.max(n,r)),e.restore()}function dM(e,t){return Math.abs(e[4*t]-210)>2||Math.abs(e[4*t+3]-191.25)>2}function fM(e,t,n,i){var r=zw(n,t,e),o=Pw(t,i,n),a=t.getMetersPerUnit();void 0!==a&&(o*=a);var s=e.getMetersPerUnit();void 0!==s&&(o/=s);var l=e.getExtent();if(!l||yx(l,r)){var u=Pw(e,o,r)/o;isFinite(u)&&u>0&&(o/=u)}return o}function pM(e,t,n,i){var r=Lx(n),o=fM(e,t,r,i);return(!isFinite(o)||o<=0)&&Rx(n,(function(n){return o=fM(e,t,n,i),isFinite(o)&&o>0})),o}function vM(e,t,n,i,r,o,a,s,l,u,c,h,d,f){var p=JC(Math.round(n*e),Math.round(n*t),cM);if(h||(p.imageSmoothingEnabled=!1),0===l.length)return p.canvas;function v(e){return Math.round(e*n)/n}p.scale(n,n),p.globalCompositeOperation="lighter";var g,m=[1/0,1/0,-1/0,-1/0];l.forEach((function(e,t,n){wx(m,e.extent)}));var y=n/i,_=(h?1:1+Math.pow(2,-24))/y;if(!d||1!==l.length||0!==u){if(g=JC(Math.round(Ux(m)*y),Math.round(Px(m)*y),cM),h||(g.imageSmoothingEnabled=!1),r&&f){var b=(r[0]-m[0])*y,k=-(r[3]-m[3])*y,T=Ux(r)*y,E=Px(r)*y;g.rect(b,k,T,E),g.clip()}l.forEach((function(e,t,n){if(e.image.width>0&&e.image.height>0){if(e.clipExtent){g.save();var i=(e.clipExtent[0]-m[0])*y,r=-(e.clipExtent[3]-m[3])*y,o=Ux(e.clipExtent)*y,a=Px(e.clipExtent)*y;g.rect(h?i:Math.round(i),h?r:Math.round(r),h?o:Math.round(i+o)-Math.round(i),h?a:Math.round(r+a)-Math.round(r)),g.clip()}var s=(e.extent[0]-m[0])*y,l=-(e.extent[3]-m[3])*y,c=Ux(e.extent)*y,d=Px(e.extent)*y;g.drawImage(e.image,u,u,e.image.width-2*u,e.image.height-2*u,h?s:Math.round(s),h?l:Math.round(l),h?c:Math.round(s+c)-Math.round(s),h?d:Math.round(l+d)-Math.round(l)),e.clipExtent&&g.restore()}}))}var x=Bx(a);return s.getTriangles().forEach((function(e,t,n){var i=e.source,r=e.target,a=i[0][0],s=i[0][1],u=i[1][0],c=i[1][1],d=i[2][0],f=i[2][1],y=v((r[0][0]-x[0])/o),b=v(-(r[0][1]-x[1])/o),k=v((r[1][0]-x[0])/o),T=v(-(r[1][1]-x[1])/o),E=v((r[2][0]-x[0])/o),w=v(-(r[2][1]-x[1])/o),S=a,C=s;a=0,s=0;var I=function(e){for(var t=e.length,n=0;n<t;n++){for(var i=n,r=Math.abs(e[n][n]),o=n+1;o<t;o++){var a=Math.abs(e[o][n]);a>r&&(r=a,i=o)}if(0===r)return null;var s=e[i];e[i]=e[n],e[n]=s;for(var l=n+1;l<t;l++)for(var u=-e[l][n]/e[n][n],c=n;c<t+1;c++)n==c?e[l][c]=0:e[l][c]+=u*e[n][c]}for(var h=new Array(t),d=t-1;d>=0;d--){h[d]=e[d][t]/e[d][d];for(var f=d-1;f>=0;f--)e[f][t]-=e[f][d]*h[d]}return h}([[u-=S,c-=C,0,0,k-y],[d-=S,f-=C,0,0,E-y],[0,0,u,c,T-b],[0,0,d,f,w-b]]);if(I){if(p.save(),p.beginPath(),function(){if(void 0===rM){var e=JC(6,6,cM);e.globalCompositeOperation="lighter",e.fillStyle="rgba(210, 0, 0, 0.75)",hM(e,4,5,4,0),hM(e,4,5,0,5);var t=e.getImageData(0,0,3,3).data;rM=dM(t,0)||dM(t,4)||dM(t,8),eI(e),cM.push(e.canvas)}return rM}()||!h){p.moveTo(k,T);for(var R=y-k,O=b-T,A=0;A<4;A++)p.lineTo(k+v((A+1)*R/4),T+v(A*O/3)),3!=A&&p.lineTo(k+v((A+1)*R/4),T+v((A+1)*O/3));p.lineTo(E,w)}else p.moveTo(k,T),p.lineTo(y,b),p.lineTo(E,w);var M;if(p.clip(),p.transform(I[0],I[2],I[1],I[3],y,b),p.translate(m[0]-S,m[3]-C),g)M=g.canvas,p.scale(_,-_);else{var L=l[0],N=L.extent;M=L.image,p.scale(Ux(N)/M.width,-Px(N)/M.height)}p.drawImage(M,0,0),p.restore()}})),g&&(eI(g),cM.push(g.canvas)),c&&(p.save(),p.globalCompositeOperation="source-over",p.strokeStyle="black",p.lineWidth=1,s.getTriangles().forEach((function(e,t,n){var i=e.target,r=(i[0][0]-x[0])/o,a=-(i[0][1]-x[1])/o,s=(i[1][0]-x[0])/o,l=-(i[1][1]-x[1])/o,u=(i[2][0]-x[0])/o,c=-(i[2][1]-x[1])/o;p.beginPath(),p.moveTo(s,l),p.lineTo(r,a),p.lineTo(u,c),p.closePath(),p.stroke()})),p.restore()),p.canvas}function gM(e,t,n,i,r,o,a){var s,l=1/(e-t),u=1/(n-i),c=1/(r-o);return(a=null!==(s=a)&&void 0!==s?s:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])[0]=-2*l,a[1]=0,a[2]=0,a[3]=0,a[4]=0,a[5]=-2*u,a[6]=0,a[7]=0,a[8]=0,a[9]=0,a[10]=2*c,a[11]=0,a[12]=(e+t)*l,a[13]=(i+n)*u,a[14]=(o+r)*c,a[15]=1,a}function mM(e,t,n,i,r){var o;return(r=null!==(o=r)&&void 0!==o?o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r[4]=e[4]*n,r[5]=e[5]*n,r[6]=e[6]*n,r[7]=e[7]*n,r[8]=e[8]*i,r[9]=e[9]*i,r[10]=e[10]*i,r[11]=e[11]*i,r[12]=e[12],r[13]=e[13],r[14]=e[14],r[15]=e[15],r}var yM=function(){function e(t){(0,Sr.Z)(this,e),this.gl_=t,this.program_=bM(t,"\n  precision mediump float;\n\n  varying vec2 v_texcoord;\n\n  uniform sampler2D u_texture;\n\n  void main() {\n    if (\n      v_texcoord.x < 0.0 ||\n      v_texcoord.y < 0.0 ||\n      v_texcoord.x > 1.0 ||\n      v_texcoord.y > 1.0\n    ) {\n      discard;\n    }\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n  }\n","\n  attribute vec4 a_position;\n  attribute vec4 a_texcoord;\n\n  uniform mat4 u_matrix;\n  uniform mat4 u_textureMatrix;\n\n  varying vec2 v_texcoord;\n\n  void main() {\n    gl_Position = u_matrix * a_position;\n    vec2 texcoord = (u_textureMatrix * a_texcoord).xy;\n    v_texcoord = texcoord;\n  }\n"),this.positionLocation=t.getAttribLocation(this.program_,"a_position"),this.texcoordLocation=t.getAttribLocation(this.program_,"a_texcoord"),this.matrixLocation=t.getUniformLocation(this.program_,"u_matrix"),this.textureMatrixLocation=t.getUniformLocation(this.program_,"u_textureMatrix"),this.textureLocation=t.getUniformLocation(this.program_,"u_texture"),this.positionBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.positionBuffer),this.positions=[0,0,0,1,1,0,1,0,0,1,1,1],t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.positions),t.STATIC_DRAW),this.texcoordBuffer=t.createBuffer(),t.bindBuffer(t.ARRAY_BUFFER,this.texcoordBuffer),this.texcoords=[0,0,0,1,1,0,1,0,0,1,1,1],t.bufferData(t.ARRAY_BUFFER,new Float32Array(this.texcoords),t.STATIC_DRAW)}return(0,Cr.Z)(e,[{key:"drawImage",value:function(e,t,n,i,r,o,a,s,l,u,c,h,d){var f=this.gl_;void 0===s&&(s=i),void 0===l&&(l=r),void 0===o&&(o=t),void 0===a&&(a=n),void 0===u&&(u=o),void 0===c&&(c=a),void 0===h&&(h=f.canvas.width),void 0===d&&(d=f.canvas.height),f.bindTexture(f.TEXTURE_2D,e),f.useProgram(this.program_),f.bindBuffer(f.ARRAY_BUFFER,this.positionBuffer),f.enableVertexAttribArray(this.positionLocation),f.vertexAttribPointer(this.positionLocation,2,f.FLOAT,!1,0,0),f.bindBuffer(f.ARRAY_BUFFER,this.texcoordBuffer),f.enableVertexAttribArray(this.texcoordLocation),f.vertexAttribPointer(this.texcoordLocation,2,f.FLOAT,!1,0,0);var p=gM(0,h,0,d,-1,1);p=mM(p=function(e,t,n,i,r){var o,a,s,l,u,c,h,d,f,p,v,g,m;return e===(r=null!==(o=r)&&void 0!==o?o:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])?(r[12]=e[0]*t+e[4]*n+e[8]*i+e[12],r[13]=e[1]*t+e[5]*n+e[9]*i+e[13],r[14]=e[2]*t+e[6]*n+e[10]*i+e[14],r[15]=e[3]*t+e[7]*n+e[11]*i+e[15]):(a=e[0],s=e[1],l=e[2],u=e[3],c=e[4],h=e[5],d=e[6],f=e[7],p=e[8],v=e[9],g=e[10],m=e[11],r[0]=a,r[1]=s,r[2]=l,r[3]=u,r[4]=c,r[5]=h,r[6]=d,r[7]=f,r[8]=p,r[9]=v,r[10]=g,r[11]=m,r[12]=a*t+c*n+p*i+e[12],r[13]=s*t+h*n+v*i+e[13],r[14]=l*t+d*n+g*i+e[14],r[15]=u*t+f*n+m*i+e[15]),r}(p,s,l,0),u,c,1),f.uniformMatrix4fv(this.matrixLocation,!1,p);var v=function(e,t,n,i){var r;return(i=null!==(r=i)&&void 0!==r?r:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])[0]=1,i[1]=0,i[2]=0,i[3]=0,i[4]=0,i[5]=1,i[6]=0,i[7]=0,i[8]=0,i[9]=0,i[10]=1,i[11]=0,i[12]=e,i[13]=t,i[14]=n,i[15]=1,i}(i/t,r/n,0);v=mM(v,o/t,a/n,1),f.uniformMatrix4fv(this.textureMatrixLocation,!1,v),f.uniform1i(this.textureLocation,0),f.drawArrays(f.TRIANGLES,0,this.positions.length/2)}}]),e}();function _M(e,t,n){var i=e.createShader(t);if(null===i)throw new Error("Shader compilation failed");if(e.shaderSource(i,n),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS)){var r=e.getShaderInfoLog(i);if(null===r)throw new Error("Shader info log creation failed");throw new Error(r)}return i}function bM(e,t,n){var i=e.createProgram(),r=_M(e,e.VERTEX_SHADER,n),o=_M(e,e.FRAGMENT_SHADER,t);if(null===i)throw new Error("Program creation failed");if(e.attachShader(i,r),e.attachShader(i,o),e.linkProgram(i),!e.getProgramParameter(i,e.LINK_STATUS)){if(null===e.getProgramInfoLog(i))throw new Error("Program info log creation failed");throw new Error}return i}var kM=[];function TM(e,t,n,i,r,o,a,s,l,u,c,h,d,f){var p,v,g=Math.round(i*t),m=Math.round(i*n);if(e.canvas.width=g,e.canvas.height=m,v=e.createTexture(),e.bindTexture(e.TEXTURE_2D,v),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),d?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,g,m,0,e.RGBA,c,null),p=e.createFramebuffer(),e.bindFramebuffer(e.FRAMEBUFFER,p),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,v,0),null===p)throw new Error("Could not create framebuffer");if(null===v)throw new Error("Could not create texture");if(0===l.length)return{width:g,height:m,framebuffer:p,texture:v};var y,_,b,k=[1/0,1/0,-1/0,-1/0];l.forEach((function(e,t,n){wx(k,e.extent)}));var T=1/r;if(f&&1===l.length&&0===u)y=l[0].texture,_=l[0].width,b=l[0].width;else{if(y=e.createTexture(),null===v)throw new Error("Could not create texture");_=Math.round(Ux(k)*T),b=Math.round(Px(k)*T);var E=e.getParameter(e.MAX_TEXTURE_SIZE),x=Math.max(_,b),w=x>E?E/x:1,S=Math.round(_*w),C=Math.round(b*w);e.bindTexture(e.TEXTURE_2D,y),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),d?(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR)):(e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST)),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,S,C,0,e.RGBA,c,null);var I=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,I),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,y,0);var R=new yM(e);l.forEach((function(t,n,i){var r=(t.extent[0]-k[0])*T*w,o=-(t.extent[3]-k[3])*T*w,a=Ux(t.extent)*T*w,s=Px(t.extent)*T*w;if(e.bindFramebuffer(e.FRAMEBUFFER,I),e.viewport(0,0,S,C),t.clipExtent){var l=(t.clipExtent[0]-k[0])*T*w,c=-(t.clipExtent[3]-k[3])*T*w,h=Ux(t.clipExtent)*T*w,f=Px(t.clipExtent)*T*w;e.enable(e.SCISSOR_TEST),e.scissor(d?l:Math.round(l),d?c:Math.round(c),d?h:Math.round(l+h)-Math.round(l),d?f:Math.round(c+f)-Math.round(c))}R.drawImage(t.texture,t.width,t.height,u,u,t.width-2*u,t.height-2*u,d?r:Math.round(r),d?o:Math.round(o),d?a:Math.round(r+a)-Math.round(r),d?s:Math.round(o+s)-Math.round(o),S,C),e.disable(e.SCISSOR_TEST)})),e.deleteFramebuffer(I)}var O=Bx(a),A=Bx(k),M=function(e){var t=(e[0][0]-O[0])/o*i,n=-(e[0][1]-O[1])/o*i;return{u1:(e[1][0]-O[0])/o*i,v1:-(e[1][1]-O[1])/o*i,u0:t,v0:n,u2:(e[2][0]-O[0])/o*i,v2:-(e[2][1]-O[1])/o*i}};e.bindFramebuffer(e.FRAMEBUFFER,p),e.viewport(0,0,g,m);var L=[],N=[],$=bM(e,"\n  precision mediump float;\n\n  varying vec2 v_texcoord;\n\n  uniform sampler2D u_texture;\n\n  void main() {\n    if (v_texcoord.x < 0.0 || v_texcoord.x > 1.0 || v_texcoord.y < 0.0 || v_texcoord.y > 1.0) {\n      discard;\n    }\n    gl_FragColor = texture2D(u_texture, v_texcoord);\n  }\n","\n  attribute vec4 a_position;\n  attribute vec2 a_texcoord;\n\n  varying vec2 v_texcoord;\n\n  uniform mat4 u_matrix;\n\n  void main() {\n     gl_Position = u_matrix * a_position;\n     v_texcoord = a_texcoord;\n  }\n");e.useProgram($);var P=e.getUniformLocation($,"u_texture");e.bindTexture(e.TEXTURE_2D,y),e.uniform1i(P,0),s.getTriangles().forEach((function(e,t,n){var i=e.source,o=e.target,a=M(o),s=a.u1,l=a.v1,u=a.u0,c=a.v0,h=a.u2,d=a.v2,f=(i[0][0]-A[0])/r/_,p=-(i[0][1]-A[1])/r/b,v=(i[1][0]-A[0])/r/_,g=-(i[1][1]-A[1])/r/b,m=(i[2][0]-A[0])/r/_,y=-(i[2][1]-A[1])/r/b;L.push(s,l,u,c,h,d),N.push(v,g,f,p,m,y)}));var D=gM(0,g,m,0,-1,1),B=e.getUniformLocation($,"u_matrix");e.uniformMatrix4fv(B,!1,D);var F=e.getAttribLocation($,"a_position"),U=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,U),e.bufferData(e.ARRAY_BUFFER,new Float32Array(L),e.STATIC_DRAW),e.vertexAttribPointer(F,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(F);var j=e.getAttribLocation($,"a_texcoord"),Z=e.createBuffer();if(e.bindBuffer(e.ARRAY_BUFFER,Z),e.bufferData(e.ARRAY_BUFFER,new Float32Array(N),e.STATIC_DRAW),e.vertexAttribPointer(j,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(j),e.drawArrays(e.TRIANGLES,0,L.length/2),h){var H=bM(e,"\n  precision mediump float;\n\n  uniform vec4 u_val;\n  void main() {\n     gl_FragColor = u_val;\n  }\n","\n  attribute vec4 a_position;\n\n  uniform mat4 u_matrix;\n\n  void main() {\n     gl_Position = u_matrix * a_position;\n  }\n");e.useProgram(H);var z=gM(0,g,m,0,-1,1),V=e.getUniformLocation(H,"u_matrix");e.uniformMatrix4fv(V,!1,z);var W=Array.isArray(h)?h:[0,0,0,255],G=e.getUniformLocation(H,"u_val");e.uniform4fv(G,W);var X=e.getAttribLocation(H,"a_position"),Y=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,Y),e.vertexAttribPointer(X,2,e.FLOAT,!1,0,0),e.enableVertexAttribArray(X);var K=s.getTriangles().reduce((function(e,t){var n=t.target,i=M(n),r=i.u1,o=i.v1,a=i.u0,s=i.v0,l=i.u2,u=i.v2;return e.concat([r,o,a,s,a,s,l,u,l,u,r,o])}),[]);e.bufferData(e.ARRAY_BUFFER,new Float32Array(K),e.STATIC_DRAW),e.drawArrays(e.LINES,0,K.length/2)}return{width:g,height:m,framebuffer:p,texture:v}}var EM=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),(i=t.call(this,{tileCoord:e.tileCoord,loader:function(){return Promise.resolve(new Uint8ClampedArray(4))},interpolate:e.interpolate,transition:e.transition})).renderEdges_=void 0!==e.renderEdges&&e.renderEdges,i.pixelRatio_=e.pixelRatio,i.gutter_=e.gutter,i.reprojData_=null,i.reprojError_=null,i.reprojSize_=void 0,i.sourceTileGrid_=e.sourceTileGrid,i.targetTileGrid_=e.targetTileGrid,i.wrappedTileCoord_=e.wrappedTileCoord||e.tileCoord,i.sourceTiles_=[],i.sourcesListenerKeys_=null,i.sourceZ_=0;var r=e.sourceProj,o=r.getExtent(),a=e.sourceTileGrid.getExtent();i.clipExtent_=r.canWrapX()?a?Dx(o,a):o:a;var s=i.targetTileGrid_.getTileCoordExtent(i.wrappedTileCoord_),l=i.targetTileGrid_.getExtent(),u=i.sourceTileGrid_.getExtent(),c=l?Dx(s,l):s;if(0===Ox(c))return i.state=NO,lc(i);o&&(u=u?Dx(u,o):o);var h=i.targetTileGrid_.getResolution(i.wrappedTileCoord_[0]),d=e.targetProj,f=pM(r,d,c,h);if(!isFinite(f)||f<=0)return i.state=NO,lc(i);var p=void 0!==e.errorThreshold?e.errorThreshold:.5;if(i.triangulation_=new uM(r,d,c,u,f*p,h,e.transformMatrix),0===i.triangulation_.getTriangles().length)return i.state=NO,lc(i);i.sourceZ_=i.sourceTileGrid_.getZForResolution(f);var v=i.triangulation_.calculateSourceExtent();if(u&&(r.canWrapX()?(v[1]=IE(v[1],u[1],u[3]),v[3]=IE(v[3],u[1],u[3])):v=Dx(v,u)),Ox(v)){var g=0,m=0;r.canWrapX()&&(g=Ux(o),m=Math.floor((v[0]-o[0])/g)),zx(v.slice(),r,!0).forEach((function(t){for(var n=i.sourceTileGrid_.getTileRangeForExtentAndZ(t,i.sourceZ_),r=e.getTileFunction,o=n.minX;o<=n.maxX;o++)for(var a=n.minY;a<=n.maxY;a++){var s=r(i.sourceZ_,o,a,i.pixelRatio_);if(s){var l=m*g;i.sourceTiles_.push({tile:s,offset:l})}}++m})),0===i.sourceTiles_.length&&(i.state=NO)}else i.state=NO;return i}return(0,Cr.Z)(n,[{key:"getSize",value:function(){return this.reprojSize_}},{key:"getData",value:function(){return this.reprojData_}},{key:"getError",value:function(){return this.reprojError_}},{key:"reproject_",value:function(){var e=this,t=[],n=!1;if(this.sourceTiles_.forEach((function(i){var r,o=i.tile;if(o&&o.getState()===MO){var a,s=o.getSize(),l=e.gutter_,u=function(e){return e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e instanceof DataView?e:null}(o.getData());u?a=u:(n=!0,a=function(e){QA||(QA=JC(e.width,e.height,void 0,{willReadFrequently:!0}));var t=QA.canvas,n=e.width;t.width!==n&&(t.width=n);var i=e.height;return t.height!==i&&(t.height=i),QA.clearRect(0,0,n,i),QA.drawImage(e,0,0),QA.getImageData(0,0,n,i).data}(qA(o.getData())));var c=[s[0]+2*l,s[1]+2*l],h=a instanceof Float32Array,d=c[0]*c[1],f=h?Float32Array:Uint8ClampedArray,p=new f(a.buffer),v=f.BYTES_PER_ELEMENT,g=v*p.length/d,m=p.byteLength/c[1],y=Math.floor(m/v/c[0]),_=e.sourceTileGrid_.getTileCoordExtent(o.tileCoord);_[0]+=i.offset,_[2]+=i.offset;var b=null===(r=e.clipExtent_)||void 0===r?void 0:r.slice();b&&(b[0]+=i.offset,b[2]+=i.offset),t.push({extent:_,clipExtent:b,data:p,dataType:f,bytesPerPixel:g,pixelSize:c,bandCount:y})}})),this.sourceTiles_.length=0,0===t.length)return this.state=LO,void this.changed();var i,r,o=this.wrappedTileCoord_[0],a=this.targetTileGrid_.getTileSize(o),s="number"===typeof a?a:a[0],l="number"===typeof a?a:a[1],u=s*this.pixelRatio_,c=l*this.pixelRatio_,h=this.targetTileGrid_.getResolution(o),d=this.sourceTileGrid_.getResolution(this.sourceZ_),f=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_),p=t[0].bandCount,v=new t[0].dataType(p*u*c),g=function(e,t,n,i){var r;return r=n&&n.length?n.shift():YC?new OffscreenCanvas(e||300,t||300):document.createElement("canvas"),e&&(r.width=e),t&&(r.height=t),r.getContext("webgl",i)}(u,c,kM,{premultipliedAlpha:!1,antialias:!1}),m=g.RGBA;t[0].dataType==Float32Array?(r=g.FLOAT,g.getExtension("WEBGL_color_buffer_float"),g.getExtension("OES_texture_float"),g.getExtension("EXT_float_blend"),i=null!==g.getExtension("OES_texture_float_linear")&&this.interpolate):(r=g.UNSIGNED_BYTE,i=this.interpolate);for(var y=Math.ceil(p/4)-1;y>=0;--y){for(var _=[],b=0,k=t.length;b<k;++b){for(var T=t[b],E=T.pixelSize,x=E[0],w=E[1],S=new T.dataType(4*x*w),C=T.data,I=4*y,R=0,O=S.length;R<O;R+=4)S[R]=C[I],S[R+1]=C[I+1],S[R+2]=C[I+2],S[R+3]=C[I+3],I+=p;var A=g.createTexture();g.bindTexture(g.TEXTURE_2D,A),i?(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.LINEAR),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.LINEAR)):(g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MIN_FILTER,g.NEAREST),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_MAG_FILTER,g.NEAREST)),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_S,g.CLAMP_TO_EDGE),g.texParameteri(g.TEXTURE_2D,g.TEXTURE_WRAP_T,g.CLAMP_TO_EDGE),g.texImage2D(g.TEXTURE_2D,0,m,x,w,0,m,r,S),_.push({extent:T.extent,clipExtent:T.clipExtent,texture:A,width:x,height:w})}var M=TM(g,s,l,this.pixelRatio_,d,h,f,this.triangulation_,_,this.gutter_,r,this.renderEdges_,i),L=M.framebuffer,N=M.width,$=M.height,P=N,D=4*$,B=new t[0].dataType(P*D);g.bindFramebuffer(g.FRAMEBUFFER,L),g.readPixels(0,0,N,$,g.RGBA,r,B);for(var F=4*y,U=0,j=B.length;U<j;U+=4){var Z=(P-1-(U/D|0))*D+U%D;v[F]=B[Z],v[F+1]=B[Z+1],v[F+2]=B[Z+2],v[F+3]=B[Z+3],F+=p}}if(function(e){var t=e.canvas;t.width=1,t.height=1,e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT|e.STENCIL_BUFFER_BIT)}(g),kM.push(g.canvas),n){var H=JC(s,l),z=new ImageData(v,s);H.putImageData(z,0,0),this.reprojData_=H.canvas}else this.reprojData_=v;this.reprojSize_=[Math.round(u),Math.round(c)],this.state=MO,this.changed()}},{key:"load",value:function(){var e=this;if(this.state===OO||this.state===LO){this.state=AO,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.tile,r=i.getState();if(r===OO||r===AO){t++;var o=eE(i,zT,(function(){var n=i.getState();n!=MO&&n!=LO&&n!=NO||(nE(o),0===--t&&(e.unlistenSources_(),e.reproject_()))}));e.sourcesListenerKeys_.push(o)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e){var t=e.tile;t.getState()==OO&&t.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(nE),this.sourcesListenerKeys_=null}}]),n}(nM),xM=EM,wM=function(e){ac(n,e);var t=uc(n);function n(e,i,r,o,a,s,l,u,c,h,d,f){var p;(0,Sr.Z)(this,n),(p=t.call(this,a,OO,f)).renderEdges_=void 0!==d&&d,p.pixelRatio_=l,p.gutter_=u,p.canvas_=null,p.sourceTileGrid_=i,p.targetTileGrid_=o,p.wrappedTileCoord_=s||a,p.sourceTiles_=[],p.sourcesListenerKeys_=null,p.sourceZ_=0,p.clipExtent_=e.canWrapX()?e.getExtent():void 0;var v=o.getTileCoordExtent(p.wrappedTileCoord_),g=p.targetTileGrid_.getExtent(),m=p.sourceTileGrid_.getExtent(),y=g?Dx(v,g):v;if(0===Ox(y))return p.state=NO,lc(p);var _=e.getExtent();_&&(m=m?Dx(m,_):_);var b=o.getResolution(p.wrappedTileCoord_[0]),k=pM(e,r,y,b);if(!isFinite(k)||k<=0)return p.state=NO,lc(p);var T=void 0!==h?h:.5;if(p.triangulation_=new uM(e,r,y,m,k*T,b),0===p.triangulation_.getTriangles().length)return p.state=NO,lc(p);p.sourceZ_=i.getZForResolution(k);var E=p.triangulation_.calculateSourceExtent();if(m&&(e.canWrapX()?(E[1]=IE(E[1],m[1],m[3]),E[3]=IE(E[3],m[1],m[3])):E=Dx(E,m)),Ox(E)){var x=0,w=0;e.canWrapX()&&(x=Ux(_),w=Math.floor((E[0]-_[0])/x)),zx(E.slice(),e,!0).forEach((function(e){for(var t=i.getTileRangeForExtentAndZ(e,p.sourceZ_),n=t.minX;n<=t.maxX;n++)for(var r=t.minY;r<=t.maxY;r++){var o=c(p.sourceZ_,n,r,l);if(o){var a=w*x;p.sourceTiles_.push({tile:o,offset:a})}}++w})),0===p.sourceTiles_.length&&(p.state=NO)}else p.state=NO;return p}return(0,Cr.Z)(n,[{key:"getImage",value:function(){return this.canvas_}},{key:"reproject_",value:function(){var e=this,t=[];if(this.sourceTiles_.forEach((function(n){var i=n.tile;if(i&&i.getState()==MO){var r,o=e.sourceTileGrid_.getTileCoordExtent(i.tileCoord);o[0]+=n.offset,o[2]+=n.offset;var a=null===(r=e.clipExtent_)||void 0===r?void 0:r.slice();a&&(a[0]+=n.offset,a[2]+=n.offset),t.push({extent:o,clipExtent:a,image:i.getImage()})}})),this.sourceTiles_.length=0,0===t.length)this.state=LO;else{var n=this.wrappedTileCoord_[0],i=this.targetTileGrid_.getTileSize(n),r="number"===typeof i?i:i[0],o="number"===typeof i?i:i[1],a=this.targetTileGrid_.getResolution(n),s=this.sourceTileGrid_.getResolution(this.sourceZ_),l=this.targetTileGrid_.getTileCoordExtent(this.wrappedTileCoord_);this.canvas_=vM(r,o,this.pixelRatio_,s,this.sourceTileGrid_.getExtent(),a,l,this.triangulation_,t,this.gutter_,this.renderEdges_,this.interpolate),this.state=MO}this.changed()}},{key:"load",value:function(){var e=this;if(this.state==OO){this.state=AO,this.changed();var t=0;this.sourcesListenerKeys_=[],this.sourceTiles_.forEach((function(n){var i=n.tile,r=i.getState();if(r==OO||r==AO){t++;var o=eE(i,zT,(function(n){var r=i.getState();r!=MO&&r!=LO&&r!=NO||(nE(o),0===--t&&(e.unlistenSources_(),e.reproject_()))}));e.sourcesListenerKeys_.push(o)}})),0===t?setTimeout(this.reproject_.bind(this),0):this.sourceTiles_.forEach((function(e,t,n){var i=e.tile;i.getState()==OO&&i.load()}))}}},{key:"unlistenSources_",value:function(){this.sourcesListenerKeys_.forEach(nE),this.sourcesListenerKeys_=null}},{key:"release",value:function(){this.canvas_&&(eI(this.canvas_.getContext("2d")),cM.push(this.canvas_),this.canvas_=null),oc(rc(n.prototype),"release",this).call(this)}}]),n}(KA),SM=wM,CM=function(){function e(t,n,i,r){(0,Sr.Z)(this,e),this.minX=t,this.maxX=n,this.minY=i,this.maxY=r}return(0,Cr.Z)(e,[{key:"contains",value:function(e){return this.containsXY(e[1],e[2])}},{key:"containsTileRange",value:function(e){return this.minX<=e.minX&&e.maxX<=this.maxX&&this.minY<=e.minY&&e.maxY<=this.maxY}},{key:"containsXY",value:function(e,t){return this.minX<=e&&e<=this.maxX&&this.minY<=t&&t<=this.maxY}},{key:"equals",value:function(e){return this.minX==e.minX&&this.minY==e.minY&&this.maxX==e.maxX&&this.maxY==e.maxY}},{key:"extend",value:function(e){e.minX<this.minX&&(this.minX=e.minX),e.maxX>this.maxX&&(this.maxX=e.maxX),e.minY<this.minY&&(this.minY=e.minY),e.maxY>this.maxY&&(this.maxY=e.maxY)}},{key:"getHeight",value:function(){return this.maxY-this.minY+1}},{key:"getSize",value:function(){return[this.getWidth(),this.getHeight()]}},{key:"getWidth",value:function(){return this.maxX-this.minX+1}},{key:"intersects",value:function(e){return this.minX<=e.maxX&&this.maxX>=e.minX&&this.minY<=e.maxY&&this.maxY>=e.minY}}]),e}();function IM(e,t,n,i,r){return void 0!==r?(r.minX=e,r.maxX=t,r.minY=n,r.maxY=i,r):new CM(e,t,n,i)}var RM=CM;function OM(e,t,n,i){return void 0!==i?(i[0]=e,i[1]=t,i[2]=n,i):[e,t,n]}function AM(e,t,n){return e+"/"+t+"/"+n}function MM(e,t,n,i){return"".concat(e,",").concat(AM(t,n,i))}function LM(e,t,n){if(!(n in e))return e[n]=new Set([t]),!0;var i=e[n],r=i.has(t);return r||i.add(t),!r}function NM(e,t,n){var i=e[n];return!!i&&i.delete(t)}function $M(e,t){var n=e.layerStatesArray[e.layerIndex];n.extent&&(t=Dx(t,Kw(n.extent,e.viewState.projection)));var i=n.layer.getRenderSource();if(!i.getWrapX()){var r=i.getTileGridForProjection(e.viewState.projection).getExtent();r&&(t=Dx(t,r))}return t}var PM=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;(0,Sr.Z)(this,n),i=i||{},(r=t.call(this,e)).extentChanged=!0,r.renderComplete=!1,r.renderedExtent_=null,r.renderedPixelRatio,r.renderedProjection=null,r.renderedRevision,r.renderedTiles=[],r.renderedSourceKey_,r.renderedSourceRevision_,r.tempExtent=[1/0,1/0,-1/0,-1/0],r.tempTileRange_=new RM(0,0,0,0),r.tempTileCoord_=OM(0,0,0);var o=void 0!==i.cacheSize?i.cacheSize:512;return r.tileCache_=new sM(o),r.maxStaleKeys=.5*o,r}return(0,Cr.Z)(n,[{key:"getTileCache",value:function(){return this.tileCache_}},{key:"getOrCreateTile",value:function(e,t,n,i){var r,o=this.tileCache_,a=this.getLayer().getSource(),s=MM(a.getKey(),e,t,n);if(o.containsKey(s))r=o.get(s);else{if(!(r=a.getTile(e,t,n,i.pixelRatio,i.viewState.projection)))return null;o.set(s,r)}return r}},{key:"getTile",value:function(e,t,n,i){var r=this.getOrCreateTile(e,t,n,i);return r||null}},{key:"getData",value:function(e){var t=this.frameState;if(!t)return null;var n=this.getLayer(),i=lS(t.pixelToCoordinateTransform,e.slice()),r=n.getExtent();if(r&&!yx(r,i))return null;for(var o=t.viewState,a=n.getRenderSource(),s=a.getTileGridForProjection(o.projection),l=a.getTilePixelRatio(t.pixelRatio),u=s.getZForResolution(o.resolution);u>=s.getMinZoom();--u){var c=s.getTileCoordForCoordAndZ(i,u),h=this.getTile(u,c[1],c[2],t);if(h&&h.getState()===MO){var d=s.getOrigin(u),f=dI(s.getTileSize(u)),p=s.getResolution(u),v=void 0;if(h instanceof oM||h instanceof SM)v=h.getImage();else{if(!(h instanceof nM))continue;if(!(v=qA(h.getData())))continue}var g=Math.floor(l*((i[0]-d[0])/p-c[1]*f[0])),m=Math.floor(l*((d[1]-i[1])/p-c[2]*f[1])),y=Math.round(l*a.getGutterForProjection(o.projection));return this.getImageData(v,g+y,m+y)}}return null}},{key:"prepareFrame",value:function(e){this.renderedProjection?e.viewState.projection!==this.renderedProjection&&(this.tileCache_.clear(),this.renderedProjection=e.viewState.projection):this.renderedProjection=e.viewState.projection;var t=this.getLayer().getSource();if(!t)return!1;var n=t.getRevision();return this.renderedRevision_?this.renderedRevision_!==n&&(this.renderedRevision_=n,this.renderedSourceKey_===t.getKey()&&this.tileCache_.clear()):this.renderedRevision_=n,!0}},{key:"enqueueTiles",value:function(e,t,n,i,r){var o=e.viewState,a=this.getLayer(),s=a.getRenderSource(),l=s.getTileGridForProjection(o.projection),u=sE(s);u in e.wantedTiles||(e.wantedTiles[u]={});for(var c=e.wantedTiles[u],h=a.getMapInternal(),d=Math.max(n-r,l.getMinZoom(),l.getZForResolution(Math.min(a.getMaxResolution(),h?h.getView().getResolutionForZoom(Math.max(a.getMinZoom(),0)):l.getResolution(0)),s.zDirection)),f=n;f>=d;--f)for(var p=l.getTileRangeForExtentAndZ(t,f,this.tempTileRange_),v=l.getResolution(f),g=p.minX;g<=p.maxX;++g)for(var m=p.minY;m<=p.maxY;++m){var y=this.getTile(f,g,m,e);if(y)if(LM(i,y,f)){var _=y.getKey();if(c[_]=!0,y.getState()===OO&&!e.tileQueue.isKeyQueued(_)){var b=OM(f,g,m,this.tempTileCoord_);e.tileQueue.enqueue([y,u,l.getTileCoordCenter(b),v])}}}}},{key:"findStaleTile_",value:function(e,t){for(var n=this.tileCache_,i=e[0],r=e[1],o=e[2],a=this.getStaleKeys(),s=0;s<a.length;++s){var l=MM(a[s],i,r,o);if(n.containsKey(l)){var u=n.get(l);if(u.getState()===MO)return u.endTransition(sE(this)),LM(t,u,i),!0}}return!1}},{key:"findAltTiles_",value:function(e,t,n,i){var r=e.getTileRangeForTileCoordAndZ(t,n,this.tempTileRange_);if(!r)return!1;for(var o=!0,a=this.tileCache_,s=this.getLayer().getRenderSource().getKey(),l=r.minX;l<=r.maxX;++l)for(var u=r.minY;u<=r.maxY;++u){var c=MM(s,n,l,u),h=!1;if(a.containsKey(c)){var d=a.get(c);d.getState()===MO&&(LM(i,d,n),h=!0)}h||(o=!1)}return o}},{key:"renderFrame",value:function(e,t){var n=this,i=!0;this.renderComplete=!0;var r=e.layerStatesArray[e.layerIndex],o=e.viewState,s=o.projection,l=o.resolution,u=o.center,c=e.pixelRatio,h=this.getLayer(),d=h.getSource(),f=d.getRevision(),p=d.getTileGridForProjection(s),v=p.getZForResolution(l,d.zDirection),g=p.getResolution(v),m=d.getKey();this.renderedSourceKey_?this.renderedSourceKey_!==m&&(this.prependStaleKey(this.renderedSourceKey_),this.renderedSourceKey_=m):this.renderedSourceKey_=m;var y=e.extent,_=d.getTilePixelRatio(c);this.prepareContainer(e,t);var b=this.context.canvas.width,k=this.context.canvas.height,T=r.extent&&Kw(r.extent,s);T&&(y=Dx(y,Kw(r.extent,s)));var E=g*b/2/_,x=g*k/2/_,w=[u[0]-E,u[1]-x,u[0]+E,u[1]+x],S={};this.renderedTiles.length=0;var C=h.getPreload();if(e.nextExtent){var I=p.getZForResolution(o.nextResolution,d.zDirection),R=$M(e,e.nextExtent);this.enqueueTiles(e,R,I,S,C)}var O=$M(e,y);if(this.enqueueTiles(e,O,v,S,0),C>0&&setTimeout((function(){n.enqueueTiles(e,O,v-1,S,C-1)}),0),!(v in S))return this.container;var A,M=sE(this),L=e.time,N=a(S[v]);try{for(N.s();!(A=N.n()).done;){var $=A.value,P=$.getState();if(!($ instanceof SM||$ instanceof xM)||P!==NO){var D=$.tileCoord;if(P===MO)if(1===$.getAlpha(M,L)){$.endTransition(M);continue}if(P!==OO&&(i=!1),P!==LO&&(this.renderComplete=!1),this.findStaleTile_(D,S))NM(S,$,v),e.animate=!0;else if(!this.findAltTiles_(p,D,v+1,S))for(var B=p.getMinZoom(),F=v-1;F>=B;--F){if(this.findAltTiles_(p,D,F,S))break}}}}catch(PU){N.e(PU)}finally{N.f()}var U=g/l*c/_,j=this.getRenderContext(e);uS(this.tempTransform,b/2,k/2,U,U,0,-b/2,-k/2),r.extent&&this.clipUnrotated(j,e,T),d.getInterpolate()||(j.imageSmoothingEnabled=!1),this.preRender(j,e);var Z,H=Object.keys(S).map(Number);H.sort(NT);for(var z=[],V=[],W=H.length-1;W>=0;--W){var G,X=H[W],Y=d.getTilePixelSize(X,c,s),K=p.getResolution(X)/g,q=Y[0]*K*U,J=Y[1]*K*U,Q=p.getTileCoordForCoordAndZ(Bx(w),X),ee=p.getTileCoordExtent(Q),te=lS(this.tempTransform,[_*(ee[0]-w[0])/g,_*(w[3]-ee[3])/g]),ne=_*d.getGutterForProjection(s),ie=a(S[X]);try{for(ie.s();!(G=ie.n()).done;){var re=G.value;if(re.getState()===MO){var oe=re.tileCoord,ae=Q[1]-oe[1],se=Math.round(te[0]-(ae-1)*q),le=Q[2]-oe[2],ue=Math.round(te[1]-(le-1)*J),ce=Math.round(te[0]-ae*q),he=Math.round(te[1]-le*J),de=se-ce,fe=ue-he,pe=1===H.length,ve=!1;Z=[ce,he,ce+de,he,ce+de,he+fe,ce,he+fe];for(var ge=0,me=z.length;ge<me;++ge)if(!pe&&X<V[ge]){var ye=z[ge];jx([ce,he,ce+de,he+fe],[ye[0],ye[3],ye[4],ye[7]])&&(ve||(j.save(),ve=!0),j.beginPath(),j.moveTo(Z[0],Z[1]),j.lineTo(Z[2],Z[3]),j.lineTo(Z[4],Z[5]),j.lineTo(Z[6],Z[7]),j.moveTo(ye[6],ye[7]),j.lineTo(ye[4],ye[5]),j.lineTo(ye[2],ye[3]),j.lineTo(ye[0],ye[1]),j.clip())}z.push(Z),V.push(X),this.drawTile(re,e,ce,he,de,fe,ne,pe),ve&&j.restore(),this.renderedTiles.unshift(re),this.updateUsedTiles(e.usedTiles,d,re)}}}catch(PU){ie.e(PU)}finally{ie.f()}}if(this.renderedRevision=f,this.renderedResolution=g,this.extentChanged=!this.renderedExtent_||!xx(this.renderedExtent_,w),this.renderedExtent_=w,this.renderedPixelRatio=c,this.postRender(this.context,e),r.extent&&j.restore(),j.imageSmoothingEnabled=!0,this.renderComplete){e.postRenderFunctions.push((function(e,t){var i=sE(d),r=t.wantedTiles[i],o=r?Object.keys(r).length:0;n.updateCacheSize(o),n.tileCache_.expireCache()}))}return this.renderComplete||i||(e.animate=!0),this.container}},{key:"updateCacheSize",value:function(e){this.tileCache_.highWaterMark=Math.max(this.tileCache_.highWaterMark,2*e)}},{key:"drawTile",value:function(e,t,n,i,r,o,a,s){var l;if(e instanceof nM){if(!(l=qA(e.getData())))throw new Error("Rendering array data is not yet supported")}else l=this.getTileImage(e);if(l){var u=this.getRenderContext(t),c=sE(this),h=t.layerStatesArray[t.layerIndex],d=h.opacity*(s?e.getAlpha(c,t.time):1),f=d!==u.globalAlpha;f&&(u.save(),u.globalAlpha=d),u.drawImage(l,a,a,l.width-2*a,l.height-2*a,n,i,r,o),f&&u.restore(),d!==h.opacity?t.animate=!0:s&&e.endTransition(c)}}},{key:"getImage",value:function(){var e=this.context;return e?e.canvas:null}},{key:"getTileImage",value:function(e){return e.getImage()}},{key:"updateUsedTiles",value:function(e,t,n){var i=sE(t);i in e||(e[i]={}),e[i][n.getKey()]=!0}}]),n}(YA),DM=PM,BM=function(e){ac(n,e);var t=uc(n);function n(e){return(0,Sr.Z)(this,n),t.call(this,e)}return(0,Cr.Z)(n,[{key:"createRenderer",value:function(){return new DM(this,{cacheSize:this.getCacheSize()})}}]),n}(ZA),FM="tileloadstart",UM="tileloadend",jM="tileloaderror",ZM=function(e){ac(n,e);var t=uc(n);function n(e){var i,r;(0,Sr.Z)(this,n),(r=t.call(this)).projection=$w(e.projection),r.attributions_=HM(e.attributions),r.attributionsCollapsible_=null===(i=e.attributionsCollapsible)||void 0===i||i,r.loading=!1,r.state_=void 0!==e.state?e.state:"ready",r.wrapX_=void 0!==e.wrapX&&e.wrapX,r.interpolate_=!!e.interpolate,r.viewResolver=null,r.viewRejector=null;var o=re(r);return r.viewPromise_=new Promise((function(e,t){o.viewResolver=e,o.viewRejector=t})),r}return(0,Cr.Z)(n,[{key:"getAttributions",value:function(){return this.attributions_}},{key:"getAttributionsCollapsible",value:function(){return this.attributionsCollapsible_}},{key:"getProjection",value:function(){return this.projection}},{key:"getResolutions",value:function(e){return null}},{key:"getView",value:function(){return this.viewPromise_}},{key:"getState",value:function(){return this.state_}},{key:"getWrapX",value:function(){return this.wrapX_}},{key:"getInterpolate",value:function(){return this.interpolate_}},{key:"refresh",value:function(){this.changed()}},{key:"setAttributions",value:function(e){this.attributions_=HM(e),this.changed()}},{key:"setState",value:function(e){this.state_=e,this.changed()}}]),n}(cE);function HM(e){return e?"function"===typeof e?e:(Array.isArray(e)||(e=[e]),function(t){return e}):null}var zM=ZM,VM=[0,0,0],WM=function(){function e(t){var n,i=this;if((0,Sr.Z)(this,e),this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.resolutions_=t.resolutions,CE(function(e,t,n){var i=t||NT;return e.every((function(t,r){if(0===r)return!0;var o=i(e[r-1],t);return!(o>0||n&&0===o)}))}(this.resolutions_,(function(e,t){return t-e}),!0),"`resolutions` must be sorted in descending order"),!t.origins)for(var r=0,o=this.resolutions_.length-1;r<o;++r)if(n){if(this.resolutions_[r]/this.resolutions_[r+1]!==n){n=void 0;break}}else n=this.resolutions_[r]/this.resolutions_[r+1];this.zoomFactor_=n,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==t.origin?t.origin:null,this.origins_=null,void 0!==t.origins&&(this.origins_=t.origins,CE(this.origins_.length==this.resolutions_.length,"Number of `origins` and `resolutions` must be equal"));var a=t.extent;void 0===a||this.origin_||this.origins_||(this.origin_=Bx(a)),CE(!this.origin_&&this.origins_||this.origin_&&!this.origins_,"Either `origin` or `origins` must be configured, never both"),this.tileSizes_=null,void 0!==t.tileSizes&&(this.tileSizes_=t.tileSizes,CE(this.tileSizes_.length==this.resolutions_.length,"Number of `tileSizes` and `resolutions` must be equal")),this.tileSize_=void 0!==t.tileSize?t.tileSize:this.tileSizes_?null:YE,CE(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,"Either `tileSize` or `tileSizes` must be configured, never both"),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],this.tmpExtent_=[0,0,0,0],void 0!==t.sizes?this.fullTileRanges_=t.sizes.map((function(e,t){var n=new RM(Math.min(0,e[0]),Math.max(e[0]-1,-1),Math.min(0,e[1]),Math.max(e[1]-1,-1));if(a){var r=i.getTileRangeForExtentAndZ(a,t);n.minX=Math.max(r.minX,n.minX),n.maxX=Math.min(r.maxX,n.maxX),n.minY=Math.max(r.minY,n.minY),n.maxY=Math.min(r.maxY,n.maxY)}return n})):a&&this.calculateTileRanges_(a)}return(0,Cr.Z)(e,[{key:"forEachTileCoord",value:function(e,t,n){for(var i=this.getTileRangeForExtentAndZ(e,t),r=i.minX,o=i.maxX;r<=o;++r)for(var a=i.minY,s=i.maxY;a<=s;++a)n([t,r,a])}},{key:"forEachTileCoordParentTileRange",value:function(e,t,n,i){var r,o,a=null,s=e[0]-1;for(2===this.zoomFactor_?(r=e[1],o=e[2]):a=this.getTileCoordExtent(e,i);s>=this.minZoom;){if(t(s,void 0!==r&&void 0!==o?IM(r=Math.floor(r/2),r,o=Math.floor(o/2),o,n):this.getTileRangeForExtentAndZ(a,s,n)))return!0;--s}return!1}},{key:"getExtent",value:function(){return this.extent_}},{key:"getMaxZoom",value:function(){return this.maxZoom}},{key:"getMinZoom",value:function(){return this.minZoom}},{key:"getOrigin",value:function(e){return this.origin_?this.origin_:this.origins_[e]}},{key:"getResolution",value:function(e){return this.resolutions_[e]}},{key:"getResolutions",value:function(){return this.resolutions_}},{key:"getTileCoordChildTileRange",value:function(e,t,n){if(e[0]<this.maxZoom){if(2===this.zoomFactor_){var i=2*e[1],r=2*e[2];return IM(i,i+1,r,r+1,t)}var o=this.getTileCoordExtent(e,n||this.tmpExtent_);return this.getTileRangeForExtentAndZ(o,e[0]+1,t)}return null}},{key:"getTileRangeForTileCoordAndZ",value:function(e,t,n){if(t>this.maxZoom||t<this.minZoom)return null;var i=e[0],r=e[1],o=e[2];if(t===i)return IM(r,o,r,o,n);if(this.zoomFactor_){var a=Math.pow(this.zoomFactor_,t-i),s=Math.floor(r*a),l=Math.floor(o*a);return t<i?IM(s,s,l,l,n):IM(s,Math.floor(a*(r+1))-1,l,Math.floor(a*(o+1))-1,n)}var u=this.getTileCoordExtent(e,this.tmpExtent_);return this.getTileRangeForExtentAndZ(u,t,n)}},{key:"getTileRangeForExtentAndZ",value:function(e,t,n){this.getTileCoordForXYAndZ_(e[0],e[3],t,!1,VM);var i=VM[1],r=VM[2];return this.getTileCoordForXYAndZ_(e[2],e[1],t,!0,VM),IM(i,VM[1],r,VM[2],n)}},{key:"getTileCoordCenter",value:function(e){var t=this.getOrigin(e[0]),n=this.getResolution(e[0]),i=dI(this.getTileSize(e[0]),this.tmpSize_);return[t[0]+(e[1]+.5)*i[0]*n,t[1]-(e[2]+.5)*i[1]*n]}},{key:"getTileCoordExtent",value:function(e,t){var n=this.getOrigin(e[0]),i=this.getResolution(e[0]),r=dI(this.getTileSize(e[0]),this.tmpSize_),o=n[0]+e[1]*r[0]*i,a=n[1]-(e[2]+1)*r[1]*i;return Tx(o,a,o+r[0]*i,a+r[1]*i,t)}},{key:"getTileCoordForCoordAndResolution",value:function(e,t,n){return this.getTileCoordForXYAndResolution_(e[0],e[1],t,!1,n)}},{key:"getTileCoordForXYAndResolution_",value:function(e,t,n,i,r){var o=this.getZForResolution(n),a=n/this.getResolution(o),s=this.getOrigin(o),l=dI(this.getTileSize(o),this.tmpSize_),u=a*(e-s[0])/n/l[0],c=a*(s[1]-t)/n/l[1];return i?(u=DE(u,5)-1,c=DE(c,5)-1):(u=PE(u,5),c=PE(c,5)),OM(o,u,c,r)}},{key:"getTileCoordForXYAndZ_",value:function(e,t,n,i,r){var o=this.getOrigin(n),a=this.getResolution(n),s=dI(this.getTileSize(n),this.tmpSize_),l=(e-o[0])/a/s[0],u=(o[1]-t)/a/s[1];return i?(l=DE(l,5)-1,u=DE(u,5)-1):(l=PE(l,5),u=PE(u,5)),OM(n,l,u,r)}},{key:"getTileCoordForCoordAndZ",value:function(e,t,n){return this.getTileCoordForXYAndZ_(e[0],e[1],t,!1,n)}},{key:"getTileCoordResolution",value:function(e){return this.resolutions_[e[0]]}},{key:"getTileSize",value:function(e){return this.tileSize_?this.tileSize_:this.tileSizes_[e]}},{key:"getFullTileRange",value:function(e){return this.fullTileRanges_?this.fullTileRanges_[e]:this.extent_?this.getTileRangeForExtentAndZ(this.extent_,e):null}},{key:"getZForResolution",value:function(e,t){return IE($T(this.resolutions_,e,t||0),this.minZoom,this.maxZoom)}},{key:"tileCoordIntersectsViewport",value:function(e,t){return ZS(t,0,t.length,2,this.getTileCoordExtent(e))}},{key:"calculateTileRanges_",value:function(e){for(var t=this.resolutions_.length,n=new Array(t),i=this.minZoom;i<t;++i)n[i]=this.getTileRangeForExtentAndZ(e,i);this.fullTileRanges_=n}}]),e}(),GM=WM;function XM(e){var t=e.getDefaultTileGrid();return t||(t=function(e,t,n,i){var r=qM(e);return function(e,t,n,i){i=void 0!==i?i:"top-left";var r=KM(e,t,n);return new GM({extent:e,origin:Nx(e,i),resolutions:r,tileSize:n})}(r,t,n,i)}(e),e.setDefaultTileGrid(t)),t}function YM(e){var t=e||{},n=t.extent||$w("EPSG:3857").getExtent(),i={extent:n,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:KM(n,t.maxZoom,t.tileSize,t.maxResolution)};return new GM(i)}function KM(e,t,n,i){t=void 0!==t?t:XE,n=dI(void 0!==n?n:YE);var r=Px(e),o=Ux(e);i=i>0?i:Math.max(o/n[0],r/n[1]);for(var a=t+1,s=new Array(a),l=0;l<a;++l)s[l]=i/Math.pow(2,l);return s}function qM(e){var t=(e=$w(e)).getExtent();if(!t){var n=180*KE.degrees/e.getMetersPerUnit();t=Tx(-n,-n,n,n)}return t}var JM=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n),(i=t.call(this,{attributions:e.attributions,attributionsCollapsible:e.attributionsCollapsible,projection:e.projection,state:e.state,wrapX:e.wrapX,interpolate:e.interpolate})).on,i.once,i.un,i.tilePixelRatio_=void 0!==e.tilePixelRatio?e.tilePixelRatio:1,i.tileGrid=void 0!==e.tileGrid?e.tileGrid:null;return i.tileGrid&&dI(i.tileGrid.getTileSize(i.tileGrid.getMinZoom()),[256,256]),i.tmpSize=[0,0],i.key_=e.key||sE(re(i)),i.tileOptions={transition:e.transition,interpolate:e.interpolate},i.zDirection=e.zDirection?e.zDirection:0,i}return(0,Cr.Z)(n,[{key:"getGutterForProjection",value:function(e){return 0}},{key:"getKey",value:function(){return this.key_}},{key:"setKey",value:function(e){this.key_!==e&&(this.key_=e,this.changed())}},{key:"getResolutions",value:function(e){var t=e?this.getTileGridForProjection(e):this.tileGrid;return t?t.getResolutions():null}},{key:"getTile",value:function(e,t,n,i,r){return oE()}},{key:"getTileGrid",value:function(){return this.tileGrid}},{key:"getTileGridForProjection",value:function(e){return this.tileGrid?this.tileGrid:XM(e)}},{key:"getTilePixelRatio",value:function(e){return this.tilePixelRatio_}},{key:"getTilePixelSize",value:function(e,t,n){var i,r,o,a=this.getTileGridForProjection(n),s=this.getTilePixelRatio(t),l=dI(a.getTileSize(e),this.tmpSize);return 1==s?l:(i=l,r=s,void 0===(o=this.tmpSize)&&(o=[0,0]),o[0]=i[0]*r+.5|0,o[1]=i[1]*r+.5|0,o)}},{key:"getTileCoordForTileUrlFunction",value:function(e,t){var n=void 0!==t?t:this.getProjection(),i=void 0!==t?this.getTileGridForProjection(n):this.tileGrid||this.getTileGridForProjection(n);return this.getWrapX()&&n.isGlobal()&&(e=function(e,t,n){var i=t[0],r=e.getTileCoordCenter(t),o=qM(n);if(!yx(o,r)){var a=Ux(o),s=Math.ceil((o[0]-r[0])/a);return r[0]+=a*s,e.getTileCoordForCoordAndZ(r,i)}return t}(i,e,n)),function(e,t){var n=e[0],i=e[1],r=e[2];if(t.getMinZoom()>n||n>t.getMaxZoom())return!1;var o=t.getFullTileRange(n);return!o||o.containsXY(i,r)}(e,i)?e:null}},{key:"clear",value:function(){}},{key:"refresh",value:function(){this.clear(),oc(rc(n.prototype),"refresh",this).call(this)}}]),n}(zM),QM=function(e){ac(n,e);var t=uc(n);function n(e,i){var r;return(0,Sr.Z)(this,n),(r=t.call(this,e)).tile=i,r}return(0,Cr.Z)(n)}(AT);var eL=/\{z\}/g,tL=/\{x\}/g,nL=/\{y\}/g,iL=/\{-y\}/g;function rL(e,t){return function(n,i,r){if(n){var o,a=n[0];if(t){var s=t.getFullTileRange(a);s&&(o=s.getHeight()-1)}return function(e,t,n,i,r){return e.replace(eL,t.toString()).replace(tL,n.toString()).replace(nL,i.toString()).replace(iL,(function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()}))}(e,a,n[1],n[2],o)}}}function oL(e,t){for(var n=e.length,i=new Array(n),r=0;r<n;++r)i[r]=rL(e[r],t);return function(e){if(1===e.length)return e[0];return function(t,n,i){if(t){var r=function(e){return t=e[0],n=e[1],i=e[2],(n<<t)+i;var t,n,i}(t),o=LE(r,e.length);return e[o](t,n,i)}}}(i)}var aL=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tilePixelRatio:e.tilePixelRatio,wrapX:e.wrapX,transition:e.transition,interpolate:e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).generateTileUrlFunction_=i.tileUrlFunction===n.prototype.tileUrlFunction,i.tileLoadFunction=e.tileLoadFunction,e.tileUrlFunction&&(i.tileUrlFunction=e.tileUrlFunction),i.urls=null,e.urls?i.setUrls(e.urls):e.url&&i.setUrl(e.url),i.tileLoadingKeys_={},i}return(0,Cr.Z)(n,[{key:"getTileLoadFunction",value:function(){return this.tileLoadFunction}},{key:"getTileUrlFunction",value:function(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}},{key:"getUrls",value:function(){return this.urls}},{key:"handleTileChange",value:function(e){var t,n=e.target,i=sE(n),r=n.getState();r==AO?(this.tileLoadingKeys_[i]=!0,t=FM):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],t=r==LO?jM:r==MO?UM:void 0),void 0!=t&&this.dispatchEvent(new QM(t,n))}},{key:"setTileLoadFunction",value:function(e){this.tileLoadFunction=e,this.changed()}},{key:"setTileUrlFunction",value:function(e,t){this.tileUrlFunction=e,"undefined"!==typeof t?this.setKey(t):this.changed()}},{key:"setUrl",value:function(e){var t=function(e){var t=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var i,r=n[1].charCodeAt(0),o=n[2].charCodeAt(0);for(i=r;i<=o;++i)t.push(e.replace(n[0],String.fromCharCode(i)));return t}if(n=/\{(\d+)-(\d+)\}/.exec(e)){for(var a=parseInt(n[2],10),s=parseInt(n[1],10);s<=a;s++)t.push(e.replace(n[0],s.toString()));return t}return t.push(e),t}(e);this.urls=t,this.setUrls(t)}},{key:"setUrls",value:function(e){this.urls=e;var t=e.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction(oL(e,this.tileGrid),t):this.setKey(t)}},{key:"tileUrlFunction",value:function(e,t,n){}}]),n}(JM),sL=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,projection:e.projection,state:e.state,tileGrid:e.tileGrid,tileLoadFunction:e.tileLoadFunction?e.tileLoadFunction:lL,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:e.wrapX,transition:e.transition,interpolate:void 0===e.interpolate||e.interpolate,key:e.key,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).crossOrigin=void 0!==e.crossOrigin?e.crossOrigin:null,i.tileClass=void 0!==e.tileClass?e.tileClass:oM,i.tileGridForProjection={},i.reprojectionErrorThreshold_=e.reprojectionErrorThreshold,i.renderReprojectionEdges_=!1,i}return(0,Cr.Z)(n,[{key:"getGutterForProjection",value:function(e){return this.getProjection()&&e&&!Uw(this.getProjection(),e)?0:this.getGutter()}},{key:"getGutter",value:function(){return 0}},{key:"getKey",value:function(){var e=oc(rc(n.prototype),"getKey",this).call(this);return this.getInterpolate()||(e+=":disable-interpolation"),e}},{key:"getTileGridForProjection",value:function(e){var t=this.getProjection();if(this.tileGrid&&(!t||Uw(t,e)))return this.tileGrid;var n=sE(e);return n in this.tileGridForProjection||(this.tileGridForProjection[n]=XM(e)),this.tileGridForProjection[n]}},{key:"createTile_",value:function(e,t,n,i,r,o){var a=[e,t,n],s=this.getTileCoordForTileUrlFunction(a,r),l=s?this.tileUrlFunction(s,i,r):void 0,u=new this.tileClass(a,void 0!==l?OO:NO,void 0!==l?l:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=o,u.addEventListener(zT,this.handleTileChange.bind(this)),u}},{key:"getTile",value:function(e,t,n,i,r){var o=this,a=this.getProjection();if(!a||!r||Uw(a,r))return this.getTileInternal(e,t,n,i,a||r);var s=[e,t,n],l=this.getKey(),u=this.getTileGridForProjection(a),c=this.getTileGridForProjection(r),h=this.getTileCoordForTileUrlFunction(s,r),d=new SM(a,u,r,c,s,h,this.getTilePixelRatio(i),this.getGutter(),(function(e,t,n,i){return o.getTileInternal(e,t,n,i,a)}),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return d.key=l,d}},{key:"getTileInternal",value:function(e,t,n,i,r){var o=this.getKey();return this.createTile_(e,t,n,i,r,o)}},{key:"setRenderReprojectionEdges",value:function(e){this.renderReprojectionEdges_!=e&&(this.renderReprojectionEdges_=e,this.changed())}},{key:"setTileGridForProjection",value:function(e,t){var n=$w(e);if(n){var i=sE(n);i in this.tileGridForProjection||(this.tileGridForProjection[i]=t)}}}]),n}(aL);function lL(e,t){e.getImage().src=t}var uL=function(e){ac(n,e);var t=uc(n);function n(e){var i;(0,Sr.Z)(this,n);var r=void 0!==(e=e||{}).projection?e.projection:"EPSG:3857",o=void 0!==e.tileGrid?e.tileGrid:YM({extent:qM(r),maxResolution:e.maxResolution,maxZoom:e.maxZoom,minZoom:e.minZoom,tileSize:e.tileSize});return(i=t.call(this,{attributions:e.attributions,cacheSize:e.cacheSize,crossOrigin:e.crossOrigin,interpolate:e.interpolate,projection:r,reprojectionErrorThreshold:e.reprojectionErrorThreshold,tileGrid:o,tileLoadFunction:e.tileLoadFunction,tilePixelRatio:e.tilePixelRatio,tileUrlFunction:e.tileUrlFunction,url:e.url,urls:e.urls,wrapX:void 0===e.wrapX||e.wrapX,transition:e.transition,attributionsCollapsible:e.attributionsCollapsible,zDirection:e.zDirection})).gutter_=void 0!==e.gutter?e.gutter:0,i}return(0,Cr.Z)(n,[{key:"getGutter",value:function(){return this.gutter_}}]),n}(sL),cL=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useRef)(),o=(0,i.useState)(null),a=(0,d.Z)(o,2),s=(a[0],a[1]);return(0,i.useEffect)((function(){if(r.current){var e=[0,0,12800,9728],i=YM({extent:e,tileSize:[400,300],maxResolution:1,maxZoom:5,minZoom:5}),o="".concat(t,":").concat(n,"/HistoScanController/get_tile?z={z}&x={x}&y={y}"),a=new BM({source:new uL({url:o,tileGrid:i,tilePixelRatio:1,tileUrlFunction:function(e){console.log("Resolutions:",i.getResolutions());var r=(0,d.Z)(e,3),o=r[0],a=r[1],s=r[2];return"".concat(t,":").concat(n,"/...&z=").concat(o,"&x=").concat(a,"&y=").concat(s)}})}),l=new tC({center:[256,256],zoom:5,extent:e,resolutions:i.getResolutions()}),u=new BA({target:r.current,layers:[a],view:l});s(u)}}),[t,n]),(0,p.jsx)("div",{ref:r,style:{width:"1024px",height:"1024px"}})},hL=function(e){var t=e.hostIP,n=e.hostPort,r=C_(),o=(0,i.useState)({nTimes:1,tPeriod:1,illuSources:[],illuSourcesSelected:[],illuSourceMinIntensities:[],illuSourceMaxIntensities:[],illuIntensities:[],exposureTimes:[],gain:[],autofocus_every_n_frames:0}),a=(0,d.Z)(o,2),l=a[0],c=a[1],f=(0,i.useState)(!1),v=(0,d.Z)(f,2),g=v[0],m=v[1],y=(0,i.useState)(""),_=(0,d.Z)(y,2),b=_[0],k=_[1],T=(0,i.useState)(!1),E=(0,d.Z)(T,2),x=E[0],w=E[1];(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/TimelapseController/getCurrentTimelapseParameters"));case 3:return i=e.sent,e.next=6,i.json();case 6:if("Not Found"!==(r=e.sent).detail){e.next=10;break}return w(!1),e.abrupt("return");case 10:c(r),w(!0),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),w(!1),console.error("Error fetching timelapse parameters:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n]),(0,i.useEffect)((function(){if(r){var e=function(e){try{var t=JSON.parse(e);if("sigTimelapseWorkflowUpdate"===t.name){var n=JSON.parse(t.args.arg0.replace(/'/g,'"'));k("Step ".concat(n.step_id,": ").concat(n.name)),console.log("Timelapse workflow update:",n),"Done"===n.name&&m(!1)}}catch(i){console.error("Error parsing socket message:",i)}};return r.on("signal",e),function(){r.off("signal",e)}}}),[r]);var S=function(){var e=h(u().mark((function e(){var i,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l.exposureTimes=l.exposureTimes.map((function(e,t){var n=document.getElementById("exposureTime".concat(t));return n?parseInt(n.value):e})),l.gain=l.gain.map((function(e,t){var n=document.getElementById("gain".concat(t));return n?parseInt(n.value):e})),i=l.illuIntensities.reduce((function(e,t,n){if(t>0){var i=document.getElementById("exposureTime".concat(n)),r=document.getElementById("gain".concat(n));e.illuSources.push(l.illuSources[n]),e.illuIntensities.push(t),e.exposureTimes.push(i?parseInt(i.value):l.exposureTimes[n]),e.gain.push(r?parseInt(r.value):l.gain[n])}return e}),{illuSources:[],illuIntensities:[],exposureTimes:[],gain:[]}),i.illuSourcesSelected=i.illuSources,i.autofocus_every_n_frames=l.autofocus_every_n_frames,i.nTimes=l.nTimes,i.tPeriod=l.tPeriod,e.next=10,fetch("".concat(t,":").concat(n,"/TimelapseController/start_multicolour_timelapse_workflow"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)});case 10:return r=e.sent,e.next=13,r.json();case 13:o=e.sent,m(!0),console.log("Timelapse started:",o),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error starting timelapse:",e.t0);case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/TimelapseController/stop_workflow_tl"),{method:"get"});case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,m(!1),console.log("Timelapse stopped:",r),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error stopping timelapse:",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),I=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;c((function(i){if(null!==n){var r=(0,s.Z)(i[e]);return r[n]=t,ic(ic({},i),{},(0,K.Z)({},e,r))}return ic(ic({},i),{},(0,K.Z)({},e,t))}))};return(0,p.jsx)(p.Fragment,{children:x?(0,p.jsx)(Wr,{style:{padding:"20px"},children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Number of Times",type:"number",value:l.nTimes,onChange:function(e){return I("nTimes",parseInt(e.target.value))},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Time Period (s)",type:"number",value:l.tPeriod,onChange:function(e){return I("tPeriod",parseInt(e.target.value))},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{label:"Autofocus Every N Frames",type:"number",value:l.autofocus_every_n_frames,onChange:function(e){return I("autofocus_every_n_frames",parseInt(e.target.value))},fullWidth:!0})}),l.illuSources.map((function(e,t){return(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsxs)(la,{item:!0,xs:6,children:[(0,p.jsx)(Y,{children:"Source: ".concat(e)}),(0,p.jsx)(ja,{value:l.illuIntensities[t]||0,onChange:function(e,n){return I("illuIntensities",n,t)},min:l.illuSourceMinIntensities[t]||0,max:l.illuSourceMaxIntensities[t]||100})]}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{id:"gain".concat(t),label:"Gain",type:"number",value:l.gain[t]||-1,onChange:function(e){return I("gain",parseInt(e.target.value),t)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{id:"exposureTime".concat(t),label:"Exposure Time (\xb5s)",type:"number",value:l.exposureTimes[t]||-1,onChange:function(e){return I("exposureTimes",parseInt(e.target.value),t)},fullWidth:!0})})]},t)})),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Y,{children:"Current Step: ".concat(b)})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:S,disabled:g,children:"Start"}),(0,p.jsx)(Ke,{variant:"contained",color:"secondary",onClick:C,disabled:!g,style:{marginLeft:"10px"},children:"Stop"})]})]})}):(0,p.jsx)(Wr,{style:{padding:"20px"},children:(0,p.jsx)(Y,{children:"Timelapse Controller is not activated"})})})};function dL(e){return(0,H.ZP)("MuiLink",e)}var fL=(0,N.Z)("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),pL=n(8529),vL={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},gL=function(e){var t=e.theme,n=e.ownerState,i=function(e){return vL[e]||e}(n.color),r=(0,pL.DW)(t,"palette.".concat(i),!1)||n.color,o=(0,pL.DW)(t,"palette.".concat(i,"Channel"));return"vars"in t&&o?"rgba(".concat(o," / 0.4)"):(0,J.Fq)(r,.4)},mL=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],yL=(0,U.ZP)(Y,{name:"MuiLink",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["underline".concat((0,Z.Z)(n.underline))],"button"===n.component&&t.button]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({},"none"===n.underline&&{textDecoration:"none"},"hover"===n.underline&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},"always"===n.underline&&(0,_.Z)({textDecoration:"underline"},"inherit"!==n.color&&{textDecorationColor:gL({theme:t,ownerState:n})},{"&:hover":{textDecorationColor:"inherit"}}),"button"===n.component&&(0,K.Z)({position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"}},"&.".concat(fL.focusVisible),{outline:"auto"}))})),_L=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiLink"}),r=n.className,o=n.color,a=void 0===o?"primary":o,l=n.component,u=void 0===l?"a":l,c=n.onBlur,h=n.onFocus,f=n.TypographyClasses,v=n.underline,g=void 0===v?"always":v,m=n.variant,y=void 0===m?"inherit":m,T=n.sx,E=(0,b.Z)(n,mL),x=(0,ne.Z)(),w=x.isFocusVisibleRef,S=x.onBlur,C=x.onFocus,I=x.ref,R=i.useState(!1),O=(0,d.Z)(R,2),A=O[0],M=O[1],L=(0,ee.Z)(t,I),N=(0,_.Z)({},n,{color:a,component:u,focusVisible:A,underline:g,variant:y}),$=function(e){var t=e.classes,n=e.component,i=e.focusVisible,r=e.underline,o={root:["root","underline".concat((0,Z.Z)(r)),"button"===n&&"button",i&&"focusVisible"]};return(0,F.Z)(o,dL,t)}(N);return(0,p.jsx)(yL,(0,_.Z)({color:a,className:(0,k.Z)($.root,r),classes:f,component:u,onBlur:function(e){S(e),!1===w.current&&M(!1),c&&c(e)},onFocus:function(e){C(e),!0===w.current&&M(!0),h&&h(e)},ref:L,ownerState:N,variant:y,sx:[].concat((0,s.Z)(Object.keys(vL).includes(a)?[]:[{color:a}]),(0,s.Z)(Array.isArray(T)?T:[T]))},E))})),bL=function(){return(0,p.jsx)(Wr,{style:{padding:"20px",marginTop:"20px"},children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h4",gutterBottom:!0,children:"About the Microscope Control Software"}),(0,p.jsx)(Y,{variant:"body1",gutterBottom:!0,children:"This application is an open-source software designed to control microscopes using a modular and extensible approach. It seamlessly integrates advanced features to empower researchers and educators in the microscopy domain."})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Source Code"}),(0,p.jsxs)(Y,{variant:"body2",children:["The source code for this React application can be found in our GitHub repository:",(0,p.jsx)("br",{}),(0,p.jsx)(_L,{href:"https://github.com/openUC2/imswitch-aiortc-react",target:"_blank",children:"openUC2/imswitch-aiortc-react"})]})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Backend"}),(0,p.jsxs)(Y,{variant:"body2",children:["The backend is based on the openUC2 fork of ImSwitch. You can find it here:",(0,p.jsx)("br",{}),(0,p.jsx)(_L,{href:"https://github.com/openUC2/imswitch",target:"_blank",children:"openUC2/imswitch"}),(0,p.jsx)("br",{}),"The REST API documentation is accessible under:",(0,p.jsx)("code",{children:"{hostIP}:{hostPort}/docs"})]})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Community and Support"}),(0,p.jsxs)(Y,{variant:"body2",children:["Reach out to us on our forum for discussions and support:",(0,p.jsx)("br",{}),(0,p.jsx)(_L,{href:"https://openuc2.discourse.group",target:"_blank",children:"openuc2.discourse.group"}),(0,p.jsx)("br",{}),"Learn more about us on our official website:",(0,p.jsx)("br",{}),(0,p.jsx)(_L,{href:"http://openuc2.com",target:"_blank",children:"openuc2.com"})]})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Ke,{variant:"contained",color:"primary",href:"https://github.com/openUC2/imswitch-aiortc-react",target:"_blank",children:"View React App Repository"}),(0,p.jsx)(Ke,{variant:"outlined",color:"secondary",href:"https://github.com/openUC2/imswitch",target:"_blank",style:{marginLeft:"10px"},children:"View Backend Repository"})]})]})})},kL=n(7),TL=n(2460),EL=n(8384),xL=n(6711),wL=["children","value","index"],SL=function(e){var t=e.children,n=e.value,i=e.index,r=tc(e,wL);return(0,p.jsx)("div",ic(ic({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),{},{children:n===i&&(0,p.jsx)(B,{p:3,children:t})}))},CL=function(e){var t=e.hostIP,n=e.hostPort,r=(e.WindowTitle,(0,i.useState)(0)),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)("0"),c=(0,d.Z)(l,2),f=c[0],v=c[1],g=(0,i.useState)("Test"),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)("Some description"),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)(1),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=(0,i.useState)(10),R=(0,d.Z)(I,2),O=R[0],A=R[1],M=(0,i.useState)(1e3),L=(0,d.Z)(M,2),N=L[0],$=L[1],P=(0,i.useState)(.5),D=(0,d.Z)(P,2),F=D[0],U=D[1],j=(0,i.useState)(1e4),Z=(0,d.Z)(j,2),H=Z[0],z=Z[1],V=(0,i.useState)(!1),W=(0,d.Z)(V,2),G=W[0],X=W[1],K=(0,i.useState)(0),q=(0,d.Z)(K,2),J=q[0],Q=q[1],ee=C_();(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/FlowStopController/getStatus"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,X(r[0]),Q(r[1]),e.next=13;break;case 11:e.prev=11,e.t0=e.catch(0);case 13:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/FlowStopController/getExperimentParameters"));case 3:return i=e.sent,e.next=6,i.json();case 6:r=e.sent,v(r.timeStamp),_(r.experimentName),E("Add some description here"),C(parseFloat(r.uniqueId,1)),A(parseFloat(r.numImages,-1)),$(parseFloat(r.volumePerImage,1e3)),U(parseFloat(r.timeToStabilize,1)),z(parseFloat(r.pumpSpeed,1e3)),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),console.error("Error fetching experiment parameters:",e.t0);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}();e(),i()}),[t,n]),(0,i.useEffect)((function(){if(ee)return ee.on("signal",(function(e){var t=JSON.parse(e);"sigImagesTaken"===t.name&&Q(t.args.p0),"sigIsRunning"===t.name&&X(t.args.p0)})),function(){ee&&(ee.onmessage=null)}}),[ee]);return(0,p.jsxs)(Wr,{children:[(0,p.jsxs)(Vk,{value:a,onChange:function(e,t){s(t)},"aria-label":"acquisition settings tabs",children:[(0,p.jsx)(qk,{label:"Automatic Settings"}),(0,p.jsx)(qk,{label:"Manual Acquisition Settings"})]}),(0,p.jsxs)(SL,{value:a,index:1,children:[(0,p.jsx)(Y,{children:"Focus"}),(0,p.jsx)(ja,{defaultValue:30}),(0,p.jsx)(Y,{children:"Pump Speed"}),(0,p.jsx)(ja,{defaultValue:30}),(0,p.jsx)(Ke,{variant:"contained",children:"Snap"}),(0,p.jsx)(Ko,{label:"Exposure Time",defaultValue:"0.1"}),(0,p.jsx)(Ko,{label:"Gain",defaultValue:"0"})]}),(0,p.jsx)(SL,{value:a,index:0,children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Time Stamp Name",value:f,onChange:function(e){return v(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Experiment Name",value:y,onChange:function(e){return _(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Experiment Description",value:T,onChange:function(e){return E(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Volume Per Image",value:N,onChange:function(e){return $(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Time to stabilize",value:F,onChange:function(e){return U(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Pump Speed",value:H,onChange:function(e){return z(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{style:{marginBottom:"20px"},label:"Number of Images",value:O,onChange:function(e){return A(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsxs)("div",{children:[(0,p.jsx)(Ke,{style:{marginBottom:"20px",marginRight:"10px"},variant:"contained",onClick:function(){var e="".concat(t,":").concat(n,"/FlowStopController/startFlowStopExperimentFastAPI?timeStamp=").concat(f,"&experimentName=").concat(y,"&experimentDescription=").concat(T,"&uniqueId=").concat(S,"&numImages=").concat(O,"&volumePerImage=").concat(N,"&timeToStabilize=").concat(F,"&isRecordVideo=true&pumpSpeed=").concat(H);fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),X(!0)})).catch((function(e){return console.error("Error:",e)}))},disabled:G,children:"Start"}),(0,p.jsx)(Ke,{style:{marginBottom:"20px"},variant:"contained",onClick:function(){var e="".concat(t,":").concat(n,"/FlowStopController/stopFlowStopExperiment");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),X(!1)})).catch((function(e){return console.error("Error:",e)}))},disabled:!G,children:"Stop"})]})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsxs)(B,{display:"flex",alignItems:"center",children:[(0,p.jsx)(Y,{variant:"h6",children:"Status: "}),G?(0,p.jsx)(EL.Z,{style:{color:kL.Z[500],marginLeft:"10px"}}):(0,p.jsx)(xL.Z,{style:{color:TL.Z[500],marginLeft:"10px"}})]})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsxs)(Y,{variant:"h6",children:["Images Taken: ",J]})})]})})]})},IL=(0,i.createContext)(),RL=function(e){var t=e.children,n=(0,i.useState)("5"),r=(0,d.Z)(n,2),o=r[0],a=r[1],s=(0,i.useState)("1"),l=(0,d.Z)(s,2),u=l[0],c=l[1],h=(0,i.useState)("-100"),f=(0,d.Z)(h,2),v=f[0],g=f[1],m=(0,i.useState)("100"),y=(0,d.Z)(m,2),_=y[0],b=y[1],k=(0,i.useState)("0"),T=(0,d.Z)(k,2),E=T[0],x=T[1],w=(0,i.useState)(!1),S=(0,d.Z)(w,2),C=S[0],I=S[1],R=(0,i.useState)("-1000"),O=(0,d.Z)(R,2),A=O[0],M=O[1],L=(0,i.useState)("1000"),N=(0,d.Z)(L,2),$=N[0],P=N[1],D=(0,i.useState)("0"),B=(0,d.Z)(D,2),F=B[0],U=B[1],j=(0,i.useState)(!1),Z=(0,d.Z)(j,2),H=Z[0],z=Z[1],V=(0,i.useState)("-1000"),W=(0,d.Z)(V,2),G=W[0],X=W[1],Y=(0,i.useState)("1000"),K=(0,d.Z)(Y,2),q=K[0],J=K[1],Q=(0,i.useState)("0"),ee=(0,d.Z)(Q,2),te=ee[0],ne=ee[1],ie=(0,i.useState)(!1),re=(0,d.Z)(ie,2),oe=re[0],ae=re[1],se=(0,i.useState)(0),le=(0,d.Z)(se,2),ue=le[0],ce=le[1],he=(0,i.useState)(0),de=(0,d.Z)(he,2),fe=de[0],pe=de[1],ve=(0,i.useState)(0),ge=(0,d.Z)(ve,2),me=ge[0],ye=ge[1],_e=(0,i.useState)("MCT"),be=(0,d.Z)(_e,2),ke=be[0],Te=be[1],Ee=(0,i.useState)(!1),xe=(0,d.Z)(Ee,2),we=xe[0],Se=xe[1];return(0,p.jsx)(IL.Provider,{value:{timePeriod:o,setTimePeriod:a,numMeasurements:u,setNumMeasurements:c,zMin:v,setZMin:g,zMax:_,setZMax:b,zSteps:E,setZSteps:x,zStackEnabled:C,setZStackEnabled:I,xMin:A,setXMin:M,xMax:$,setXMax:P,xSteps:F,setXSteps:U,xStackEnabled:H,setXStackEnabled:z,yMin:G,setYMin:X,yMax:q,setYMax:J,ySteps:te,setYSteps:ne,yStackEnabled:oe,setYStackEnabled:ae,intensityLaser1:ue,setIntensityLaser1:ce,intensityLaser2:fe,setIntensityLaser2:pe,intensityLED:me,setIntensityLED:ye,fileName:ke,setFileName:Te,isRunning:we,setIsRunning:Se},children:t})},OL=i.createContext();function AL(e){var t=e.children,n=(0,i.useState)(0),r=(0,d.Z)(n,2),o=r[0],a=r[1],s=(0,i.useState)({init:"init"}),l=(0,d.Z)(s,2),u=l[0],c=l[1];return(0,p.jsx)(OL.Provider,{value:{sliderValue:o,setSliderValue:a,generic:u,handleGeneric:function(e){var t=e[0],n=e[1];c((function(e){return ic(ic({},e),{},(0,K.Z)({},t,n))}))}},children:t})}var ML=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useState)(0),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)(""),u=(0,d.Z)(l,2),c=u[0],h=u[1],f=(0,i.useContext)(IL),v=f.timePeriod,g=f.setTimePeriod,m=f.numMeasurements,y=f.setNumMeasurements,_=f.zMin,b=f.setZMin,k=f.zMax,T=f.setZMax,E=f.zSteps,x=f.setZSteps,w=f.zStackEnabled,S=f.setZStackEnabled,C=f.xMin,I=f.setXMin,R=f.xMax,O=f.setXMax,A=f.xSteps,M=f.setXSteps,L=f.xStackEnabled,N=f.setXStackEnabled,$=f.yMin,P=f.setYMin,D=f.yMax,B=f.setYMax,F=f.ySteps,U=f.setYSteps,j=f.yStackEnabled,Z=f.setYStackEnabled,H=f.intensityLaser1,z=f.setIntensityLaser1,V=f.intensityLaser2,W=f.setIntensityLaser2,G=f.intensityLED,X=f.setIntensityLED,K=f.fileName,q=f.setFileName,J=f.isRunning,Q=f.setIsRunning,ee=(0,i.useContext)(OL);(0,i.useEffect)((function(){!function(){var e="".concat(t,":").concat(n,"/MCTController/getMCTStatus");fetch(e).then((function(e){return e.json()})).then((function(e){console.log(e),g(e.timePeriod),S(e.zStackEnabled),b(e.zStackMin),T(e.zStackMax),x(e.zStackStep),N(e.xyScanEnabled),I(e.xScanMin),O(e.xScanMax),M(e.xScanStep),P(e.yScanMin),B(e.yScanMax),U(e.yScanStep),z(e.Illu1Value),W(e.Illu2Value),X(e.Illu3Value),s(e.nImagesTaken),Q(e.isMCTrunning),h(e.MCTFilename)})).catch((function(e){}))}()}),[t,n]);return(0,p.jsx)(Wr,{style:{padding:"20px"},children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Period T (s)",value:v,onChange:function(e){return g(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"N Measurements",value:m,onChange:function(e){return y(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Z-Stack Min",value:_,onChange:function(e){return b(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Z-Stack Max",value:k,onChange:function(e){return T(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Z-Stack Steps",value:E,onChange:function(e){return x(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ct,{control:(0,p.jsx)(Ja,{}),checked:w,onChange:function(e){return S(e.target.checked)},label:"Z-Stack Enabled"})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"X Scan Min",value:C,onChange:function(e){return I(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"X Scan Max",value:R,onChange:function(e){return O(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"X Scan Steps",value:A,onChange:function(e){return M(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ct,{control:(0,p.jsx)(Ja,{}),checked:L,onChange:function(e){return N(e.target.checked)},label:"XY Scan Enabled"})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Y Scan Min",value:$,onChange:function(e){return P(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Y Scan Max",value:D,onChange:function(e){return B(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ko,{label:"Y Scan Steps",value:F,onChange:function(e){return U(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Ct,{control:(0,p.jsx)(Ja,{}),checked:j,onChange:function(e){return Z(e.target.checked)},label:"Y-Stack Enabled"})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsxs)(Y,{children:["Intensity (Laser 1): ",H]}),(0,p.jsx)(ja,{value:ee.sliderValue,onChange:function(e,t){return ee.setSliderValue(t)},max:32767,step:1})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsxs)(Y,{children:["Intensity (Laser 2): ",ee.generic.slider2]}),(0,p.jsx)(ja,{value:ee.generic.slider2,onChange:function(e,t){return ee.handleGeneric(["slider2",t])},max:32767,step:1})]}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsxs)(Y,{children:["Intensity (LED): ",ee.generic.intensity]}),(0,p.jsx)(ja,{value:ee.generic.intensity,onChange:function(e,t){return ee.handleGeneric(["intensity",t])},max:255,step:1})]}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"File Name",value:K,onChange:function(e){return q(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Y,{variant:"body1",color:"textSecondary",children:"Images taken: ".concat(a)})}),(0,p.jsx)(la,{item:!0,xs:3,children:(0,p.jsx)(Y,{variant:"body1",color:"textSecondary",children:"Folder: ".concat(c)})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:function(){var e="".concat(t,":").concat(n,"/MCTController/startTimelapseImaging?")+"tperiod=".concat(v,"&nImagesToCapture=").concat(m,"&MCTFilename=").concat(K,"&")+"zStackEnabled=".concat(w,"&zStackMin=").concat(_,"&zStackMax=").concat(k,"&zStackStep=").concat(E,"&")+"xyScanEnabled=".concat(L,"&xScanMin=").concat(C,"&xScanMax=").concat(R,"&xScanStep=").concat(A,"&")+"yScanMin=".concat($,"&yScanMax=").concat(D,"&yScanStep=").concat(F,"&")+"IlluValue1=".concat(H,"&IlluValue2=").concat(V,"&IlluValue3=").concat(G);fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),Q(!0)})).catch((function(e){return console.error("Error:",e)}))},disabled:J,children:"Start"}),(0,p.jsx)(Ke,{variant:"contained",color:"secondary",onClick:function(){var e="".concat(t,":").concat(n,"/MCTController/stopTimelapseImaging");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),Q(!1)})).catch((function(e){return console.error("Error:",e)}))},disabled:!J,style:{marginLeft:"10px"},children:"Stop"})]})]})})},LL=["children","value","index"],NL=function(e){var t=e.children,n=e.value,i=e.index,r=tc(e,LL);return(0,p.jsx)("div",ic(ic({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),{},{children:n===i&&(0,p.jsx)(B,{p:3,children:t})}))},$L=function(){window.open("https://youseetoo.github.io","_blank")},PL=function(e){var t=e.hostIP,n=e.hostPort,r=(e.WindowTitle,(0,i.useState)(0)),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)([]),u=(0,d.Z)(l,2),c=u[0],h=u[1],f=(0,i.useState)(""),v=(0,d.Z)(f,2),g=v[0],m=v[1];return(0,i.useEffect)((function(){!function(){var e="".concat(t,":").concat(n,"/UC2ConfigController/returnAvailableSetups");fetch(e).then((function(e){return e.json()})).then((function(e){h(e.available_setups||[])})).catch((function(e){return console.error("Error fetching setups:",e)}))}()}),[]),(0,p.jsxs)(Wr,{children:[(0,p.jsxs)(Vk,{value:a,onChange:function(e,t){s(t)},"aria-label":"settings tabs",children:[(0,p.jsx)(qk,{label:"Reconnect to UC2 board"}),(0,p.jsx)(qk,{label:"Select Setup"})]}),(0,p.jsx)(NL,{value:a,index:0,children:(0,p.jsx)(la,{container:!0,spacing:2,children:(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Reconnect to UC2 board"}),(0,p.jsx)("div",{children:(0,p.jsx)(Ke,{style:{marginBottom:"20px"},variant:"contained",onClick:function(){var e="".concat(t,":").concat(n,"/UC2ConfigController/reconnect");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error("Error:",e)}))},children:"Reconnect"})}),(0,p.jsx)(Y,{variant:"h6",children:"Bluetooth Pairing"}),(0,p.jsx)("div",{children:(0,p.jsx)(Ke,{style:{marginBottom:"20px"},variant:"contained",onClick:function(){var e="".concat(t,":").concat(n,"/UC2ConfigController/btpairing");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){return console.error("Error:",e)}))},children:"BT Pairing"})}),(0,p.jsx)(Y,{variant:"h6",children:"Flash New Firmware"}),(0,p.jsx)("div",{children:(0,p.jsx)(Ke,{style:{marginBottom:"20px"},variant:"contained",onClick:$L,children:"UC2-ESP32"})})]})})}),(0,p.jsx)(NL,{value:a,index:1,children:(0,p.jsx)(la,{container:!0,spacing:2,children:(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Y,{variant:"h6",children:"Select Available Setup"}),(0,p.jsxs)(li,{fullWidth:!0,style:{marginBottom:"20px"},children:[(0,p.jsx)(ni,{id:"setup-select-label",children:"Available Setups"}),(0,p.jsx)(zo,{labelId:"setup-select-label",value:g,onChange:function(e){m(e.target.value)},children:c.map((function(e,t){return(0,p.jsx)(oT,{value:e,children:e},t)}))})]}),(0,p.jsx)(Ke,{style:{marginBottom:"20px"},variant:"contained",onClick:function(){if(g){var e="".concat(t,":").concat(n,"/UC2ConfigController/setSetupFileName?setupFileName=").concat(encodeURIComponent(g));fetch(e,{method:"get"}).then((function(e){return e.json()})).then((function(e){console.log("Setup selected:",e)})).catch((function(e){return console.error("Error setting setup:",e)}))}else alert("Please select a setup before proceeding.")},children:"OK"})]})})})]})},DL=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useState)(10),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)(1),u=(0,d.Z)(l,2),c=u[0],h=u[1],f=(0,i.useState)(0),v=(0,d.Z)(f,2),g=v[0],m=v[1],y=(0,i.useState)(!1),_=(0,d.Z)(y,2),b=(_[0],_[1]);return(0,p.jsx)(Wr,{style:{padding:"20px"},children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:4,children:(0,p.jsx)(Ko,{label:"Range Z",value:a,onChange:function(e){return s(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:4,children:(0,p.jsx)(Ko,{label:"Resolution Z",value:c,onChange:function(e){return h(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:4,children:(0,p.jsx)(Ko,{label:"Defocus Z",value:g,onChange:function(e){return m(e.target.value)},fullWidth:!0})}),(0,p.jsxs)(la,{item:!0,xs:12,children:[(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:function(){var e="".concat(t,":").concat(n,"/AufofocusController/autoFocus?")+"rangez=".concat(a,"&resolutionz=").concat(c,"&defocusz=").concat(g);console.log("Autofocus started:",e),fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("Autofocus started:",e),b(!0)})).catch((function(e){console.error("Error starting autofocus:",e)}))},children:"Start Autofocus"}),(0,p.jsx)(Ke,{variant:"contained",color:"secondary",onClick:function(){var e="http://".concat(t,":").concat(n,"/AufofocusController/stopAutoFocus");fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log("Autofocus stopped:",e),b(!1)})).catch((function(e){console.error("Error stopping autofocus:",e)}))},style:{marginLeft:"10px"},children:"Stop Autofocus"})]})]})})},BL=function(e){var t=e.hostIP,n=e.hostPort,r=(e.WindowTitle,(0,i.useState)(0)),o=(0,d.Z)(r,2),a=(o[0],o[1],(0,i.useState)("")),s=(0,d.Z)(a,2),l=s[0],u=s[1],c=(0,i.useRef)(null);return(0,i.useEffect)((function(){u("".concat(t,":").concat(n,"/RecordingController/video_feeder"))}),[t,n]),(0,p.jsxs)(Wr,{children:[(0,p.jsx)(Y,{variant:"h6",gutterBottom:!0,children:"Video Display"}),l?(0,p.jsx)("img",{style:{width:"100%",height:"auto"},src:l,ref:c,alt:"Live Stream"}):(0,p.jsx)(Y,{variant:"body1",color:"textSecondary",children:"No stream available"})]})},FL=function(e){var t=e.hostIP,n=e.hostPort;return(0,p.jsxs)(la,{container:!0,spacing:3,className:"control-panel-grid",children:[(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(BL,{hostIP:t,hostPort:n,title:"Flow Stop"})}),(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(CL,{hostIP:t,hostPort:n,title:"Flow Stop"})}),(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(PL,{hostIP:t,hostPort:n,title:"Reconnect"})}),(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(DL,{hostIP:t,hostPort:n,title:"Autofocus"})}),(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(RL,{children:(0,p.jsx)(ML,{hostIP:t,hostPort:n,title:"MCT"})})}),(0,p.jsx)(la,{item:!0,xs:12,sm:6,md:4,className:"grid-item",children:(0,p.jsx)(OT,{hostIP:t,hostPort:n,title:"HistoScan"})})]})},UL=["children","value","index"],jL=function(e){var t=e.children,n=e.value,i=e.index,r=tc(e,UL);return(0,p.jsx)("div",ic(ic({role:"tabpanel",hidden:n!==i,id:"simple-tabpanel-".concat(i),"aria-labelledby":"simple-tab-".concat(i)},r),{},{children:n===i&&(0,p.jsx)(B,{p:3,children:t})}))},ZL=function(e){var t=e.hostIP,n=e.hostPort,r=(0,i.useState)(0),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)(0),c=(0,d.Z)(l,2),f=c[0],v=c[1],g=(0,i.useState)(1e3),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)(1e3),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)("A"),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=(0,i.useState)(-1),R=(0,d.Z)(I,2),O=R[0],A=R[1],M=(0,i.useState)(512),L=(0,d.Z)(M,2),N=L[0],$=L[1],P=(0,i.useState)(null),D=(0,d.Z)(P,2),B=(D[0],D[1],(0,i.useState)(!1)),F=(0,d.Z)(B,2),U=F[0],j=F[1];(0,i.useEffect)((function(){var e=function(){var e=h(u().mark((function e(){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(t,":").concat(n,"/LightsheetController/returnLastLightsheetStackPath"));case 3:return i=e.sent,e.next=6,i.json();case 6:(r=e.sent)&&r.filepath,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching latest image path:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[t,n,U]);return(0,p.jsxs)(Wr,{children:[(0,p.jsxs)(Vk,{value:a,onChange:function(e,t){s(t)},"aria-label":"Lightsheet Controller Tabs",children:[(0,p.jsx)(qk,{label:"Scanning Parameters"}),(0,p.jsx)(qk,{label:"View Latest Stack"})]}),(0,p.jsx)(jL,{value:a,index:0,children:(0,p.jsxs)(la,{container:!0,spacing:2,children:[(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{label:"Min Position",value:f,onChange:function(e){return v(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{label:"Max Position",value:y,onChange:function(e){return _(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ko,{label:"Speed",value:T,onChange:function(e){return E(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Axis",value:S,onChange:function(e){return C(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Illumination Source",value:O,onChange:function(e){return A(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:6,children:(0,p.jsx)(Ko,{label:"Illumination Value",value:N,onChange:function(e){return $(e.target.value)},fullWidth:!0})}),(0,p.jsx)(la,{item:!0,xs:12,children:(0,p.jsx)(Ke,{variant:"contained",color:"primary",onClick:function(){var e="".concat(t,":").concat(n,"/LightsheetController/performScanningRecording?minPos=").concat(f,"&maxPos=").concat(y,"&speed=").concat(T,"&axis=").concat(S,"&illusource=").concat(O,"&illuvalue=").concat(N);fetch(e,{method:"GET"}).then((function(e){return e.json()})).then((function(e){console.log(e),j(!0)})).catch((function(e){return console.error("Error:",e)}))},disabled:U,children:"Start Scanning"})})]})}),(0,p.jsx)(jL,{value:a,index:1})]})},HL=n(9271),zL=n.n(HL);n(7138);zL().defineBlocksWithJsonArray([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",colour:230,tooltip:"A number.",helpUrl:""},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\xbd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",colour:230,tooltip:"A mathematical constant.",helpUrl:""},{type:"set_laser_power_block",message0:"Set laser power to %1 for channel %2",args0:[{type:"field_number",name:"POWER",value:10,min:0,max:1e3},{type:"field_input",name:"CHANNEL",text:"LED"}],previousStatement:null,nextStatement:null,colour:230,tooltip:"Sets the laser/LED power on a specific channel",helpUrl:""},{type:"wait_time_block",message0:"Wait %1 seconds",args0:[{type:"field_number",name:"SECONDS",value:1,min:0}],previousStatement:null,nextStatement:null,colour:160,tooltip:"Wait a certain number of seconds",helpUrl:""},{type:"acquire_frame_block",message0:"Acquire frame on channel %1",args0:[{type:"field_input",name:"CHANNEL",text:"Mono"}],previousStatement:null,nextStatement:null,colour:20,tooltip:"Acquire an image on the given channel",helpUrl:""},{type:"controls_repeat_ext",message0:"repeat %1 times",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"do %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,colour:120,tooltip:"Repeat a number of times.",helpUrl:""}]);n(2505);var VL=function(){return VL=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},VL.apply(this,arguments)};var WL=function(e){var t=e.ref,n=e.initialXml,r=e.initialJson,o=e.toolboxConfiguration,a=e.workspaceConfiguration,s=e.onWorkspaceChange,l=e.onImportXmlError,u=e.onImportError,c=e.onInject,h=e.onDispose;u=null!==u&&void 0!==u?u:l;var d=i.useState(null),f=d[0],p=d[1],v=i.useState(n||null),g=v[0],m=v[1],y=i.useState(r||null),_=y[0],b=y[1],k=i.useState(!1),T=k[0],E=k[1],x=i.useState(!1),w=x[0],S=x[1],C=i.useRef(a);i.useEffect((function(){C.current=a}),[a]);var I=i.useRef(o);i.useEffect((function(){I.current=o,o&&f&&!(null===a||void 0===a?void 0:a.readOnly)&&f.updateToolbox(o)}),[o,f,a]);var R=i.useRef(c),O=i.useRef(h);i.useEffect((function(){R.current=c}),[c]),i.useEffect((function(){O.current=h}),[h]);var A=i.useCallback((function(e){s&&s(e)}),[s]);return i.useEffect((function(){if(t.current){var e=zL().inject(t.current,VL(VL({},C.current),{toolbox:I.current}));p(e),E(!1),S(!1),R.current&&R.current(e);var n=O.current;return function(){e.dispose(),n&&n(e)}}}),[t]),i.useEffect((function(){f&&!w&&A(f)}),[A,w,f]),i.useEffect((function(){if(null!=f){var e=function(){A(f)};return f.addChangeListener(e),function(){f.removeChangeListener(e)}}}),[f,A]),i.useEffect((function(){if(null!=f){var e=function(e,t){var n=null,i=null;return[function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];i=function(){n=null,e.apply(void 0,r)},null!=n&&clearTimeout(n),n=window.setTimeout(i,t)},function(){null!=n&&(clearTimeout(n),i&&i())}]}((function(){var e=zL().Xml.domToText(zL().Xml.workspaceToDom(f));if(e!==g){var t=zL().serialization.workspaces.save(f);b(t),m(e)}}),200),t=e[0],n=e[1];return f.addChangeListener(t),function(){f.removeChangeListener(t),n()}}}),[f,g]),i.useEffect((function(){if(g&&f&&!T){var e=function(e,t,n){try{if(t.getAllBlocks(!1).length>0)return;return zL().Xml.domToWorkspace(zL().utils.xml.textToDom(e),t),!0}catch(i){return n&&n(i),!1}}(g,f,u);e||m(null),E(!0)}else if(_&&f&&!T){e=function(e,t,n){try{return zL().serialization.workspaces.load(e,t),!0}catch(i){return n&&n(i),!1}}(_,f,u);e||b(null);var t=zL().Xml.domToText(zL().Xml.workspaceToDom(f));m(t),E(!0)}}),[_,g,f,T,u]),{workspace:f,xml:g,json:_}},GL=n(2007),XL=n.n(GL),YL={initialXml:XL().string,initialJson:XL().object,toolboxConfiguration:XL().object,workspaceConfiguration:XL().object,className:XL().string,onWorkspaceChange:XL().func,onImportXmlError:XL().func,onImportError:XL().func,onXmlChange:XL().func,onJsonChange:XL().func,onInject:XL().func,onDispose:XL().func};function KL(e){var t=e.initialXml,n=e.initialJson,r=e.toolboxConfiguration,o=e.workspaceConfiguration,a=e.className,s=e.onWorkspaceChange,l=e.onXmlChange,u=e.onJsonChange,c=e.onImportXmlError,h=e.onImportError,d=e.onInject,f=e.onDispose,v=i.useRef(null),g=WL({ref:v,initialXml:t,initialJson:n,toolboxConfiguration:r,workspaceConfiguration:o,onWorkspaceChange:s,onImportXmlError:c,onImportError:h,onInject:d,onDispose:f}),m=g.xml,y=g.json,_=i.useRef(l);i.useEffect((function(){_.current=l}),[l]);var b=i.useRef(u);return i.useEffect((function(){b.current=u}),[u]),i.useEffect((function(){_.current&&m&&_.current(m),b.current&&y&&b.current(y)}),[m,y]),(0,p.jsx)("div",{className:a,ref:v})}KL.propTypes=YL;var qL=KL,JL=n(1030),QL=JL.Theme.defineTheme("dark",{base:JL.Themes.Classic,componentStyles:{workspaceBackgroundColour:"#1e1e1e",toolboxBackgroundColour:"blackBackground",toolboxForegroundColour:"#fff",flyoutBackgroundColour:"#252526",flyoutForegroundColour:"#ccc",flyoutOpacity:1,scrollbarColour:"#797979",insertionMarkerColour:"#fff",insertionMarkerOpacity:.3,scrollbarOpacity:.4,cursorColour:"#d0d0d0",blackBackground:"#333"}}),eN=new(zL().Generator)("JSON");function tN(e,t){for(var n="";t;){n+=e.blockToCode(t),t=t.getNextBlock()}return n}eN.init=function(e){},eN.finish=function(e){return e},eN.set_laser_power_block=function(e){var t=e.getFieldValue("POWER"),n=e.getFieldValue("CHANNEL"),i={id:e.id,stepName:"Set Laser Power",mainFuncName:"set_laser_power",mainParams:{power:parseFloat(t),channel:n},preFuncs:[],preParams:{},postFuncs:[],postParams:{}};return JSON.stringify(i)+","},eN.wait_time_block=function(e){var t=e.getFieldValue("SECONDS"),n={id:e.id,stepName:"Wait Time",mainFuncName:"wait_time",mainParams:{seconds:parseFloat(t)},preFuncs:[],preParams:{},postFuncs:[],postParams:{}};return JSON.stringify(n)+","},eN.acquire_frame_block=function(e){var t=e.getFieldValue("CHANNEL"),n={id:e.id,stepName:"Acquire Frame",mainFuncName:"acquire_frame",mainParams:{channel:t},preFuncs:[],preParams:{},postFuncs:["process_data","save_frame_zarr"],postParams:{}};return JSON.stringify(n)+","},eN.blockToCode=function(e){if(!e)return"";var t=this[e.type];if("function"!==typeof t)throw Error("Language does not know how to generate code for block type: "+e.type);return t.call(this,e)},eN.controls_repeat_ext=function(e){var t=0,n=e.getInputTargetBlock("TIMES");if(n){var i=this.blockToCode(n);i=i.trim().replace(/,$/,""),t=parseInt(i)||0}var r=e.getInputTargetBlock("DO");if(!r)return"";for(var o="",a=0;a<t;a++)o+=tN(this,r);return o},eN.math_number=function(e){return(e.getFieldValue("NUM")||"0")+","},eN.acquire_frame_block=function(e){var t=e.getFieldValue("CHANNEL"),n={id:e.id,stepName:"Acquire Frame",mainFuncName:"acquire_frame",mainParams:{channel:t},preFuncs:[],preParams:{},postFuncs:[],postParams:{}};return JSON.stringify(n)+","},eN.workspaceToCode=function(e){var t,n="",i=a(e.getTopBlocks(!0));try{for(i.s();!(t=i.n()).done;){var r=t.value;n+=this.blockToCode(r)}}catch(PU){i.e(PU)}finally{i.f()}var o=[],s=n.split(/,(?![^[]*\]|[^"]*")/).map((function(e){return e.trim()}));return(s=s.filter((function(e){return e.length>0}))).forEach((function(e){try{var t=JSON.parse(e);o.push(t)}catch(PU){}})),o={steps:[o]},JSON.stringify({steps:o},null,2)},eN.workspaceToCode=function(e){var t,n=this,i=e.getTopBlocks(!0),r=[],o=function e(t){if(t){var i=n.blockToCode(t);if(i=i.trim().replace(/,$/,""))try{i='{"steps": ['.concat(i,"]}");var o=JSON.parse(i);r.push(o)}catch(PU){console.warn("Error parsing step JSON",PU,i)}var a=t.getNextBlock();a&&e(a)}},s=a(i);try{for(s.s();!(t=s.n()).done;){o(t.value)}}catch(PU){s.e(PU)}finally{s.f()}return JSON.stringify({steps:r},null,2)};var nN=eN,iN={kind:"categoryToolbox",contents:[{kind:"category",name:"Logic",colour:"#5b80a5",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"logic_compare",fields:{OP:"EQ"}},{kind:"block",type:"logic_operation",fields:{OP:"AND"}},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean",fields:{BOOL:"TRUE"}},{kind:"block",type:"logic_null"},{kind:"block",type:"logic_ternary"}]},{kind:"category",name:"Loops",colour:"#5ba55b",contents:[{kind:"block",type:"controls_repeat_ext",values:{TIMES:{kind:"block",type:"math_number",fields:{NUM:"10"}}}},{kind:"block",type:"controls_whileUntil",fields:{MODE:"WHILE"}},{kind:"block",type:"controls_for",fields:{VAR:{id:"XECl4GVs-^+[?1V:UI%Z",name:"i"}},values:{FROM:{kind:"block",type:"math_number",fields:{NUM:"1"}},TO:{kind:"block",type:"math_number",fields:{NUM:"10"}},BY:{kind:"block",type:"math_number",fields:{NUM:"1"}}}},{kind:"block",type:"controls_forEach",fields:{VAR:{id:"zbX-3A%GYRcl`Ngw=KCn",name:"j"}}},{kind:"block",type:"controls_flow_statements",fields:{FLOW:"BREAK"}}]},{kind:"category",name:"Math",colour:"#5b67a5",contents:[{kind:"block",type:"math_number",fields:{NUM:"0"}},{kind:"block",type:"math_arithmetic",fields:{OP:"ADD"},values:{A:{kind:"block",type:"math_number",fields:{NUM:"1"}},B:{kind:"block",type:"math_number",fields:{NUM:"1"}}}},{kind:"block",type:"math_single",fields:{OP:"ROOT"},values:{NUM:{kind:"block",type:"math_number",fields:{NUM:"9"}}}},{kind:"block",type:"math_trig",fields:{OP:"SIN"},values:{NUM:{kind:"block",type:"math_number",fields:{NUM:"45"}}}},{kind:"block",type:"math_constant",fields:{CONSTANT:"PI"}},{kind:"block",type:"math_number_property",fields:{PROPERTY:"EVEN"},values:{NUMBER_TO_CHECK:{kind:"block",type:"math_number",fields:{NUM:"0"}}}},{kind:"block",type:"math_round",fields:{OP:"ROUND"},values:{NUM:{kind:"block",type:"math_number",fields:{NUM:"3.1"}}}},{kind:"block",type:"math_on_list",mutation:{op:"SUM"},fields:{OP:"SUM"}},{kind:"block",type:"math_modulo",values:{DIVIDEND:{kind:"block",type:"math_number",fields:{NUM:"64"}},DIVISOR:{kind:"block",type:"math_number",fields:{NUM:"10"}}}},{kind:"block",type:"math_constrain",values:{VALUE:{kind:"block",type:"math_number",fields:{NUM:"50"}},LOW:{kind:"block",type:"math_number",fields:{NUM:"1"}},HIGH:{kind:"block",type:"math_number",fields:{NUM:"100"}}}},{kind:"block",type:"math_random_int",values:{FROM:{kind:"block",type:"math_number",fields:{NUM:"1"}},TO:{kind:"block",type:"math_number",fields:{NUM:"100"}}}},{kind:"block",type:"math_random_float"}]},{kind:"category",name:"Text",colour:"#5ba58c",contents:[{kind:"block",type:"text",fields:{TEXT:""}},{kind:"block",type:"text_join",mutation:{items:"2"}},{kind:"block",type:"text_append",fields:{VAR:{id:"7j+{(eU@3Nf`G7G@/J%}",name:"item"}},values:{TEXT:{kind:"block",type:"text",fields:{TEXT:""}}}},{kind:"block",type:"text_length",values:{VALUE:{kind:"block",type:"text",fields:{TEXT:"abc"}}}},{kind:"block",type:"text_isEmpty",values:{VALUE:{kind:"block",type:"text",fields:{TEXT:""}}}},{kind:"block",type:"text_indexOf",fields:{END:"FIRST"},values:{VALUE:{kind:"block",type:"variables_get",fields:{VAR:{id:",Yd_J]Tvz2@pj)r9I|p$",name:"text"}}},FIND:{kind:"block",type:"text",fields:{TEXT:"abc"}}}},{kind:"block",type:"text_charAt",mutation:{at:"true"},fields:{WHERE:"FROM_START"},values:{VALUE:{kind:"block",type:"variables_get",fields:{VAR:{id:",Yd_J]Tvz2@pj)r9I|p$",name:"text"}}}}},{kind:"block",type:"text_getSubstring",mutation:{at1:"true",at2:"true"},fields:{WHERE1:"FROM_START",WHERE2:"FROM_START"},values:{STRING:{kind:"block",type:"variables_get",fields:{VAR:{id:",Yd_J]Tvz2@pj)r9I|p$",name:"text"}}}}},{kind:"block",type:"text_changeCase",fields:{CASE:"UPPERCASE"},values:{TEXT:{kind:"block",type:"text",fields:{TEXT:"abc"}}}},{kind:"block",type:"text_trim",fields:{MODE:"BOTH"},values:{TEXT:{kind:"block",type:"text",fields:{TEXT:"abc"}}}},{kind:"block",type:"text_print",values:{TEXT:{kind:"block",type:"text",fields:{TEXT:"abc"}}}},{kind:"block",type:"text_prompt_ext",mutation:{type:"TEXT"},fields:{TYPE:"TEXT"},values:{TEXT:{kind:"block",type:"text",fields:{TEXT:"abc"}}}}]},{kind:"category",name:"Lists",colour:"#745ba5",contents:[{kind:"block",type:"lists_create_with",mutation:{items:"0"}},{kind:"block",type:"lists_create_with",mutation:{items:"3"}},{kind:"block",type:"lists_repeat",values:{NUM:{kind:"block",type:"math_number",fields:{NUM:"5"}}}},{kind:"block",type:"lists_length"},{kind:"block",type:"lists_isEmpty"},{kind:"block",type:"lists_indexOf",fields:{END:"FIRST"},values:{VALUE:{kind:"block",type:"variables_get",fields:{VAR:{id:"/KVKU4..*N9aqt7tc`r)",name:"list"}}}}},{kind:"block",type:"lists_getIndex",mutation:{statement:"false"},fields:{MODE:"GET",WHERE:"FROM_START"},values:{VALUE:{kind:"block",type:"variables_get",fields:{VAR:{id:"/KVKU4..*N9aqt7tc`r)",name:"list"}}}}},{kind:"block",type:"lists_setIndex",mutation:{at:"true"},fields:{MODE:"SET",WHERE:"FROM_START"},values:{LIST:{kind:"block",type:"variables_get",fields:{VAR:{id:"/KVKU4..*N9aqt7tc`r)",name:"list"}}}}},{kind:"block",type:"lists_getSublist",mutation:{at1:"true",at2:"true"},fields:{WHERE1:"FROM_START",WHERE2:"FROM_START"},values:{LIST:{kind:"block",type:"variables_get",fields:{VAR:{id:"/KVKU4..*N9aqt7tc`r)",name:"list"}}}}},{kind:"block",type:"lists_split",mutation:{mode:"SPLIT"},fields:{MODE:"SPLIT"},values:{DELIM:{kind:"block",type:"text",fields:{TEXT:","}}}},{kind:"block",type:"lists_sort",fields:{TYPE:"NUMERIC",DIRECTION:"1"}}]},{kind:"category",name:"Colour",colour:"#a5745b",contents:[{kind:"block",type:"colour_picker",fields:{COLOUR:"#ff0000"}},{kind:"block",type:"colour_random"},{kind:"block",type:"colour_rgb",values:{RED:{kind:"block",type:"math_number",fields:{NUM:"100"}},GREEN:{kind:"block",type:"math_number",fields:{NUM:"50"}},BLUE:{kind:"block",type:"math_number",fields:{NUM:"0"}}}},{kind:"block",type:"colour_blend",values:{COLOUR1:{kind:"block",type:"colour_picker",fields:{COLOUR:"#ff0000"}},COLOUR2:{kind:"block",type:"colour_picker",fields:{COLOUR:"#3333ff"}},RATIO:{kind:"block",type:"math_number",fields:{NUM:"0.5"}}}}]},{kind:"sep"},{kind:"category",name:"Variables",colour:"#a55b80",custom:"VARIABLE"},{kind:"category",name:"Functions",colour:"#995ba5",custom:"PROCEDURE"},{kind:"sep"},{kind:"category",name:"Workflow",colour:"#cf6b58",contents:[{kind:"block",type:"set_laser_power_block"},{kind:"block",type:"wait_time_block"},{kind:"block",type:"acquire_frame_block"}]}]},rN=function(e){ac(n,e);var t=uc(n);function n(e){var i;return(0,Sr.Z)(this,n),(i=t.call(this,e)).handleGenerateJson=function(){var e=zL().getMainWorkspace(),t=nN.workspaceToCode(e);console.log(t),i.setState({code:t})},i.handleXmlChange=function(e){i.setState({xml:e})},i.handleWorkspaceChange=function(e){var t=zL().JavaScript.workspaceToCode(e);i.state({jsCode:t})},i.state={xml:"",code:""},i}return(0,Cr.Z)(n,[{key:"render",value:function(){return(0,p.jsxs)("div",{className:"container",children:[(0,p.jsx)("h1",{children:"Create your Workflow"}),(0,p.jsx)("button",{onClick:this.handleGenerateJson,children:"Generate Workflow JSON"}),(0,p.jsx)(qL,{className:"blockly_container",initialXml:'<xml xmlns="http://www.w3.org/1999/xhtml"></xml>',toolboxConfiguration:iN,workspaceConfiguration:{grid:{spacing:20,length:3,colour:"#ccc",snap:!0},theme:QL},onXmlChange:this.handleXmlChange}),(0,p.jsx)("pre",{style:{backgroundColor:"#272822",color:"#fff",padding:"1rem"},children:this.state.code})]})}}]),n}(i.PureComponent),oN=function(e){var t=e.sharedImage,n=(0,i.useState)(null),r=(0,d.Z)(n,2),o=r[0],a=r[1];(0,i.useEffect)((function(){var e=document.createElement("script");return e.src="https://lib.imjoy.io/imjoy-loader.js",e.async=!0,e.onload=h(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,window.loadImJoyBasicApp({process_url_query:!1,show_window_title:!1,show_progress_bar:!0,show_empty_window:!0,menu_style:{position:"absolute",right:0,top:"2px"},window_style:{width:"100%",height:"100%"},main_container:null,menu_container:"imjoy-menu-container",window_manager_container:"imjoy-window-container"});case 2:t=e.sent,a(t.imjoy.api),t.addMenuItem({label:"\u2795 Load Plugin",callback:function(){var e=prompt("Please type an ImJoy plugin URL");e&&t.loadPlugin(e)}});case 5:case"end":return e.stop()}}),e)}))),document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var s=function(){var e=h(u().mark((function e(){var n,i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o&&t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,fetch(t);case 5:return n=e.sent,e.next=8,n.arrayBuffer();case 8:return i=e.sent,e.next=11,o.getWindow("ImageJ.JS");case 11:if(r=e.sent){e.next=18;break}return e.next=15,o.createWindow({src:"https://ij.imjoy.io",name:"ImageJ.JS",fullscreen:!0});case 15:r=e.sent,e.next=20;break;case 18:return e.next=20,r.show();case 20:return e.next=22,r.viewImage(i,{name:"shared-image.jpeg"});case 22:e.next=27;break;case 24:e.prev=24,e.t0=e.catch(2),console.error("Error sending to ImJoy:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[2,24]])})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)(B,{sx:{display:"flex",flexDirection:"column",gap:2,position:"relative"},children:[(0,p.jsx)(Y,{variant:"h6",gutterBottom:!0,children:"ImJoy Integration Page"}),t?(0,p.jsx)("img",{src:t,alt:"Shared",style:{maxWidth:"400px",border:"1px solid #ccc"}}):(0,p.jsx)(Y,{variant:"body1",children:"No image shared yet."}),(0,p.jsx)(Ke,{variant:"contained",onClick:s,children:"Send Image to ImJoy"}),(0,p.jsx)(B,{id:"imjoy-menu-container",sx:{width:"100%",height:40,border:"1px solid #ccc",mb:2}}),(0,p.jsx)(B,{id:"imjoy-window-container",sx:{width:"100%",height:400,border:"1px solid #ccc"}})]})},aN=(0,f.Z)((0,p.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),sN=(0,f.Z)((0,p.jsx)("path",{d:"M3 13h8V3H3zm0 8h8v-6H3zm10 0h8V11h-8zm0-18v6h8V3z"}),"Dashboard"),lN=(0,f.Z)((0,p.jsx)("path",{d:"M4 6h18V4H4c-1.1 0-2 .9-2 2v11H0v3h14v-3H4zm19 2h-6c-.55 0-1 .45-1 1v10c0 .55.45 1 1 1h6c.55 0 1-.45 1-1V9c0-.55-.45-1-1-1m-1 9h-4v-7h4z"}),"Devices"),uN=(0,f.Z)((0,p.jsx)("path",{d:"M12.01 5.5 10 8h4zM18 10v4l2.5-1.99zM6 10l-2.5 2.01L6 14zm8 6h-4l2.01 2.5zm9-13H1v18h22zm-2 16.01H3V4.99h18z"}),"SettingsOverscanSharp"),cN=(0,f.Z)((0,p.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),hN=(0,f.Z)([(0,p.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,p.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),dN=(0,f.Z)((0,p.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m1 15h-2v-6h2zm0-8h-2V7h2z"}),"Info"),fN=(0,f.Z)((0,p.jsx)("path",{d:"m22.7 19-9.1-9.1c.9-2.3.4-5-1.5-6.9-2-2-5-2.4-7.4-1.3L9 6 6 9 1.6 4.7C.4 7.1.9 10.1 2.9 12.1c1.9 1.9 4.6 2.4 6.9 1.5l9.1 9.1c.4.4 1 .4 1.4 0l2.3-2.3c.5-.4.5-1.1.1-1.4"}),"Build"),pN=n(2140),vN=n(4250),gN=n(1162);function mN(e,t){return function(){return e.apply(t,arguments)}}var yN=Object.prototype.toString,_N=Object.getPrototypeOf,bN=function(e){return function(t){var n=yN.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null)),kN=function(e){return e=e.toLowerCase(),function(t){return bN(t)===e}},TN=function(e){return function(t){return typeof t===e}},EN=Array.isArray,xN=TN("undefined");var wN=kN("ArrayBuffer");var SN=TN("string"),CN=TN("function"),IN=TN("number"),RN=function(e){return null!==e&&"object"===typeof e},ON=function(e){if("object"!==bN(e))return!1;var t=_N(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},AN=kN("Date"),MN=kN("File"),LN=kN("Blob"),NN=kN("FileList"),$N=kN("URLSearchParams"),PN=["ReadableStream","Request","Response","Headers"].map(kN),DN=(0,d.Z)(PN,4),BN=DN[0],FN=DN[1],UN=DN[2],jN=DN[3];function ZN(e,t){var n,i,r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).allOwnKeys,o=void 0!==r&&r;if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),EN(e))for(n=0,i=e.length;n<i;n++)t.call(null,e[n],n,e);else{var a,s=o?Object.getOwnPropertyNames(e):Object.keys(e),l=s.length;for(n=0;n<l;n++)a=s[n],t.call(null,e[a],a,e)}}function HN(e,t){t=t.toLowerCase();for(var n,i=Object.keys(e),r=i.length;r-- >0;)if(t===(n=i[r]).toLowerCase())return n;return null}var zN="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,VN=function(e){return!xN(e)&&e!==zN};var WN,GN=(WN="undefined"!==typeof Uint8Array&&_N(Uint8Array),function(e){return WN&&e instanceof WN}),XN=kN("HTMLFormElement"),YN=function(e){var t=Object.prototype.hasOwnProperty;return function(e,n){return t.call(e,n)}}(),KN=kN("RegExp"),qN=function(e,t){var n=Object.getOwnPropertyDescriptors(e),i={};ZN(n,(function(n,r){var o;!1!==(o=t(n,r,e))&&(i[r]=o||n)})),Object.defineProperties(e,i)},JN="abcdefghijklmnopqrstuvwxyz",QN="0123456789",e$={DIGIT:QN,ALPHA:JN,ALPHA_DIGIT:JN+JN.toUpperCase()+QN};var t$=kN("AsyncFunction"),n$=function(e,t){return e?setImmediate:t?(n="axios@".concat(Math.random()),i=[],zN.addEventListener("message",(function(e){var t=e.source,r=e.data;t===zN&&r===n&&i.length&&i.shift()()}),!1),function(e){i.push(e),zN.postMessage(n,"*")}):function(e){return setTimeout(e)};var n,i}("function"===typeof setImmediate,CN(zN.postMessage)),i$="undefined"!==typeof queueMicrotask?queueMicrotask.bind(zN):"undefined"!==typeof process&&process.nextTick||n$,r$={isArray:EN,isArrayBuffer:wN,isBuffer:function(e){return null!==e&&!xN(e)&&null!==e.constructor&&!xN(e.constructor)&&CN(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:function(e){var t;return e&&("function"===typeof FormData&&e instanceof FormData||CN(e.append)&&("formdata"===(t=bN(e))||"object"===t&&CN(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){return"undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&wN(e.buffer)},isString:SN,isNumber:IN,isBoolean:function(e){return!0===e||!1===e},isObject:RN,isPlainObject:ON,isReadableStream:BN,isRequest:FN,isResponse:UN,isHeaders:jN,isUndefined:xN,isDate:AN,isFile:MN,isBlob:LN,isRegExp:KN,isFunction:CN,isStream:function(e){return RN(e)&&CN(e.pipe)},isURLSearchParams:$N,isTypedArray:GN,isFileList:NN,forEach:ZN,merge:function e(){for(var t=(VN(this)&&this||{}).caseless,n={},i=function(i,r){var o=t&&HN(n,r)||r;ON(n[o])&&ON(i)?n[o]=e(n[o],i):ON(i)?n[o]=e({},i):EN(i)?n[o]=i.slice():n[o]=i},r=0,o=arguments.length;r<o;r++)arguments[r]&&ZN(arguments[r],i);return n},extend:function(e,t,n){return ZN(t,(function(t,i){n&&CN(t)?e[i]=mN(t,n):e[i]=t}),{allOwnKeys:(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).allOwnKeys}),e},trim:function(e){return e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e},inherits:function(e,t,n,i){e.prototype=Object.create(t.prototype,i),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:function(e,t,n,i){var r,o,a,s={};if(t=t||{},null==e)return t;do{for(o=(r=Object.getOwnPropertyNames(e)).length;o-- >0;)a=r[o],i&&!i(a,e,t)||s[a]||(t[a]=e[a],s[a]=!0);e=!1!==n&&_N(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:bN,kindOfTest:kN,endsWith:function(e,t,n){e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;var i=e.indexOf(t,n);return-1!==i&&i===n},toArray:function(e){if(!e)return null;if(EN(e))return e;var t=e.length;if(!IN(t))return null;for(var n=new Array(t);t-- >0;)n[t]=e[t];return n},forEachEntry:function(e,t){for(var n,i=(e&&e[Symbol.iterator]).call(e);(n=i.next())&&!n.done;){var r=n.value;t.call(e,r[0],r[1])}},matchAll:function(e,t){for(var n,i=[];null!==(n=e.exec(t));)i.push(n);return i},isHTMLForm:XN,hasOwnProperty:YN,hasOwnProp:YN,reduceDescriptors:qN,freezeMethods:function(e){qN(e,(function(t,n){if(CN(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;var i=e[n];CN(i)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=function(){throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:function(e,t){var n={},i=function(e){e.forEach((function(e){n[e]=!0}))};return EN(e)?i(e):i(String(e).split(t)),n},toCamelCase:function(e){return e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))},noop:function(){},toFiniteNumber:function(e,t){return null!=e&&Number.isFinite(e=+e)?e:t},findKey:HN,global:zN,isContextDefined:VN,ALPHABET:e$,generateString:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e$.ALPHA_DIGIT,n="",i=t.length;e--;)n+=t[Math.random()*i|0];return n},isSpecCompliantForm:function(e){return!!(e&&CN(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:function(e){var t=new Array(10);return function e(n,i){if(RN(n)){if(t.indexOf(n)>=0)return;if(!("toJSON"in n)){t[i]=n;var r=EN(n)?[]:{};return ZN(n,(function(t,n){var o=e(t,i+1);!xN(o)&&(r[n]=o)})),t[i]=void 0,r}}return n}(e,0)},isAsyncFn:t$,isThenable:function(e){return e&&(RN(e)||CN(e))&&CN(e.then)&&CN(e.catch)},setImmediate:n$,asap:i$};function o$(e,t,n,i,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),i&&(this.request=i),r&&(this.response=r,this.status=r.status?r.status:null)}r$.inherits(o$,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:r$.toJSONObject(this.config),code:this.code,status:this.status}}});var a$=o$.prototype,s$={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((function(e){s$[e]={value:e}})),Object.defineProperties(o$,s$),Object.defineProperty(a$,"isAxiosError",{value:!0}),o$.from=function(e,t,n,i,r,o){var a=Object.create(a$);return r$.toFlatObject(e,a,(function(e){return e!==Error.prototype}),(function(e){return"isAxiosError"!==e})),o$.call(a,e.message,t,n,i,r),a.cause=e,a.name=e.name,o&&Object.assign(a,o),a};var l$=o$;function u$(e){return r$.isPlainObject(e)||r$.isArray(e)}function c$(e){return r$.endsWith(e,"[]")?e.slice(0,-2):e}function h$(e,t,n){return e?e.concat(t).map((function(e,t){return e=c$(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}var d$=r$.toFlatObject(r$,{},null,(function(e){return/^is[A-Z]/.test(e)}));var f$=function(e,t,n){if(!r$.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;var i=(n=r$.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!r$.isUndefined(t[e])}))).metaTokens,r=n.visitor||u,o=n.dots,a=n.indexes,s=(n.Blob||"undefined"!==typeof Blob&&Blob)&&r$.isSpecCompliantForm(t);if(!r$.isFunction(r))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(r$.isDate(e))return e.toISOString();if(!s&&r$.isBlob(e))throw new l$("Blob is not supported. Use a Buffer instead.");return r$.isArrayBuffer(e)||r$.isTypedArray(e)?s&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,r){var s=e;if(e&&!r&&"object"===typeof e)if(r$.endsWith(n,"{}"))n=i?n:n.slice(0,-2),e=JSON.stringify(e);else if(r$.isArray(e)&&function(e){return r$.isArray(e)&&!e.some(u$)}(e)||(r$.isFileList(e)||r$.endsWith(n,"[]"))&&(s=r$.toArray(e)))return n=c$(n),s.forEach((function(e,i){!r$.isUndefined(e)&&null!==e&&t.append(!0===a?h$([n],i,o):null===a?n:n+"[]",l(e))})),!1;return!!u$(e)||(t.append(h$(r,n,o),l(e)),!1)}var c=[],h=Object.assign(d$,{defaultVisitor:u,convertValue:l,isVisitable:u$});if(!r$.isObject(e))throw new TypeError("data must be an object");return function e(n,i){if(!r$.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+i.join("."));c.push(n),r$.forEach(n,(function(n,o){!0===(!(r$.isUndefined(n)||null===n)&&r.call(t,n,r$.isString(o)?o.trim():o,i,h))&&e(n,i?i.concat(o):[o])})),c.pop()}}(e),t};function p$(e){var t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function v$(e,t){this._pairs=[],e&&f$(e,this,t)}var g$=v$.prototype;g$.append=function(e,t){this._pairs.push([e,t])},g$.toString=function(e){var t=e?function(t){return e.call(this,t,p$)}:p$;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};var m$=v$;function y$(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _$(e,t,n){if(!t)return e;var i,r=n&&n.encode||y$,o=n&&n.serialize;if(i=o?o(t,n):r$.isURLSearchParams(t)?t.toString():new m$(t,n).toString(r)){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}var b$=function(){function e(){(0,Sr.Z)(this,e),this.handlers=[]}return(0,Cr.Z)(e,[{key:"use",value:function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}},{key:"eject",value:function(e){this.handlers[e]&&(this.handlers[e]=null)}},{key:"clear",value:function(){this.handlers&&(this.handlers=[])}},{key:"forEach",value:function(e){r$.forEach(this.handlers,(function(t){null!==t&&e(t)}))}}]),e}(),k$={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T$={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:m$,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},E$="undefined"!==typeof window&&"undefined"!==typeof document,x$="object"===typeof navigator&&navigator||void 0,w$=E$&&(!x$||["ReactNative","NativeScript","NS"].indexOf(x$.product)<0),S$="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,C$=E$&&window.location.href||"http://localhost",I$=ic(ic({},t),T$);var R$=function(e){function t(e,n,i,r){var o=e[r++];if("__proto__"===o)return!0;var a=Number.isFinite(+o),s=r>=e.length;return o=!o&&r$.isArray(i)?i.length:o,s?(r$.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):(i[o]&&r$.isObject(i[o])||(i[o]=[]),t(e,n,i[o],r)&&r$.isArray(i[o])&&(i[o]=function(e){var t,n,i={},r=Object.keys(e),o=r.length;for(t=0;t<o;t++)i[n=r[t]]=e[n];return i}(i[o])),!a)}if(r$.isFormData(e)&&r$.isFunction(e.entries)){var n={};return r$.forEachEntry(e,(function(e,i){t(function(e){return r$.matchAll(/\w+|\[(\w*)]/g,e).map((function(e){return"[]"===e[0]?"":e[1]||e[0]}))}(e),i,n,0)})),n}return null};var O$={transitional:k$,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){var n,i=t.getContentType()||"",r=i.indexOf("application/json")>-1,o=r$.isObject(e);if(o&&r$.isHTMLForm(e)&&(e=new FormData(e)),r$.isFormData(e))return r?JSON.stringify(R$(e)):e;if(r$.isArrayBuffer(e)||r$.isBuffer(e)||r$.isStream(e)||r$.isFile(e)||r$.isBlob(e)||r$.isReadableStream(e))return e;if(r$.isArrayBufferView(e))return e.buffer;if(r$.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();if(o){if(i.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return f$(e,new I$.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,i){return I$.isNode&&r$.isBuffer(e)?(this.append(t,e.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((n=r$.isFileList(e))||i.indexOf("multipart/form-data")>-1){var a=this.env&&this.env.FormData;return f$(n?{"files[]":e}:e,a&&new a,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(r$.isString(e))try{return(t||JSON.parse)(e),r$.trim(e)}catch(i){if("SyntaxError"!==i.name)throw i}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional||O$.transitional,n=t&&t.forcedJSONParsing,i="json"===this.responseType;if(r$.isResponse(e)||r$.isReadableStream(e))return e;if(e&&r$.isString(e)&&(n&&!this.responseType||i)){var r=!(t&&t.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(r){if("SyntaxError"===o.name)throw l$.from(o,l$.ERR_BAD_RESPONSE,this,null,this.response);throw o}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:I$.classes.FormData,Blob:I$.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};r$.forEach(["delete","get","head","post","put","patch"],(function(e){O$.headers[e]={}}));var A$=O$,M$=r$.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),L$=Symbol("internals");function N$(e){return e&&String(e).trim().toLowerCase()}function $$(e){return!1===e||null==e?e:r$.isArray(e)?e.map($$):String(e)}function P$(e,t,n,i,r){return r$.isFunction(i)?i.call(this,t,n):(r&&(t=n),r$.isString(t)?r$.isString(i)?-1!==t.indexOf(i):r$.isRegExp(i)?i.test(t):void 0:void 0)}var D$=function(e,t){function n(e){(0,Sr.Z)(this,n),e&&this.set(e)}return(0,Cr.Z)(n,[{key:"set",value:function(e,t,n){var i=this;function r(e,t,n){var r=N$(t);if(!r)throw new Error("header name must be a non-empty string");var o=r$.findKey(i,r);(!o||void 0===i[o]||!0===n||void 0===n&&!1!==i[o])&&(i[o||t]=$$(e))}var o=function(e,t){return r$.forEach(e,(function(e,n){return r(e,n,t)}))};if(r$.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(r$.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o(function(e){var t,n,i,r={};return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),t=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!t||r[t]&&M$[t]||("set-cookie"===t?r[t]?r[t].push(n):r[t]=[n]:r[t]=r[t]?r[t]+", "+n:n)})),r}(e),t);else if(r$.isHeaders(e)){var s,l=a(e.entries());try{for(l.s();!(s=l.n()).done;){var u=(0,d.Z)(s.value,2),c=u[0];r(u[1],c,n)}}catch(PU){l.e(PU)}finally{l.f()}}else null!=e&&r(t,e,n);return this}},{key:"get",value:function(e,t){if(e=N$(e)){var n=r$.findKey(this,e);if(n){var i=this[n];if(!t)return i;if(!0===t)return function(e){for(var t,n=Object.create(null),i=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;t=i.exec(e);)n[t[1]]=t[2];return n}(i);if(r$.isFunction(t))return t.call(this,i,n);if(r$.isRegExp(t))return t.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}},{key:"has",value:function(e,t){if(e=N$(e)){var n=r$.findKey(this,e);return!(!n||void 0===this[n]||t&&!P$(0,this[n],n,t))}return!1}},{key:"delete",value:function(e,t){var n=this,i=!1;function r(e){if(e=N$(e)){var r=r$.findKey(n,e);!r||t&&!P$(0,n[r],r,t)||(delete n[r],i=!0)}}return r$.isArray(e)?e.forEach(r):r(e),i}},{key:"clear",value:function(e){for(var t=Object.keys(this),n=t.length,i=!1;n--;){var r=t[n];e&&!P$(0,this[r],r,e,!0)||(delete this[r],i=!0)}return i}},{key:"normalize",value:function(e){var t=this,n={};return r$.forEach(this,(function(i,r){var o=r$.findKey(n,r);if(o)return t[o]=$$(i),void delete t[r];var a=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n}))}(r):String(r).trim();a!==r&&delete t[r],t[a]=$$(i),n[a]=!0})),this}},{key:"concat",value:function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=this.constructor).concat.apply(e,[this].concat(n))}},{key:"toJSON",value:function(e){var t=Object.create(null);return r$.forEach(this,(function(n,i){null!=n&&!1!==n&&(t[i]=e&&r$.isArray(n)?n.join(", "):n)})),t}},{key:e,value:function(){return Object.entries(this.toJSON())[Symbol.iterator]()}},{key:"toString",value:function(){return Object.entries(this.toJSON()).map((function(e){var t=(0,d.Z)(e,2);return t[0]+": "+t[1]})).join("\n")}},{key:t,get:function(){return"AxiosHeaders"}}],[{key:"from",value:function(e){return e instanceof this?e:new this(e)}},{key:"concat",value:function(e){for(var t=new this(e),n=arguments.length,i=new Array(n>1?n-1:0),r=1;r<n;r++)i[r-1]=arguments[r];return i.forEach((function(e){return t.set(e)})),t}},{key:"accessor",value:function(e){var t=(this[L$]=this[L$]={accessors:{}}).accessors,n=this.prototype;function i(e){var i=N$(e);t[i]||(!function(e,t){var n=r$.toCamelCase(" "+t);["get","set","has"].forEach((function(i){Object.defineProperty(e,i+n,{value:function(e,n,r){return this[i].call(this,t,e,n,r)},configurable:!0})}))}(n,e),t[i]=!0)}return r$.isArray(e)?e.forEach(i):i(e),this}}]),n}(Symbol.iterator,Symbol.toStringTag);D$.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),r$.reduceDescriptors(D$.prototype,(function(e,t){var n=e.value,i=t[0].toUpperCase()+t.slice(1);return{get:function(){return n},set:function(e){this[i]=e}}})),r$.freezeMethods(D$);var B$=D$;function F$(e,t){var n=this||A$,i=t||n,r=B$.from(i.headers),o=i.data;return r$.forEach(e,(function(e){o=e.call(n,o,r.normalize(),t?t.status:void 0)})),r.normalize(),o}function U$(e){return!(!e||!e.__CANCEL__)}function j$(e,t,n){l$.call(this,null==e?"canceled":e,l$.ERR_CANCELED,t,n),this.name="CanceledError"}r$.inherits(j$,l$,{__CANCEL__:!0});var Z$=j$;function H$(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(new l$("Request failed with status code "+n.status,[l$.ERR_BAD_REQUEST,l$.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}var z$=function(e,t){e=e||10;var n,i=new Array(e),r=new Array(e),o=0,a=0;return t=void 0!==t?t:1e3,function(s){var l=Date.now(),u=r[a];n||(n=l),i[o]=s,r[o]=l;for(var c=a,h=0;c!==o;)h+=i[c++],c%=e;if((o=(o+1)%e)===a&&(a=(a+1)%e),!(l-n<t)){var d=u&&l-u;return d?Math.round(1e3*h/d):void 0}}};var V$=function(e,t){var n,i,r=0,o=1e3/t,a=function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();r=o,n=null,i&&(clearTimeout(i),i=null),e.apply(null,t)};return[function(){for(var e=Date.now(),t=e-r,s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];t>=o?a(l,e):(n=l,i||(i=setTimeout((function(){i=null,a(n)}),o-t)))},function(){return n&&a(n)}]},W$=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,i=0,r=z$(50,250);return V$((function(n){var o=n.loaded,a=n.lengthComputable?n.total:void 0,s=o-i,l=r(s),u=o<=a;i=o;var c=(0,K.Z)({loaded:o,total:a,progress:a?o/a:void 0,bytes:s,rate:l||void 0,estimated:l&&a&&u?(a-o)/l:void 0,event:n,lengthComputable:null!=a},t?"download":"upload",!0);e(c)}),n)},G$=function(e,t){var n=null!=e;return[function(i){return t[0]({lengthComputable:n,total:e,loaded:i})},t[1]]},X$=function(e){return function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return r$.asap((function(){return e.apply(void 0,n)}))}},Y$=n(3878),K$=n(9199),q$=n(5267);var J$=I$.hasStandardBrowserEnv?function(){var e,t=I$.navigator&&/(msie|trident)/i.test(I$.navigator.userAgent),n=document.createElement("a");function i(e){var i=e;return t&&(n.setAttribute("href",i),i=n.href),n.setAttribute("href",i),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r$.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0},Q$=I$.hasStandardBrowserEnv?{write:function(e,t,n,i,r,o){var a=[e+"="+encodeURIComponent(t)];r$.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r$.isString(i)&&a.push("path="+i),r$.isString(r)&&a.push("domain="+r),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}};function eP(e,t){return e&&!function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}var tP=function(e){return e instanceof B$?ic({},e):e};function nP(e,t){t=t||{};var n={};function i(e,t,n){return r$.isPlainObject(e)&&r$.isPlainObject(t)?r$.merge.call({caseless:n},e,t):r$.isPlainObject(t)?r$.merge({},t):r$.isArray(t)?t.slice():t}function r(e,t,n){return r$.isUndefined(t)?r$.isUndefined(e)?void 0:i(void 0,e,n):i(e,t,n)}function o(e,t){if(!r$.isUndefined(t))return i(void 0,t)}function a(e,t){return r$.isUndefined(t)?r$.isUndefined(e)?void 0:i(void 0,e):i(void 0,t)}function s(n,r,o){return o in t?i(n,r):o in e?i(void 0,n):void 0}var l={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:s,headers:function(e,t){return r(tP(e),tP(t),!0)}};return r$.forEach(Object.keys(Object.assign({},e,t)),(function(i){var o=l[i]||r,a=o(e[i],t[i],i);r$.isUndefined(a)&&o!==s||(n[i]=a)})),n}var iP=function(e){var t,n,i=nP({},e),r=i.data,a=i.withXSRFToken,l=i.xsrfHeaderName,u=i.xsrfCookieName,c=i.headers,h=i.auth;if(i.headers=c=B$.from(c),i.url=_$(eP(i.baseURL,i.url),e.params,e.paramsSerializer),h&&c.set("Authorization","Basic "+btoa((h.username||"")+":"+(h.password?unescape(encodeURIComponent(h.password)):""))),r$.isFormData(r))if(I$.hasStandardBrowserEnv||I$.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(!1!==(t=c.getContentType())){var d=t?t.split(";").map((function(e){return e.trim()})).filter(Boolean):[],f=(n=d,(0,Y$.Z)(n)||(0,K$.Z)(n)||(0,o.Z)(n)||(0,q$.Z)()),p=f[0],v=f.slice(1);c.setContentType([p||"multipart/form-data"].concat((0,s.Z)(v)).join("; "))}if(I$.hasStandardBrowserEnv&&(a&&r$.isFunction(a)&&(a=a(i)),a||!1!==a&&J$(i.url))){var g=l&&u&&Q$.read(u);g&&c.set(l,g)}return i},rP="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){var i,r,o,a,s,l=iP(e),u=l.data,c=B$.from(l.headers).normalize(),h=l.responseType,f=l.onUploadProgress,p=l.onDownloadProgress;function v(){a&&a(),s&&s(),l.cancelToken&&l.cancelToken.unsubscribe(i),l.signal&&l.signal.removeEventListener("abort",i)}var g=new XMLHttpRequest;function m(){if(g){var i=B$.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders());H$((function(e){t(e),v()}),(function(e){n(e),v()}),{data:h&&"text"!==h&&"json"!==h?g.response:g.responseText,status:g.status,statusText:g.statusText,headers:i,config:e,request:g}),g=null}}if(g.open(l.method.toUpperCase(),l.url,!0),g.timeout=l.timeout,"onloadend"in g?g.onloadend=m:g.onreadystatechange=function(){g&&4===g.readyState&&(0!==g.status||g.responseURL&&0===g.responseURL.indexOf("file:"))&&setTimeout(m)},g.onabort=function(){g&&(n(new l$("Request aborted",l$.ECONNABORTED,e,g)),g=null)},g.onerror=function(){n(new l$("Network Error",l$.ERR_NETWORK,e,g)),g=null},g.ontimeout=function(){var t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",i=l.transitional||k$;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),n(new l$(t,i.clarifyTimeoutError?l$.ETIMEDOUT:l$.ECONNABORTED,e,g)),g=null},void 0===u&&c.setContentType(null),"setRequestHeader"in g&&r$.forEach(c.toJSON(),(function(e,t){g.setRequestHeader(t,e)})),r$.isUndefined(l.withCredentials)||(g.withCredentials=!!l.withCredentials),h&&"json"!==h&&(g.responseType=l.responseType),p){var y=W$(p,!0),_=(0,d.Z)(y,2);o=_[0],s=_[1],g.addEventListener("progress",o)}if(f&&g.upload){var b=W$(f),k=(0,d.Z)(b,2);r=k[0],a=k[1],g.upload.addEventListener("progress",r),g.upload.addEventListener("loadend",a)}(l.cancelToken||l.signal)&&(i=function(t){g&&(n(!t||t.type?new Z$(null,e,g):t),g.abort(),g=null)},l.cancelToken&&l.cancelToken.subscribe(i),l.signal&&(l.signal.aborted?i():l.signal.addEventListener("abort",i)));var T=function(e){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(l.url);T&&-1===I$.protocols.indexOf(T)?n(new l$("Unsupported protocol "+T+":",l$.ERR_BAD_REQUEST,e)):g.send(u||null)}))},oP=function(e,t){var n=(e=e?e.filter(Boolean):[]).length;if(t||n){var i,r=new AbortController,o=function(e){if(!i){i=!0,s();var t=e instanceof Error?e:this.reason;r.abort(t instanceof l$?t:new Z$(t instanceof Error?t.message:t))}},a=t&&setTimeout((function(){a=null,o(new l$("timeout ".concat(t," of ms exceeded"),l$.ETIMEDOUT))}),t),s=function(){e&&(a&&clearTimeout(a),a=null,e.forEach((function(e){e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((function(e){return e.addEventListener("abort",o)}));var l=r.signal;return l.unsubscribe=function(){return r$.asap(s)},l}};function aP(e,t){this.v=e,this.k=t}function sP(e){var t,n;function i(t,n){try{var o=e[t](n),a=o.value,s=a instanceof aP;Promise.resolve(s?a.v:a).then((function(n){if(s){var l="return"===t?"return":"next";if(!a.k||n.done)return i(l,n);n=e[l](n).value}r(o.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(e){r("throw",e)}}function r(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}function lP(e){return function(){return new sP(e.apply(this,arguments))}}function uP(e){return new aP(e,0)}function cP(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new aP(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t}function hP(e){var t,n,i,r=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);r--;){if(n&&null!=(t=e[n]))return t.call(e);if(i&&null!=(t=e[i]))return new dP(t.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")}function dP(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return dP=function(e){this.s=e,this.n=e.next},dP.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new dP(e)}sP.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},sP.prototype.next=function(e){return this._invoke("next",e)},sP.prototype.throw=function(e){return this._invoke("throw",e)},sP.prototype.return=function(e){return this._invoke("return",e)};var fP,pP,vP=u().mark((function e(t,n){var i,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.byteLength,n&&!(i<n)){e.next=5;break}return e.next=4,t;case 4:return e.abrupt("return");case 5:r=0;case 6:if(!(r<i)){e.next=13;break}return o=r+n,e.next=10,t.slice(r,o);case 10:r=o,e.next=6;break;case 13:case"end":return e.stop()}}),e)})),gP=function(){var e=lP(u().mark((function e(t,n){var i,r,o,a,s,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=!1,r=!1,e.prev=2,a=hP(mP(t));case 4:return e.next=6,uP(a.next());case 6:if(!(i=!(s=e.sent).done)){e.next=12;break}return l=s.value,e.delegateYield(cP(hP(vP(l,n))),"t0",9);case 9:i=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),r=!0,o=e.t1;case 18:if(e.prev=18,e.prev=19,!i||null==a.return){e.next=23;break}return e.next=23,uP(a.return());case 23:if(e.prev=23,!r){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(t,n){return e.apply(this,arguments)}}(),mP=function(){var e=lP(u().mark((function e(t){var n,i,r,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[Symbol.asyncIterator]){e.next=3;break}return e.delegateYield(cP(hP(t)),"t0",2);case 2:return e.abrupt("return");case 3:n=t.getReader(),e.prev=4;case 5:return e.next=7,uP(n.read());case 7:if(i=e.sent,r=i.done,o=i.value,!r){e.next=12;break}return e.abrupt("break",16);case 12:return e.next=14,o;case 14:e.next=5;break;case 16:return e.prev=16,e.next=19,uP(n.cancel());case 19:return e.finish(16);case 20:case"end":return e.stop()}}),e,null,[[4,,16,20]])})));return function(t){return e.apply(this,arguments)}}(),yP=function(e,t,n,i){var r,o=gP(e,t),a=0,s=function(e){r||(r=!0,i&&i(e))};return new ReadableStream({pull:function(e){return h(u().mark((function t(){var i,r,l,c,h;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o.next();case 3:if(i=t.sent,r=i.done,l=i.value,!r){t.next=10;break}return s(),e.close(),t.abrupt("return");case 10:c=l.byteLength,n&&(h=a+=c,n(h)),e.enqueue(new Uint8Array(l)),t.next=19;break;case 15:throw t.prev=15,t.t0=t.catch(0),s(t.t0),t.t0;case 19:case"end":return t.stop()}}),t,null,[[0,15]])})))()},cancel:function(e){return s(e),o.return()}},{highWaterMark:2})},_P="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,bP=_P&&"function"===typeof ReadableStream,kP=_P&&("function"===typeof TextEncoder?(fP=new TextEncoder,function(e){return fP.encode(e)}):function(){var e=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Uint8Array,e.next=3,new Response(t).arrayBuffer();case 3:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),TP=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return!!e.apply(void 0,n)}catch(r){return!1}},EP=bP&&TP((function(){var e=!1,t=new Request(I$.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),xP=bP&&TP((function(){return r$.isReadableStream(new Response("").body)})),wP={stream:xP&&function(e){return e.body}};_P&&(pP=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((function(e){!wP[e]&&(wP[e]=r$.isFunction(pP[e])?function(t){return t[e]()}:function(t,n){throw new l$("Response type '".concat(e,"' is not supported"),l$.ERR_NOT_SUPPORT,n)})})));var SP=function(){var e=h(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!=t){e.next=2;break}return e.abrupt("return",0);case 2:if(!r$.isBlob(t)){e.next=4;break}return e.abrupt("return",t.size);case 4:if(!r$.isSpecCompliantForm(t)){e.next=9;break}return n=new Request(I$.origin,{method:"POST",body:t}),e.next=8,n.arrayBuffer();case 8:case 15:return e.abrupt("return",e.sent.byteLength);case 9:if(!r$.isArrayBufferView(t)&&!r$.isArrayBuffer(t)){e.next=11;break}return e.abrupt("return",t.byteLength);case 11:if(r$.isURLSearchParams(t)&&(t+=""),!r$.isString(t)){e.next=16;break}return e.next=15,kP(t);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),CP=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r$.toFiniteNumber(t.getContentLength()),e.abrupt("return",null==i?SP(n):i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),IP=_P&&function(){var e=h(u().mark((function e(t){var n,i,r,o,a,s,l,c,h,f,p,v,g,m,y,_,b,k,T,E,x,w,S,C,I,R,O,A,M,L,N,$,P,D;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=iP(t),i=n.url,r=n.method,o=n.data,a=n.signal,s=n.cancelToken,l=n.timeout,c=n.onDownloadProgress,h=n.onUploadProgress,f=n.responseType,p=n.headers,v=n.withCredentials,g=void 0===v?"same-origin":v,m=n.fetchOptions,f=f?(f+"").toLowerCase():"text",y=oP([a,s&&s.toAbortSignal()],l),b=y&&y.unsubscribe&&function(){y.unsubscribe()},e.prev=4,e.t0=h&&EP&&"get"!==r&&"head"!==r,!e.t0){e.next=11;break}return e.next=9,CP(p,o);case 9:e.t1=k=e.sent,e.t0=0!==e.t1;case 11:if(!e.t0){e.next=15;break}T=new Request(i,{method:"POST",body:o,duplex:"half"}),r$.isFormData(o)&&(E=T.headers.get("content-type"))&&p.setContentType(E),T.body&&(x=G$(k,W$(X$(h))),w=(0,d.Z)(x,2),S=w[0],C=w[1],o=yP(T.body,65536,S,C));case 15:return r$.isString(g)||(g=g?"include":"omit"),I="credentials"in Request.prototype,_=new Request(i,ic(ic({},m),{},{signal:y,method:r.toUpperCase(),headers:p.normalize().toJSON(),body:o,duplex:"half",credentials:I?g:void 0})),e.next=20,fetch(_);case 20:return R=e.sent,O=xP&&("stream"===f||"response"===f),xP&&(c||O&&b)&&(A={},["status","statusText","headers"].forEach((function(e){A[e]=R[e]})),M=r$.toFiniteNumber(R.headers.get("content-length")),L=c&&G$(M,W$(X$(c),!0))||[],N=(0,d.Z)(L,2),$=N[0],P=N[1],R=new Response(yP(R.body,65536,$,(function(){P&&P(),b&&b()})),A)),f=f||"text",e.next=26,wP[r$.findKey(wP,f)||"text"](R,t);case 26:return D=e.sent,!O&&b&&b(),e.next=30,new Promise((function(e,n){H$(e,n,{data:D,headers:B$.from(R.headers),status:R.status,statusText:R.statusText,config:t,request:_})}));case 30:return e.abrupt("return",e.sent);case 33:if(e.prev=33,e.t2=e.catch(4),b&&b(),!e.t2||"TypeError"!==e.t2.name||!/fetch/i.test(e.t2.message)){e.next=38;break}throw Object.assign(new l$("Network Error",l$.ERR_NETWORK,t,_),{cause:e.t2.cause||e.t2});case 38:throw l$.from(e.t2,e.t2&&e.t2.code,t,_);case 39:case"end":return e.stop()}}),e,null,[[4,33]])})));return function(t){return e.apply(this,arguments)}}(),RP={http:null,xhr:rP,fetch:IP};r$.forEach(RP,(function(e,t){if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}}));var OP=function(e){return"- ".concat(e)},AP=function(e){return r$.isFunction(e)||null===e||!1===e},MP=function(e){for(var t,n,i=(e=r$.isArray(e)?e:[e]).length,r={},o=0;o<i;o++){var a=void 0;if(n=t=e[o],!AP(t)&&void 0===(n=RP[(a=String(t)).toLowerCase()]))throw new l$("Unknown adapter '".concat(a,"'"));if(n)break;r[a||"#"+o]=n}if(!n){var s=Object.entries(r).map((function(e){var t=(0,d.Z)(e,2),n=t[0],i=t[1];return"adapter ".concat(n," ")+(!1===i?"is not supported by the environment":"is not available in the build")})),l=i?s.length>1?"since :\n"+s.map(OP).join("\n"):" "+OP(s[0]):"as no adapter specified";throw new l$("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return n};function LP(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Z$(null,e)}function NP(e){return LP(e),e.headers=B$.from(e.headers),e.data=F$.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1),MP(e.adapter||A$.adapter)(e).then((function(t){return LP(e),t.data=F$.call(e,e.transformResponse,t),t.headers=B$.from(t.headers),t}),(function(t){return U$(t)||(LP(e),t&&t.response&&(t.response.data=F$.call(e,e.transformResponse,t.response),t.response.headers=B$.from(t.response.headers))),Promise.reject(t)}))}var $P="1.7.7",PP={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){PP[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var DP={};PP.transitional=function(e,t,n){function i(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,o){if(!1===e)throw new l$(i(r," has been removed"+(t?" in "+t:"")),l$.ERR_DEPRECATED);return t&&!DP[r]&&(DP[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,o)}};var BP={assertOptions:function(e,t,n){if("object"!==typeof e)throw new l$("options must be an object",l$.ERR_BAD_OPTION_VALUE);for(var i=Object.keys(e),r=i.length;r-- >0;){var o=i[r],a=t[o];if(a){var s=e[o],l=void 0===s||a(s,o,e);if(!0!==l)throw new l$("option "+o+" must be "+l,l$.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new l$("Unknown option "+o,l$.ERR_BAD_OPTION)}},validators:PP},FP=BP.validators,UP=function(){function e(t){(0,Sr.Z)(this,e),this.defaults=t,this.interceptors={request:new b$,response:new b$}}return(0,Cr.Z)(e,[{key:"request",value:function(){var e=h(u().mark((function e(t,n){var i,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this._request(t,n);case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),e.t0 instanceof Error){Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error,r=i.stack?i.stack.replace(/^.+\n/,""):"";try{e.t0.stack?r&&!String(e.t0.stack).endsWith(r.replace(/^.+\n.+\n/,""))&&(e.t0.stack+="\n"+r):e.t0.stack=r}catch(o){}}throw e.t0;case 10:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_request",value:function(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{};var n=t=nP(this.defaults,t),i=n.transitional,r=n.paramsSerializer,o=n.headers;void 0!==i&&BP.assertOptions(i,{silentJSONParsing:FP.transitional(FP.boolean),forcedJSONParsing:FP.transitional(FP.boolean),clarifyTimeoutError:FP.transitional(FP.boolean)},!1),null!=r&&(r$.isFunction(r)?t.paramsSerializer={serialize:r}:BP.assertOptions(r,{encode:FP.function,serialize:FP.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();var a=o&&r$.merge(o.common,o[t.method]);o&&r$.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete o[e]})),t.headers=B$.concat(a,o);var s=[],l=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));var u,c=[];this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));var h,d=0;if(!l){var f=[NP.bind(this),void 0];for(f.unshift.apply(f,s),f.push.apply(f,c),h=f.length,u=Promise.resolve(t);d<h;)u=u.then(f[d++],f[d++]);return u}h=s.length;var p=t;for(d=0;d<h;){var v=s[d++],g=s[d++];try{p=v(p)}catch(m){g.call(this,m);break}}try{u=NP.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}},{key:"getUri",value:function(e){return _$(eP((e=nP(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}]),e}();r$.forEach(["delete","get","head","options"],(function(e){UP.prototype[e]=function(t,n){return this.request(nP(n||{},{method:e,url:t,data:(n||{}).data}))}})),r$.forEach(["post","put","patch"],(function(e){function t(t){return function(n,i,r){return this.request(nP(r||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:i}))}}UP.prototype[e]=t(),UP.prototype[e+"Form"]=t(!0)}));var jP=UP,ZP=function(){function e(t){if((0,Sr.Z)(this,e),"function"!==typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var i=this;this.promise.then((function(e){if(i._listeners){for(var t=i._listeners.length;t-- >0;)i._listeners[t](e);i._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){i.subscribe(e),t=e})).then(e);return n.cancel=function(){i.unsubscribe(t)},n},t((function(e,t,r){i.reason||(i.reason=new Z$(e,t,r),n(i.reason))}))}return(0,Cr.Z)(e,[{key:"throwIfRequested",value:function(){if(this.reason)throw this.reason}},{key:"subscribe",value:function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}},{key:"unsubscribe",value:function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}}},{key:"toAbortSignal",value:function(){var e=this,t=new AbortController,n=function(e){t.abort(e)};return this.subscribe(n),t.signal.unsubscribe=function(){return e.unsubscribe(n)},t.signal}}],[{key:"source",value:function(){var t;return{token:new e((function(e){t=e})),cancel:t}}}]),e}(),HP=ZP;var zP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(zP).forEach((function(e){var t=(0,d.Z)(e,2),n=t[0],i=t[1];zP[i]=n}));var VP=zP;var WP=function e(t){var n=new jP(t),i=mN(jP.prototype.request,n);return r$.extend(i,jP.prototype,n,{allOwnKeys:!0}),r$.extend(i,n,null,{allOwnKeys:!0}),i.create=function(n){return e(nP(t,n))},i}(A$);WP.Axios=jP,WP.CanceledError=Z$,WP.CancelToken=HP,WP.isCancel=U$,WP.VERSION=$P,WP.toFormData=f$,WP.AxiosError=l$,WP.Cancel=WP.CanceledError,WP.all=function(e){return Promise.all(e)},WP.spread=function(e){return function(t){return e.apply(null,t)}},WP.isAxiosError=function(e){return r$.isObject(e)&&!0===e.isAxiosError},WP.mergeConfig=nP,WP.AxiosHeaders=B$,WP.formToJSON=function(e){return R$(r$.isHTMLForm(e)?new FormData(e):e)},WP.getAdapter=MP,WP.HttpStatusCode=VP,WP.default=WP;var GP=WP,XP=n(1968),YP=n.n(XP),KP=function(e){if(e.isLoading)return(0,p.jsx)("div",{className:"fm-loader",children:(0,p.jsx)(YP(),{color:"black",type:"spokes",height:50,width:50})})},qP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JP=i.createContext&&i.createContext(qP),QP=["attr","size","title"];function eD(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(t.indexOf(i)>=0)continue;n[i]=e[i]}return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function tD(){return tD=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},tD.apply(this,arguments)}function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function iD(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nD(Object(n),!0).forEach((function(t){rD(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function rD(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oD(e){return e&&e.map((function(e,t){return i.createElement(e.tag,iD({key:t},e.attr),oD(e.child))}))}function aD(e){return function(t){return i.createElement(sD,tD({attr:iD({},e.attr)},t),oD(e.child))}}function sD(e){var t=function(t){var n,r=e.attr,o=e.size,a=e.title,s=eD(e,QP),l=o||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),i.createElement("svg",tD({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,s,{className:n,style:iD(iD({color:e.color||t.color},t.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&i.createElement("title",null,a),e.children)};return void 0!==JP?i.createElement(JP.Consumer,null,(function(e){return t(e)})):t(qP)}function lD(e){return aD({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 2a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm2-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V2a1 1 0 0 0-1-1zM2 5a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1v-1h1v1a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h1v1z"},child:[]}]})(e)}function uD(e){return aD({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"m.5 3 .04.87a2 2 0 0 0-.342 1.311l.637 7A2 2 0 0 0 2.826 14H9v-1H2.826a1 1 0 0 1-.995-.91l-.637-7A1 1 0 0 1 2.19 4h11.62a1 1 0 0 1 .996 1.09L14.54 8h1.005l.256-2.819A2 2 0 0 0 13.81 3H9.828a2 2 0 0 1-1.414-.586l-.828-.828A2 2 0 0 0 6.172 1H2.5a2 2 0 0 0-2 2m5.672-1a1 1 0 0 1 .707.293L7.586 3H2.19q-.362.002-.683.12L1.5 2.98a1 1 0 0 1 1-.98z"},child:[]},{tag:"path",attr:{d:"M13.5 9a.5.5 0 0 1 .5.5V11h1.5a.5.5 0 1 1 0 1H14v1.5a.5.5 0 1 1-1 0V12h-1.5a.5.5 0 0 1 0-1H13V9.5a.5.5 0 0 1 .5-.5"},child:[]}]})(e)}function cD(e){return aD({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zm8 0A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm-8 8A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm8 0A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5z"},child:[]}]})(e)}function hD(e){return aD({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M1 2.5A1.5 1.5 0 0 1 2.5 1h3A1.5 1.5 0 0 1 7 2.5v3A1.5 1.5 0 0 1 5.5 7h-3A1.5 1.5 0 0 1 1 5.5zM2.5 2a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 1h3A1.5 1.5 0 0 1 15 2.5v3A1.5 1.5 0 0 1 13.5 7h-3A1.5 1.5 0 0 1 9 5.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zM1 10.5A1.5 1.5 0 0 1 2.5 9h3A1.5 1.5 0 0 1 7 10.5v3A1.5 1.5 0 0 1 5.5 15h-3A1.5 1.5 0 0 1 1 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5zm6.5.5A1.5 1.5 0 0 1 10.5 9h3a1.5 1.5 0 0 1 1.5 1.5v3a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 13.5zm1.5-.5a.5.5 0 0 0-.5.5v3a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5v-3a.5.5 0 0 0-.5-.5z"},child:[]}]})(e)}function dD(e){return aD({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M3.5 3.5c-.614-.884-.074-1.962.858-2.5L8 7.226 11.642 1c.932.538 1.472 1.616.858 2.5L8.81 8.61l1.556 2.661a2.5 2.5 0 1 1-.794.637L8 9.73l-1.572 2.177a2.5 2.5 0 1 1-.794-.637L7.19 8.61zm2.5 10a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0m7 0a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0"},child:[]}]})(e)}function fD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function pD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"},child:[]}]})(e)}function vD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function gD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"},child:[]}]})(e)}function mD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function yD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function _D(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"},child:[]}]})(e)}function bD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"},child:[]}]})(e)}function kD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zM7 9l1.41 1.41L11 7.83V16h2V7.83l2.59 2.58L17 9l-5-5-5 5z"},child:[]}]})(e)}function TD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M10.02 6 8.61 7.41 13.19 12l-4.58 4.59L10.02 18l6-6-6-6z"},child:[]}]})(e)}function ED(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20.005 5.995h-1v2h1v8h-1v2h1c1.103 0 2-.897 2-2v-8c0-1.102-.898-2-2-2zm-14 4H15v4H6.005z"},child:[]},{tag:"path",attr:{d:"M17.005 17.995V4H20V2h-8v2h3.005v1.995h-11c-1.103 0-2 .897-2 2v8c0 1.103.897 2 2 2h11V20H12v2h8v-2h-2.995v-2.005zm-13-2v-8h11v8h-11z"},child:[]}]})(e)}function xD(e){return aD({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M20 2H8c-1.103 0-2 .897-2 2v12c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2V4c0-1.103-.897-2-2-2zM8 16V4h12l.002 12H8z"},child:[]},{tag:"path",attr:{d:"M4 8H2v12c0 1.103.897 2 2 2h12v-2H4V8zm8.933 3.519-1.726-1.726-1.414 1.414 3.274 3.274 5.702-6.84-1.538-1.282z"},child:[]}]})(e)}function wD(e){return aD({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"},child:[]}]})(e)}function SD(e){return aD({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M310.6 233.4c12.5 12.5 12.5 32.8 0 45.3l-192 192c-12.5 12.5-32.8 12.5-45.3 0s-12.5-32.8 0-45.3L242.7 256 73.4 86.6c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0l192 192z"},child:[]}]})(e)}function CD(e){return aD({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M128 0C92.7 0 64 28.7 64 64l0 224-44.8 0C8.6 288 0 296.6 0 307.2C0 349.6 34.4 384 76.8 384L320 384l0-96-192 0 0-224 320 0 0 32 64 0 0-32c0-35.3-28.7-64-64-64L128 0zM512 128l-112 0c-26.5 0-48 21.5-48 48l0 288c0 26.5 21.5 48 48 48l192 0c26.5 0 48-21.5 48-48l0-208-96 0c-17.7 0-32-14.3-32-32l0-96zm32 0l0 96 96 0-96-96z"},child:[]}]})(e)}function ID(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 144a48 48 0 1 0 0-96 48 48 0 1 0 0 96zM192 64c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L192 64zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zm0 160c-17.7 0-32 14.3-32 32s14.3 32 32 32l288 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-288 0zM64 464a48 48 0 1 0 0-96 48 48 0 1 0 0 96zm48-208a48 48 0 1 0 -96 0 48 48 0 1 0 96 0z"},child:[]}]})(e)}function RD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464l256 0c8.8 0 16-7.2 16-16l0-288-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM192 272l0 128c0 6.5-3.9 12.3-9.9 14.8s-12.9 1.1-17.4-3.5L129.4 376 112 376c-8.8 0-16-7.2-16-16l0-48c0-8.8 7.2-16 16-16l17.4 0 35.3-35.3c4.6-4.6 11.5-5.9 17.4-3.5s9.9 8.3 9.9 14.8zm85.8-4c11.6 20 18.2 43.3 18.2 68s-6.6 48-18.2 68c-6.6 11.5-21.3 15.4-32.8 8.8s-15.4-21.3-8.8-32.8c7.5-12.9 11.8-27.9 11.8-44s-4.3-31.1-11.8-44c-6.6-11.5-2.7-26.2 8.8-32.8s26.2-2.7 32.8 8.8z"},child:[]}]})(e)}function OD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm97 289c9.4-9.4 9.4-24.6 0-33.9s-24.6-9.4-33.9 0L79 303c-9.4 9.4-9.4 24.6 0 33.9l48 48c9.4 9.4 24.6 9.4 33.9 0s9.4-24.6 0-33.9l-31-31 31-31zM257 255c-9.4-9.4-24.6-9.4-33.9 0s-9.4 24.6 0 33.9l31 31-31 31c-9.4 9.4-9.4 24.6 0 33.9s24.6 9.4 33.9 0l48-48c9.4-9.4 9.4-24.6 0-33.9l-48-48z"},child:[]}]})(e)}function AD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M48 448L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm90.9 233.3c-8.1-10.5-23.2-12.3-33.7-4.2s-12.3 23.2-4.2 33.7L161.6 320l-44.5 57.3c-8.1 10.5-6.3 25.5 4.2 33.7s25.5 6.3 33.7-4.2L192 359.1l37.1 47.6c8.1 10.5 23.2 12.3 33.7 4.2s12.3-23.2 4.2-33.7L222.4 320l44.5-57.3c8.1-10.5 6.3-25.5-4.2-33.7s-25.5-6.3-33.7 4.2L192 280.9l-37.1-47.6z"},child:[]}]})(e)}function MD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm96 256a32 32 0 1 0 -64 0 32 32 0 1 0 64 0zm69.2 46.9c-3-4.3-7.9-6.9-13.2-6.9s-10.2 2.6-13.2 6.9l-41.3 59.7-11.9-19.1c-2.9-4.7-8.1-7.5-13.6-7.5s-10.6 2.8-13.6 7.5l-40 64c-3.1 4.9-3.2 11.1-.4 16.2s8.2 8.2 14 8.2l48 0 32 0 40 0 72 0c6 0 11.4-3.3 14.2-8.6s2.4-11.6-1-16.5l-72-104z"},child:[]}]})(e)}function LD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm56 256c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0zm0 96c-13.3 0-24 10.7-24 24s10.7 24 24 24l144 0c13.3 0 24-10.7 24-24s-10.7-24-24-24l-144 0z"},child:[]}]})(e)}function ND(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 464l48 0 0 48-48 0c-35.3 0-64-28.7-64-64L0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 304l-48 0 0-144-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16zM176 352l32 0c30.9 0 56 25.1 56 56s-25.1 56-56 56l-16 0 0 32c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-48 0-80c0-8.8 7.2-16 16-16zm32 80c13.3 0 24-10.7 24-24s-10.7-24-24-24l-16 0 0 48 16 0zm96-80l32 0c26.5 0 48 21.5 48 48l0 64c0 26.5-21.5 48-48 48l-32 0c-8.8 0-16-7.2-16-16l0-128c0-8.8 7.2-16 16-16zm32 128c8.8 0 16-7.2 16-16l0-64c0-8.8-7.2-16-16-16l-16 0 0 96 16 0zm80-112c0-8.8 7.2-16 16-16l48 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 32 32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0 0 48c0 8.8-7.2 16-16 16s-16-7.2-16-16l0-64 0-64z"},child:[]}]})(e)}function $D(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm72 208c-13.3 0-24 10.7-24 24l0 104 0 56c0 13.3 10.7 24 24 24s24-10.7 24-24l0-32 44 0c42 0 76-34 76-76s-34-76-76-76l-68 0zm68 104l-44 0 0-56 44 0c15.5 0 28 12.5 28 28s-12.5 28-28 28z"},child:[]}]})(e)}function PD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320 464c8.8 0 16-7.2 16-16l0-288-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l256 0zM0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64zM80 288c0-17.7 14.3-32 32-32l96 0c17.7 0 32 14.3 32 32l0 16 44.9-29.9c2-1.3 4.4-2.1 6.8-2.1c6.8 0 12.3 5.5 12.3 12.3l0 103.4c0 6.8-5.5 12.3-12.3 12.3c-2.4 0-4.8-.7-6.8-2.1L240 368l0 16c0 17.7-14.3 32-32 32l-96 0c-17.7 0-32-14.3-32-32l0-96z"},child:[]}]})(e)}function DD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M48 448L48 64c0-8.8 7.2-16 16-16l160 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464c-8.8 0-16-7.2-16-16zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm55 241.1c-3.8-12.7-17.2-19.9-29.9-16.1s-19.9 17.2-16.1 29.9l48 160c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l25-83.4 25 83.4c3 10.2 12.4 17.1 23 17.1s19.9-7 23-17.1l48-160c3.8-12.7-3.4-26.1-16.1-29.9s-26.1 3.4-29.9 16.1l-25 83.4-25-83.4c-3-10.2-12.4-17.1-23-17.1s-19.9 7-23 17.1l-25 83.4-25-83.4z"},child:[]}]})(e)}function BD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M64 464c-8.8 0-16-7.2-16-16L48 64c0-8.8 7.2-16 16-16l48 0c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16l48 0 0 80c0 17.7 14.3 32 32 32l80 0 0 288c0 8.8-7.2 16-16 16L64 464zM64 0C28.7 0 0 28.7 0 64L0 448c0 35.3 28.7 64 64 64l256 0c35.3 0 64-28.7 64-64l0-293.5c0-17-6.7-33.3-18.7-45.3L274.7 18.7C262.7 6.7 246.5 0 229.5 0L64 0zm48 112c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm0 64c0 8.8 7.2 16 16 16l32 0c8.8 0 16-7.2 16-16s-7.2-16-16-16l-32 0c-8.8 0-16 7.2-16 16zm-6.3 71.8L82.1 335.9c-1.4 5.4-2.1 10.9-2.1 16.4c0 35.2 28.8 63.7 64 63.7s64-28.5 64-63.7c0-5.5-.7-11.1-2.1-16.4l-23.5-88.2c-3.7-14-16.4-23.8-30.9-23.8l-14.8 0c-14.5 0-27.2 9.7-30.9 23.8zM128 336l32 0c8.8 0 16 7.2 16 16s-7.2 16-16 16l-32 0c-8.8 0-16-7.2-16-16s7.2-16 16-16z"},child:[]}]})(e)}function FD(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M320 464c8.8 0 16-7.2 16-16l0-288-80 0c-17.7 0-32-14.3-32-32l0-80L64 48c-8.8 0-16 7.2-16 16l0 384c0 8.8 7.2 16 16 16l256 0zM0 64C0 28.7 28.7 0 64 0L229.5 0c17 0 33.3 6.7 45.3 18.7l90.5 90.5c12 12 18.7 28.3 18.7 45.3L384 448c0 35.3-28.7 64-64 64L64 512c-35.3 0-64-28.7-64-64L0 64z"},child:[]}]})(e)}function UD(e){return aD({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 480l48 0c11.4 0 21.9-6 27.6-15.9l112-192c5.8-9.9 5.8-22.1 .1-32.1S555.5 224 544 224l-400 0c-11.4 0-21.9 6-27.6 15.9L48 357.1 48 96c0-8.8 7.2-16 16-16l117.5 0c4.2 0 8.3 1.7 11.3 4.7l26.5 26.5c21 21 49.5 32.8 79.2 32.8L416 144c8.8 0 16 7.2 16 16l0 32 48 0 0-32c0-35.3-28.7-64-64-64L298.5 96c-17 0-33.3-6.7-45.3-18.7L226.7 50.7c-12-12-28.3-18.7-45.3-18.7L64 32C28.7 32 0 60.7 0 96L0 416c0 35.3 28.7 64 64 64l23.7 0L384 480z"},child:[]}]})(e)}function jD(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M104.6 48L64 48C28.7 48 0 76.7 0 112L0 384c0 35.3 28.7 64 64 64l96 0 0-48-96 0c-8.8 0-16-7.2-16-16l0-272c0-8.8 7.2-16 16-16l16 0c0 17.7 14.3 32 32 32l72.4 0C202 108.4 227.6 96 256 96l62 0c-7.1-27.6-32.2-48-62-48l-40.6 0C211.6 20.9 188.2 0 160 0s-51.6 20.9-55.4 48zM144 56a16 16 0 1 1 32 0 16 16 0 1 1 -32 0zM448 464l-192 0c-8.8 0-16-7.2-16-16l0-256c0-8.8 7.2-16 16-16l140.1 0L464 243.9 464 448c0 8.8-7.2 16-16 16zM256 512l192 0c35.3 0 64-28.7 64-64l0-204.1c0-12.7-5.1-24.9-14.1-33.9l-67.9-67.9c-9-9-21.2-14.1-33.9-14.1L256 128c-35.3 0-64 28.7-64 64l0 256c0 35.3 28.7 64 64 64z"},child:[]}]})(e)}var ZD=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},t=(0,i.useState)(!1),n=(0,d.Z)(t,2),r=n[0],o=n[1],a=(0,i.useRef)(null),s=function(t){var n;null!==(n=a.current)&&void 0!==n&&n.contains(t.target)?o(!1):(o(!0),e(t,a))};return(0,i.useEffect)((function(){return document.addEventListener("click",s,!0),document.addEventListener("mousedown",s,!0),function(){document.removeEventListener("click",s,!0),document.removeEventListener("mousedown",s,!0)}}),[]),{ref:a,isClicked:r,setIsClicked:o}},HD=(0,i.createContext)(),zD=function(e){var t=e.children,n=e.layout,r=(0,i.useState)((function(){return function(e){return["list","grid"].includes(e)?e:"grid"}(n)})),o=(0,d.Z)(r,2),a=o[0],s=o[1];return(0,p.jsx)(HD.Provider,{value:{activeLayout:a,setActiveLayout:s},children:t})},VD=function(){return(0,i.useContext)(HD)},WD=function(e){var t=e.setShowToggleViewMenu,n=e.onLayoutChange,i=ZD((function(){t(!1)})),r=VD(),o=r.activeLayout,a=r.setActiveLayout,s=[{key:"grid",name:"Grid",icon:(0,p.jsx)(cD,{size:18})},{key:"list",name:"List",icon:(0,p.jsx)(ID,{size:18})}],l=function(e){a(e),n(e),t(!1)};return(0,p.jsx)("div",{ref:i.ref,className:"toggle-view",role:"dropdown",children:(0,p.jsx)("ul",{role:"menu","aria-orientation":"vertical",children:s.map((function(e){return(0,p.jsxs)("li",{role:"menuitem",onClick:function(){return l(e.key)},onKeyDown:function(){return l(e.key)},children:[(0,p.jsx)("span",{children:e.key===o&&(0,p.jsx)(wD,{size:13})}),(0,p.jsx)("span",{children:e.icon}),(0,p.jsx)("span",{children:e.name})]},e.key)}))})})},GD=(0,i.createContext)(),XD=function(e){var t=e.children,n=e.filesData,r=e.onError,o=(0,i.useState)([]),a=(0,d.Z)(o,2),s=a[0],l=a[1];(0,i.useEffect)((function(){l(n)}),[n]);return(0,p.jsx)(GD.Provider,{value:{files:s,setFiles:l,getChildren:function(e){return e.isDirectory?s.filter((function(t){return t.path==="".concat(e.path,"/").concat(t.name)})):[]},onError:r},children:t})},YD=function(){return(0,i.useContext)(GD)},KD=(0,i.createContext)(),qD=function(e){var t=e.children,n=(0,i.useState)(""),r=(0,d.Z)(n,2),o=r[0],a=r[1],s=(0,i.useState)(null),l=(0,d.Z)(s,2),u=l[0],c=l[1],h=(0,i.useState)([]),f=(0,d.Z)(h,2),v=f[0],g=f[1],m=YD().files;return(0,i.useEffect)((function(){Array.isArray(m)&&m.length>0&&(g((function(){return m.filter((function(e){return e.path==="".concat(o,"/").concat(e.name)}))})),c((function(){var e;return null!==(e=m.find((function(e){return e.path===o})))&&void 0!==e?e:null})))}),[m,o]),(0,p.jsx)(KD.Provider,{value:{currentPath:o,setCurrentPath:a,currentFolder:u,setCurrentFolder:c,currentPathFiles:v,setCurrentPathFiles:g},children:t})},JD=function(){return(0,i.useContext)(KD)},QD=function(e,t){try{if("function"!==typeof e)throw new Error('<FileManager /> Missing prop: Callback function "'.concat(t,'" is required.'));for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];e.apply(void 0,i)}catch(o){console.error(o.message)}},eB=(0,i.createContext)(),tB=function(e){var t=e.children,n=e.onDownload,r=(0,i.useState)([]),o=(0,d.Z)(r,2),a=o[0],s=o[1];return(0,p.jsx)(eB.Provider,{value:{selectedFiles:a,setSelectedFiles:s,handleDownload:function(){QD(n,"onDownload",a)}},children:t})},nB=function(){return(0,i.useContext)(eB)},iB=(0,i.createContext)(),rB=function(e){var t=e.children,n=e.onPaste,r=(0,i.useState)(null),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=nB(),u=l.selectedFiles,c=l.setSelectedFiles;return(0,p.jsx)(iB.Provider,{value:{clipBoard:a,setClipBoard:s,handleCutCopy:function(e){s({files:u,isMoving:e})},handlePasting:function(e){if(!e||e.isDirectory){var t=a.files,i=a.isMoving?"move":"copy";QD(n,"onPaste",t,e,i),a.isMoving&&s(null),c([])}}},children:t})},oB=function(){return(0,i.useContext)(iB)},aB=function(e){var t=e.allowCreateFolder,n=void 0===t||t,r=e.allowUploadFile,o=void 0===r||r,a=e.onLayoutChange,s=e.onRefresh,l=e.triggerAction,u=(0,i.useState)(!1),c=(0,d.Z)(u,2),h=c[0],f=c[1],v=JD().currentFolder,g=nB(),m=g.selectedFiles,y=g.setSelectedFiles,_=g.handleDownload,b=oB(),k=b.clipBoard,T=b.setClipBoard,E=b.handleCutCopy,x=b.handlePasting,w=VD().activeLayout,S=[{icon:(0,p.jsx)(uD,{size:17,strokeWidth:.3}),text:"New folder",permission:n,onClick:function(){return l.show("createFolder")}},{icon:(0,p.jsx)(kD,{size:18}),text:"Upload",permission:o,onClick:function(){return l.show("uploadFile")}},{icon:(0,p.jsx)(jD,{size:18}),text:"Paste",permission:!!k,onClick:I}],C=[{icon:"grid"===w?(0,p.jsx)(cD,{size:16}):(0,p.jsx)(ID,{size:16}),title:"Change View",onClick:function(){return f((function(e){return!e}))}},{icon:(0,p.jsx)(fD,{size:16}),title:"Refresh",onClick:function(){QD(s,"onRefresh"),T(null)}}];function I(){x(v)}var R;return m.length>0?(0,p.jsx)("div",{className:"toolbar file-selected",children:(0,p.jsxs)("div",{className:"file-action-container",children:[(0,p.jsxs)("div",{children:[(0,p.jsxs)("button",{className:"item-action file-action",onClick:function(){return E(!0)},children:[(0,p.jsx)(dD,{size:18}),(0,p.jsx)("span",{children:"Cut"})]}),(0,p.jsxs)("button",{className:"item-action file-action",onClick:function(){return E(!1)},children:[(0,p.jsx)(lD,{strokeWidth:.1,size:17}),(0,p.jsx)("span",{children:"Copy"})]}),(null===k||void 0===k||null===(R=k.files)||void 0===R?void 0:R.length)>0&&(0,p.jsxs)("button",{className:"item-action file-action",onClick:I,children:[(0,p.jsx)(jD,{size:18}),(0,p.jsx)("span",{children:"Paste"})]}),1===m.length&&(0,p.jsxs)("button",{className:"item-action file-action",onClick:function(){return l.show("rename")},children:[(0,p.jsx)(ED,{size:19}),(0,p.jsx)("span",{children:"Rename"})]}),!m.isDirectory&&(0,p.jsxs)("button",{className:"item-action file-action",onClick:function(){_(),y([])},children:[(0,p.jsx)(bD,{size:19}),(0,p.jsx)("span",{children:"Download"})]}),(0,p.jsxs)("button",{className:"item-action file-action",onClick:function(){return l.show("delete")},children:[(0,p.jsx)(_D,{size:19}),(0,p.jsx)("span",{children:"Delete"})]})]}),(0,p.jsxs)("button",{className:"item-action file-action",title:"Clear selection",onClick:function(){return y([])},children:[(0,p.jsxs)("span",{children:[m.length," item",m.length>1&&"s"," selected"]}),(0,p.jsx)(vD,{size:18})]})]})}):(0,p.jsx)("div",{className:"toolbar",children:(0,p.jsxs)("div",{className:"fm-toolbar",children:[(0,p.jsx)("div",{children:S.filter((function(e){return e.permission})).map((function(e,t){return(0,p.jsxs)("button",{className:"item-action",onClick:e.onClick,children:[e.icon,(0,p.jsx)("span",{children:e.text})]},t)}))}),(0,p.jsxs)("div",{children:[C.map((function(e,t){return(0,p.jsxs)("div",{className:"toolbar-left-items",children:[(0,p.jsx)("button",{className:"item-action icon-only",title:e.title,onClick:e.onClick,children:e.icon}),t!==C.length-1&&(0,p.jsx)("div",{className:"item-separator"})]},t)})),h&&(0,p.jsx)(WD,{setShowToggleViewMenu:f,onLayoutChange:a})]})]})})},sB=n(4553),lB=n.n(sB);function uB(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 48c110.532 0 200 89.451 200 200 0 110.532-89.451 200-200 200-110.532 0-200-89.451-200-200 0-110.532 89.451-200 200-200m140.204 130.267l-22.536-22.718c-4.667-4.705-12.265-4.736-16.97-.068L215.346 303.697l-59.792-60.277c-4.667-4.705-12.265-4.736-16.97-.069l-22.719 22.536c-4.705 4.667-4.736 12.265-.068 16.971l90.781 91.516c4.667 4.705 12.265 4.736 16.97.068l172.589-171.204c4.704-4.668 4.734-12.266.067-16.971z"},child:[]}]})(e)}function cB(e){return aD({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M288 248v28c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-28c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm-12 72H108c-6.6 0-12 5.4-12 12v28c0 6.6 5.4 12 12 12h168c6.6 0 12-5.4 12-12v-28c0-6.6-5.4-12-12-12zm108-188.1V464c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V48C0 21.5 21.5 0 48 0h204.1C264.8 0 277 5.1 286 14.1L369.9 98c9 8.9 14.1 21.2 14.1 33.9zm-128-80V128h76.1L256 51.9zM336 464V176H232c-13.3 0-24-10.7-24-24V48H48v416h288z"},child:[]}]})(e)}function hB(e){return aD({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M527.9 224H480v-48c0-26.5-21.5-48-48-48H272l-64-64H48C21.5 64 0 85.5 0 112v288c0 26.5 21.5 48 48 48h400c16.5 0 31.9-8.5 40.7-22.6l79.9-128c20-31.9-3-73.4-40.7-73.4zM48 118c0-3.3 2.7-6 6-6h134.1l64 64H426c3.3 0 6 2.7 6 6v42H152c-16.8 0-32.4 8.8-41.1 23.2L48 351.4zm400 282H72l77.2-128H528z"},child:[]}]})(e)}function dB(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 128H272l-54.63-54.63c-6-6-14.14-9.37-22.63-9.37H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48zm0 272H48V112h140.12l54.63 54.63c6 6 14.14 9.37 22.63 9.37H464v224z"},child:[]}]})(e)}var fB=function e(t){var n=t.folder,r=(0,i.useState)(!1),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=(0,i.useState)(!1),u=(0,d.Z)(l,2),c=u[0],h=u[1],f=JD(),v=f.currentPath,g=f.setCurrentPath,m=function(){h(!0),g(n.path)};return(0,i.useEffect)((function(){h(v===n.path);var e=v.split("/");e.pop(),e.join("/")===n.path&&s(!0)}),[v]),n.subDirectories.length>0?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"sb-folders-list-item ".concat(c?"active-list-item":""),onClick:m,children:[(0,p.jsx)("span",{onClick:function(e){e.stopPropagation(),s((function(e){return!e}))},children:(0,p.jsx)(gD,{size:20,className:"".concat(a?"folder-rotate-down":"folder-rotate-right")})}),(0,p.jsxs)("div",{className:"sb-folder-details",children:[a||c?(0,p.jsx)(hB,{size:20,className:"folder-open-icon"}):(0,p.jsx)(dB,{size:17,className:"folder-close-icon"}),(0,p.jsx)("span",{className:"sb-folder-name",title:n.name,children:n.name})]})]}),(0,p.jsx)(lB(),{open:a,children:(0,p.jsx)("div",{className:"folder-collapsible",children:n.subDirectories.map((function(t,n){return(0,p.jsx)(e,{folder:t},n)}))})})]}):(0,p.jsxs)("div",{className:"sb-folders-list-item ".concat(c?"active-list-item":""),onClick:m,children:[(0,p.jsx)("span",{className:"non-expanable"}),(0,p.jsxs)("div",{className:"sb-folder-details",children:[c?(0,p.jsx)(hB,{size:20,className:"folder-open-icon"}):(0,p.jsx)(dB,{size:17,className:"folder-close-icon"}),(0,p.jsx)("span",{className:"sb-folder-name",title:n.name,children:n.name})]})]})},pB=function(){var e=(0,i.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],o=YD().files,a=function e(t,n){var i;return n[t]?null===(i=n[t])||void 0===i?void 0:i.map((function(t){return ic(ic({},t),{},{subDirectories:e(t.path,n)})})):[]};return(0,i.useEffect)((function(){if(Array.isArray(o)){var e=o.filter((function(e){return e.isDirectory})),t=Object.groupBy(e,(function(e){return function(e){return null===e||void 0===e?void 0:e.split("/").slice(0,-1).join("/")}(e.path)}));r((function(){return a("",t)}))}}),[o]),(0,p.jsx)("div",{className:"sb-folders-list",children:(null===n||void 0===n?void 0:n.length)>0?(0,p.jsx)(p.Fragment,{children:null===n||void 0===n?void 0:n.map((function(e,t){return(0,p.jsx)(fB,{folder:e},t)}))}):(0,p.jsx)("div",{className:"empty-nav-pane",children:"Nothing here yet"})})},vB=function(){var e=(0,i.useState)([]),t=(0,d.Z)(e,2),n=t[0],r=t[1],o=(0,i.useState)([]),a=(0,d.Z)(o,2),l=a[0],u=a[1],c=(0,i.useState)([]),h=(0,d.Z)(c,2),f=h[0],v=h[1],g=(0,i.useState)(!1),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=JD(),k=b.currentPath,T=b.setCurrentPath,E=(0,i.useRef)(null),x=(0,i.useRef)([]),w=(0,i.useRef)(null),S=ZD((function(){_(!1)}));(0,i.useEffect)((function(){r((function(){var e="";return null===k||void 0===k?void 0:k.split("/").map((function(t){return{name:t||"Home",path:""===t?t:e+="/".concat(t)}}))})),u([]),v([])}),[k]);var C=function(e){T(e)},I=function(){var e;return function(){var e=E.current.clientWidth,t=getComputedStyle(E.current),i=parseFloat(t.paddingLeft),r=l.length>0?1:0;return e-(i+parseFloat(t.gap)*(n.length+r))}()-(x.current.reduce((function(e,t){return t?e+t.clientWidth:e}),0)+((null===(e=w.current)||void 0===e?void 0:e.clientWidth)||0))},R=function(){return E.current.scrollWidth>E.current.clientWidth};return(0,i.useEffect)((function(){if(R()){var e,t=n[1],i=null===(e=x.current[1])||void 0===e?void 0:e.clientWidth;v((function(e){return[].concat((0,s.Z)(e),[i])})),u((function(e){return[].concat((0,s.Z)(e),[t])})),r((function(e){return e.filter((function(e,t){return 1!==t}))}))}else if(l.length>0&&I()>f.at(-1)){var o=[n[0],l.at(-1)].concat((0,s.Z)(n.slice(1)));r(o),u((function(e){return e.slice(0,-1)})),v((function(e){return e.slice(0,-1)}))}}),[R]),(0,p.jsxs)("div",{className:"bread-crumb-container",children:[(0,p.jsx)("div",{className:"breadcrumb",ref:E,children:n.map((function(e,t){return(0,p.jsxs)("div",{style:{display:"contents"},children:[(0,p.jsxs)("span",{className:"folder-name",onClick:function(){return C(e.path)},ref:function(e){return x.current[t]=e},children:[0===t?(0,p.jsx)(pD,{}):(0,p.jsx)(TD,{}),e.name]}),(null===l||void 0===l?void 0:l.length)>0&&0===t&&(0,p.jsx)("button",{className:"folder-name folder-name-btn",onClick:function(){return _(!0)},ref:w,title:"Show more folders",children:(0,p.jsx)(yD,{size:22,className:"hidden-folders"})})]},t)}))}),y&&(0,p.jsx)("ul",{ref:S.ref,className:"hidden-folders-container",children:l.map((function(e,t){return(0,p.jsx)("li",{onClick:function(){C(e.path),_(!1)},children:e.name},t)}))})]})},gB=function(e){return{pdf:(0,p.jsx)(ND,{size:e}),jpg:(0,p.jsx)(MD,{size:e}),jpeg:(0,p.jsx)(MD,{size:e}),png:(0,p.jsx)(MD,{size:e}),txt:(0,p.jsx)(LD,{size:e}),doc:(0,p.jsx)(DD,{size:e}),docx:(0,p.jsx)(DD,{size:e}),mp4:(0,p.jsx)(PD,{size:e}),webm:(0,p.jsx)(PD,{size:e}),mp3:(0,p.jsx)(RD,{size:e}),m4a:(0,p.jsx)(RD,{size:e}),zip:(0,p.jsx)(BD,{size:e}),ppt:(0,p.jsx)($D,{size:e}),pptx:(0,p.jsx)($D,{size:e}),xls:(0,p.jsx)(AD,{size:e}),xlsx:(0,p.jsx)(AD,{size:e}),exe:(0,p.jsx)(CD,{size:e}),html:(0,p.jsx)(OD,{size:e}),css:(0,p.jsx)(OD,{size:e}),js:(0,p.jsx)(OD,{size:e}),php:(0,p.jsx)(OD,{size:e}),py:(0,p.jsx)(OD,{size:e}),java:(0,p.jsx)(OD,{size:e}),cpp:(0,p.jsx)(OD,{size:e}),c:(0,p.jsx)(OD,{size:e}),ts:(0,p.jsx)(OD,{size:e}),jsx:(0,p.jsx)(OD,{size:e}),tsx:(0,p.jsx)(OD,{size:e}),json:(0,p.jsx)(OD,{size:e}),xml:(0,p.jsx)(OD,{size:e}),sql:(0,p.jsx)(OD,{size:e}),csv:(0,p.jsx)(OD,{size:e}),md:(0,p.jsx)(OD,{size:e}),svg:(0,p.jsx)(OD,{size:e})}},mB=function(e,t,n){if(n.find((function(t){return t.name===e}))){var i=t?"":"."+e.split(".").pop(),r=t?e:e.split(".").slice(0,-1).join("."),o=0,a=new RegExp("".concat(r," \\(\\d+\\)"));n.forEach((function(e){var t=e.isDirectory?e.name:e.name.split(".").slice(0,-1).join(".");if(a.test(t)){var n=t.split("".concat(r," (")).pop().slice(0,-1),i=parseInt(n);!isNaN(i)&&i>o&&(o=i)}}));var s=" (".concat(++o,")");return r+s+i}return e},yB=function(e){var t=e.nameInputRef,n=e.maxLength,i=e.value,r=e.onChange,o=e.onKeyDown,a=e.onClick,s=e.rows;return(0,p.jsx)("textarea",{ref:t,className:"rename-file",maxLength:n,value:i,onChange:r,onKeyDown:o,onClick:a,rows:s})},_B=function(e){var t=e.message,n=e.xPlacement,i=e.yPlacement;return(0,p.jsx)("p",{className:"error-tooltip ".concat(n," ").concat(i),children:t})},bB=function(e){var t=e.filesViewRef,n=e.file,r=e.onCreateFolder,o=e.triggerAction,a=(0,i.useState)(n.name),s=(0,d.Z)(a,2),l=s[0],u=s[1],c=(0,i.useState)(!1),h=(0,d.Z)(c,2),f=h[0],v=h[1],g=(0,i.useState)(""),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)("right"),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)("bottom"),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=ZD((function(e){e.preventDefault(),e.stopPropagation()})),R=JD(),O=R.currentFolder,A=R.currentPathFiles,M=R.setCurrentPathFiles,L=VD().activeLayout;function N(){var e,t,i=l.trim(),a=A.filter((function(e){return!(e.key&&e.key===n.key)}));if(a.find((function(e){return e.name.toLowerCase()===i.toLowerCase()})))return _("This destination already contains a folder named '".concat(i,"'.")),v(!0),null===(e=I.ref.current)||void 0===e||e.focus(),null===(t=I.ref.current)||void 0===t||t.select(),void I.setIsClicked(!1);""===i&&(i=mB("New Folder",!0,a)),QD(r,"onCreateFolder",i,O),M((function(e){return e.filter((function(e){return e.key!==n.key}))})),o.close()}return(0,i.useEffect)((function(){if(f){var e=setTimeout((function(){v(!1),_("")}),7e3);return function(){return clearTimeout(e)}}}),[f]),(0,i.useEffect)((function(){var e,n,i;if(null===(e=I.ref.current)||void 0===e||e.focus(),null===(n=I.ref.current)||void 0===n||n.select(),null!==(i=I.ref)&&void 0!==i&&i.current){var r=t.current.getBoundingClientRect(),o=I.ref.current,a=o.getBoundingClientRect(),s=r.right-a.left;E(s>313?"right":"left");var l=r.bottom-(a.top+o.clientHeight);C(l>88?"bottom":"top")}}),[]),(0,i.useEffect)((function(){I.isClicked&&N()}),[I.isClicked]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(yB,ic({nameInputRef:I.ref,maxLength:220,value:l,onChange:function(e){u(e.target.value),v(!1)},onKeyDown:function(e){if(e.stopPropagation(),"Enter"===e.key)return e.preventDefault(),void N();"Escape"===e.key&&(e.preventDefault(),o.close(),M((function(e){return e.filter((function(e){return e.key!==n.key}))})));/[\\/:*?"<>|]/.test(e.key)?(e.preventDefault(),_("A file name can't contain any of the following characters: \\ / : * ? \" < > |"),v(!0)):(v(!1),_(""))},onClick:function(e){return e.stopPropagation()}},"list"===L&&{rows:1})),f&&(0,p.jsx)(_B,{message:y,xPlacement:T,yPlacement:S})]})},kB=function(e){var t=e.onClick,n=e.onKeyDown,i=e.type,r=void 0===i?"primary":i,o=e.padding,a=void 0===o?"0.4rem 0.8rem":o,s=e.children;return(0,p.jsx)("button",{onClick:t,onKeyDown:n,className:"fm-button fm-button-".concat(r),style:{padding:a},children:s})};function TB(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M85.57 446.25h340.86a32 32 0 0 0 28.17-47.17L284.18 82.58c-12.09-22.44-44.27-22.44-56.36 0L57.4 399.08a32 32 0 0 0 28.17 47.17z"},child:[]},{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"m250.26 195.39 5.74 122 5.73-121.95a5.74 5.74 0 0 0-5.79-6h0a5.74 5.74 0 0 0-5.68 5.95z"},child:[]},{tag:"path",attr:{d:"M256 397.25a20 20 0 1 1 20-20 20 20 0 0 1-20 20z"},child:[]}]})(e)}var EB=function(e){var t=e.children,n=e.show,r=e.setShow,o=e.heading,a=e.dialogWidth,s=void 0===a?"25%":a,l=(e.contentClassName,e.closeButton),u=void 0===l||l,c=(0,i.useRef)(null);return(0,i.useEffect)((function(){n?c.current.showModal():c.current.close()}),[n]),(0,p.jsxs)("dialog",{ref:c,className:"fm-modal dialog",style:{width:s},onKeyDown:function(e){"Escape"===e.key&&r(!1)},children:[(0,p.jsxs)("div",{className:"fm-modal-header",children:[(0,p.jsx)("span",{className:"fm-modal-heading",children:o}),u&&(0,p.jsx)(mD,{size:18,onClick:function(){return r(!1)},className:"close-icon",title:"Close"})]}),t]})},xB=function(e){return e.split(".").pop()},wB=function(e){var t=e.filesViewRef,n=e.file,r=e.onRename,o=e.triggerAction,a=(0,i.useState)(null===n||void 0===n?void 0:n.name),s=(0,d.Z)(a,2),l=s[0],u=s[1],c=(0,i.useState)(!1),h=(0,d.Z)(c,2),f=h[0],v=h[1],g=(0,i.useState)(!1),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)(""),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)("right"),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=(0,i.useState)("bottom"),R=(0,d.Z)(I,2),O=R[0],A=R[1],M=JD(),L=M.currentPathFiles,N=M.setCurrentPathFiles,$=VD().activeLayout,P=(0,i.useRef)(null),D=ZD((function(e){var t;null!==(t=P.current)&&void 0!==t&&t.contains(e.target)||(e.preventDefault(),e.stopPropagation())}));function B(e){return""===l||l===n.name?(N((function(e){return e.map((function(e){return e.key===n.key&&(e.isEditing=!1),e}))})),void o.close()):L.some((function(e){return e.name===l}))?(_(!0),E("This destination already contains a folder named '".concat(l,"'.")),void D.setIsClicked(!1)):void(n.isDirectory||e||xB(n.name)===xB(l)?(_(!1),QD(r,"onRename",n,l),N((function(e){return e.filter((function(e){return e.key!==n.key}))})),o.close()):v(!0))}(0,i.useEffect)((function(){if(y){var e=setTimeout((function(){_(!1),E("")}),7e3);return function(){return clearTimeout(e)}}}),[y]);var F=function(){var e,t;if(null===(e=D.ref)||void 0===e||null===(t=e.current)||void 0===t||t.focus(),n.isDirectory){var i,r;null===(i=D.ref)||void 0===i||null===(r=i.current)||void 0===r||r.select()}else{var o,a,s=xB(n.name),l=n.name.length-s.length-1;null===(o=D.ref)||void 0===o||null===(a=o.current)||void 0===a||a.setSelectionRange(0,l)}};return(0,i.useEffect)((function(){var e;if(F(),null!==(e=D.ref)&&void 0!==e&&e.current){var n=t.current.getBoundingClientRect(),i=D.ref.current,r=i.getBoundingClientRect(),o=n.right-r.left;C(o>313?"right":"left");var a=n.bottom-(r.top+i.clientHeight);A(a>88?"bottom":"top")}}),[]),(0,i.useEffect)((function(){D.isClicked&&B(!1),F()}),[D.isClicked]),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(yB,ic({nameInputRef:D.ref,maxLength:220,value:l,onChange:function(e){u(e.target.value),_(!1)},onKeyDown:function(e){if(e.stopPropagation(),"Enter"===e.key)return e.preventDefault(),void D.setIsClicked(!0);/[\\/:*?"<>|]/.test(e.key)?(e.preventDefault(),E("A file name can't contain any of the following characters: \\ / : * ? \" < > |"),_(!0)):_(!1)},onClick:function(e){return e.stopPropagation()}},"list"===$&&{rows:1})),y&&(0,p.jsx)(_B,{message:T,xPlacement:S,yPlacement:O}),(0,p.jsx)(EB,{heading:"Rename",show:f,setShow:v,dialogWidth:"25vw",closeButton:!1,children:(0,p.jsxs)("div",{className:"fm-rename-folder-container",ref:P,children:[(0,p.jsx)("div",{className:"fm-rename-folder-input",children:(0,p.jsxs)("div",{className:"fm-rename-warning",children:[(0,p.jsx)(TB,{size:70,color:"orange"}),(0,p.jsx)("div",{children:"If you change a file name extension, the file might become unusable. Are you sure you want to change it?"})]})}),(0,p.jsxs)("div",{className:"fm-rename-folder-action",children:[(0,p.jsx)(kB,{type:"secondary",onClick:function(){N((function(e){return e.map((function(e){return e.key===n.key&&(e.isEditing=!1),e}))})),v(!1),o.close()},children:"No"}),(0,p.jsx)(kB,{type:"danger",onClick:function(){v(!1),B(!0)},children:"Yes"})]})]})})]})},SB=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(isNaN(e))return"";var n=e/1024,i=n/1024,r=i/1024;return n<1024?"".concat(n.toFixed(t)," KB"):i<1024?"".concat(i.toFixed(t)," MB"):i>=1024?"".concat(r.toFixed(t)," GB"):void 0},CB=function(e){if(!e||isNaN(Date.parse(e)))return"";var t=(e=new Date(e)).getHours(),n=e.getMinutes(),i=t>=12?"PM":"AM";t=(t%=12)||12;var r=e.getMonth()+1,o=e.getDate(),a=e.getFullYear();return"".concat(r,"/").concat(o,"/").concat(a," ").concat(t,":").concat(n<10?"0"+n:n," ").concat(i)},IB=function(e){var t=e.name,n=e.id,i=e.checked,r=e.onClick,o=e.onChange,a=e.className,s=void 0===a?"":a,l=e.title;return(0,p.jsx)("input",{className:"fm-checkbox ".concat(s),type:"checkbox",name:t,id:n,checked:i,onClick:r,onChange:o,title:l})},RB=function(e){var t,n,r,o,a,l,u=e.index,c=e.file,h=e.onCreateFolder,f=e.onRename,v=e.enableFilePreview,g=e.onFileOpen,m=e.filesViewRef,y=e.selectedFileIndexes,_=e.triggerAction,b=e.handleContextMenu,k=e.setLastSelectedFile,T=(0,i.useState)(!1),E=(0,d.Z)(T,2),x=E[0],w=E[1],S=(0,i.useState)(0),C=(0,d.Z)(S,2),I=C[0],R=C[1],O=(0,i.useState)("hidden"),A=(0,d.Z)(O,2),M=A[0],L=A[1],N=(0,i.useState)(""),$=(0,d.Z)(N,2),P=$[0],D=$[1],B=(0,i.useState)(null),F=(0,d.Z)(B,2),U=F[0],j=F[1],Z=VD().activeLayout,H="grid"===Z?48:20,z=gB(H),V=JD(),W=V.setCurrentPath,G=V.currentPathFiles,X=nB().setSelectedFiles,Y=oB(),K=Y.clipBoard,q=Y.handleCutCopy,J=Y.setClipBoard,Q=Y.handlePasting,ee=(0,i.useRef)(null),te=gB(50),ne=(null===K||void 0===K?void 0:K.isMoving)&&K.files.find((function(e){return e.name===c.name&&e.path===c.path})),ie=function(){g(c),c.isDirectory?(W(c.path),X([])):v&&_.show("previewFile")},re=function(e){e.preventDefault(),x||!c.isDirectory?e.dataTransfer.dropEffect="none":(j({x:e.clientX,y:e.clientY+12}),e.dataTransfer.dropEffect="copy",D("file-drop-zone"))};return(0,i.useEffect)((function(){w(y.includes(u)),L(y.includes(u)?"visible":"hidden")}),[y]),(0,p.jsxs)("div",{className:"file-item-container ".concat(P," ").concat(x||c.isEditing?"file-selected":""," ").concat(ne?"file-moving":""),tabIndex:0,title:c.name,onClick:function(e){if(e.stopPropagation(),!c.isEditing){!function(e,t){if(y.length>0&&e){var n=!1,i=y[0],r=u;if(i>=r){var o=i;i=r,r=o,n=!0}var a=G.slice(i,r+1);X(n?a.reverse():a)}else y.length>0&&t?X((function(e){var t=e.filter((function(e){return e.path!==c.path}));return e.length===t.length?[].concat((0,s.Z)(e),[c]):t})):X([c])}(e.shiftKey,e.ctrlKey);var t=(new Date).getTime();t-I<300?ie():R(t)}},onKeyDown:function(e){"Enter"===e.key&&(e.stopPropagation(),X([c]),ie())},onContextMenu:function(e){e.stopPropagation(),e.preventDefault(),c.isEditing||(x||X([c]),k(c),b(e,!0))},onMouseOver:function(){L("visible")},onMouseLeave:function(){!x&&L("hidden")},draggable:x,onDragStart:function(e){e.dataTransfer.setDragImage(ee.current,30,50),e.dataTransfer.effectAllowed="copy",q(!0)},onDragEnd:function(){return J(null)},onDragEnter:re,onDragOver:re,onDragLeave:function(e){e.currentTarget.contains(e.relatedTarget)||(D((function(e){return e?"":e})),j(null))},onDrop:function(e){e.preventDefault(),!x&&c.isDirectory&&(Q(c),D((function(e){return e?"":e})),j(null))},children:[(0,p.jsxs)("div",{className:"file-item",children:[!c.isEditing&&(0,p.jsx)(IB,{name:c.name,id:c.name,checked:x,className:"selection-checkbox ".concat(M),onChange:function(e){e.target.checked?X((function(e){return[].concat((0,s.Z)(e),[c])})):X((function(e){return e.filter((function(e){return e.name!==c.name&&e.path!==c.path}))})),w(e.target.checked)},onClick:function(e){return e.stopPropagation()}}),c.isDirectory?(0,p.jsx)(UD,{size:H}):(0,p.jsx)(p.Fragment,{children:null!==(t=z[null===(n=c.name)||void 0===n||null===(r=n.split(".").pop())||void 0===r?void 0:r.toLowerCase()])&&void 0!==t?t:(0,p.jsx)(FD,{size:H})}),c.isEditing?(0,p.jsx)("div",{className:"rename-file-container ".concat(Z),children:"createFolder"===_.actionType?(0,p.jsx)(bB,{filesViewRef:m,file:c,onCreateFolder:h,triggerAction:_}):(0,p.jsx)(wB,{filesViewRef:m,file:c,onRename:f,triggerAction:_})}):(0,p.jsx)("span",{className:"text-truncate file-name",children:c.name})]}),"list"===Z&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("div",{className:"modified-date",children:CB(c.updatedAt)}),(0,p.jsx)("div",{className:"size",children:(null===c||void 0===c?void 0:c.size)>0?SB(null===c||void 0===c?void 0:c.size):""})]}),U&&(0,p.jsxs)("div",{style:{top:"".concat(U.y,"px"),left:"".concat(U.x,"px")},className:"drag-move-tooltip",children:["Move to ",(0,p.jsx)("span",{className:"drop-zone-file-name",children:c.name})]}),(0,p.jsx)("div",{ref:ee,className:"drag-icon",children:c.isDirectory?(0,p.jsx)(UD,{size:50}):(0,p.jsx)(p.Fragment,{children:null!==(o=te[null===(a=c.name)||void 0===a||null===(l=a.split(".").pop())||void 0===l?void 0:l.toLowerCase()])&&void 0!==o?o:(0,p.jsx)(FD,{size:50})})})]})},OB=function(e){var t=e.list;return(0,p.jsx)("ul",{className:"sub-menu",children:null===t||void 0===t?void 0:t.map((function(e){return(0,p.jsxs)("li",{onClick:e.onClick,children:[(0,p.jsx)("span",{className:"item-selected",children:e.selected&&(0,p.jsx)(wD,{size:13})}),e.icon,(0,p.jsx)("span",{children:e.title})]},e.title)}))})},AB=function(e){var t=e.filesViewRef,n=e.contextMenuRef,r=e.menuItems,o=e.visible,a=e.clickPosition,s=(0,i.useState)(0),l=(0,d.Z)(s,2),u=l[0],c=l[1],h=(0,i.useState)(0),f=(0,d.Z)(h,2),v=f[0],g=f[1],m=(0,i.useState)(null),y=(0,d.Z)(m,2),_=y[0],b=y[1];if((0,i.useEffect)((function(){o&&n.current?function(){var e=a.clickX,i=a.clickY,r=t.current,o=r.getBoundingClientRect(),s=r.offsetWidth-r.clientWidth,l=n.current.getBoundingClientRect(),u=l.width,h=l.height,d=e-o.left,f=o.width-(d+s)>u,p=!f,v=i-o.top,m=o.height-v>h,y=!m;f?c("".concat(d,"px")):p&&c("".concat(d-u,"px")),m?g("".concat(v+r.scrollTop,"px")):y&&g("".concat(v+r.scrollTop-h,"px"))}():(g(0),c(0),b(null))}),[o]),o)return(0,p.jsx)("div",{ref:n,onContextMenu:function(e){e.preventDefault(),e.stopPropagation()},onClick:function(e){return e.stopPropagation()},className:"fm-context-menu ".concat(v?"visible":"hidden"),style:{top:v,left:u},children:(0,p.jsx)("div",{className:"file-context-menu-list",children:(0,p.jsx)("ul",{children:r.filter((function(e){return!e.hidden})).map((function(e,t){var n,i=e.hasOwnProperty("children"),r=_===t;return(0,p.jsxs)("div",{children:[(0,p.jsxs)("li",{onClick:e.onClick,className:"".concat(null!==(n=e.className)&&void 0!==n?n:""," ").concat(r?"active":""),onMouseOver:function(){return function(e){b(e)}(t)},children:[e.icon,(0,p.jsx)("span",{children:e.title}),i&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(SD,{size:14,className:"list-expand-icon"}),r&&(0,p.jsx)(OB,{list:e.children})]})]}),e.divider&&(0,p.jsx)("div",{className:"divider"})]},e.title)}))})})})};function MB(e){return aD({tag:"svg",attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M245,110.64A16,16,0,0,0,232,104H216V88a16,16,0,0,0-16-16H130.67L102.94,51.2a16.14,16.14,0,0,0-9.6-3.2H40A16,16,0,0,0,24,64V208h0a8,8,0,0,0,8,8H211.1a8,8,0,0,0,7.59-5.47l28.49-85.47A16.05,16.05,0,0,0,245,110.64ZM93.34,64,123.2,86.4A8,8,0,0,0,128,88h72v16H69.77a16,16,0,0,0-15.18,10.94L40,158.7V64Zm112,136H43.1l26.67-80H232Z"},child:[]}]})(e)}var LB=function(e,t,n){var r=(0,i.useState)([]),o=(0,d.Z)(r,2),a=o[0],l=o[1],u=(0,i.useState)(!1),c=(0,d.Z)(u,2),h=c[0],f=c[1],v=(0,i.useState)(!1),g=(0,d.Z)(v,2),m=g[0],y=g[1],_=(0,i.useState)({clickX:0,clickY:0}),b=(0,d.Z)(_,2),k=b[0],T=b[1],E=(0,i.useState)(null),x=(0,d.Z)(E,2),w=x[0],S=x[1],C=oB(),I=C.clipBoard,R=C.setClipBoard,O=C.handleCutCopy,A=C.handlePasting,M=nB(),L=M.selectedFiles,N=M.setSelectedFiles,$=M.handleDownload,P=JD(),D=P.currentPath,B=P.setCurrentPath,F=P.currentPathFiles,U=P.setCurrentPathFiles,j=VD(),Z=j.activeLayout,H=j.setActiveLayout,z=function(e){O(e),f(!1)},V=[{title:"View",icon:"grid"===Z?(0,p.jsx)(hD,{size:18}):(0,p.jsx)(ID,{size:18}),onClick:function(){},children:[{title:"Grid",icon:(0,p.jsx)(hD,{size:18}),selected:"grid"===Z,onClick:function(){H("grid"),f(!1)}},{title:"List",icon:(0,p.jsx)(ID,{size:18}),selected:"list"===Z,onClick:function(){H("list"),f(!1)}}]},{title:"Refresh",icon:(0,p.jsx)(fD,{size:18}),onClick:function(){f(!1),QD(e,"onRefresh"),R(null)},divider:!0},{title:"New folder",icon:(0,p.jsx)(uD,{size:18}),onClick:function(){n.show("createFolder"),f(!1)}},{title:"Upload",icon:(0,p.jsx)(kD,{size:18}),onClick:function(){f(!1),n.show("uploadFile")},divider:!0},{title:"Select all",icon:(0,p.jsx)(xD,{size:18}),onClick:function(){N(F),f(!1)}}],W=[{title:"Open",icon:null!==w&&void 0!==w&&w.isDirectory?(0,p.jsx)(MB,{size:20}):(0,p.jsx)(FD,{size:16}),onClick:function(){w.isDirectory?(B(w.path),l([]),N([])):t&&n.show("previewFile"),f(!1)},divider:!0},{title:"Cut",icon:(0,p.jsx)(dD,{size:19}),onClick:function(){return z(!0)}},{title:"Copy",icon:(0,p.jsx)(lD,{strokeWidth:.1,size:17}),onClick:function(){return z(!1)},divider:!(null!==w&&void 0!==w&&w.isDirectory)},{title:"Paste",icon:(0,p.jsx)(jD,{size:18}),onClick:function(){A(w),f(!1)},className:"".concat(I?"":"disable-paste"),hidden:!(null!==w&&void 0!==w&&w.isDirectory),divider:!0},{title:"Rename",icon:(0,p.jsx)(ED,{size:19}),onClick:function(){f(!1),n.show("rename")},hidden:L.length>1},{title:"Download",icon:(0,p.jsx)(bD,{size:18}),onClick:function(){$(),f(!1)},hidden:null===w||void 0===w?void 0:w.isDirectory},{title:"Delete",icon:(0,p.jsx)(_D,{size:19}),onClick:function(){f(!1),n.show("delete")}}],G=function(){l([]),N((function(e){return e.length>0?[]:e}))};return(0,i.useEffect)((function(){if(n.isActive)switch(n.actionType){case"createFolder":U((function(e){return[].concat((0,s.Z)(e),[{name:mB("New Folder",!0,e),isDirectory:!0,path:D,isEditing:!0,key:(new Date).valueOf()}])}));break;case"rename":U((function(e){return e[a.at(-1)]&&(e[a.at(-1)].isEditing=!0),e})),l([]),N([])}}),[n.isActive]),(0,i.useEffect)((function(){l([]),N([])}),[D]),(0,i.useEffect)((function(){L.length>0?l((function(){return L.map((function(e){return F.findIndex((function(t){return t.path===e.path}))}))})):l([])}),[L,F]),{emptySelecCtxItems:V,selecCtxItems:W,handleContextMenu:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.preventDefault(),T({clickX:e.clientX,clickY:e.clientY}),y(t),!t&&G(),f(!0)},unselectFiles:G,visible:h,setVisible:f,setLastSelectedFile:S,selectedFileIndexes:a,clickPosition:k,isSelectionCtx:m}},NB=function(e){var t=e.unselectFiles,n=(0,i.useState)(!1),r=(0,d.Z)(n,2),o=r[0],a=r[1],s=nB(),l=s.selectedFiles,u=s.setSelectedFiles,c=JD().currentPathFiles,h=(0,i.useMemo)((function(){return l.length===c.length}),[l,c]);return(0,p.jsxs)("div",{className:"files-header",onMouseOver:function(){return a(!0)},onMouseLeave:function(){return a(!1)},children:[(0,p.jsx)("div",{className:"file-select-all",children:(o||h)&&(0,p.jsx)(IB,{checked:h,onChange:function(e){e.target.checked?(u(c),a(!0)):t()},title:"Select all"})}),(0,p.jsx)("div",{className:"file-name",children:"Name"}),(0,p.jsx)("div",{className:"file-date",children:"Modified"}),(0,p.jsx)("div",{className:"file-size",children:"Size"})]})},$B=function(e){var t=e.onCreateFolder,n=e.onRename,r=e.onFileOpen,o=e.onRefresh,a=e.enableFilePreview,s=e.triggerAction,l=JD().currentPathFiles,u=(0,i.useRef)(null),c=VD().activeLayout,h=LB(o,a,s),d=h.emptySelecCtxItems,f=h.selecCtxItems,v=h.handleContextMenu,g=h.unselectFiles,m=h.visible,y=h.setVisible,_=h.setLastSelectedFile,b=h.selectedFileIndexes,k=h.clickPosition,T=h.isSelectionCtx,E=ZD((function(){return y(!1)}));return(0,p.jsxs)("div",{ref:u,className:"files ".concat(c),onContextMenu:v,onClick:g,children:["list"===c&&(0,p.jsx)(NB,{unselectFiles:g}),(null===l||void 0===l?void 0:l.length)>0?(0,p.jsx)(p.Fragment,{children:l.map((function(e,i){return(0,p.jsx)(RB,{index:i,file:e,onCreateFolder:t,onRename:n,onFileOpen:r,enableFilePreview:a,triggerAction:s,filesViewRef:u,selectedFileIndexes:b,handleContextMenu:v,setVisible:y,setLastSelectedFile:_},i)}))}):(0,p.jsx)("div",{className:"empty-folder",children:"This folder is empty."}),(0,p.jsx)(AB,{filesViewRef:u,contextMenuRef:E.ref,menuItems:T?f:d,visible:m,setVisible:y,clickPosition:k})]})},PB=function(e){var t=e.triggerAction,n=e.onDelete,r=(0,i.useState)(""),o=(0,d.Z)(r,2),a=o[0],s=o[1],l=nB(),u=l.selectedFiles,c=l.setSelectedFiles;(0,i.useEffect)((function(){s((function(){return 1===u.length?'Are you sure you want to delete "'.concat(u[0].name,'"?'):u.length>1?"Are you sure you want to delete these ".concat(u.length," items?"):void 0}))}),[]);return(0,p.jsxs)("div",{className:"file-delete-confirm",children:[(0,p.jsx)("p",{className:"file-delete-confirm-text",children:a}),(0,p.jsxs)("div",{className:"file-delete-confirm-actions",children:[(0,p.jsx)(kB,{type:"secondary",onClick:function(){return t.close()},children:"Cancel"}),(0,p.jsx)(kB,{type:"danger",onClick:function(){n(u),c([]),t.close()},children:"Delete"})]})]})};function DB(e){return aD({tag:"svg",attr:{viewBox:"0 0 1024 1024",fill:"currentColor",fillRule:"evenodd"},child:[{tag:"path",attr:{d:"M799.855 166.312c.023.007.043.018.084.059l57.69 57.69c.041.041.052.06.059.084a.118.118 0 0 1 0 .069c-.007.023-.018.042-.059.083L569.926 512l287.703 287.703c.041.04.052.06.059.083a.118.118 0 0 1 0 .07c-.007.022-.018.042-.059.083l-57.69 57.69c-.041.041-.06.052-.084.059a.118.118 0 0 1-.069 0c-.023-.007-.042-.018-.083-.059L512 569.926 224.297 857.629c-.04.041-.06.052-.083.059a.118.118 0 0 1-.07 0c-.022-.007-.042-.018-.083-.059l-57.69-57.69c-.041-.041-.052-.06-.059-.084a.118.118 0 0 1 0-.069c.007-.023.018-.042.059-.083L454.073 512 166.371 224.297c-.041-.04-.052-.06-.059-.083a.118.118 0 0 1 0-.07c.007-.022.018-.042.059-.083l57.69-57.69c.041-.041.06-.052.084-.059a.118.118 0 0 1 .069 0c.023.007.042.018.083.059L512 454.073l287.703-287.702c.04-.041.06-.052.083-.059a.118.118 0 0 1 .07 0Z"},child:[]}]})(e)}function BB(e){return aD({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M518.3 459a8 8 0 0 0-12.6 0l-112 141.7a7.98 7.98 0 0 0 6.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"},child:[]},{tag:"path",attr:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0 1 52.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 0 1-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"},child:[]}]})(e)}var FB=function(e){var t=e.percent,n=void 0===t?0:t,i=e.isCanceled,r=void 0!==i&&i,o=e.isCompleted,a=void 0!==o&&o,s=e.error;return(0,p.jsxs)("div",{role:"progressbar",className:"fm-progress",children:[!s&&(0,p.jsx)("div",{className:"fm-progress-bar",children:(0,p.jsx)("div",{className:"fm-progress-bar-fill",style:{width:"".concat(n,"%")}})}),r?(0,p.jsx)("span",{className:"fm-upload-canceled",children:"Canceled"}):s?(0,p.jsx)("span",{className:"fm-upload-canceled",children:s}):(0,p.jsx)("div",{className:"fm-progress-status",children:(0,p.jsx)("span",{children:a?"Completed":n+"% done"})})]})};function UB(e){return aD({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 388c-72.597 0-132-59.405-132-132 0-72.601 59.403-132 132-132 36.3 0 69.299 15.4 92.406 39.601L278 234h154V80l-51.698 51.702C348.406 99.798 304.406 80 256 80c-96.797 0-176 79.203-176 176s78.094 176 176 176c81.045 0 148.287-54.134 169.401-128H378.85c-18.745 49.561-67.138 84-122.85 84z"},child:[]}]})(e)}var jB=function(e){var t,n,r,o,a,s=e.index,l=e.fileData,u=e.setFiles,c=e.setIsUploading,h=e.fileUploadConfig,f=e.onFileUploaded,v=e.handleFileRemove,g=(0,i.useState)(0),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)(!1),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)(!1),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=(0,i.useState)(!1),R=(0,d.Z)(I,2),O=R[0],A=R[1],M=gB(33),L=(0,i.useRef)(),N=YD().onError,$=function(e){_(0),c((function(e){return ic(ic({},e),{},(0,K.Z)({},s,!1))}));var t={type:"upload",message:"Upload failed.",response:{status:e.status,statusText:e.statusText,data:e.response}};u((function(e){return e.map((function(e,n){return s===n?ic(ic({},e),{},{error:t.message}):e}))})),A(!0),N(t,l.file)},P=function(e){if(!e.error)return new Promise((function(t,n){var i=new XMLHttpRequest;L.current=i,c((function(e){return ic(ic({},e),{},(0,K.Z)({},s,!0))})),i.upload.onprogress=function(e){if(e.lengthComputable){var t=Math.round(e.loaded/e.total*100);_(t)}},i.onload=function(){c((function(e){return ic(ic({},e),{},(0,K.Z)({},s,!1))})),200===i.status||201===i.status?(E(!0),f(i.response),t(i.response)):(n(i.statusText),$(i))},i.onerror=function(){n(i.statusText),$(i)},i.open("POST",null===h||void 0===h?void 0:h.url,!0);var r=null===h||void 0===h?void 0:h.headers;for(var o in r)i.setRequestHeader(o,r[o]);var a=new FormData,l=null===e||void 0===e?void 0:e.appendData;for(var u in l)l[u]&&a.append(u,l[u]);a.append("file",e.file),i.send(a)}))};(0,i.useEffect)((function(){L.current||P(l)}),[]);return l.removed?null:(0,p.jsxs)("li",{children:[(0,p.jsx)("div",{className:"file-icon",children:null!==(t=M[xB(null===(n=l.file)||void 0===n?void 0:n.name)])&&void 0!==t?t:(0,p.jsx)(FD,{size:33})}),(0,p.jsxs)("div",{className:"file",children:[(0,p.jsxs)("div",{className:"file-details",children:[(0,p.jsxs)("div",{className:"file-info",children:[(0,p.jsx)("span",{className:"file-name text-truncate",title:null===(r=l.file)||void 0===r?void 0:r.name,children:null===(o=l.file)||void 0===o?void 0:o.name}),(0,p.jsx)("span",{className:"file-size",children:SB(null===(a=l.file)||void 0===a?void 0:a.size)})]}),T?(0,p.jsx)(uB,{color:"#5c5bb1",title:"Uploaded"}):S||O?(0,p.jsx)(UB,{className:"retry-upload",title:"Retry",onClick:function(){null!==l&&void 0!==l&&l.file&&(u((function(e){return e.map((function(e,t){return s===t?ic(ic({},e),{},{error:!1}):e}))})),P(ic(ic({},l),{},{error:!1})),C(!1),A(!1))}}):(0,p.jsx)("div",{className:"rm-file",title:"".concat(l.error?"Remove":"Abort Upload"),onClick:l.error?function(){return v(s)}:function(){L.current&&(L.current.abort(),c((function(e){return ic(ic({},e),{},(0,K.Z)({},s,!1))})),C(!0),_(0))},children:(0,p.jsx)(DB,{})})]}),(0,p.jsx)(FB,{percent:y,isCanceled:S,isCompleted:T,error:l.error})]})]})},ZB=function(e){var t=e.fileUploadConfig,n=e.maxFileSize,r=e.acceptedFileTypes,o=e.onFileUploading,a=e.onFileUploaded,l=(0,i.useState)([]),u=(0,d.Z)(l,2),c=u[0],h=u[1],f=(0,i.useState)(!1),v=(0,d.Z)(f,2),g=v[0],m=v[1],y=(0,i.useState)({}),_=(0,d.Z)(y,2),b=_[0],k=_[1],T=JD(),E=T.currentFolder,x=T.currentPathFiles,w=YD().onError,S=(0,i.useRef)(null),C=function(e){if((e=e.filter((function(e){return!c.some((function(t){return t.file.name.toLowerCase()===e.name.toLowerCase()}))}))).length>0){var t=e.map((function(e){var t=o(e,E),i=function(e){return r&&!r.includes(xB(e.name))?"File type is not allowed.":x.some((function(t){return t.name.toLowerCase()===e.name.toLowerCase()&&!t.isDirectory}))?"File already exists.":n&&e.size>n?"Maximum upload size is ".concat(SB(n,0),"."):void 0}(e);return i&&w({type:"upload",message:i},e),ic({file:e,appendData:t},i&&{error:i})}));h((function(e){return[].concat((0,s.Z)(e),(0,s.Z)(t))}))}},I=function(e){h((function(t){var n=t.map((function(t,n){return e===n?ic(ic({},t),{},{removed:!0}):t}));return n.every((function(e){return!!e.removed}))?[]:n}))};return(0,p.jsxs)("div",{className:"fm-upload-file ".concat(c.length>0?"file-selcted":""),children:[(0,p.jsxs)("div",{className:"select-files",children:[(0,p.jsx)("div",{className:"draggable-file-input ".concat(g?"dragging":""),onDrop:function(e){e.preventDefault(),m(!1);var t=Array.from(e.dataTransfer.files);C(t)},onDragOver:function(e){return e.preventDefault()},onDragEnter:function(){return m(!0)},onDragLeave:function(){return m(!1)},children:(0,p.jsxs)("div",{className:"input-text",children:[(0,p.jsx)(BB,{size:30}),(0,p.jsx)("span",{children:"Drag files to upload"})]})}),(0,p.jsx)("div",{className:"btn-choose-file",children:(0,p.jsxs)(kB,{padding:"0",onKeyDown:function(e){"Enter"===e.key&&S.current.click()},children:[(0,p.jsx)("label",{htmlFor:"chooseFile",children:"Choose File"}),(0,p.jsx)("input",{ref:S,type:"file",id:"chooseFile",className:"choose-file-input",onChange:function(e){var t=Array.from(e.target.files);C(t)},multiple:!0,accept:r})]})})]}),c.length>0&&(0,p.jsxs)("div",{className:"files-progress",children:[(0,p.jsx)("div",{className:"heading",children:Object.values(b).some((function(e){return e}))?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h2",{children:"Uploading"}),(0,p.jsx)(YP(),{type:"cylon",color:"black",height:18,width:20})]}):(0,p.jsx)("h2",{children:"Completed"})}),(0,p.jsx)("ul",{children:c.map((function(e,n){return(0,p.jsx)(jB,{index:n,fileData:e,setFiles:h,fileUploadConfig:t,setIsUploading:k,onFileUploaded:a,handleFileRemove:I},n)}))})]})]})},HB=["jpg","jpeg","png"],zB=["mp4","mov","avi"],VB=["mp3","wav","m4a"],WB=["txt","pdf"],GB=function(e){var t,n,r=e.filePreviewPath,o=(0,i.useState)(!0),a=(0,d.Z)(o,2),s=a[0],l=a[1],u=(0,i.useState)(!1),c=(0,d.Z)(u,2),h=c[0],f=c[1],v=nB().selectedFiles,g=gB(73),m=null===(t=xB(v[0].name))||void 0===t?void 0:t.toLowerCase(),y="".concat(r).concat(v[0].path),_=function(){l(!1),f(!1)},b=function(){l(!1),f(!0)};return(0,p.jsxs)("section",{className:"file-previewer ".concat("pdf"===m?"pdf-previewer":""),children:[h||![].concat(HB,zB,VB,WB).includes(m)&&(0,p.jsxs)("div",{className:"preview-error",children:[(0,p.jsx)("span",{className:"error-icon",children:null!==(n=g[m])&&void 0!==n?n:(0,p.jsx)(cB,{size:73})}),(0,p.jsx)("span",{className:"error-msg",children:"Sorry! Preview is not available for this file."}),(0,p.jsxs)("div",{className:"file-info",children:[(0,p.jsx)("span",{className:"file-name",children:v[0].name}),v[0].size&&(0,p.jsx)("span",{children:"-"}),(0,p.jsx)("span",{className:"file-size",children:SB(v[0].size)})]}),(0,p.jsx)(kB,{onClick:function(){window.location.href=y},padding:"0.45rem .9rem",children:(0,p.jsxs)("div",{className:"download-btn",children:[(0,p.jsx)(bD,{size:18}),(0,p.jsx)("span",{children:"Download"})]})})]}),HB.includes(m)&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(KP,{isLoading:s}),(0,p.jsx)("img",{src:y,alt:"Preview Unavailable",className:"photo-popup-image ".concat(s?"img-loading":""),onLoad:_,onError:b,loading:"lazy"})]}),zB.includes(m)&&(0,p.jsx)("video",{src:y,className:"video-preview",controls:!0,autoPlay:!0}),VB.includes(m)&&(0,p.jsx)("audio",{src:y,controls:!0,autoPlay:!0,className:"audio-preview"}),WB.includes(m)&&(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("iframe",{src:y,onLoad:_,onError:b,frameBorder:"0",className:"photo-popup-iframe ".concat(s?"img-loading":"")})})]})},XB=function(e){return e.toLowerCase()},YB=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(0,i.useRef)(new Set([])),o=(0,i.useMemo)((function(){return new Set(e.map((function(e){return XB(e)})))}),[e]),a=function(e){if(!e.repeat)return r.current.add(XB(e.key)),o.isSubsetOf(r.current)&&!n?(e.preventDefault(),void t(e)):void 0},s=function(e){r.current.delete(XB(e.key))},l=function(){r.current.clear()};(0,i.useEffect)((function(){return window.addEventListener("keydown",a),window.addEventListener("keyup",s),window.addEventListener("blur",l),function(){window.removeEventListener("keydown",a),window.removeEventListener("keyup",s),window.removeEventListener("blur",l)}}),[o,t,n])},KB=["Alt","Shift","N"],qB=["Control","U"],JB=["Control","X"],QB=["Control","C"],eF=["Control","V"],tF=["F2"],nF=["Control","D"],iF=["Delete"],rF=["Control","A"],oF=["Home"],aF=["End"],sF=["Control","Shift","!"],lF=["Control","Shift","@"],uF=["F5"],cF=["Escape"],hF=function(e){var t=e.fileUploadConfig,n=e.onFileUploading,r=e.onFileUploaded,o=e.onDelete,a=e.onRefresh,s=e.maxFileSize,l=e.filePreviewPath,u=e.acceptedFileTypes,c=e.triggerAction,h=(0,i.useState)(null),f=(0,d.Z)(h,2),v=f[0],g=f[1],m=nB().selectedFiles;!function(e,t){var n=oB(),i=n.setClipBoard,r=n.handleCutCopy,o=n.handlePasting,a=JD(),s=a.currentFolder,l=a.currentPathFiles,u=nB(),c=u.setSelectedFiles,h=u.handleDownload,d=VD().setActiveLayout;YB(KB,(function(){e.show("createFolder")}),e.isActive),YB(qB,(function(){e.show("uploadFile")}),e.isActive),YB(JB,(function(){r(!0)}),e.isActive),YB(QB,(function(){r(!1)}),e.isActive),YB(eF,(function(){o(s)}),e.isActive),YB(tF,(function(){e.show("rename")}),e.isActive),YB(nF,(function(){h()}),e.isActive),YB(iF,(function(){e.show("delete")}),e.isActive),YB(oF,(function(){l.length>0&&c([l[0]])}),e.isActive),YB(aF,(function(){l.length>0&&c([l.at(-1)])}),e.isActive),YB(rF,(function(){c(l)}),e.isActive),YB(cF,(function(){c((function(e){return e.length>0?[]:e}))}),e.isActive),YB(uF,(function(){QD(t,"onRefresh"),i(null)}),e.isActive),YB(lF,(function(){d("grid")}),e.isActive),YB(sF,(function(){d("list")}),e.isActive)}(c,a);var y={uploadFile:{title:"Upload",component:(0,p.jsx)(ZB,{fileUploadConfig:t,maxFileSize:s,acceptedFileTypes:u,onFileUploading:n,onFileUploaded:r}),width:"35%"},delete:{title:"Delete",component:(0,p.jsx)(PB,{triggerAction:c,onDelete:o}),width:"25%"},previewFile:{title:"Preview",component:(0,p.jsx)(GB,{filePreviewPath:l}),width:"50%"}};if((0,i.useEffect)((function(){if(c.isActive){var e,t=c.actionType;if("previewFile"===t)y[t].title=null!==(e=null===m||void 0===m?void 0:m.name)&&void 0!==e?e:"Preview";g(y[t])}else g(null)}),[c.isActive]),v)return(0,p.jsx)(EB,{heading:v.title,show:c.isActive,setShow:c.close,dialogWidth:v.width,children:null===v||void 0===v?void 0:v.component})},dF=function(e){e.baseUrl;var t=e.files,n=e.fileUploadConfig,r=e.isLoading,o=e.onCreateFolder,a=e.onFileUploading,s=void 0===a?function(){}:a,l=e.onFileUploaded,u=void 0===l?function(){}:l,c=e.onPaste,h=e.onRename,f=e.onDownload,v=e.onDelete,g=void 0===v?function(){return null}:v,m=e.onLayoutChange,y=void 0===m?function(){}:m,_=e.onRefresh,b=e.onFileOpen,k=void 0===b?function(){}:b,T=e.onError,E=void 0===T?function(){}:T,x=e.layout,w=void 0===x?"grid":x,S=e.enableFilePreview,C=void 0===S||S,I=e.maxFileSize,R=e.filePreviewPath,O=e.acceptedFileTypes,A=e.height,M=void 0===A?"600px":A,L=e.width,N=void 0===L?"100%":L,$=function(){var e=(0,i.useState)(!1),t=(0,d.Z)(e,2),n=t[0],r=t[1],o=(0,i.useState)(null),a=(0,d.Z)(o,2),s=a[0],l=a[1];return{isActive:n,actionType:s,show:function(e){r(!0),l(e)},close:function(){r(!1),l(null)}}}(),P=function(e,t){var n=(0,i.useState)({col1:e,col2:t}),r=(0,d.Z)(n,2),o=r[0],a=r[1],s=(0,i.useState)(!1),l=(0,d.Z)(s,2),u=l[0],c=l[1],h=(0,i.useRef)(null);return{containerRef:h,colSizes:o,setColSizes:a,isDragging:u,handleMouseDown:function(){c(!0)},handleMouseUp:function(){c(!1)},handleMouseMove:function(e){if(u){e.preventDefault();var t=h.current.getBoundingClientRect(),n=(e.clientX-t.left)/t.width*100;n>=15&&n<=60&&a({col1:n,col2:100-n})}}}}(20,80),D=P.containerRef,B=P.colSizes,F=P.isDragging,U=P.handleMouseMove,j=P.handleMouseUp,Z=P.handleMouseDown;return(0,p.jsxs)("main",{className:"file-explorer",onContextMenu:function(e){return e.preventDefault()},style:{height:M,width:N},children:[(0,p.jsx)(KP,{isLoading:r}),(0,p.jsx)(XD,{filesData:t,onError:E,children:(0,p.jsx)(qD,{children:(0,p.jsx)(tB,{onDownload:f,children:(0,p.jsx)(rB,{onPaste:c,children:(0,p.jsxs)(zD,{layout:w,children:[(0,p.jsx)(aB,{allowCreateFolder:!0,allowUploadFile:!0,onLayoutChange:y,onRefresh:_,triggerAction:$}),(0,p.jsxs)("section",{ref:D,onMouseMove:U,onMouseUp:j,className:"files-container",children:[(0,p.jsxs)("div",{className:"navigation-pane",style:{width:B.col1+"%"},children:[(0,p.jsx)(pB,{}),(0,p.jsx)("div",{className:"sidebar-resize ".concat(F?"sidebar-dragging":""),onMouseDown:Z})]}),(0,p.jsxs)("div",{className:"folders-preview",style:{width:B.col2+"%"},children:[(0,p.jsx)(vB,{}),(0,p.jsx)($B,{onCreateFolder:o,onRename:h,onFileOpen:k,onRefresh:_,enableFilePreview:C,triggerAction:$})]})]}),(0,p.jsx)(hF,{fileUploadConfig:n,onFileUploading:s,onFileUploaded:u,onDelete:g,onRefresh:_,maxFileSize:I,filePreviewPath:R,acceptedFileTypes:O,triggerAction:$})]})})})})})]})};dF.displayName="FileManager";var fF=dF,pF=window.location.hostname,vF=window.location.port||4e3,gF=window.location.protocol,mF=GP.create({baseURL:"".concat(gF,"//").concat(pF,":").concat(vF)}),yF=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mF.post("/folder",{name:t,parentId:n});case 3:return i=e.sent,e.abrupt("return",i);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),_F=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=mF.patch("/rename",{id:t,newName:n}),e.abrupt("return",i);case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bF=function(){var e=h(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mF.delete("",{data:{ids:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kF=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mF.post("/copy",{sourceIds:t,destinationId:n});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),TF=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,mF.put("/move",{sourceIds:t,destinationId:n});case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),EF=function(){var e=h(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,mF.get();case 3:return t=e.sent,console.log("response",t),console.log("fetch url: ","".concat(mF.defaults.baseURL)),e.abrupt("return",t);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}(),xF=function(){var e=h(u().mark((function e(t,n,i){var r,o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==t.length){e.next=2;break}return e.abrupt("return");case 2:e.prev=2,r=t.map((function(e){return"".concat(e.path)})).join("&"),o="".concat(n,":").concat(i,"/download/").concat(r),(a=document.createElement("a")).href=o,document.body.appendChild(a),a.click(),document.body.removeChild(a),e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(2),e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t,n,i){return e.apply(this,arguments)}}(),wF=n.p+"static/media/ouc2_logo_qaudratic.88c949fc97cf84facafc.png",SF=function(e,t){return(0,_.Z)({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode})},CF=function(e){return(0,_.Z)({color:(e.vars||e).palette.text.primary},e.typography.body1,{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}})};var IF=function(e){var t=(0,j.i)({props:e,name:"MuiCssBaseline"}),n=t.children,r=t.enableColorScheme,o=void 0!==r&&r;return(0,p.jsxs)(i.Fragment,{children:[(0,p.jsx)(sn,{styles:function(e){return function(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i={};n&&e.colorSchemes&&Object.entries(e.colorSchemes).forEach((function(t){var n,r=(0,d.Z)(t,2),o=r[0],a=r[1];i[e.getColorSchemeSelector(o).replace(/\s*&/,"")]={colorScheme:null==(n=a.palette)?void 0:n.mode}}));var r=(0,_.Z)({html:SF(e,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:(0,_.Z)({margin:0},CF(e),{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},i),o=null==(t=e.components)||null==(t=t.MuiCssBaseline)?void 0:t.styleOverrides;return o&&(r=[r,o]),r}(e,o)}}),n]})};function RF(e){return(0,H.ZP)("MuiAppBar",e)}(0,N.Z)("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);var OF=["className","color","enableColorOnDark","position"],AF=function(e,t){return e?"".concat(null==e?void 0:e.replace(")",""),", ").concat(t,")"):t},MF=(0,U.ZP)(Wr,{name:"MuiAppBar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t["position".concat((0,Z.Z)(n.position))],t["color".concat((0,Z.Z)(n.color))]]}})((function(e){var t=e.theme,n=e.ownerState,i="light"===t.palette.mode?t.palette.grey[100]:t.palette.grey[900];return(0,_.Z)({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},"fixed"===n.position&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},"absolute"===n.position&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"sticky"===n.position&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},"static"===n.position&&{position:"static"},"relative"===n.position&&{position:"relative"},!t.vars&&(0,_.Z)({},"default"===n.color&&{backgroundColor:i,color:t.palette.getContrastText(i)},n.color&&"default"!==n.color&&"inherit"!==n.color&&"transparent"!==n.color&&{backgroundColor:t.palette[n.color].main,color:t.palette[n.color].contrastText},"inherit"===n.color&&{color:"inherit"},"dark"===t.palette.mode&&!n.enableColorOnDark&&{backgroundColor:null,color:null},"transparent"===n.color&&(0,_.Z)({backgroundColor:"transparent",color:"inherit"},"dark"===t.palette.mode&&{backgroundImage:"none"})),t.vars&&(0,_.Z)({},"default"===n.color&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette.AppBar.defaultBg:AF(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":n.enableColorOnDark?t.vars.palette.text.primary:AF(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},n.color&&!n.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":n.enableColorOnDark?t.vars.palette[n.color].main:AF(t.vars.palette.AppBar.darkBg,t.vars.palette[n.color].main),"--AppBar-color":n.enableColorOnDark?t.vars.palette[n.color].contrastText:AF(t.vars.palette.AppBar.darkColor,t.vars.palette[n.color].contrastText)},!["inherit","transparent"].includes(n.color)&&{backgroundColor:"var(--AppBar-background)"},{color:"inherit"===n.color?"inherit":"var(--AppBar-color)"},"transparent"===n.color&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))})),LF=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiAppBar"}),i=n.className,r=n.color,o=void 0===r?"primary":r,a=n.enableColorOnDark,s=void 0!==a&&a,l=n.position,u=void 0===l?"fixed":l,c=(0,b.Z)(n,OF),h=(0,_.Z)({},n,{color:o,position:u,enableColorOnDark:s}),d=function(e){var t=e.color,n=e.position,i=e.classes,r={root:["root","color".concat((0,Z.Z)(t)),"position".concat((0,Z.Z)(n))]};return(0,F.Z)(r,RF,i)}(h);return(0,p.jsx)(MF,(0,_.Z)({square:!0,component:"header",ownerState:h,elevation:4,className:(0,k.Z)(d.root,i,"fixed"===u&&"mui-fixed"),ref:t},c))}));function NF(e){return(0,H.ZP)("MuiToolbar",e)}(0,N.Z)("MuiToolbar",["root","gutters","regular","dense"]);var $F=["className","component","disableGutters","variant"],PF=(0,U.ZP)("div",{name:"MuiToolbar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({position:"relative",display:"flex",alignItems:"center"},!n.disableGutters&&(0,K.Z)({paddingLeft:t.spacing(2),paddingRight:t.spacing(2)},t.breakpoints.up("sm"),{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}),"dense"===n.variant&&{minHeight:48})}),(function(e){var t=e.theme;return"regular"===e.ownerState.variant&&t.mixins.toolbar})),DF=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiToolbar"}),i=n.className,r=n.component,o=void 0===r?"div":r,a=n.disableGutters,s=void 0!==a&&a,l=n.variant,u=void 0===l?"regular":l,c=(0,b.Z)(n,$F),h=(0,_.Z)({},n,{component:o,disableGutters:s,variant:u}),d=function(e){var t=e.classes,n={root:["root",!e.disableGutters&&"gutters",e.variant]};return(0,F.Z)(n,NF,t)}(h);return(0,p.jsx)(PF,(0,_.Z)({as:o,className:(0,k.Z)(d.root,i),ref:t,ownerState:h},c))}));function BF(e){return(0,H.ZP)("MuiIconButton",e)}var FF=(0,N.Z)("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),UF=["edge","children","className","color","disabled","disableFocusRipple","size"],jF=(0,U.ZP)(Ue,{name:"MuiIconButton",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"default"!==n.color&&t["color".concat((0,Z.Z)(n.color))],n.edge&&t["edge".concat((0,Z.Z)(n.edge))],t["size".concat((0,Z.Z)(n.size))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!n.disableRipple&&{"&:hover":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"start"===n.edge&&{marginLeft:"small"===n.size?-3:-12},"end"===n.edge&&{marginRight:"small"===n.size?-3:-12})}),(function(e){var t,n=e.theme,i=e.ownerState,r=null==(t=(n.vars||n).palette)?void 0:t[i.color];return(0,_.Z)({},"inherit"===i.color&&{color:"inherit"},"inherit"!==i.color&&"default"!==i.color&&(0,_.Z)({color:null==r?void 0:r.main},!i.disableRipple&&{"&:hover":(0,_.Z)({},r&&{backgroundColor:n.vars?"rgba(".concat(r.mainChannel," / ").concat(n.vars.palette.action.hoverOpacity,")"):(0,J.Fq)(r.main,n.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),"small"===i.size&&{padding:5,fontSize:n.typography.pxToRem(18)},"large"===i.size&&{padding:12,fontSize:n.typography.pxToRem(28)},(0,K.Z)({},"&.".concat(FF.disabled),{backgroundColor:"transparent",color:(n.vars||n).palette.action.disabled}))})),ZF=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiIconButton"}),i=n.edge,r=void 0!==i&&i,o=n.children,a=n.className,s=n.color,l=void 0===s?"default":s,u=n.disabled,c=void 0!==u&&u,h=n.disableFocusRipple,d=void 0!==h&&h,f=n.size,v=void 0===f?"medium":f,g=(0,b.Z)(n,UF),m=(0,_.Z)({},n,{edge:r,color:l,disabled:c,disableFocusRipple:d,size:v}),y=function(e){var t=e.classes,n=e.disabled,i=e.color,r=e.edge,o=e.size,a={root:["root",n&&"disabled","default"!==i&&"color".concat((0,Z.Z)(i)),r&&"edge".concat((0,Z.Z)(r)),"size".concat((0,Z.Z)(o))]};return(0,F.Z)(a,BF,t)}(m);return(0,p.jsx)(jF,(0,_.Z)({className:(0,k.Z)(y.root,a),centerRipple:!0,focusRipple:!d,disabled:c,ref:t},g,{ownerState:m,children:o}))})),HF=(0,f.Z)((0,p.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function zF(e){return(0,H.ZP)("MuiAvatar",e)}(0,N.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var VF=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],WF=["component","slots","slotProps"],GF=["component"];var XF=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],YF=(0,U.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((function(e){var t=e.theme;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,_.Z)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,_.Z)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),KF=(0,U.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,t){return t.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),qF=(0,U.ZP)(HF,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,t){return t.fallback}})({width:"75%",height:"75%"});var JF=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiAvatar"}),r=n.alt,o=n.children,a=n.className,s=n.component,l=void 0===s?"div":s,u=n.slots,c=void 0===u?{}:u,h=n.slotProps,f=void 0===h?{}:h,v=n.imgProps,g=n.sizes,m=n.src,y=n.srcSet,T=n.variant,E=void 0===T?"circular":T,x=(0,b.Z)(n,XF),w=null,S=function(e){var t=e.crossOrigin,n=e.referrerPolicy,r=e.src,o=e.srcSet,a=i.useState(!1),s=(0,d.Z)(a,2),l=s[0],u=s[1];return i.useEffect((function(){if(r||o){u(!1);var e=!0,i=new Image;return i.onload=function(){e&&u("loaded")},i.onerror=function(){e&&u("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=r,o&&(i.srcset=o),function(){e=!1}}}),[t,n,r,o]),l}((0,_.Z)({},v,{src:m,srcSet:y})),C=m||y,I=C&&"error"!==S,R=(0,_.Z)({},n,{colorDefault:!I,component:l,variant:E}),O=function(e){var t=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,F.Z)(n,zF,t)}(R),A=function(e,t){var n=t.className,i=t.elementType,r=t.ownerState,o=t.externalForwardedProps,a=t.getSlotOwnerState,s=t.internalForwardedProps,l=(0,b.Z)(t,VF),u=o.component,c=o.slots,h=void 0===c?(0,K.Z)({},e,void 0):c,d=o.slotProps,f=void 0===d?(0,K.Z)({},e,void 0):d,p=(0,b.Z)(o,WF),v=h[e]||i,g=wi(f[e],r),m=xi((0,_.Z)({className:n},l,{externalForwardedProps:"root"===e?p:void 0,externalSlotProps:g})),y=m.props.component,k=m.internalRef,T=(0,b.Z)(m.props,GF),E=(0,Gt.Z)(k,null==g?void 0:g.ref,t.ref),x=a?a(T):{},w=(0,_.Z)({},r,x),S="root"===e?y||u:y,C=ki(v,(0,_.Z)({},"root"===e&&!u&&!h[e]&&s,"root"!==e&&!h[e]&&s,T,S&&{as:S},{ref:E}),w);return Object.keys(x).forEach((function(e){delete C[e]})),[v,C]}("img",{className:O.img,elementType:KF,externalForwardedProps:{slots:c,slotProps:{img:(0,_.Z)({},v,f.img)}},additionalProps:{alt:r,src:m,srcSet:y,sizes:g},ownerState:R}),M=(0,d.Z)(A,2),L=M[0],N=M[1];return w=I?(0,p.jsx)(L,(0,_.Z)({},N)):o||0===o?o:C&&r?r[0]:(0,p.jsx)(qF,{ownerState:R,className:O.fallback}),(0,p.jsx)(YF,(0,_.Z)({as:l,ownerState:R,className:(0,k.Z)(O.root,a),ref:t},x,{children:w}))})),QF=JF,eU=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function tU(e,t,n){var i,r=function(e,t,n){var i,r=t.getBoundingClientRect(),o=n&&n.getBoundingClientRect(),a=(0,Hi.Z)(t);if(t.fakeTransform)i=t.fakeTransform;else{var s=a.getComputedStyle(t);i=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}var l=0,u=0;if(i&&"none"!==i&&"string"===typeof i){var c=i.split("(")[1].split(")")[0].split(",");l=parseInt(c[4],10),u=parseInt(c[5],10)}return"left"===e?"translateX(".concat(o?o.right+l-r.left:a.innerWidth+l-r.left,"px)"):"right"===e?"translateX(-".concat(o?r.right-o.left-l:r.left+r.width-l,"px)"):"up"===e?"translateY(".concat(o?o.bottom+u-r.top:a.innerHeight+u-r.top,"px)"):"translateY(-".concat(o?r.top-o.top+r.height-u:r.top+r.height-u,"px)")}(e,t,"function"===typeof(i=n)?i():i);r&&(t.style.webkitTransform=r,t.style.transform=r)}var nU=i.forwardRef((function(e,t){var n=er(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},o={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},a=e.addEndListener,s=e.appear,l=void 0===s||s,u=e.children,c=e.container,h=e.direction,d=void 0===h?"down":h,f=e.easing,v=void 0===f?r:f,g=e.in,m=e.onEnter,y=e.onEntered,k=e.onEntering,T=e.onExit,E=e.onExited,x=e.onExiting,w=e.style,S=e.timeout,C=void 0===S?o:S,I=e.TransitionComponent,R=void 0===I?Qi:I,O=(0,b.Z)(e,eU),A=i.useRef(null),M=(0,ee.Z)(u.ref,A,t),L=function(e){return function(t){e&&(void 0===t?e(A.current):e(A.current,t))}},N=L((function(e,t){tU(d,e,c),tr(e),m&&m(e,t)})),$=L((function(e,t){var i=nr({timeout:C,style:w,easing:v},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",(0,_.Z)({},i)),e.style.transition=n.transitions.create("transform",(0,_.Z)({},i)),e.style.webkitTransform="none",e.style.transform="none",k&&k(e,t)})),P=L(y),D=L(x),B=L((function(e){var t=nr({timeout:C,style:w,easing:v},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),tU(d,e,c),T&&T(e)})),F=L((function(e){e.style.webkitTransition="",e.style.transition="",E&&E(e)})),U=i.useCallback((function(){A.current&&tU(d,A.current,c)}),[d,c]);return i.useEffect((function(){if(!g&&"down"!==d&&"right"!==d){var e=(0,Zi.Z)((function(){A.current&&tU(d,A.current,c)})),t=(0,Hi.Z)(A.current);return t.addEventListener("resize",e),function(){e.clear(),t.removeEventListener("resize",e)}}}),[d,g,c]),i.useEffect((function(){g||U()}),[g,U]),(0,p.jsx)(R,(0,_.Z)({nodeRef:A,onEnter:N,onEntered:P,onEntering:$,onExit:B,onExited:F,onExiting:D,addEndListener:function(e){a&&a(A.current,e)},appear:l,in:g,timeout:C},O,{children:function(e,t){return i.cloneElement(u,(0,_.Z)({ref:M,style:(0,_.Z)({visibility:"exited"!==e||g?void 0:"hidden"},w,u.props.style)},t))}}))})),iU=nU;function rU(e){return(0,H.ZP)("MuiDrawer",e)}(0,N.Z)("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);var oU=["BackdropProps"],aU=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],sU=function(e,t){var n=e.ownerState;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},lU=(0,U.ZP)(jr,{name:"MuiDrawer",slot:"Root",overridesResolver:sU})((function(e){var t=e.theme;return{zIndex:(t.vars||t).zIndex.drawer}})),uU=(0,U.ZP)("div",{shouldForwardProp:Q.Z,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:sU})({flex:"0 0 auto"}),cU=(0,U.ZP)(Wr,{name:"MuiDrawer",slot:"Paper",overridesResolver:function(e,t){var n=e.ownerState;return[t.paper,t["paperAnchor".concat((0,Z.Z)(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat((0,Z.Z)(n.anchor))]]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},"left"===n.anchor&&{left:0},"top"===n.anchor&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},"right"===n.anchor&&{right:0},"bottom"===n.anchor&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},"left"===n.anchor&&"temporary"!==n.variant&&{borderRight:"1px solid ".concat((t.vars||t).palette.divider)},"top"===n.anchor&&"temporary"!==n.variant&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)},"right"===n.anchor&&"temporary"!==n.variant&&{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)},"bottom"===n.anchor&&"temporary"!==n.variant&&{borderTop:"1px solid ".concat((t.vars||t).palette.divider)})})),hU={left:"right",right:"left",top:"down",bottom:"up"};var dU=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiDrawer"}),r=er(),o=_i(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},s=n.anchor,l=void 0===s?"left":s,u=n.BackdropProps,c=n.children,h=n.className,d=n.elevation,f=void 0===d?16:d,v=n.hideBackdrop,g=void 0!==v&&v,m=n.ModalProps,y=(void 0===m?{}:m).BackdropProps,T=n.onClose,E=n.open,x=void 0!==E&&E,w=n.PaperProps,S=void 0===w?{}:w,C=n.SlideProps,I=n.TransitionComponent,R=void 0===I?iU:I,O=n.transitionDuration,A=void 0===O?a:O,M=n.variant,L=void 0===M?"temporary":M,N=(0,b.Z)(n.ModalProps,oU),$=(0,b.Z)(n,aU),P=i.useRef(!1);i.useEffect((function(){P.current=!0}),[]);var D=function(e,t){return"rtl"===e.direction&&function(e){return-1!==["left","right"].indexOf(e)}(t)?hU[t]:t}({direction:o?"rtl":"ltr"},l),B=l,U=(0,_.Z)({},n,{anchor:B,elevation:f,open:x,variant:L},$),H=function(e){var t=e.classes,n=e.anchor,i=e.variant,r={root:["root"],docked:[("permanent"===i||"persistent"===i)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat((0,Z.Z)(n)),"temporary"!==i&&"paperAnchorDocked".concat((0,Z.Z)(n))]};return(0,F.Z)(r,rU,t)}(U),z=(0,p.jsx)(cU,(0,_.Z)({elevation:"temporary"===L?f:0,square:!0},S,{className:(0,k.Z)(H.paper,S.className),ownerState:U,children:c}));if("permanent"===L)return(0,p.jsx)(uU,(0,_.Z)({className:(0,k.Z)(H.root,H.docked,h),ownerState:U,ref:t},$,{children:z}));var V=(0,p.jsx)(R,(0,_.Z)({in:x,direction:hU[D],timeout:A,appear:P.current},C,{children:z}));return"persistent"===L?(0,p.jsx)(uU,(0,_.Z)({className:(0,k.Z)(H.root,H.docked,h),ownerState:U,ref:t},$,{children:V})):(0,p.jsx)(lU,(0,_.Z)({BackdropProps:(0,_.Z)({},u,y,{transitionDuration:A}),className:(0,k.Z)(H.root,H.modal,h),open:x,ownerState:U,onClose:T,hideBackdrop:g,ref:t},$,N,{children:V}))})),fU=["className"],pU=(0,U.ZP)("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex"},"flex-start"===n.alignItems&&{marginTop:8})})),vU=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiListItemIcon"}),r=n.className,o=(0,b.Z)(n,fU),a=i.useContext(Ii),s=(0,_.Z)({},n,{alignItems:a.alignItems}),l=function(e){var t=e.alignItems,n=e.classes,i={root:["root","flex-start"===t&&"alignItemsFlexStart"]};return(0,F.Z)(i,Qk,n)}(s);return(0,p.jsx)(pU,(0,_.Z)({className:(0,k.Z)(l.root,r),ownerState:s,ref:t},o))}));function gU(e){return(0,H.ZP)("MuiDialogContent",e)}(0,N.Z)("MuiDialogContent",["root","dividers"]);var mU=["className","dividers"],yU=(0,U.ZP)("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,n.dividers&&t.dividers]}})((function(e){var t=e.theme,n=e.ownerState;return(0,_.Z)({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},n.dividers?{padding:"16px 24px",borderTop:"1px solid ".concat((t.vars||t).palette.divider),borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}:(0,K.Z)({},".".concat(Cm.root," + &"),{paddingTop:0}))})),_U=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiDialogContent"}),i=n.className,r=n.dividers,o=void 0!==r&&r,a=(0,b.Z)(n,mU),s=(0,_.Z)({},n,{dividers:o}),l=function(e){var t=e.classes,n={root:["root",e.dividers&&"dividers"]};return(0,F.Z)(n,gU,t)}(s);return(0,p.jsx)(yU,(0,_.Z)({className:(0,k.Z)(l.root,i),ownerState:s,ref:t},a))}));function bU(e){return(0,H.ZP)("MuiDialogActions",e)}(0,N.Z)("MuiDialogActions",["root","spacing"]);var kU=["className","disableSpacing"],TU=(0,U.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,_.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),EU=i.forwardRef((function(e,t){var n=(0,j.i)({props:e,name:"MuiDialogActions"}),i=n.className,r=n.disableSpacing,o=void 0!==r&&r,a=(0,b.Z)(n,kU),s=(0,_.Z)({},n,{disableSpacing:o}),l=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,F.Z)(n,bU,t)}(s);return(0,p.jsx)(TU,(0,_.Z)({className:(0,k.Z)(l.root,i),ownerState:s,ref:t},a))}));var xU=function(e){var t=e.children,n=e.theme,r=gl(),o=i.useMemo((function(){var e=null===r?n:function(e,t){return"function"===typeof t?t(e):(0,_.Z)({},e,t)}(r,n);return null!=e&&(e[ml]=null!==r),e}),[n,r]);return(0,p.jsx)(vl.Provider,{value:o,children:t})},wU=n(4769),SU={};function CU(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return i.useMemo((function(){var i=e&&t[e]||t;if("function"===typeof n){var o=n(i),a=e?(0,_.Z)({},t,(0,K.Z)({},e,o)):o;return r?function(){return a}:a}return e?(0,_.Z)({},t,(0,K.Z)({},e,n)):(0,_.Z)({},t,n)}),[e,t,n,r])}var IU=function(e){var t=e.children,n=e.theme,i=e.themeId,r=C(SU),o=gl()||SU,a=CU(i,r,n),s=CU(i,o,n,!0),l="rtl"===a.direction;return(0,p.jsx)(xU,{theme:s,children:(0,p.jsx)(S.T.Provider,{value:a,children:(0,p.jsx)(bi,{value:l,children:(0,p.jsx)(wU.Z,{value:null==a?void 0:a.components,children:t})})})})},RU=["theme"];function OU(e){var t=e.theme,n=(0,b.Z)(e,RU),i=t[L.Z];return(0,p.jsx)(IU,(0,_.Z)({},n,{themeId:i?L.Z:void 0,theme:i||t}))}var AU=n(9161),MU=(0,M.Z)({palette:{mode:"light"},typography:{fontFamily:"Roboto",fontWeightBold:700}}),LU=(0,M.Z)({palette:{mode:"dark"},typography:{fontFamily:"Roboto",fontWeightBold:700}});var NU=function(){var e=(0,i.useState)(!0),t=(0,d.Z)(e,2),n=t[0],r=t[1],o=n?240:60,l=(0,i.useState)("https://".concat(window.location.hostname)),c=(0,d.Z)(l,2),f=c[0],v=c[1],g=(0,i.useState)(8001),m=(0,d.Z)(g,2),y=m[0],_=m[1],b=(0,i.useState)("LiveView"),k=(0,d.Z)(b,2),T=k[0],E=k[1],x=(0,i.useState)(!1),w=(0,d.Z)(x,2),S=w[0],C=w[1],I=(0,i.useState)(!0),R=(0,d.Z)(I,2),O=R[0],A=R[1],M=(0,i.useState)(null),L=(0,d.Z)(M,2),N=L[0],$=L[1],P=(0,i.useState)([{i:"widget1",x:0,y:0,w:2,h:2},{i:"widget2",x:2,y:0,w:2,h:2},{i:"widget3",x:4,y:0,w:2,h:2},{i:"FlowStop",x:6,y:0,w:5,h:5},{i:"Lightsheet",x:0,y:2,w:5,h:5}]),D=(0,d.Z)(P,2),F=D[0],U=D[1],j=(0,i.useState)(!1),Z=(0,d.Z)(j,2),H=Z[0],z=Z[1],V=(0,i.useState)([]),W=(0,d.Z)(V,2),G=W[0],X=W[1],K=(0,i.useRef)(!1),q={url:"https://".concat(f,":").concat(y,"/upload")},J=function(){var e=h(u().mark((function e(){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,EF();case 3:t=e.sent,X(t.data),z(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){K.current||(K.current=!0,J())}),[]);var Q=function(){var e=h(u().mark((function e(t,n){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,yF(t,null===n||void 0===n?void 0:n._id);case 3:200!==(i=e.sent).status&&201!==i.status||X((function(e){return[].concat((0,s.Z)(e),[i.data])})),z(!1);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ee=function(){var e=h(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),e.next=3,_F(t._id,n);case 3:J(),z(!1);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),te=function(){var e=h(u().mark((function e(t){var n;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(!0),n=t.map((function(e){return e._id})),e.next=4,bF(n);case 4:J(),z(!1);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ne=function(){var e=h(u().mark((function e(t,n,i){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(z(!0),r=t.map((function(e){return e._id})),"copy"!==i){e.next=7;break}return e.next=5,kF(r,null===n||void 0===n?void 0:n._id);case 5:e.next=9;break;case 7:return e.next=9,TF(r,null===n||void 0===n?void 0:n._id);case 9:J();case 10:case"end":return e.stop()}}),e)})));return function(t,n,i){return e.apply(this,arguments)}}(),ie=function(){var e=h(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xF(t,f,y);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){var e=window.location.hostname,t=[8001,8002,443],n=function(){var n=h(u().mark((function n(){var i;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,re(e,t);case 3:i=n.sent,v("https://".concat(e)),_(i),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.error("No valid API port found.");case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();e.startsWith("youseetoo.github.io")||n()}),[]);var re=function(){var e=h(u().mark((function e(t,n){var i,r,o,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a(n),e.prev=1,i.s();case 3:if((r=i.n()).done){e.next=19;break}return o=r.value,e.prev=5,s="https://".concat(t,":").concat(o,"/openapi.json"),e.next=9,GP.get(s,{timeout:3e3});case 9:if(200!==e.sent.status){e.next=12;break}return e.abrupt("return",o);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(5),console.error("Failed to retrieve API from ".concat(t,":").concat(o));case 17:e.next=3;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(1),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new Error("No valid port found for API.");case 28:case"end":return e.stop()}}),e,null,[[1,21,24,27],[5,14]])})));return function(t,n){return e.apply(this,arguments)}}();(0,i.useEffect)((function(){mF.defaults.baseURL="".concat(f,":").concat(y)}),[f,y]);var oe=function(){C(!1)},ae=function(e){E(e)};return(0,p.jsx)(OU,{theme:O?LU:MU,children:(0,p.jsxs)(S_,{hostIP:f,children:[(0,p.jsx)(IF,{}),(0,p.jsxs)(B,{sx:{display:"flex"},children:[(0,p.jsx)(LF,{position:"fixed",sx:{zIndex:function(e){return e.zIndex.drawer+1}},children:(0,p.jsxs)(DF,{children:[(0,p.jsx)(ZF,{edge:"start",color:"inherit","aria-label":"menu",onClick:function(){return r(!n)},children:(0,p.jsx)(aN,{})}),(0,p.jsx)(Y,{variant:"h6",sx:{flexGrow:1,fontWeight:"bold"},children:"Microscope Control"}),(0,p.jsx)(Y,{variant:"h6",sx:{fontWeight:"bold"},children:"Light/dark"}),(0,p.jsx)(Ht,{checked:O,onChange:function(){A((function(e){return!e}))},color:"default",inputProps:{"aria-label":"toggle theme"}}),(0,p.jsx)(QF,{src:wF})]})}),(0,p.jsx)(dU,{variant:"permanent",open:n,sx:{width:o,flexShrink:0,"& .MuiDrawer-paper":{width:o,boxSizing:"border-box",top:64}},children:(0,p.jsxs)(Mi,{children:[(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("LiveView")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(sN,{})}),(0,p.jsx)(Xm,{primary:n?"Live View":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("FileManager")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(lN,{})}),(0,p.jsx)(Xm,{primary:n?"File Manager":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("HistoScan")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(uN,{})}),(0,p.jsx)(Xm,{primary:n?"HistoScan":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("Infinity Scanning")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(uN,{})}),(0,p.jsx)(Xm,{primary:n?"Infinity Scanning":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("Blockly")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(cN,{})}),(0,p.jsx)(Xm,{primary:n?"Blockly":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("Timelapse")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(hN,{})}),(0,p.jsx)(Xm,{primary:n?"Timelapse":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("SocketView")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(AU.Z,{})}),(0,p.jsx)(Xm,{primary:n?"SocketView":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("Lightsheet")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(vN.Z,{})}),(0,p.jsx)(Xm,{primary:n?"Lightsheet":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("FlowStop")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(gN.Z,{})}),(0,p.jsx)(Xm,{primary:n?"FlowStop":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("Widgets")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(lN,{})}),(0,p.jsx)(Xm,{primary:n?"Widgets":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){C(!0)},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(pN.Z,{})}),(0,p.jsx)(Xm,{primary:n?"Connections":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("About")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(dN,{})}),(0,p.jsx)(Xm,{primary:n?"About":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return ae("ImJoy")},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(fN,{})}),(0,p.jsx)(Xm,{primary:n?"ImJoy":""})]}),(0,p.jsxs)(Hm,{button:!0,onClick:function(){return r(!n)},children:[(0,p.jsx)(vU,{children:(0,p.jsx)(aN,{})}),(0,p.jsx)(Xm,{primary:n?"Minimize":""})]})]})}),(0,p.jsxs)(B,{component:"main",sx:{flexGrow:1,p:3,marginTop:"64px"},children:["LiveView"===T&&(0,p.jsx)(O_,{children:(0,p.jsx)(M_,{hostIP:f,hostPort:y,onImageUpdate:function(e){return $(e)}})}),"ImJoyView"===T&&(0,p.jsx)(oN,{sharedImage:N}),"HistoScan"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(OT,{hostIP:f,hostPort:y})}),"Infinity Scanning"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(cL,{hostIP:f,hostPort:y})}),"Blockly"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(rN,{})}),"Timelapse"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(RL,{children:(0,p.jsx)(hL,{hostIP:f,hostPort:y,title:"Timelapse"})})}),"About"===T&&(0,p.jsx)(bL,{}),"FileManager"===T&&(0,p.jsx)("div",{className:"app",children:(0,p.jsx)("div",{className:"file-manager-container",children:(0,p.jsx)(fF,{baseUrl:"".concat(f,":").concat(y),files:G,fileUploadConfig:q,isLoading:H,onCreateFolder:Q,onFileUploading:function(e,t){return{parentId:null===t||void 0===t?void 0:t._id}},onFileUploaded:function(e){var t=JSON.parse(e);X((function(e){return[].concat((0,s.Z)(e),[t])}))},onPaste:ne,onRename:ee,onDownload:ie,onDelete:te,onRefresh:function(){return J()},layout:"grid",enableFilePreview:!0,maxFileSize:10485760,filePreviewPath:"".concat(f,":").concat(y,"/"),acceptedFileTypes:".txt, .png, .jpg, .jpeg, .pdf, .doc, .docx, .exe, .js, .csv"})})}),"Lightsheet"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(ZL,{hostIP:f,hostPort:y})}),"FlowStop"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(CL,{hostIP:f,hostPort:y})}),"SocketView"===T&&(0,p.jsx)(L_,{hostIP:f,hostPort:y}),"Widgets"===T&&(0,p.jsx)(AL,{children:(0,p.jsx)(FL,{hostIP:f,hostPort:y,layout:F,onLayoutChange:function(e){return U(e)}})})]}),(0,p.jsxs)(wm,{open:S,onClose:oe,children:[(0,p.jsx)(Om,{children:"Enter IP Address"}),(0,p.jsxs)(_U,{children:[(0,p.jsx)(Ko,{autoFocus:!0,margin:"dense",id:"ip-address",label:"IP Address",type:"text",fullWidth:!0,value:f,onChange:function(e){var t=e.target.value.trim();t.startsWith("http://")||t.startsWith("https://")||(t="https://"+t),t.startsWith("http://")&&(t=t.replace("http://","https://")),v(t)}}),(0,p.jsx)(Ko,{margin:"dense",id:"port",label:"Port",type:"text",fullWidth:!0,value:y,onChange:function(e){var t=e.target.value.trim();_(t)}})]}),(0,p.jsxs)(EU,{children:[(0,p.jsx)(Ke,{onClick:oe,children:"Cancel"}),(0,p.jsx)(Ke,{onClick:function(){v(f),_(y),oe()},children:"Save"})]})]})]})]})})},$U=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,i=t.getFID,r=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),i(e),r(e),o(e),a(e)}))};r.createRoot(document.getElementById("root")).render((0,p.jsx)(i.StrictMode,{children:(0,p.jsx)(NU,{})})),$U()}()}();
//# sourceMappingURL=main.9ba3b3c3.js.map